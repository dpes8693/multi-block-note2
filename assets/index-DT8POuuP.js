const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DfHtJJ4O.js","assets/index-B0EvLJak.js","assets/index-Ch_qCilz.js","assets/default-0Dp3JUBc.js","assets/index-BPnocYbo.js","assets/index-DGKXm-wk.js","assets/index-C3hvpX0Z.js","assets/index-tm_hn6Br.js","assets/index-BdmKeUBW.js","assets/index-CKzLtYIC.js","assets/index-DpipQwVu.js","assets/index-DTzQ7r7Q.js","assets/index-3OOFrDax.js","assets/index-C_aolqmU.js","assets/index-DLq9AFo8.js","assets/blank-line-D3C7De5j.js","assets/index-hRuAkC1j.js","assets/index-UBgLExeH.js","assets/index-CtreMsrK.js","assets/index-BdpePZea.js","assets/index-Tlm8e_FK.js","assets/index-BxE2facF.js","assets/index-DoJwJBw7.js","assets/index-BEuDYSyX.js","assets/cpp-BqZ_kfVw.js","assets/regexp-YoNQ8D_6.js","assets/glsl-BlnWkMnX.js","assets/c-B6ociGGK.js","assets/sql-zWlBUtGr.js","assets/graphql-D1QIL7v4.js","assets/javascript-CxUlOQ-X.js","assets/typescript-DejEMwvl.js","assets/jsx-DbRGCyVa.js","assets/tsx-H7r9otmT.js","assets/haml-DYQ5Raw_.js","assets/css-BKxHr3mG.js","assets/html-_CtrMXVV.js","assets/julia-CAXZXNQ5.js","assets/python-4XIAyWkg.js","assets/r-CUAhxbms.js","assets/php-DtO2DGWl.js","assets/xml-CgiBKJwk.js","assets/java-DLI_khhB.js","assets/json-CAhrKACI.js","assets/pug-Bp_cTtA2.js","assets/scss-AO_2IGcQ.js","assets/svelte-IGJS9Wd7.js","assets/postcss-B6Y8ymK-.js","assets/vue-DQemjDMT.js","assets/vue-html-8d91lQvp.js","assets/latex-uR87f9me.js","assets/lua-DlUiX2YH.js","assets/ruby-Bi3pRY5H.js","assets/shellscript-TI4x4yAC.js","assets/yaml-CXaUqZnb.js"])))=>i.map(i=>d[i]);
var s7=Object.defineProperty;var l7=Object.getPrototypeOf;var a7=Reflect.get;var JE=t=>{throw TypeError(t)};var c7=(t,e,n)=>e in t?s7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>c7(t,typeof e!="symbol"?e+"":e,n),g1=(t,e,n)=>e.has(t)||JE("Cannot "+n);var kn=(t,e,n)=>(g1(t,e,"read from private field"),n?n.call(t):e.get(t)),Al=(t,e,n)=>e.has(t)?JE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),er=(t,e,n,o)=>(g1(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),b1=(t,e,n)=>(g1(t,e,"access private method"),n);var QE=(t,e,n)=>a7(l7(t),n,e);function u7(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(o,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function LO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DO={exports:{}},ky={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d7=Symbol.for("react.transitional.element"),f7=Symbol.for("react.fragment");function IO(t,e,n){var o=null;if(n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:d7,type:t,key:o,ref:e!==void 0?e:null,props:n}}ky.Fragment=f7;ky.jsx=IO;ky.jsxs=IO;DO.exports=ky;var g=DO.exports,$O={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=Symbol.for("react.transitional.element"),h7=Symbol.for("react.portal"),p7=Symbol.for("react.fragment"),m7=Symbol.for("react.strict_mode"),g7=Symbol.for("react.profiler"),b7=Symbol.for("react.consumer"),y7=Symbol.for("react.context"),v7=Symbol.for("react.forward_ref"),w7=Symbol.for("react.suspense"),k7=Symbol.for("react.memo"),PO=Symbol.for("react.lazy"),eT=Symbol.iterator;function x7(t){return t===null||typeof t!="object"?null:(t=eT&&t[eT]||t["@@iterator"],typeof t=="function"?t:null)}var jO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BO=Object.assign,zO={};function Nu(t,e,n){this.props=t,this.context=e,this.refs=zO,this.updater=n||jO}Nu.prototype.isReactComponent={};Nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HO(){}HO.prototype=Nu.prototype;function AC(t,e,n){this.props=t,this.context=e,this.refs=zO,this.updater=n||jO}var RC=AC.prototype=new HO;RC.constructor=AC;BO(RC,Nu.prototype);RC.isPureReactComponent=!0;var tT=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},VO=Object.prototype.hasOwnProperty;function NC(t,e,n,o,r,i){return n=i.ref,{$$typeof:MC,type:t,key:e,ref:n!==void 0?n:null,props:i}}function C7(t,e){return NC(t.type,e,void 0,void 0,void 0,t.props)}function OC(t){return typeof t=="object"&&t!==null&&t.$$typeof===MC}function _7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nT=/\/+/g;function y1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_7(""+t.key):e.toString(36)}function oT(){}function S7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(oT,oT):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function uc(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case MC:case h7:s=!0;break;case PO:return s=t._init,uc(s(t._payload),e,n,o,r)}}if(s)return r=r(t),s=o===""?"."+y1(t,0):o,tT(r)?(n="",s!=null&&(n=s.replace(nT,"$&/")+"/"),uc(r,e,n,"",function(c){return c})):r!=null&&(OC(r)&&(r=C7(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(nT,"$&/")+"/")+s)),e.push(r)),1;s=0;var l=o===""?".":o+":";if(tT(t))for(var a=0;a<t.length;a++)o=t[a],i=l+y1(o,a),s+=uc(o,e,n,i,r);else if(a=x7(t),typeof a=="function")for(t=a.call(t),a=0;!(o=t.next()).done;)o=o.value,i=l+y1(o,a++),s+=uc(o,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return uc(S7(t),e,n,o,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Sp(t,e,n){if(t==null)return t;var o=[],r=0;return uc(t,o,"","",function(i){return e.call(n,i,r++)}),o}function E7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function T7(){}me.Children={map:Sp,forEach:function(t,e,n){Sp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sp(t,function(){e++}),e},toArray:function(t){return Sp(t,function(e){return e})||[]},only:function(t){if(!OC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Nu;me.Fragment=p7;me.Profiler=g7;me.PureComponent=AC;me.StrictMode=m7;me.Suspense=w7;me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st;me.__COMPILER_RUNTIME={__proto__:null,c:function(t){return st.H.useMemoCache(t)}};me.cache=function(t){return function(){return t.apply(null,arguments)}};me.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var o=BO({},t.props),r=t.key,i=void 0;if(e!=null)for(s in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(r=""+e.key),e)!VO.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(o[s]=e[s]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];o.children=l}return NC(t.type,r,void 0,void 0,i,o)};me.createContext=function(t){return t={$$typeof:y7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:b7,_context:t},t};me.createElement=function(t,e,n){var o,r={},i=null;if(e!=null)for(o in e.key!==void 0&&(i=""+e.key),e)VO.call(e,o)&&o!=="key"&&o!=="__self"&&o!=="__source"&&(r[o]=e[o]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];r.children=l}if(t&&t.defaultProps)for(o in s=t.defaultProps,s)r[o]===void 0&&(r[o]=s[o]);return NC(t,i,void 0,void 0,null,r)};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:v7,render:t}};me.isValidElement=OC;me.lazy=function(t){return{$$typeof:PO,_payload:{_status:-1,_result:t},_init:E7}};me.memo=function(t,e){return{$$typeof:k7,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=st.T,n={};st.T=n;try{var o=t(),r=st.S;r!==null&&r(n,o),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o.then(T7,rT)}catch(i){rT(i)}finally{st.T=e}};me.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()};me.use=function(t){return st.H.use(t)};me.useActionState=function(t,e,n){return st.H.useActionState(t,e,n)};me.useCallback=function(t,e){return st.H.useCallback(t,e)};me.useContext=function(t){return st.H.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t,e){return st.H.useDeferredValue(t,e)};me.useEffect=function(t,e,n){var o=st.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(t,e)};me.useId=function(){return st.H.useId()};me.useImperativeHandle=function(t,e,n){return st.H.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return st.H.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return st.H.useLayoutEffect(t,e)};me.useMemo=function(t,e){return st.H.useMemo(t,e)};me.useOptimistic=function(t,e){return st.H.useOptimistic(t,e)};me.useReducer=function(t,e,n){return st.H.useReducer(t,e,n)};me.useRef=function(t){return st.H.useRef(t)};me.useState=function(t){return st.H.useState(t)};me.useSyncExternalStore=function(t,e,n){return st.H.useSyncExternalStore(t,e,n)};me.useTransition=function(){return st.H.useTransition()};me.version="19.1.1";$O.exports=me;var v=$O.exports;const ee=LO(v),M7=u7({__proto__:null,default:ee},[v]);var UO={exports:{}},xy={},FO={exports:{}},GO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,O){var N=R.length;R.push(O);e:for(;0<N;){var P=N-1>>>1,K=R[P];if(0<r(K,O))R[P]=O,R[N]=K,N=P;else break e}}function n(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var O=R[0],N=R.pop();if(N!==O){R[0]=N;e:for(var P=0,K=R.length,Z=K>>>1;P<Z;){var ie=2*(P+1)-1,ve=R[ie],Pe=ie+1,Ge=R[Pe];if(0>r(ve,N))Pe<K&&0>r(Ge,ve)?(R[P]=Ge,R[Pe]=N,P=Pe):(R[P]=ve,R[ie]=N,P=ie);else if(Pe<K&&0>r(Ge,N))R[P]=Ge,R[Pe]=N,P=Pe;else break e}}return O}function r(R,O){var N=R.sortIndex-O.sortIndex;return N!==0?N:R.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function x(R){for(var O=n(c);O!==null;){if(O.callback===null)o(c);else if(O.startTime<=R)o(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function C(R){if(m=!1,x(R),!p)if(n(a)!==null)p=!0,E||(E=!0,D());else{var O=n(c);O!==null&&U(C,O.startTime-R)}}var E=!1,S=-1,_=5,T=-1;function M(){return b?!0:!(t.unstable_now()-T<_)}function $(){if(b=!1,E){var R=t.unstable_now();T=R;var O=!0;try{e:{p=!1,m&&(m=!1,w(S),S=-1),h=!0;var N=f;try{t:{for(x(R),d=n(a);d!==null&&!(d.expirationTime>R&&M());){var P=d.callback;if(typeof P=="function"){d.callback=null,f=d.priorityLevel;var K=P(d.expirationTime<=R);if(R=t.unstable_now(),typeof K=="function"){d.callback=K,x(R),O=!0;break t}d===n(a)&&o(a),x(R)}else o(a);d=n(a)}if(d!==null)O=!0;else{var Z=n(c);Z!==null&&U(C,Z.startTime-R),O=!1}}break e}finally{d=null,f=N,h=!1}O=void 0}}finally{O?D():E=!1}}}var D;if(typeof k=="function")D=function(){k($)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=$,D=function(){H.postMessage(null)}}else D=function(){y($,0)};function U(R,O){S=y(function(){R(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var N=f;f=O;try{return R()}finally{f=N}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var N=f;f=R;try{return O()}finally{f=N}},t.unstable_scheduleCallback=function(R,O,N){var P=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?P+N:P):N=P,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=N+K,R={id:u++,callback:O,priorityLevel:R,startTime:N,expirationTime:K,sortIndex:-1},N>P?(R.sortIndex=N,e(c,R),n(a)===null&&R===n(c)&&(m?(w(S),S=-1):m=!0,U(C,N-P))):(R.sortIndex=K,e(a,R),p||h||(p=!0,E||(E=!0,D()))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var O=f;return function(){var N=f;f=O;try{return R.apply(this,arguments)}finally{f=N}}}})(GO);FO.exports=GO;var A7=FO.exports,qO={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R7=v;function WO(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ss(){}var _n={d:{f:ss,r:function(){throw Error(WO(522))},D:ss,C:ss,L:ss,m:ss,X:ss,S:ss,M:ss},p:0,findDOMNode:null},N7=Symbol.for("react.portal");function O7(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N7,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}var Fd=R7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_n;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(WO(299));return O7(t,e,null,n)};Nn.flushSync=function(t){var e=Fd.T,n=_n.p;try{if(Fd.T=null,_n.p=2,t)return t()}finally{Fd.T=e,_n.p=n,_n.d.f()}};Nn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,_n.d.C(t,e))};Nn.prefetchDNS=function(t){typeof t=="string"&&_n.d.D(t)};Nn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,o=Cy(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?_n.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:o,integrity:r,fetchPriority:i}):n==="script"&&_n.d.X(t,{crossOrigin:o,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Nn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Cy(e.as,e.crossOrigin);_n.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&_n.d.M(t)};Nn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,o=Cy(n,e.crossOrigin);_n.d.L(t,n,{crossOrigin:o,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Nn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Cy(e.as,e.crossOrigin);_n.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else _n.d.m(t)};Nn.requestFormReset=function(t){_n.d.r(t)};Nn.unstable_batchedUpdates=function(t,e){return t(e)};Nn.useFormState=function(t,e,n){return Fd.H.useFormState(t,e,n)};Nn.useFormStatus=function(){return Fd.H.useHostTransitionStatus()};Nn.version="19.1.1";function KO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KO)}catch(t){console.error(t)}}KO(),qO.exports=Nn;var po=qO.exports;const LC=LO(po);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=A7,ZO=v,L7=po;function j(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function YO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ch(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iT(t){if(Ch(t)!==t)throw Error(j(188))}function D7(t){var e=t.alternate;if(!e){if(e=Ch(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return iT(r),t;if(i===o)return iT(r),e;i=i.sibling}throw Error(j(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,o=i;break}if(l===o){s=!0,o=r,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,o=r;break}if(l===o){s=!0,o=i,n=r;break}l=l.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==o)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function JO(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=JO(t),e!==null)return e;t=t.sibling}return null}var ot=Object.assign,I7=Symbol.for("react.element"),Ep=Symbol.for("react.transitional.element"),Od=Symbol.for("react.portal"),wc=Symbol.for("react.fragment"),QO=Symbol.for("react.strict_mode"),Pw=Symbol.for("react.profiler"),$7=Symbol.for("react.provider"),e3=Symbol.for("react.consumer"),Si=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Bw=Symbol.for("react.suspense_list"),IC=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),zw=Symbol.for("react.activity"),P7=Symbol.for("react.memo_cache_sentinel"),sT=Symbol.iterator;function pd(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var j7=Symbol.for("react.client.reference");function Hw(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wc:return"Fragment";case Pw:return"Profiler";case QO:return"StrictMode";case jw:return"Suspense";case Bw:return"SuspenseList";case zw:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Od:return"Portal";case Si:return(t.displayName||"Context")+".Provider";case e3:return(t._context.displayName||"Context")+".Consumer";case DC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case IC:return e=t.displayName||null,e!==null?e:Hw(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Hw(t(e))}catch{}}return null}var Ld=Array.isArray,se=ZO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=L7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jl={pending:!1,data:null,method:null,action:null},Vw=[],kc=-1;function Yr(t){return{current:t}}function Ut(t){0>kc||(t.current=Vw[kc],Vw[kc]=null,kc--)}function lt(t,e){kc++,Vw[kc]=t.current,t.current=e}var Ir=Yr(null),xf=Yr(null),zs=Yr(null),ig=Yr(null);function sg(t,e){switch(lt(zs,e),lt(xf,t),lt(Ir,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?dM(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=dM(e),t=bL(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ut(Ir),lt(Ir,t)}function ou(){Ut(Ir),Ut(xf),Ut(zs)}function Uw(t){t.memoizedState!==null&&lt(ig,t);var e=Ir.current,n=bL(e,t.type);e!==n&&(lt(xf,t),lt(Ir,n))}function lg(t){xf.current===t&&(Ut(Ir),Ut(xf)),ig.current===t&&(Ut(ig),Of._currentValue=Jl)}var Fw=Object.prototype.hasOwnProperty,$C=$t.unstable_scheduleCallback,v1=$t.unstable_cancelCallback,B7=$t.unstable_shouldYield,z7=$t.unstable_requestPaint,$r=$t.unstable_now,H7=$t.unstable_getCurrentPriorityLevel,t3=$t.unstable_ImmediatePriority,n3=$t.unstable_UserBlockingPriority,ag=$t.unstable_NormalPriority,V7=$t.unstable_LowPriority,o3=$t.unstable_IdlePriority,U7=$t.log,F7=$t.unstable_setDisableYieldValue,_h=null,ao=null;function Rs(t){if(typeof U7=="function"&&F7(t),ao&&typeof ao.setStrictMode=="function")try{ao.setStrictMode(_h,t)}catch{}}var co=Math.clz32?Math.clz32:W7,G7=Math.log,q7=Math.LN2;function W7(t){return t>>>=0,t===0?32:31-(G7(t)/q7|0)|0}var Tp=256,Mp=4194304;function Ll(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _y(t,e,n){var o=t.pendingLanes;if(o===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=o&134217727;return l!==0?(o=l&~i,o!==0?r=Ll(o):(s&=l,s!==0?r=Ll(s):n||(n=l&~t,n!==0&&(r=Ll(n))))):(l=o&~i,l!==0?r=Ll(l):s!==0?r=Ll(s):n||(n=o&~t,n!==0&&(r=Ll(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Sh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function K7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r3(){var t=Tp;return Tp<<=1,!(Tp&4194048)&&(Tp=256),t}function i3(){var t=Mp;return Mp<<=1,!(Mp&62914560)&&(Mp=4194304),t}function w1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Z7(t,e,n,o,r,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,a=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-co(n),d=1<<u;l[u]=0,a[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];h!==null&&(h.lane&=-536870913)}n&=~d}o!==0&&s3(t,o,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function s3(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-co(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|n&4194090}function l3(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-co(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}function PC(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jC(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function a3(){var t=Re.p;return t!==0?t:(t=window.event,t===void 0?32:TL(t.type))}function Y7(t,e){var n=Re.p;try{return Re.p=t,e()}finally{Re.p=n}}var fl=Math.random().toString(36).slice(2),dn="__reactFiber$"+fl,Wn="__reactProps$"+fl,Ou="__reactContainer$"+fl,Gw="__reactEvents$"+fl,X7="__reactListeners$"+fl,J7="__reactHandles$"+fl,lT="__reactResources$"+fl,Th="__reactMarker$"+fl;function BC(t){delete t[dn],delete t[Wn],delete t[Gw],delete t[X7],delete t[J7]}function xc(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ou]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pM(t);t!==null;){if(n=t[dn])return n;t=pM(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){if(t=t[dn]||t[Ou]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Dd(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(j(33))}function $c(t){var e=t[lT];return e||(e=t[lT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function zt(t){t[Th]=!0}var c3=new Set,u3={};function La(t,e){ru(t,e),ru(t+"Capture",e)}function ru(t,e){for(u3[t]=e,t=0;t<e.length;t++)c3.add(e[t])}var Q7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aT={},cT={};function ez(t){return Fw.call(cT,t)?!0:Fw.call(aT,t)?!1:Q7.test(t)?cT[t]=!0:(aT[t]=!0,!1)}function Cm(t,e,n){if(ez(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ap(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ci(t,e,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+o)}}var k1,uT;function dc(t){if(k1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);k1=e&&e[1]||"",uT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k1+t+uT}var x1=!1;function C1(t,e){if(!t||x1)return"";x1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(t,[],d)}else{try{d.call()}catch(h){f=h}t.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),s=i[0],l=i[1];if(s&&l){var a=s.split(`
`),c=l.split(`
`);for(r=o=0;o<a.length&&!a[o].includes("DetermineComponentFrameRoot");)o++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(o===a.length||r===c.length)for(o=a.length-1,r=c.length-1;1<=o&&0<=r&&a[o]!==c[r];)r--;for(;1<=o&&0<=r;o--,r--)if(a[o]!==c[r]){if(o!==1||r!==1)do if(o--,r--,0>r||a[o]!==c[r]){var u=`
`+a[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=r);break}}}finally{x1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?dc(n):""}function tz(t){switch(t.tag){case 26:case 27:case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 15:return C1(t.type,!1);case 11:return C1(t.type.render,!1);case 1:return C1(t.type,!0);case 31:return dc("Activity");default:return""}}function dT(t){try{var e="";do e+=tz(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ro(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nz(t){var e=d3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cg(t){t._valueTracker||(t._valueTracker=nz(t))}function f3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=d3(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function ug(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oz=/[\n"\\]/g;function Do(t){return t.replace(oz,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function qw(t,e,n,o,r,i,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ro(e)):t.value!==""+Ro(e)&&(t.value=""+Ro(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Ww(t,s,Ro(e)):n!=null?Ww(t,s,Ro(n)):o!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Ro(l):t.removeAttribute("name")}function h3(t,e,n,o,r,i,s,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Ro(n):"",e=e!=null?""+Ro(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}o=o??r,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=l?t.checked:!!o,t.defaultChecked=!!o,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function Ww(t,e,n){e==="number"&&ug(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Pc(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function p3(t,e,n){if(e!=null&&(e=""+Ro(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ro(n):""}function m3(t,e,n,o){if(e==null){if(o!=null){if(n!=null)throw Error(j(92));if(Ld(o)){if(1<o.length)throw Error(j(93));o=o[0]}n=o}n==null&&(n=""),e=n}n=Ro(e),t.defaultValue=n,o=t.textContent,o===n&&o!==""&&o!==null&&(t.value=o)}function iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fT(t,e,n){var o=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,n):typeof n!="number"||n===0||rz.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function g3(t,e,n){if(e!=null&&typeof e!="object")throw Error(j(62));if(t=t.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var r in e)o=e[r],e.hasOwnProperty(r)&&n[r]!==o&&fT(t,r,o)}else for(var i in e)e.hasOwnProperty(i)&&fT(t,i,e[i])}function zC(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _m(t){return sz.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Kw=null;function HC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cc=null,jc=null;function hT(t){var e=Lu(t);if(e&&(t=e.stateNode)){var n=t[Wn]||null;e:switch(t=e.stateNode,e.type){case"input":if(qw(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Do(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=o[Wn]||null;if(!r)throw Error(j(90));qw(o,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)o=n[e],o.form===t.form&&f3(o)}break e;case"textarea":p3(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Pc(t,!!n.multiple,e,!1)}}}var _1=!1;function b3(t,e,n){if(_1)return t(e,n);_1=!0;try{var o=t(e);return o}finally{if(_1=!1,(Cc!==null||jc!==null)&&(Dy(),Cc&&(e=Cc,t=jc,jc=Cc=null,hT(e),t)))for(e=0;e<t.length;e++)hT(t[e])}}function Cf(t,e){var n=t.stateNode;if(n===null)return null;var o=n[Wn]||null;if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zw=!1;if(Ui)try{var md={};Object.defineProperty(md,"passive",{get:function(){Zw=!0}}),window.addEventListener("test",md,md),window.removeEventListener("test",md,md)}catch{Zw=!1}var Ns=null,VC=null,Sm=null;function y3(){if(Sm)return Sm;var t,e=VC,n=e.length,o,r="value"in Ns?Ns.value:Ns.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(o=1;o<=s&&e[n-o]===r[i-o];o++);return Sm=r.slice(t,1<o?1-o:void 0)}function Em(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rp(){return!0}function pT(){return!1}function Kn(t){function e(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rp:pT,this.isPropagationStopped=pT,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=Kn(Da),Mh=ot({},Da,{view:0,detail:0}),lz=Kn(Mh),S1,E1,gd,Ey=ot({},Mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gd&&(gd&&t.type==="mousemove"?(S1=t.screenX-gd.screenX,E1=t.screenY-gd.screenY):E1=S1=0,gd=t),S1)},movementY:function(t){return"movementY"in t?t.movementY:E1}}),mT=Kn(Ey),az=ot({},Ey,{dataTransfer:0}),cz=Kn(az),uz=ot({},Mh,{relatedTarget:0}),T1=Kn(uz),dz=ot({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),fz=Kn(dz),hz=ot({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pz=Kn(hz),mz=ot({},Da,{data:0}),gT=Kn(mz),gz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yz[t])?!!e[t]:!1}function UC(){return vz}var wz=ot({},Mh,{key:function(t){if(t.key){var e=gz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Em(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UC,charCode:function(t){return t.type==="keypress"?Em(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Em(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kz=Kn(wz),xz=ot({},Ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bT=Kn(xz),Cz=ot({},Mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UC}),_z=Kn(Cz),Sz=ot({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ez=Kn(Sz),Tz=ot({},Ey,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mz=Kn(Tz),Az=ot({},Da,{newState:0,oldState:0}),Rz=Kn(Az),Nz=[9,13,27,32],FC=Ui&&"CompositionEvent"in window,Gd=null;Ui&&"documentMode"in document&&(Gd=document.documentMode);var Oz=Ui&&"TextEvent"in window&&!Gd,v3=Ui&&(!FC||Gd&&8<Gd&&11>=Gd),yT=" ",vT=!1;function w3(t,e){switch(t){case"keyup":return Nz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _c=!1;function Lz(t,e){switch(t){case"compositionend":return k3(e);case"keypress":return e.which!==32?null:(vT=!0,yT);case"textInput":return t=e.data,t===yT&&vT?null:t;default:return null}}function Dz(t,e){if(_c)return t==="compositionend"||!FC&&w3(t,e)?(t=y3(),Sm=VC=Ns=null,_c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v3&&e.locale!=="ko"?null:e.data;default:return null}}var Iz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iz[t.type]:e==="textarea"}function x3(t,e,n,o){Cc?jc?jc.push(o):jc=[o]:Cc=o,e=Mg(e,"onChange"),0<e.length&&(n=new Sy("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var qd=null,_f=null;function $z(t){pL(t,0)}function Ty(t){var e=Dd(t);if(f3(e))return t}function kT(t,e){if(t==="change")return e}var C3=!1;if(Ui){var M1;if(Ui){var A1="oninput"in document;if(!A1){var xT=document.createElement("div");xT.setAttribute("oninput","return;"),A1=typeof xT.oninput=="function"}M1=A1}else M1=!1;C3=M1&&(!document.documentMode||9<document.documentMode)}function CT(){qd&&(qd.detachEvent("onpropertychange",_3),_f=qd=null)}function _3(t){if(t.propertyName==="value"&&Ty(_f)){var e=[];x3(e,_f,t,HC(t)),b3($z,e)}}function Pz(t,e,n){t==="focusin"?(CT(),qd=e,_f=n,qd.attachEvent("onpropertychange",_3)):t==="focusout"&&CT()}function jz(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ty(_f)}function Bz(t,e){if(t==="click")return Ty(e)}function zz(t,e){if(t==="input"||t==="change")return Ty(e)}function Hz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mo=typeof Object.is=="function"?Object.is:Hz;function Sf(t,e){if(mo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Fw.call(e,r)||!mo(t[r],e[r]))return!1}return!0}function _T(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ST(t,e){var n=_T(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_T(n)}}function S3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E3(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ug(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ug(t.document)}return e}function GC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Vz=Ui&&"documentMode"in document&&11>=document.documentMode,Sc=null,Yw=null,Wd=null,Xw=!1;function ET(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xw||Sc==null||Sc!==ug(o)||(o=Sc,"selectionStart"in o&&GC(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wd&&Sf(Wd,o)||(Wd=o,o=Mg(Yw,"onSelect"),0<o.length&&(e=new Sy("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Sc)))}function Rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ec={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},R1={},T3={};Ui&&(T3=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Ia(t){if(R1[t])return R1[t];if(!Ec[t])return t;var e=Ec[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T3)return R1[t]=e[n];return t}var M3=Ia("animationend"),A3=Ia("animationiteration"),R3=Ia("animationstart"),Uz=Ia("transitionrun"),Fz=Ia("transitionstart"),Gz=Ia("transitioncancel"),N3=Ia("transitionend"),O3=new Map,Jw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jw.push("scrollEnd");function yr(t,e){O3.set(t,e),La(e,[t])}var TT=new WeakMap;function Io(t,e){if(typeof t=="object"&&t!==null){var n=TT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:dT(e)},TT.set(t,e),e)}return{value:t,source:e,stack:dT(e)}}var Mo=[],Tc=0,qC=0;function My(){for(var t=Tc,e=qC=Tc=0;e<t;){var n=Mo[e];Mo[e++]=null;var o=Mo[e];Mo[e++]=null;var r=Mo[e];Mo[e++]=null;var i=Mo[e];if(Mo[e++]=null,o!==null&&r!==null){var s=o.pending;s===null?r.next=r:(r.next=s.next,s.next=r),o.pending=r}i!==0&&L3(n,r,i)}}function Ay(t,e,n,o){Mo[Tc++]=t,Mo[Tc++]=e,Mo[Tc++]=n,Mo[Tc++]=o,qC|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function WC(t,e,n,o){return Ay(t,e,n,o),dg(t)}function Du(t,e){return Ay(t,null,null,e),dg(t)}function L3(t,e,n){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-co(n),t=i.hiddenUpdates,o=t[r],o===null?t[r]=[e]:o.push(e),e.lane=n|536870912),i):null}function dg(t){if(50<of)throw of=0,vk=null,Error(j(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Mc={};function qz(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,n,o){return new qz(t,e,n,o)}function KC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,e){var n=t.alternate;return n===null?(n=io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function D3(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Tm(t,e,n,o,r,i){var s=0;if(o=t,typeof t=="function")KC(t)&&(s=1);else if(typeof t=="string")s=KH(t,n,Ir.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case zw:return t=io(31,n,e,r),t.elementType=zw,t.lanes=i,t;case wc:return Ql(n.children,r,i,e);case QO:s=8,r|=24;break;case Pw:return t=io(12,n,e,r|2),t.elementType=Pw,t.lanes=i,t;case jw:return t=io(13,n,e,r),t.elementType=jw,t.lanes=i,t;case Bw:return t=io(19,n,e,r),t.elementType=Bw,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $7:case Si:s=10;break e;case e3:s=9;break e;case DC:s=11;break e;case IC:s=14;break e;case ps:s=16,o=null;break e}s=29,n=Error(j(130,t===null?"null":typeof t,"")),o=null}return e=io(s,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function Ql(t,e,n,o){return t=io(7,t,o,e),t.lanes=n,t}function N1(t,e,n){return t=io(6,t,null,e),t.lanes=n,t}function O1(t,e,n){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ac=[],Rc=0,fg=null,hg=0,No=[],Oo=0,ea=null,Ei=1,Ti="";function Dl(t,e){Ac[Rc++]=hg,Ac[Rc++]=fg,fg=t,hg=e}function I3(t,e,n){No[Oo++]=Ei,No[Oo++]=Ti,No[Oo++]=ea,ea=t;var o=Ei;t=Ti;var r=32-co(o)-1;o&=~(1<<r),n+=1;var i=32-co(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Ei=1<<32-co(e)+r|n<<r|o,Ti=i+t}else Ei=1<<i|n<<r|o,Ti=t}function ZC(t){t.return!==null&&(Dl(t,1),I3(t,1,0))}function YC(t){for(;t===fg;)fg=Ac[--Rc],Ac[Rc]=null,hg=Ac[--Rc],Ac[Rc]=null;for(;t===ea;)ea=No[--Oo],No[Oo]=null,Ti=No[--Oo],No[Oo]=null,Ei=No[--Oo],No[Oo]=null}var Cn=null,pt=null,Ae=!1,ta=null,Rr=!1,Qw=Error(j(519));function pa(t){var e=Error(j(418,""));throw Ef(Io(e,t)),Qw}function MT(t){var e=t.stateNode,n=t.type,o=t.memoizedProps;switch(e[dn]=t,e[Wn]=o,n){case"dialog":ke("cancel",e),ke("close",e);break;case"iframe":case"object":case"embed":ke("load",e);break;case"video":case"audio":for(n=0;n<Af.length;n++)ke(Af[n],e);break;case"source":ke("error",e);break;case"img":case"image":case"link":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"input":ke("invalid",e),h3(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),cg(e);break;case"select":ke("invalid",e);break;case"textarea":ke("invalid",e),m3(e,o.value,o.defaultValue,o.children),cg(e)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||o.suppressHydrationWarning===!0||gL(e.textContent,n)?(o.popover!=null&&(ke("beforetoggle",e),ke("toggle",e)),o.onScroll!=null&&ke("scroll",e),o.onScrollEnd!=null&&ke("scrollend",e),o.onClick!=null&&(e.onclick=Py),e=!0):e=!1,e||pa(t)}function AT(t){for(Cn=t.return;Cn;)switch(Cn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Cn=Cn.return}}function bd(t){if(t!==Cn)return!1;if(!Ae)return AT(t),Ae=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Sk(t.type,t.memoizedProps)),n=!n),n&&pt&&pa(t),AT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){pt=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}pt=null}}else e===27?(e=pt,hl(t.type)?(t=Mk,Mk=null,pt=t):pt=e):pt=Cn?cr(t.stateNode.nextSibling):null;return!0}function Ah(){pt=Cn=null,Ae=!1}function RT(){var t=ta;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),ta=null),t}function Ef(t){ta===null?ta=[t]:ta.push(t)}var ek=Yr(null),$a=null,Mi=null;function vs(t,e,n){lt(ek,e._currentValue),e._currentValue=n}function Ii(t){t._currentValue=ek.current,Ut(ek)}function tk(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function nk(t,e,n,o){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var s=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var a=0;a<e.length;a++)if(l.context===e[a]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tk(i.return,n,t),o||(s=null);break e}i=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(j(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),tk(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Rh(t,e,n,o){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(j(387));if(s=s.memoizedProps,s!==null){var l=r.type;mo(r.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(r===ig.current){if(s=r.alternate,s===null)throw Error(j(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Of):t=[Of])}r=r.return}t!==null&&nk(e,t,n,o),e.flags|=262144}function pg(t){for(t=t.firstContext;t!==null;){if(!mo(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){$a=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return $3($a,t)}function Np(t,e){return $a===null&&ma(t),$3(t,e)}function $3(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Mi===null){if(t===null)throw Error(j(308));Mi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Mi=Mi.next=e;return n}var Wz=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Kz=$t.unstable_scheduleCallback,Zz=$t.unstable_NormalPriority,Dt={$$typeof:Si,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function XC(){return{controller:new Wz,data:new Map,refCount:0}}function Nh(t){t.refCount--,t.refCount===0&&Kz(Zz,function(){t.controller.abort()})}var Kd=null,ok=0,su=0,Bc=null;function Yz(t,e){if(Kd===null){var n=Kd=[];ok=0,su=w_(),Bc={status:"pending",value:void 0,then:function(o){n.push(o)}}}return ok++,e.then(NT,NT),e}function NT(){if(--ok===0&&Kd!==null){Bc!==null&&(Bc.status="fulfilled");var t=Kd;Kd=null,su=0,Bc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Xz(t,e){var n=[],o={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(o.status="rejected",o.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),o}var OT=se.S;se.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Yz(t,e),OT!==null&&OT(t,e)};var na=Yr(null);function JC(){var t=na.current;return t!==null?t:Qe.pooledCache}function Mm(t,e){e===null?lt(na,na.current):lt(na,e.pool)}function P3(){var t=JC();return t===null?null:{parent:Dt._currentValue,pool:t}}var Oh=Error(j(460)),j3=Error(j(474)),Ry=Error(j(542)),rk={then:function(){}};function LT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Op(){}function B3(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Op,Op),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,IT(t),t;default:if(typeof e.status=="string")e.then(Op,Op);else{if(t=Qe,t!==null&&100<t.shellSuspendCounter)throw Error(j(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=o}},function(o){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,IT(t),t}throw Zd=e,Oh}}var Zd=null;function DT(){if(Zd===null)throw Error(j(459));var t=Zd;return Zd=null,t}function IT(t){if(t===Oh||t===Ry)throw Error(j(483))}var ms=!1;function QC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ik(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Ie&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,e=dg(t),L3(t,null,n),e}return Ay(t,o,e,n),dg(t)}function Yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,l3(t,n)}}function L1(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var sk=!1;function Xd(){if(sk){var t=Bc;if(t!==null)throw t}}function Jd(t,e,n,o){sk=!1;var r=t.updateQueue;ms=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?i=c:s.next=c,s=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(i!==null){var d=r.baseState;s=0,u=c=a=null,l=i;do{var f=l.lane&-536870913,h=f!==l.lane;if(h?(Ee&f)===f:(o&f)===f){f!==0&&f===su&&(sk=!0),u!==null&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=t,m=l;f=e;var b=n;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(b,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(b,d,f):p,f==null)break e;d=ot({},d,f);break e;case 2:ms=!0}}f=l.callback,f!==null&&(t.flags|=64,h&&(t.flags|=8192),h=r.callbacks,h===null?r.callbacks=[f]:h.push(f))}else h={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=h,a=d):u=u.next=h,s|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);u===null&&(a=d),r.baseState=a,r.firstBaseUpdate=c,r.lastBaseUpdate=u,i===null&&(r.shared.lanes=0),tl|=s,t.lanes=s,t.memoizedState=d}}function z3(t,e){if(typeof t!="function")throw Error(j(191,t));t.call(e)}function H3(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)z3(n[t],e)}var lu=Yr(null),mg=Yr(0);function $T(t,e){t=qi,lt(mg,t),lt(lu,e),qi=t|e.baseLanes}function lk(){lt(mg,qi),lt(lu,lu.current)}function e_(){qi=mg.current,Ut(lu),Ut(mg)}var Qs=0,ge=null,Be=null,St=null,gg=!1,zc=!1,ga=!1,bg=0,Tf=0,Hc=null,Jz=0;function yt(){throw Error(j(321))}function t_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mo(t[n],e[n]))return!1;return!0}function n_(t,e,n,o,r,i){return Qs=i,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,se.H=t===null||t.memoizedState===null?y5:v5,ga=!1,i=n(o,r),ga=!1,zc&&(i=U3(e,n,o,r)),V3(t),i}function V3(t){se.H=yg;var e=Be!==null&&Be.next!==null;if(Qs=0,St=Be=ge=null,gg=!1,Tf=0,Hc=null,e)throw Error(j(300));t===null||Vt||(t=t.dependencies,t!==null&&pg(t)&&(Vt=!0))}function U3(t,e,n,o){ge=t;var r=0;do{if(zc&&(Hc=null),Tf=0,zc=!1,25<=r)throw Error(j(301));if(r+=1,St=Be=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}se.H=iH,i=e(n,o)}while(zc);return i}function Qz(){var t=se.H,e=t.useState()[0];return e=typeof e.then=="function"?Lh(e):e,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(ge.flags|=1024),e}function o_(){var t=bg!==0;return bg=0,t}function r_(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function i_(t){if(gg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}gg=!1}Qs=0,St=Be=ge=null,zc=!1,Tf=bg=0,Hc=null}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ge.memoizedState=St=t:St=St.next=t,St}function At(){if(Be===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=St===null?ge.memoizedState:St.next;if(e!==null)St=e,Be=t;else{if(t===null)throw ge.alternate===null?Error(j(467)):Error(j(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},St===null?ge.memoizedState=St=t:St=St.next=t}return St}function s_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lh(t){var e=Tf;return Tf+=1,Hc===null&&(Hc=[]),t=B3(Hc,t,e),e=ge,(St===null?e.memoizedState:St.next)===null&&(e=e.alternate,se.H=e===null||e.memoizedState===null?y5:v5),t}function Ny(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Lh(t);if(t.$$typeof===Si)return fn(t)}throw Error(j(438,String(t)))}function l_(t){var e=null,n=ge.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var o=ge.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=s_(),ge.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),o=0;o<t;o++)n[o]=P7;return e.index++,n}function Fi(t,e){return typeof e=="function"?e(t):e}function Am(t){var e=At();return a_(e,Be,t)}function a_(t,e,n){var o=t.queue;if(o===null)throw Error(j(311));o.lastRenderedReducer=n;var r=t.baseQueue,i=o.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}e.baseQueue=r=i,o.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=s=null,a=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Ee&d)===d:(Qs&d)===d){var f=c.revertLane;if(f===0)a!==null&&(a=a.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===su&&(u=!0);else if((Qs&f)===f){c=c.next,f===su&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},a===null?(l=a=d,s=i):a=a.next=d,ge.lanes|=f,tl|=f;d=c.action,ga&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},a===null?(l=a=f,s=i):a=a.next=f,ge.lanes|=d,tl|=d;c=c.next}while(c!==null&&c!==e);if(a===null?s=i:a.next=l,!mo(i,t.memoizedState)&&(Vt=!0,u&&(n=Bc,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=a,o.lastRenderedState=i}return r===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function D1(t){var e=At(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);mo(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function F3(t,e,n){var o=ge,r=At(),i=Ae;if(i){if(n===void 0)throw Error(j(407));n=n()}else n=e();var s=!mo((Be||r).memoizedState,n);s&&(r.memoizedState=n,Vt=!0),r=r.queue;var l=W3.bind(null,o,r,t);if(Dh(2048,8,l,[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,au(9,Oy(),q3.bind(null,o,r,n,e),null),Qe===null)throw Error(j(349));i||Qs&124||G3(o,e,n)}return n}function G3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e=s_(),ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q3(t,e,n,o){e.value=n,e.getSnapshot=o,K3(e)&&Z3(t)}function W3(t,e,n){return n(function(){K3(e)&&Z3(t)})}function K3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mo(t,n)}catch{return!0}}function Z3(t){var e=Du(t,2);e!==null&&fo(e,t,2)}function ak(t){var e=In();if(typeof t=="function"){var n=t;if(t=n(),ga){Rs(!0);try{n()}finally{Rs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},e}function Y3(t,e,n,o){return t.baseState=n,a_(t,Be,typeof o=="function"?o:Fi)}function eH(t,e,n,o,r){if(Ly(t))throw Error(j(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};se.T!==null?n(!0):i.isTransition=!1,o(i),n=e.pending,n===null?(i.next=e.pending=i,X3(e,i)):(i.next=n.next,e.pending=n.next=i)}}function X3(t,e){var n=e.action,o=e.payload,r=t.state;if(e.isTransition){var i=se.T,s={};se.T=s;try{var l=n(r,o),a=se.S;a!==null&&a(s,l),PT(t,e,l)}catch(c){ck(t,e,c)}finally{se.T=i}}else try{i=n(r,o),PT(t,e,i)}catch(c){ck(t,e,c)}}function PT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){jT(t,e,o)},function(o){return ck(t,e,o)}):jT(t,e,n)}function jT(t,e,n){e.status="fulfilled",e.value=n,J3(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,X3(t,n)))}function ck(t,e,n){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=n,J3(e),e=e.next;while(e!==o)}t.action=null}function J3(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Q3(t,e){return e}function BT(t,e){if(Ae){var n=Qe.formState;if(n!==null){e:{var o=ge;if(Ae){if(pt){t:{for(var r=pt,i=Rr;r.nodeType!==8;){if(!i){r=null;break t}if(r=cr(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){pt=cr(r.nextSibling),o=r.data==="F!";break e}}pa(o)}o=!1}o&&(e=n[0])}}return n=In(),n.memoizedState=n.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q3,lastRenderedState:e},n.queue=o,n=m5.bind(null,ge,o),o.dispatch=n,o=ak(!1),i=f_.bind(null,ge,!1,o.queue),o=In(),r={state:e,dispatch:null,action:t,pending:null},o.queue=r,n=eH.bind(null,ge,r,i,n),r.dispatch=n,o.memoizedState=t,[e,n,!1]}function zT(t){var e=At();return e5(e,Be,t)}function e5(t,e,n){if(e=a_(t,e,Q3)[0],t=Am(Fi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=Lh(e)}catch(s){throw s===Oh?Ry:s}else o=e;e=At();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(ge.flags|=2048,au(9,Oy(),tH.bind(null,r,n),null)),[o,i,t]}function tH(t,e){t.action=e}function HT(t){var e=At(),n=Be;if(n!==null)return e5(e,n,t);At(),e=e.memoizedState,n=At();var o=n.queue.dispatch;return n.memoizedState=t,[e,o,!1]}function au(t,e,n,o){return t={tag:t,create:n,deps:o,inst:e,next:null},e=ge.updateQueue,e===null&&(e=s_(),ge.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t),t}function Oy(){return{destroy:void 0,resource:void 0}}function t5(){return At().memoizedState}function Rm(t,e,n,o){var r=In();o=o===void 0?null:o,ge.flags|=t,r.memoizedState=au(1|e,Oy(),n,o)}function Dh(t,e,n,o){var r=At();o=o===void 0?null:o;var i=r.memoizedState.inst;Be!==null&&o!==null&&t_(o,Be.memoizedState.deps)?r.memoizedState=au(e,i,n,o):(ge.flags|=t,r.memoizedState=au(1|e,i,n,o))}function VT(t,e){Rm(8390656,8,t,e)}function n5(t,e){Dh(2048,8,t,e)}function o5(t,e){return Dh(4,2,t,e)}function r5(t,e){return Dh(4,4,t,e)}function i5(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s5(t,e,n){n=n!=null?n.concat([t]):null,Dh(4,4,i5.bind(null,e,t),n)}function c_(){}function l5(t,e){var n=At();e=e===void 0?null:e;var o=n.memoizedState;return e!==null&&t_(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function a5(t,e){var n=At();e=e===void 0?null:e;var o=n.memoizedState;if(e!==null&&t_(e,o[1]))return o[0];if(o=t(),ga){Rs(!0);try{t()}finally{Rs(!1)}}return n.memoizedState=[o,e],o}function u_(t,e,n){return n===void 0||Qs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=J5(),ge.lanes|=t,tl|=t,n)}function c5(t,e,n,o){return mo(n,e)?n:lu.current!==null?(t=u_(t,n,o),mo(t,e)||(Vt=!0),t):Qs&42?(t=J5(),ge.lanes|=t,tl|=t,e):(Vt=!0,t.memoizedState=n)}function u5(t,e,n,o,r){var i=Re.p;Re.p=i!==0&&8>i?i:8;var s=se.T,l={};se.T=l,f_(t,!1,e,n);try{var a=r(),c=se.S;if(c!==null&&c(l,a),a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=Xz(a,o);Qd(t,e,u,uo(t))}else Qd(t,e,o,uo(t))}catch(d){Qd(t,e,{then:function(){},status:"rejected",reason:d},uo())}finally{Re.p=i,se.T=s}}function nH(){}function uk(t,e,n,o){if(t.tag!==5)throw Error(j(476));var r=d5(t).queue;u5(t,r,e,Jl,n===null?nH:function(){return f5(t),n(o)})}function d5(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Jl,baseState:Jl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:Jl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function f5(t){var e=d5(t).next.queue;Qd(t,e,{},uo())}function d_(){return fn(Of)}function h5(){return At().memoizedState}function p5(){return At().memoizedState}function oH(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=uo();t=Hs(n);var o=Vs(e,t,n);o!==null&&(fo(o,e,n),Yd(o,e,n)),e={cache:XC()},t.payload=e;return}e=e.return}}function rH(t,e,n){var o=uo();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ly(t)?g5(e,n):(n=WC(t,e,n,o),n!==null&&(fo(n,t,o),b5(n,e,o)))}function m5(t,e,n){var o=uo();Qd(t,e,n,o)}function Qd(t,e,n,o){var r={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ly(t))g5(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,l=i(s,n);if(r.hasEagerState=!0,r.eagerState=l,mo(l,s))return Ay(t,e,r,0),Qe===null&&My(),!1}catch{}finally{}if(n=WC(t,e,r,o),n!==null)return fo(n,t,o),b5(n,e,o),!0}return!1}function f_(t,e,n,o){if(o={lane:2,revertLane:w_(),action:o,hasEagerState:!1,eagerState:null,next:null},Ly(t)){if(e)throw Error(j(479))}else e=WC(t,n,o,2),e!==null&&fo(e,t,2)}function Ly(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function g5(t,e){zc=gg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b5(t,e,n){if(n&4194048){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,l3(t,n)}}var yg={readContext:fn,use:Ny,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},y5={readContext:fn,use:Ny,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:VT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Rm(4194308,4,i5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rm(4194308,4,t,e)},useInsertionEffect:function(t,e){Rm(4,2,t,e)},useMemo:function(t,e){var n=In();e=e===void 0?null:e;var o=t();if(ga){Rs(!0);try{t()}finally{Rs(!1)}}return n.memoizedState=[o,e],o},useReducer:function(t,e,n){var o=In();if(n!==void 0){var r=n(e);if(ga){Rs(!0);try{n(e)}finally{Rs(!1)}}}else r=e;return o.memoizedState=o.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},o.queue=t,t=t.dispatch=rH.bind(null,ge,t),[o.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:function(t){t=ak(t);var e=t.queue,n=m5.bind(null,ge,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:c_,useDeferredValue:function(t,e){var n=In();return u_(n,t,e)},useTransition:function(){var t=ak(!1);return t=u5.bind(null,ge,t.queue,!0,!1),In().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var o=ge,r=In();if(Ae){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Qe===null)throw Error(j(349));Ee&124||G3(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,VT(W3.bind(null,o,i,t),[t]),o.flags|=2048,au(9,Oy(),q3.bind(null,o,i,n,e),null),n},useId:function(){var t=In(),e=Qe.identifierPrefix;if(Ae){var n=Ti,o=Ei;n=(o&~(1<<32-co(o)-1)).toString(32)+n,e="«"+e+"R"+n,n=bg++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Jz++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:d_,useFormState:BT,useActionState:BT,useOptimistic:function(t){var e=In();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=f_.bind(null,ge,!0,n),n.dispatch=e,[t,e]},useMemoCache:l_,useCacheRefresh:function(){return In().memoizedState=oH.bind(null,ge)}},v5={readContext:fn,use:Ny,useCallback:l5,useContext:fn,useEffect:n5,useImperativeHandle:s5,useInsertionEffect:o5,useLayoutEffect:r5,useMemo:a5,useReducer:Am,useRef:t5,useState:function(){return Am(Fi)},useDebugValue:c_,useDeferredValue:function(t,e){var n=At();return c5(n,Be.memoizedState,t,e)},useTransition:function(){var t=Am(Fi)[0],e=At().memoizedState;return[typeof t=="boolean"?t:Lh(t),e]},useSyncExternalStore:F3,useId:h5,useHostTransitionStatus:d_,useFormState:zT,useActionState:zT,useOptimistic:function(t,e){var n=At();return Y3(n,Be,t,e)},useMemoCache:l_,useCacheRefresh:p5},iH={readContext:fn,use:Ny,useCallback:l5,useContext:fn,useEffect:n5,useImperativeHandle:s5,useInsertionEffect:o5,useLayoutEffect:r5,useMemo:a5,useReducer:D1,useRef:t5,useState:function(){return D1(Fi)},useDebugValue:c_,useDeferredValue:function(t,e){var n=At();return Be===null?u_(n,t,e):c5(n,Be.memoizedState,t,e)},useTransition:function(){var t=D1(Fi)[0],e=At().memoizedState;return[typeof t=="boolean"?t:Lh(t),e]},useSyncExternalStore:F3,useId:h5,useHostTransitionStatus:d_,useFormState:HT,useActionState:HT,useOptimistic:function(t,e){var n=At();return Be!==null?Y3(n,Be,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:l_,useCacheRefresh:p5},Vc=null,Mf=0;function Lp(t){var e=Mf;return Mf+=1,Vc===null&&(Vc=[]),B3(Vc,t,e)}function yd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Dp(t,e){throw e.$$typeof===I7?Error(j(525)):(t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function UT(t){var e=t._init;return e(t._payload)}function w5(t){function e(y,w){if(t){var k=y.deletions;k===null?(y.deletions=[w],y.flags|=16):k.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function o(y){for(var w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function r(y,w){return y=Di(y,w),y.index=0,y.sibling=null,y}function i(y,w,k){return y.index=k,t?(k=y.alternate,k!==null?(k=k.index,k<w?(y.flags|=67108866,w):k):(y.flags|=67108866,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function l(y,w,k,x){return w===null||w.tag!==6?(w=N1(k,y.mode,x),w.return=y,w):(w=r(w,k),w.return=y,w)}function a(y,w,k,x){var C=k.type;return C===wc?u(y,w,k.props.children,x,k.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ps&&UT(C)===w.type)?(w=r(w,k.props),yd(w,k),w.return=y,w):(w=Tm(k.type,k.key,k.props,null,y.mode,x),yd(w,k),w.return=y,w)}function c(y,w,k,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=O1(k,y.mode,x),w.return=y,w):(w=r(w,k.children||[]),w.return=y,w)}function u(y,w,k,x,C){return w===null||w.tag!==7?(w=Ql(k,y.mode,x,C),w.return=y,w):(w=r(w,k),w.return=y,w)}function d(y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=N1(""+w,y.mode,k),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ep:return k=Tm(w.type,w.key,w.props,null,y.mode,k),yd(k,w),k.return=y,k;case Od:return w=O1(w,y.mode,k),w.return=y,w;case ps:var x=w._init;return w=x(w._payload),d(y,w,k)}if(Ld(w)||pd(w))return w=Ql(w,y.mode,k,null),w.return=y,w;if(typeof w.then=="function")return d(y,Lp(w),k);if(w.$$typeof===Si)return d(y,Np(y,w),k);Dp(y,w)}return null}function f(y,w,k,x){var C=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return C!==null?null:l(y,w,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ep:return k.key===C?a(y,w,k,x):null;case Od:return k.key===C?c(y,w,k,x):null;case ps:return C=k._init,k=C(k._payload),f(y,w,k,x)}if(Ld(k)||pd(k))return C!==null?null:u(y,w,k,x,null);if(typeof k.then=="function")return f(y,w,Lp(k),x);if(k.$$typeof===Si)return f(y,w,Np(y,k),x);Dp(y,k)}return null}function h(y,w,k,x,C){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return y=y.get(k)||null,l(w,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ep:return y=y.get(x.key===null?k:x.key)||null,a(w,y,x,C);case Od:return y=y.get(x.key===null?k:x.key)||null,c(w,y,x,C);case ps:var E=x._init;return x=E(x._payload),h(y,w,k,x,C)}if(Ld(x)||pd(x))return y=y.get(k)||null,u(w,y,x,C,null);if(typeof x.then=="function")return h(y,w,k,Lp(x),C);if(x.$$typeof===Si)return h(y,w,k,Np(w,x),C);Dp(w,x)}return null}function p(y,w,k,x){for(var C=null,E=null,S=w,_=w=0,T=null;S!==null&&_<k.length;_++){S.index>_?(T=S,S=null):T=S.sibling;var M=f(y,S,k[_],x);if(M===null){S===null&&(S=T);break}t&&S&&M.alternate===null&&e(y,S),w=i(M,w,_),E===null?C=M:E.sibling=M,E=M,S=T}if(_===k.length)return n(y,S),Ae&&Dl(y,_),C;if(S===null){for(;_<k.length;_++)S=d(y,k[_],x),S!==null&&(w=i(S,w,_),E===null?C=S:E.sibling=S,E=S);return Ae&&Dl(y,_),C}for(S=o(S);_<k.length;_++)T=h(S,y,_,k[_],x),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?_:T.key),w=i(T,w,_),E===null?C=T:E.sibling=T,E=T);return t&&S.forEach(function($){return e(y,$)}),Ae&&Dl(y,_),C}function m(y,w,k,x){if(k==null)throw Error(j(151));for(var C=null,E=null,S=w,_=w=0,T=null,M=k.next();S!==null&&!M.done;_++,M=k.next()){S.index>_?(T=S,S=null):T=S.sibling;var $=f(y,S,M.value,x);if($===null){S===null&&(S=T);break}t&&S&&$.alternate===null&&e(y,S),w=i($,w,_),E===null?C=$:E.sibling=$,E=$,S=T}if(M.done)return n(y,S),Ae&&Dl(y,_),C;if(S===null){for(;!M.done;_++,M=k.next())M=d(y,M.value,x),M!==null&&(w=i(M,w,_),E===null?C=M:E.sibling=M,E=M);return Ae&&Dl(y,_),C}for(S=o(S);!M.done;_++,M=k.next())M=h(S,y,_,M.value,x),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?_:M.key),w=i(M,w,_),E===null?C=M:E.sibling=M,E=M);return t&&S.forEach(function(D){return e(y,D)}),Ae&&Dl(y,_),C}function b(y,w,k,x){if(typeof k=="object"&&k!==null&&k.type===wc&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ep:e:{for(var C=k.key;w!==null;){if(w.key===C){if(C=k.type,C===wc){if(w.tag===7){n(y,w.sibling),x=r(w,k.props.children),x.return=y,y=x;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ps&&UT(C)===w.type){n(y,w.sibling),x=r(w,k.props),yd(x,k),x.return=y,y=x;break e}n(y,w);break}else e(y,w);w=w.sibling}k.type===wc?(x=Ql(k.props.children,y.mode,x,k.key),x.return=y,y=x):(x=Tm(k.type,k.key,k.props,null,y.mode,x),yd(x,k),x.return=y,y=x)}return s(y);case Od:e:{for(C=k.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(y,w.sibling),x=r(w,k.children||[]),x.return=y,y=x;break e}else{n(y,w);break}else e(y,w);w=w.sibling}x=O1(k,y.mode,x),x.return=y,y=x}return s(y);case ps:return C=k._init,k=C(k._payload),b(y,w,k,x)}if(Ld(k))return p(y,w,k,x);if(pd(k)){if(C=pd(k),typeof C!="function")throw Error(j(150));return k=C.call(k),m(y,w,k,x)}if(typeof k.then=="function")return b(y,w,Lp(k),x);if(k.$$typeof===Si)return b(y,w,Np(y,k),x);Dp(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(n(y,w.sibling),x=r(w,k),x.return=y,y=x):(n(y,w),x=N1(k,y.mode,x),x.return=y,y=x),s(y)):n(y,w)}return function(y,w,k,x){try{Mf=0;var C=b(y,w,k,x);return Vc=null,C}catch(S){if(S===Oh||S===Ry)throw S;var E=io(29,S,null,y.mode);return E.lanes=x,E.return=y,E}finally{}}}var cu=w5(!0),k5=w5(!1),Go=Yr(null),Pr=null;function ws(t){var e=t.alternate;lt(It,It.current&1),lt(Go,t),Pr===null&&(e===null||lu.current!==null||e.memoizedState!==null)&&(Pr=t)}function x5(t){if(t.tag===22){if(lt(It,It.current),lt(Go,t),Pr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Pr=t)}}else ks()}function ks(){lt(It,It.current),lt(Go,Go.current)}function Ai(t){Ut(Go),Pr===t&&(Pr=null),Ut(It)}var It=Yr(0);function vg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Tk(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function I1(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dk={enqueueSetState:function(t,e,n){t=t._reactInternals;var o=uo(),r=Hs(o);r.payload=e,n!=null&&(r.callback=n),e=Vs(t,r,o),e!==null&&(fo(e,t,o),Yd(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=uo(),r=Hs(o);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Vs(t,r,o),e!==null&&(fo(e,t,o),Yd(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=uo(),o=Hs(n);o.tag=2,e!=null&&(o.callback=e),e=Vs(t,o,n),e!==null&&(fo(e,t,n),Yd(e,t,n))}};function FT(t,e,n,o,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,s):e.prototype&&e.prototype.isPureReactComponent?!Sf(n,o)||!Sf(r,i):!0}function GT(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&dk.enqueueReplaceState(e,e.state,null)}function ba(t,e){var n=e;if("ref"in e){n={};for(var o in e)o!=="ref"&&(n[o]=e[o])}if(t=t.defaultProps){n===e&&(n=ot({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var wg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function C5(t){wg(t)}function _5(t){console.error(t)}function S5(t){wg(t)}function kg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function qT(t,e,n){try{var o=t.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function fk(t,e,n){return n=Hs(n),n.tag=3,n.payload={element:null},n.callback=function(){kg(t,e)},n}function E5(t){return t=Hs(t),t.tag=3,t}function T5(t,e,n,o){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=o.value;t.payload=function(){return r(i)},t.callback=function(){qT(e,n,o)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){qT(e,n,o),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var l=o.stack;this.componentDidCatch(o.value,{componentStack:l!==null?l:""})})}function sH(t,e,n,o,r){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=n.alternate,e!==null&&Rh(e,n,r,!0),n=Go.current,n!==null){switch(n.tag){case 13:return Pr===null?wk():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,o===rk?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([o]):e.add(o),q1(t,o,r)),!1;case 22:return n.flags|=65536,o===rk?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([o]):n.add(o)),q1(t,o,r)),!1}throw Error(j(435,n.tag))}return q1(t,o,r),wk(),!1}if(Ae)return e=Go.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,o!==Qw&&(t=Error(j(422),{cause:o}),Ef(Io(t,n)))):(o!==Qw&&(e=Error(j(423),{cause:o}),Ef(Io(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,o=Io(o,n),r=fk(t.stateNode,o,r),L1(t,r),gt!==4&&(gt=2)),!1;var i=Error(j(520),{cause:o});if(i=Io(i,n),nf===null?nf=[i]:nf.push(i),gt!==4&&(gt=2),e===null)return!0;o=Io(o,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=fk(n.stateNode,o,t),L1(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Us===null||!Us.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=E5(r),T5(r,t,n,o),L1(n,r),!1}n=n.return}while(n!==null);return!1}var M5=Error(j(461)),Vt=!1;function Jt(t,e,n,o){e.child=t===null?k5(e,null,n,o):cu(e,t.child,n,o)}function WT(t,e,n,o,r){n=n.render;var i=e.ref;if("ref"in o){var s={};for(var l in o)l!=="ref"&&(s[l]=o[l])}else s=o;return ma(e),o=n_(t,e,n,s,i,r),l=o_(),t!==null&&!Vt?(r_(t,e,r),Gi(t,e,r)):(Ae&&l&&ZC(e),e.flags|=1,Jt(t,e,o,r),e.child)}function KT(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!KC(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,A5(t,e,i,o,r)):(t=Tm(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!h_(t,r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sf,n(s,o)&&t.ref===e.ref)return Gi(t,e,r)}return e.flags|=1,t=Di(i,o),t.ref=e.ref,t.return=e,e.child=t}function A5(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(Sf(i,o)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=o=i,h_(t,r))t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,Gi(t,e,r)}return hk(t,e,n,o,r)}function R5(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if(e.flags&128){if(o=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~o}else e.childLanes=0,e.child=null;return ZT(t,e,o,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mm(e,i!==null?i.cachePool:null),i!==null?$T(e,i):lk(),x5(e);else return e.lanes=e.childLanes=536870912,ZT(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(Mm(e,i.cachePool),$T(e,i),ks(),e.memoizedState=null):(t!==null&&Mm(e,null),lk(),ks());return Jt(t,e,r,n),e.child}function ZT(t,e,n,o){var r=JC();return r=r===null?null:{parent:Dt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Mm(e,null),lk(),x5(e),t!==null&&Rh(t,e,o,!0),null}function Nm(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function hk(t,e,n,o,r){return ma(e),n=n_(t,e,n,o,void 0,r),o=o_(),t!==null&&!Vt?(r_(t,e,r),Gi(t,e,r)):(Ae&&o&&ZC(e),e.flags|=1,Jt(t,e,n,r),e.child)}function YT(t,e,n,o,r,i){return ma(e),e.updateQueue=null,n=U3(e,o,n,r),V3(t),o=o_(),t!==null&&!Vt?(r_(t,e,i),Gi(t,e,i)):(Ae&&o&&ZC(e),e.flags|=1,Jt(t,e,n,i),e.child)}function XT(t,e,n,o,r){if(ma(e),e.stateNode===null){var i=Mc,s=n.contextType;typeof s=="object"&&s!==null&&(i=fn(s)),i=new n(o,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=dk,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=o,i.state=e.memoizedState,i.refs={},QC(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?fn(s):Mc,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(I1(e,n,s,o),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&dk.enqueueReplaceState(i,i.state,null),Jd(e,o,i,r),Xd(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,a=ba(n,l);i.props=a;var c=i.context,u=n.contextType;s=Mc,typeof u=="object"&&u!==null&&(s=fn(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||c!==s)&&GT(e,i,o,s),ms=!1;var f=e.memoizedState;i.state=f,Jd(e,o,i,r),Xd(),c=e.memoizedState,l||f!==c||ms?(typeof d=="function"&&(I1(e,n,d,o),c=e.memoizedState),(a=ms||FT(e,n,a,o,f,c,s))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),i.props=o,i.state=c,i.context=s,o=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{i=e.stateNode,ik(t,e),s=e.memoizedProps,u=ba(n,s),i.props=u,d=e.pendingProps,f=i.context,c=n.contextType,a=Mc,typeof c=="object"&&c!==null&&(a=fn(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||f!==a)&&GT(e,i,o,a),ms=!1,f=e.memoizedState,i.state=f,Jd(e,o,i,r),Xd();var h=e.memoizedState;s!==d||f!==h||ms||t!==null&&t.dependencies!==null&&pg(t.dependencies)?(typeof l=="function"&&(I1(e,n,l,o),h=e.memoizedState),(u=ms||FT(e,n,u,o,f,h,a)||t!==null&&t.dependencies!==null&&pg(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,h,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,h,a)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=h),i.props=o,i.state=h,i.context=a,o=u):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),o=!1)}return i=o,Nm(t,e),o=(e.flags&128)!==0,i||o?(i=e.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&o?(e.child=cu(e,t.child,null,r),e.child=cu(e,null,n,r)):Jt(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Gi(t,e,r),t}function JT(t,e,n,o){return Ah(),e.flags|=256,Jt(t,e,n,o),e.child}var $1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function P1(t){return{baseLanes:t,cachePool:P3()}}function j1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zo),t}function N5(t,e,n){var o=e.pendingProps,r=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ae){if(r?ws(e):ks(),Ae){var l=pt,a;if(a=l){e:{for(a=l,l=Rr;a.nodeType!==8;){if(!l){l=null;break e}if(a=cr(a.nextSibling),a===null){l=null;break e}}l=a}l!==null?(e.memoizedState={dehydrated:l,treeContext:ea!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=io(18,null,null,0),a.stateNode=l,a.return=e,e.child=a,Cn=e,pt=null,a=!0):a=!1}a||pa(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Tk(l)?e.lanes=32:e.lanes=536870912,null;Ai(e)}return l=o.children,o=o.fallback,r?(ks(),r=e.mode,l=xg({mode:"hidden",children:l},r),o=Ql(o,r,n,null),l.return=e,o.return=e,l.sibling=o,e.child=l,r=e.child,r.memoizedState=P1(n),r.childLanes=j1(t,s,n),e.memoizedState=$1,o):(ws(e),pk(e,l))}if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null)){if(i)e.flags&256?(ws(e),e.flags&=-257,e=B1(t,e,n)):e.memoizedState!==null?(ks(),e.child=t.child,e.flags|=128,e=null):(ks(),r=o.fallback,l=e.mode,o=xg({mode:"visible",children:o.children},l),r=Ql(r,l,n,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,cu(e,t.child,null,n),o=e.child,o.memoizedState=P1(n),o.childLanes=j1(t,s,n),e.memoizedState=$1,e=r);else if(ws(e),Tk(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;s=c,o=Error(j(419)),o.stack="",o.digest=s,Ef({value:o,source:null,stack:null}),e=B1(t,e,n)}else if(Vt||Rh(t,e,n,!1),s=(n&t.childLanes)!==0,Vt||s){if(s=Qe,s!==null&&(o=n&-n,o=o&42?1:PC(o),o=o&(s.suspendedLanes|n)?0:o,o!==0&&o!==a.retryLane))throw a.retryLane=o,Du(t,o),fo(s,t,o),M5;l.data==="$?"||wk(),e=B1(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=a.treeContext,pt=cr(l.nextSibling),Cn=e,Ae=!0,ta=null,Rr=!1,t!==null&&(No[Oo++]=Ei,No[Oo++]=Ti,No[Oo++]=ea,Ei=t.id,Ti=t.overflow,ea=e),e=pk(e,o.children),e.flags|=4096);return e}return r?(ks(),r=o.fallback,l=e.mode,a=t.child,c=a.sibling,o=Di(a,{mode:"hidden",children:o.children}),o.subtreeFlags=a.subtreeFlags&65011712,c!==null?r=Di(c,r):(r=Ql(r,l,n,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,l=t.child.memoizedState,l===null?l=P1(n):(a=l.cachePool,a!==null?(c=Dt._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=P3(),l={baseLanes:l.baseLanes|n,cachePool:a}),r.memoizedState=l,r.childLanes=j1(t,s,n),e.memoizedState=$1,o):(ws(e),n=t.child,t=n.sibling,n=Di(n,{mode:"visible",children:o.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function pk(t,e){return e=xg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function xg(t,e){return t=io(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function B1(t,e,n){return cu(e,t.child,null,n),t=pk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QT(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),tk(t.return,e,n)}function z1(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function O5(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Jt(t,e,o.children,n),o=It.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QT(t,n,e);else if(t.tag===19)QT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(lt(It,o),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&vg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),z1(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&vg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}z1(e,!0,n,null,i);break;case"together":z1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tl|=e.lanes,!(n&e.childLanes))if(t!==null){if(Rh(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function h_(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&pg(t)))}function lH(t,e,n){switch(e.tag){case 3:sg(e,e.stateNode.containerInfo),vs(e,Dt,t.memoizedState.cache),Ah();break;case 27:case 5:Uw(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:vs(e,e.type,e.memoizedProps.value);break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(e),e.flags|=128,null):n&e.child.childLanes?N5(t,e,n):(ws(e),t=Gi(t,e,n),t!==null?t.sibling:null);ws(e);break;case 19:var r=(t.flags&128)!==0;if(o=(n&e.childLanes)!==0,o||(Rh(t,e,n,!1),o=(n&e.childLanes)!==0),r){if(o)return O5(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),lt(It,It.current),o)break;return null;case 22:case 23:return e.lanes=0,R5(t,e,n);case 24:vs(e,Dt,t.memoizedState.cache)}return Gi(t,e,n)}function L5(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Vt=!0;else{if(!h_(t,n)&&!(e.flags&128))return Vt=!1,lH(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Ae&&e.flags&1048576&&I3(e,hg,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var o=e.elementType,r=o._init;if(o=r(o._payload),e.type=o,typeof o=="function")KC(o)?(t=ba(o,t),e.tag=1,e=XT(null,e,o,t,n)):(e.tag=0,e=hk(null,e,o,t,n));else{if(o!=null){if(r=o.$$typeof,r===DC){e.tag=11,e=WT(null,e,o,t,n);break e}else if(r===IC){e.tag=14,e=KT(null,e,o,t,n);break e}}throw e=Hw(o)||o,Error(j(306,e,""))}}return e;case 0:return hk(t,e,e.type,e.pendingProps,n);case 1:return o=e.type,r=ba(o,e.pendingProps),XT(t,e,o,r,n);case 3:e:{if(sg(e,e.stateNode.containerInfo),t===null)throw Error(j(387));o=e.pendingProps;var i=e.memoizedState;r=i.element,ik(t,e),Jd(e,o,null,n);var s=e.memoizedState;if(o=s.cache,vs(e,Dt,o),o!==i.cache&&nk(e,[Dt],n,!0),Xd(),o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=JT(t,e,o,n);break e}else if(o!==r){r=Io(Error(j(424)),e),Ef(r),e=JT(t,e,o,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=cr(t.firstChild),Cn=e,Ae=!0,ta=null,Rr=!0,n=k5(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ah(),o===r){e=Gi(t,e,n);break e}Jt(t,e,o,n)}e=e.child}return e;case 26:return Nm(t,e),t===null?(n=gM(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ae||(n=e.type,t=e.pendingProps,o=Ag(zs.current).createElement(n),o[dn]=e,o[Wn]=t,nn(o,n,t),zt(o),e.stateNode=o):e.memoizedState=gM(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Uw(e),t===null&&Ae&&(o=e.stateNode=vL(e.type,e.pendingProps,zs.current),Cn=e,Rr=!0,r=pt,hl(e.type)?(Mk=r,pt=cr(o.firstChild)):pt=r),Jt(t,e,e.pendingProps.children,n),Nm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ae&&((r=o=pt)&&(o=IH(o,e.type,e.pendingProps,Rr),o!==null?(e.stateNode=o,Cn=e,pt=cr(o.firstChild),Rr=!1,r=!0):r=!1),r||pa(e)),Uw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Sk(r,i)?o=null:s!==null&&Sk(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=n_(t,e,Qz,null,null,n),Of._currentValue=r),Nm(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Ae&&((t=n=pt)&&(n=$H(n,e.pendingProps,Rr),n!==null?(e.stateNode=n,Cn=e,pt=null,t=!0):t=!1),t||pa(e)),null;case 13:return N5(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=cu(e,null,o,n):Jt(t,e,o,n),e.child;case 11:return WT(t,e,e.type,e.pendingProps,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:return o=e.pendingProps,vs(e,e.type,o.value),Jt(t,e,o.children,n),e.child;case 9:return r=e.type._context,o=e.pendingProps.children,ma(e),r=fn(r),o=o(r),e.flags|=1,Jt(t,e,o,n),e.child;case 14:return KT(t,e,e.type,e.pendingProps,n);case 15:return A5(t,e,e.type,e.pendingProps,n);case 19:return O5(t,e,n);case 31:return o=e.pendingProps,n=e.mode,o={mode:o.mode,children:o.children},t===null?(n=xg(o,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Di(t.child,o),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return R5(t,e,n);case 24:return ma(e),o=fn(Dt),t===null?(r=JC(),r===null&&(r=Qe,i=XC(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:o,cache:r},QC(e),vs(e,Dt,r)):(t.lanes&n&&(ik(t,e),Jd(e,null,null,n),Xd()),r=t.memoizedState,i=e.memoizedState,r.parent!==o?(r={parent:o,cache:o},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),vs(e,Dt,o)):(o=i.cache,vs(e,Dt,o),o!==r.cache&&nk(e,[Dt],n,!0))),Jt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(j(156,e.tag))}function ui(t){t.flags|=4}function eM(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!xL(e)){if(e=Go.current,e!==null&&((Ee&4194048)===Ee?Pr!==null:(Ee&62914560)!==Ee&&!(Ee&536870912)||e!==Pr))throw Zd=rk,j3;t.flags|=8192}}function Ip(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?i3():536870912,t.lanes|=e,uu|=e)}function vd(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&65011712,o|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function aH(t,e,n){var o=e.pendingProps;switch(YC(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return ct(e),null;case 3:return n=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),Ii(Dt),ou(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bd(e)?ui(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,RT())),ct(e),null;case 26:return n=e.memoizedState,t===null?(ui(e),n!==null?(ct(e),eM(e,n)):(ct(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ui(e),ct(e),eM(e,n)):(ct(e),e.flags&=-16777217):(t.memoizedProps!==o&&ui(e),ct(e),e.flags&=-16777217),null;case 27:lg(e),n=zs.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==o&&ui(e);else{if(!o){if(e.stateNode===null)throw Error(j(166));return ct(e),null}t=Ir.current,bd(e)?MT(e):(t=vL(r,o,n),e.stateNode=t,ui(e))}return ct(e),null;case 5:if(lg(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&ui(e);else{if(!o){if(e.stateNode===null)throw Error(j(166));return ct(e),null}if(t=Ir.current,bd(e))MT(e);else{switch(r=Ag(zs.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?r.createElement(n,{is:o.is}):r.createElement(n)}}t[dn]=e,t[Wn]=o;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(nn(t,n,o),n){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ui(e)}}return ct(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&ui(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(j(166));if(t=zs.current,bd(e)){if(t=e.stateNode,n=e.memoizedProps,o=null,r=Cn,r!==null)switch(r.tag){case 27:case 5:o=r.memoizedProps}t[dn]=e,t=!!(t.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||gL(t.nodeValue,n)),t||pa(e)}else t=Ag(t).createTextNode(o),t[dn]=e,e.stateNode=t}return ct(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=bd(e),o!==null&&o.dehydrated!==null){if(t===null){if(!r)throw Error(j(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[dn]=e}else Ah(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),r=!1}else r=RT(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ai(e),e):(Ai(e),null)}if(Ai(e),e.flags&128)return e.lanes=n,e;if(n=o!==null,t=t!==null&&t.memoizedState!==null,n){o=e.child,r=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(r=o.alternate.memoizedState.cachePool.pool);var i=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==r&&(o.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Ip(e,e.updateQueue),ct(e),null;case 4:return ou(),t===null&&k_(e.stateNode.containerInfo),ct(e),null;case 10:return Ii(e.type),ct(e),null;case 19:if(Ut(It),r=e.memoizedState,r===null)return ct(e),null;if(o=(e.flags&128)!==0,i=r.rendering,i===null)if(o)vd(r,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=vg(t),i!==null){for(e.flags|=128,vd(r,!1),t=i.updateQueue,e.updateQueue=t,Ip(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)D3(n,t),n=n.sibling;return lt(It,It.current&1|2),e.child}t=t.sibling}r.tail!==null&&$r()>_g&&(e.flags|=128,o=!0,vd(r,!1),e.lanes=4194304)}else{if(!o)if(t=vg(i),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,Ip(e,t),vd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Ae)return ct(e),null}else 2*$r()-r.renderingStartTime>_g&&n!==536870912&&(e.flags|=128,o=!0,vd(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=$r(),e.sibling=null,t=It.current,lt(It,o?t&1|2:t&1),e):(ct(e),null);case 22:case 23:return Ai(e),e_(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?n&536870912&&!(e.flags&128)&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),n=e.updateQueue,n!==null&&Ip(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==n&&(e.flags|=2048),t!==null&&Ut(na),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ii(Dt),ct(e),null;case 25:return null;case 30:return null}throw Error(j(156,e.tag))}function cH(t,e){switch(YC(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ii(Dt),ou(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return lg(e),null;case 13:if(Ai(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Ah()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ut(It),null;case 4:return ou(),null;case 10:return Ii(e.type),null;case 22:case 23:return Ai(e),e_(),t!==null&&Ut(na),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ii(Dt),null;case 25:return null;default:return null}}function D5(t,e){switch(YC(e),e.tag){case 3:Ii(Dt),ou();break;case 26:case 27:case 5:lg(e);break;case 4:ou();break;case 13:Ai(e);break;case 19:Ut(It);break;case 10:Ii(e.type);break;case 22:case 23:Ai(e),e_(),t!==null&&Ut(na);break;case 24:Ii(Dt)}}function Ih(t,e){try{var n=e.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var r=o.next;n=r;do{if((n.tag&t)===t){o=void 0;var i=n.create,s=n.inst;o=i(),s.destroy=o}n=n.next}while(n!==r)}}catch(l){Ue(e,e.return,l)}}function el(t,e,n){try{var o=e.updateQueue,r=o!==null?o.lastEffect:null;if(r!==null){var i=r.next;o=i;do{if((o.tag&t)===t){var s=o.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=e;var a=n,c=l;try{c()}catch(u){Ue(r,a,u)}}}o=o.next}while(o!==i)}}catch(u){Ue(e,e.return,u)}}function I5(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{H3(e,n)}catch(o){Ue(t,t.return,o)}}}function $5(t,e,n){n.props=ba(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(o){Ue(t,e,o)}}function ef(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof n=="function"?t.refCleanup=n(o):n.current=o}}catch(r){Ue(t,e,r)}}function Or(t,e){var n=t.ref,o=t.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(r){Ue(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function P5(t){var e=t.type,n=t.memoizedProps,o=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(r){Ue(t,t.return,r)}}function H1(t,e,n){try{var o=t.stateNode;RH(o,t.type,n,e),o[Wn]=e}catch(r){Ue(t,t.return,r)}}function j5(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hl(t.type)||t.tag===4}function V1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mk(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Py));else if(o!==4&&(o===27&&hl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(mk(t,e,n),t=t.sibling;t!==null;)mk(t,e,n),t=t.sibling}function Cg(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(o===27&&hl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Cg(t,e,n),t=t.sibling;t!==null;)Cg(t,e,n),t=t.sibling}function B5(t){var e=t.stateNode,n=t.memoizedProps;try{for(var o=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);nn(e,o,n),e[dn]=t,e[Wn]=n}catch(i){Ue(t,t.return,i)}}var xi=!1,wt=!1,U1=!1,tM=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function uH(t,e){if(t=t.containerInfo,Ck=Lg,t=E3(t),GC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(l=s+r),d!==i||o!==0&&d.nodeType!==3||(a=s+o),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===r&&(l=s),f===i&&++u===o&&(a=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_k={focusedElem:t,selectionRange:n},Lg=!1,Bt=e;Bt!==null;)if(e=Bt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Bt=t;else for(;Bt!==null;){switch(e=Bt,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var p=ba(n.type,r,n.elementType===n.type);t=o.getSnapshotBeforeUpdate(p,i),o.__reactInternalSnapshotBeforeUpdate=t}catch(m){Ue(n,n.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ek(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ek(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(j(163))}if(t=e.sibling,t!==null){t.return=e.return,Bt=t;break}Bt=e.return}}function z5(t,e,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:ls(t,n),o&4&&Ih(5,n);break;case 1:if(ls(t,n),o&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ue(n,n.return,s)}else{var r=ba(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ue(n,n.return,s)}}o&64&&I5(n),o&512&&ef(n,n.return);break;case 3:if(ls(t,n),o&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{H3(t,e)}catch(s){Ue(n,n.return,s)}}break;case 27:e===null&&o&4&&B5(n);case 26:case 5:ls(t,n),e===null&&o&4&&P5(n),o&512&&ef(n,n.return);break;case 12:ls(t,n);break;case 13:ls(t,n),o&4&&U5(t,n),o&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=vH.bind(null,n),PH(t,n))));break;case 22:if(o=n.memoizedState!==null||xi,!o){e=e!==null&&e.memoizedState!==null||wt,r=xi;var i=wt;xi=o,(wt=e)&&!i?us(t,n,(n.subtreeFlags&8772)!==0):ls(t,n),xi=r,wt=i}break;case 30:break;default:ls(t,n)}}function H5(t){var e=t.alternate;e!==null&&(t.alternate=null,H5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&BC(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,$n=!1;function di(t,e,n){for(n=n.child;n!==null;)V5(t,e,n),n=n.sibling}function V5(t,e,n){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 26:wt||Or(n,e),di(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Or(n,e);var o=rt,r=$n;hl(n.type)&&(rt=n.stateNode,$n=!1),di(t,e,n),rf(n.stateNode),rt=o,$n=r;break;case 5:wt||Or(n,e);case 6:if(o=rt,r=$n,rt=null,di(t,e,n),rt=o,$n=r,rt!==null)if($n)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(n.stateNode)}catch(i){Ue(n,e,i)}else try{rt.removeChild(n.stateNode)}catch(i){Ue(n,e,i)}break;case 18:rt!==null&&($n?(t=rt,hM(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),If(t)):hM(rt,n.stateNode));break;case 4:o=rt,r=$n,rt=n.stateNode.containerInfo,$n=!0,di(t,e,n),rt=o,$n=r;break;case 0:case 11:case 14:case 15:wt||el(2,n,e),wt||el(4,n,e),di(t,e,n);break;case 1:wt||(Or(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"&&$5(n,e,o)),di(t,e,n);break;case 21:di(t,e,n);break;case 22:wt=(o=wt)||n.memoizedState!==null,di(t,e,n),wt=o;break;default:di(t,e,n)}}function U5(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{If(t)}catch(n){Ue(e,e.return,n)}}function dH(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new tM),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new tM),e;default:throw Error(j(435,t.tag))}}function F1(t,e){var n=dH(t);e.forEach(function(o){var r=wH.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}function Jn(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o],i=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(hl(l.type)){rt=l.stateNode,$n=!1;break e}break;case 5:rt=l.stateNode,$n=!1;break e;case 3:case 4:rt=l.stateNode.containerInfo,$n=!0;break e}l=l.return}if(rt===null)throw Error(j(160));V5(i,s,r),rt=null,$n=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)F5(e,t),e=e.sibling}var tr=null;function F5(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Jn(e,t),Qn(t),o&4&&(el(3,t,t.return),Ih(3,t),el(5,t,t.return));break;case 1:Jn(e,t),Qn(t),o&512&&(wt||n===null||Or(n,n.return)),o&64&&xi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var r=tr;if(Jn(e,t),Qn(t),o&512&&(wt||n===null||Or(n,n.return)),o&4){var i=n!==null?n.memoizedState:null;if(o=t.memoizedState,n===null)if(o===null)if(t.stateNode===null){e:{o=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(o){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Th]||i[dn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(o),r.head.insertBefore(i,r.querySelector("head > title"))),nn(i,o,n),i[dn]=t,zt(i),o=i;break e;case"link":var s=yM("link","href",r).get(o+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(i=s[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}i=r.createElement(o),nn(i,o,n),r.head.appendChild(i);break;case"meta":if(s=yM("meta","content",r).get(o+(n.content||""))){for(l=0;l<s.length;l++)if(i=s[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}i=r.createElement(o),nn(i,o,n),r.head.appendChild(i);break;default:throw Error(j(468,o))}i[dn]=t,zt(i),o=i}t.stateNode=o}else vM(r,t.type,t.stateNode);else t.stateNode=bM(r,o,t.memoizedProps);else i!==o?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,o===null?vM(r,t.type,t.stateNode):bM(r,o,t.memoizedProps)):o===null&&t.stateNode!==null&&H1(t,t.memoizedProps,n.memoizedProps)}break;case 27:Jn(e,t),Qn(t),o&512&&(wt||n===null||Or(n,n.return)),n!==null&&o&4&&H1(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Jn(e,t),Qn(t),o&512&&(wt||n===null||Or(n,n.return)),t.flags&32){r=t.stateNode;try{iu(r,"")}catch(h){Ue(t,t.return,h)}}o&4&&t.stateNode!=null&&(r=t.memoizedProps,H1(t,r,n!==null?n.memoizedProps:r)),o&1024&&(U1=!0);break;case 6:if(Jn(e,t),Qn(t),o&4){if(t.stateNode===null)throw Error(j(162));o=t.memoizedProps,n=t.stateNode;try{n.nodeValue=o}catch(h){Ue(t,t.return,h)}}break;case 3:if(Dm=null,r=tr,tr=Rg(e.containerInfo),Jn(e,t),tr=r,Qn(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{If(e.containerInfo)}catch(h){Ue(t,t.return,h)}U1&&(U1=!1,G5(t));break;case 4:o=tr,tr=Rg(t.stateNode.containerInfo),Jn(e,t),Qn(t),tr=o;break;case 12:Jn(e,t),Qn(t);break;case 13:Jn(e,t),Qn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(y_=$r()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,F1(t,o)));break;case 22:r=t.memoizedState!==null;var a=n!==null&&n.memoizedState!==null,c=xi,u=wt;if(xi=c||r,wt=u||a,Jn(e,t),wt=u,xi=c,Qn(t),o&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||a||xi||wt||Il(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){a=n=e;try{if(i=a.stateNode,r)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=a.stateNode;var d=a.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(h){Ue(a,a.return,h)}}}else if(e.tag===6){if(n===null){a=e;try{a.stateNode.nodeValue=r?"":a.memoizedProps}catch(h){Ue(a,a.return,h)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,F1(t,n))));break;case 19:Jn(e,t),Qn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,F1(t,o)));break;case 30:break;case 21:break;default:Jn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{for(var n,o=t.return;o!==null;){if(j5(o)){n=o;break}o=o.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var r=n.stateNode,i=V1(t);Cg(t,i,r);break;case 5:var s=n.stateNode;n.flags&32&&(iu(s,""),n.flags&=-33);var l=V1(t);Cg(t,l,s);break;case 3:case 4:var a=n.stateNode.containerInfo,c=V1(t);mk(t,c,a);break;default:throw Error(j(161))}}catch(u){Ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G5(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;G5(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ls(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)z5(t,e.alternate,e),e=e.sibling}function Il(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:el(4,e,e.return),Il(e);break;case 1:Or(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&$5(e,e.return,n),Il(e);break;case 27:rf(e.stateNode);case 26:case 5:Or(e,e.return),Il(e);break;case 22:e.memoizedState===null&&Il(e);break;case 30:Il(e);break;default:Il(e)}t=t.sibling}}function us(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,r=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:us(r,i,n),Ih(4,i);break;case 1:if(us(r,i,n),o=i,r=o.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){Ue(o,o.return,c)}if(o=i,r=o.updateQueue,r!==null){var l=o.stateNode;try{var a=r.shared.hiddenCallbacks;if(a!==null)for(r.shared.hiddenCallbacks=null,r=0;r<a.length;r++)z3(a[r],l)}catch(c){Ue(o,o.return,c)}}n&&s&64&&I5(i),ef(i,i.return);break;case 27:B5(i);case 26:case 5:us(r,i,n),n&&o===null&&s&4&&P5(i),ef(i,i.return);break;case 12:us(r,i,n);break;case 13:us(r,i,n),n&&s&4&&U5(r,i);break;case 22:i.memoizedState===null&&us(r,i,n),ef(i,i.return);break;case 30:break;default:us(r,i,n)}e=e.sibling}}function p_(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Nh(n))}function m_(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Nh(t))}function Cr(t,e,n,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)q5(t,e,n,o),e=e.sibling}function q5(t,e,n,o){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Cr(t,e,n,o),r&2048&&Ih(9,e);break;case 1:Cr(t,e,n,o);break;case 3:Cr(t,e,n,o),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Nh(t)));break;case 12:if(r&2048){Cr(t,e,n,o),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,l=i.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(a){Ue(e,e.return,a)}}else Cr(t,e,n,o);break;case 13:Cr(t,e,n,o);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?Cr(t,e,n,o):tf(t,e):i._visibility&2?Cr(t,e,n,o):(i._visibility|=2,fc(t,e,n,o,(e.subtreeFlags&10256)!==0)),r&2048&&p_(s,e);break;case 24:Cr(t,e,n,o),r&2048&&m_(e.alternate,e);break;default:Cr(t,e,n,o)}}function fc(t,e,n,o,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,s=e,l=n,a=o,c=s.flags;switch(s.tag){case 0:case 11:case 15:fc(i,s,l,a,r),Ih(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?fc(i,s,l,a,r):tf(i,s):(u._visibility|=2,fc(i,s,l,a,r)),r&&c&2048&&p_(s.alternate,s);break;case 24:fc(i,s,l,a,r),r&&c&2048&&m_(s.alternate,s);break;default:fc(i,s,l,a,r)}e=e.sibling}}function tf(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,o=e,r=o.flags;switch(o.tag){case 22:tf(n,o),r&2048&&p_(o.alternate,o);break;case 24:tf(n,o),r&2048&&m_(o.alternate,o);break;default:tf(n,o)}e=e.sibling}}var Id=8192;function Za(t){if(t.subtreeFlags&Id)for(t=t.child;t!==null;)W5(t),t=t.sibling}function W5(t){switch(t.tag){case 26:Za(t),t.flags&Id&&t.memoizedState!==null&&YH(tr,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var e=tr;tr=Rg(t.stateNode.containerInfo),Za(t),tr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Id,Id=16777216,Za(t),Id=e):Za(t));break;default:Za(t)}}function K5(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var o=e[n];Bt=o,Y5(o,t)}K5(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z5(t),t=t.sibling}function Z5(t){switch(t.tag){case 0:case 11:case 15:wd(t),t.flags&2048&&el(9,t,t.return);break;case 3:wd(t);break;case 12:wd(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Om(t)):wd(t);break;default:wd(t)}}function Om(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var o=e[n];Bt=o,Y5(o,t)}K5(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:el(8,e,e.return),Om(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Om(e));break;default:Om(e)}t=t.sibling}}function Y5(t,e){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:el(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Nh(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,Bt=o;else e:for(n=t;Bt!==null;){o=Bt;var r=o.sibling,i=o.return;if(H5(o),o===n){Bt=null;break e}if(r!==null){r.return=i,Bt=r;break e}Bt=i}}}var fH={getCacheForType:function(t){var e=fn(Dt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},hH=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Qe=null,xe=null,Ee=0,De=0,ro=null,Os=!1,Iu=!1,g_=!1,qi=0,gt=0,tl=0,oa=0,b_=0,zo=0,uu=0,nf=null,Pn=null,gk=!1,y_=0,_g=1/0,Sg=null,Us=null,tn=0,Fs=null,du=null,Uc=0,bk=0,yk=null,X5=null,of=0,vk=null;function uo(){if(Ie&2&&Ee!==0)return Ee&-Ee;if(se.T!==null){var t=su;return t!==0?t:w_()}return a3()}function J5(){zo===0&&(zo=!(Ee&536870912)||Ae?r3():536870912);var t=Go.current;return t!==null&&(t.flags|=32),zo}function fo(t,e,n){(t===Qe&&(De===2||De===9)||t.cancelPendingCommit!==null)&&(fu(t,0),Ls(t,Ee,zo,!1)),Eh(t,n),(!(Ie&2)||t!==Qe)&&(t===Qe&&(!(Ie&2)&&(oa|=n),gt===4&&Ls(t,Ee,zo,!1)),Xr(t))}function Q5(t,e,n){if(Ie&6)throw Error(j(327));var o=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Sh(t,e),r=o?gH(t,e):G1(t,e,!0),i=o;do{if(r===0){Iu&&!o&&Ls(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!pH(n)){r=G1(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;r=nf;var a=l.current.memoizedState.isDehydrated;if(a&&(fu(l,s).flags|=256),s=G1(l,s,!1),s!==2){if(g_&&!a){l.errorRecoveryDisabledLanes|=i,oa|=i,r=4;break e}i=Pn,Pn=r,i!==null&&(Pn===null?Pn=i:Pn.push.apply(Pn,i))}r=s}if(i=!1,r!==2)continue}}if(r===1){fu(t,0),Ls(t,e,0,!0);break}e:{switch(o=t,i=r,i){case 0:case 1:throw Error(j(345));case 4:if((e&4194048)!==e)break;case 6:Ls(o,e,zo,!Os);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(j(329))}if((e&62914560)===e&&(r=y_+300-$r(),10<r)){if(Ls(o,e,zo,!Os),_y(o,0,!0)!==0)break e;o.timeoutHandle=yL(nM.bind(null,o,n,Pn,Sg,gk,e,zo,oa,uu,Os,i,2,-0,0),r);break e}nM(o,n,Pn,Sg,gk,e,zo,oa,uu,Os,i,0,-0,0)}}break}while(!0);Xr(t)}function nM(t,e,n,o,r,i,s,l,a,c,u,d,f,h){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Nf={stylesheets:null,count:0,unsuspend:ZH},W5(e),d=XH(),d!==null)){t.cancelPendingCommit=d(rM.bind(null,t,e,i,n,o,r,s,l,a,u,1,f,h)),Ls(t,i,s,!c);return}rM(t,e,i,n,o,r,s,l,a)}function pH(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!mo(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ls(t,e,n,o){e&=~b_,e&=~oa,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var r=e;0<r;){var i=31-co(r),s=1<<i;o[i]=-1,r&=~s}n!==0&&s3(t,n,e)}function Dy(){return Ie&6?!0:($h(0),!1)}function v_(){if(xe!==null){if(De===0)var t=xe.return;else t=xe,Mi=$a=null,i_(t),Vc=null,Mf=0,t=xe;for(;t!==null;)D5(t.alternate,t),t=t.return;xe=null}}function fu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,OH(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),v_(),Qe=t,xe=n=Di(t.current,null),Ee=e,De=0,ro=null,Os=!1,Iu=Sh(t,e),g_=!1,uu=zo=b_=oa=tl=gt=0,Pn=nf=null,gk=!1,e&8&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var r=31-co(o),i=1<<r;e|=t[r],o&=~i}return qi=e,My(),n}function eL(t,e){ge=null,se.H=yg,e===Oh||e===Ry?(e=DT(),De=3):e===j3?(e=DT(),De=4):De=e===M5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ro=e,xe===null&&(gt=1,kg(t,Io(e,t.current)))}function tL(){var t=se.H;return se.H=yg,t===null?yg:t}function nL(){var t=se.A;return se.A=fH,t}function wk(){gt=4,Os||(Ee&4194048)!==Ee&&Go.current!==null||(Iu=!0),!(tl&134217727)&&!(oa&134217727)||Qe===null||Ls(Qe,Ee,zo,!1)}function G1(t,e,n){var o=Ie;Ie|=2;var r=tL(),i=nL();(Qe!==t||Ee!==e)&&(Sg=null,fu(t,e)),e=!1;var s=gt;e:do try{if(De!==0&&xe!==null){var l=xe,a=ro;switch(De){case 8:v_(),s=6;break e;case 3:case 2:case 9:case 6:Go.current===null&&(e=!0);var c=De;if(De=0,ro=null,Nc(t,l,a,c),n&&Iu){s=0;break e}break;default:c=De,De=0,ro=null,Nc(t,l,a,c)}}mH(),s=gt;break}catch(u){eL(t,u)}while(!0);return e&&t.shellSuspendCounter++,Mi=$a=null,Ie=o,se.H=r,se.A=i,xe===null&&(Qe=null,Ee=0,My()),s}function mH(){for(;xe!==null;)oL(xe)}function gH(t,e){var n=Ie;Ie|=2;var o=tL(),r=nL();Qe!==t||Ee!==e?(Sg=null,_g=$r()+500,fu(t,e)):Iu=Sh(t,e);e:do try{if(De!==0&&xe!==null){e=xe;var i=ro;t:switch(De){case 1:De=0,ro=null,Nc(t,e,i,1);break;case 2:case 9:if(LT(i)){De=0,ro=null,oM(e);break}e=function(){De!==2&&De!==9||Qe!==t||(De=7),Xr(t)},i.then(e,e);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:LT(i)?(De=0,ro=null,oM(e)):(De=0,ro=null,Nc(t,e,i,7));break;case 5:var s=null;switch(xe.tag){case 26:s=xe.memoizedState;case 5:case 27:var l=xe;if(!s||xL(s)){De=0,ro=null;var a=l.sibling;if(a!==null)xe=a;else{var c=l.return;c!==null?(xe=c,Iy(c)):xe=null}break t}}De=0,ro=null,Nc(t,e,i,5);break;case 6:De=0,ro=null,Nc(t,e,i,6);break;case 8:v_(),gt=6;break e;default:throw Error(j(462))}}bH();break}catch(u){eL(t,u)}while(!0);return Mi=$a=null,se.H=o,se.A=r,Ie=n,xe!==null?0:(Qe=null,Ee=0,My(),gt)}function bH(){for(;xe!==null&&!B7();)oL(xe)}function oL(t){var e=L5(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?Iy(t):xe=e}function oM(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=YT(n,e,e.pendingProps,e.type,void 0,Ee);break;case 11:e=YT(n,e,e.pendingProps,e.type.render,e.ref,Ee);break;case 5:i_(e);default:D5(n,e),e=xe=D3(e,qi),e=L5(n,e,qi)}t.memoizedProps=t.pendingProps,e===null?Iy(t):xe=e}function Nc(t,e,n,o){Mi=$a=null,i_(e),Vc=null,Mf=0;var r=e.return;try{if(sH(t,r,e,n,Ee)){gt=1,kg(t,Io(n,t.current)),xe=null;return}}catch(i){if(r!==null)throw xe=r,i;gt=1,kg(t,Io(n,t.current)),xe=null;return}e.flags&32768?(Ae||o===1?t=!0:Iu||Ee&536870912?t=!1:(Os=t=!0,(o===2||o===9||o===3||o===6)&&(o=Go.current,o!==null&&o.tag===13&&(o.flags|=16384))),rL(e,t)):Iy(e)}function Iy(t){var e=t;do{if(e.flags&32768){rL(e,Os);return}t=e.return;var n=aH(e.alternate,e,qi);if(n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);gt===0&&(gt=5)}function rL(t,e){do{var n=cH(t.alternate,t);if(n!==null){n.flags&=32767,xe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){xe=t;return}xe=t=n}while(t!==null);gt=6,xe=null}function rM(t,e,n,o,r,i,s,l,a){t.cancelPendingCommit=null;do $y();while(tn!==0);if(Ie&6)throw Error(j(327));if(e!==null){if(e===t.current)throw Error(j(177));if(i=e.lanes|e.childLanes,i|=qC,Z7(t,n,i,s,l,a),t===Qe&&(xe=Qe=null,Ee=0),du=e,Fs=t,Uc=n,bk=i,yk=r,X5=o,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,kH(ag,function(){return cL(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,e.subtreeFlags&13878||o){o=se.T,se.T=null,r=Re.p,Re.p=2,s=Ie,Ie|=4;try{uH(t,e,n)}finally{Ie=s,Re.p=r,se.T=o}}tn=1,iL(),sL(),lL()}}function iL(){if(tn===1){tn=0;var t=Fs,e=du,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=se.T,se.T=null;var o=Re.p;Re.p=2;var r=Ie;Ie|=4;try{F5(e,t);var i=_k,s=E3(t.containerInfo),l=i.focusedElem,a=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&S3(l.ownerDocument.documentElement,l)){if(a!==null&&GC(l)){var c=a.start,u=a.end;if(u===void 0&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=l.textContent.length,m=Math.min(a.start,p),b=a.end===void 0?m:Math.min(a.end,p);!h.extend&&m>b&&(s=b,b=m,m=s);var y=ST(l,m),w=ST(l,b);if(y&&w&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==w.node||h.focusOffset!==w.offset)){var k=d.createRange();k.setStart(y.node,y.offset),h.removeAllRanges(),m>b?(h.addRange(k),h.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),h.addRange(k))}}}}for(d=[],h=l;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var x=d[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}Lg=!!Ck,_k=Ck=null}finally{Ie=r,Re.p=o,se.T=n}}t.current=e,tn=2}}function sL(){if(tn===2){tn=0;var t=Fs,e=du,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=se.T,se.T=null;var o=Re.p;Re.p=2;var r=Ie;Ie|=4;try{z5(t,e.alternate,e)}finally{Ie=r,Re.p=o,se.T=n}}tn=3}}function lL(){if(tn===4||tn===3){tn=0,z7();var t=Fs,e=du,n=Uc,o=X5;e.subtreeFlags&10256||e.flags&10256?tn=5:(tn=0,du=Fs=null,aL(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Us=null),jC(n),e=e.stateNode,ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(_h,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=se.T,r=Re.p,Re.p=2,se.T=null;try{for(var i=t.onRecoverableError,s=0;s<o.length;s++){var l=o[s];i(l.value,{componentStack:l.stack})}}finally{se.T=e,Re.p=r}}Uc&3&&$y(),Xr(t),r=t.pendingLanes,n&4194090&&r&42?t===vk?of++:(of=0,vk=t):of=0,$h(0)}}function aL(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Nh(e)))}function $y(t){return iL(),sL(),lL(),cL()}function cL(){if(tn!==5)return!1;var t=Fs,e=bk;bk=0;var n=jC(Uc),o=se.T,r=Re.p;try{Re.p=32>n?32:n,se.T=null,n=yk,yk=null;var i=Fs,s=Uc;if(tn=0,du=Fs=null,Uc=0,Ie&6)throw Error(j(331));var l=Ie;if(Ie|=4,Z5(i.current),q5(i,i.current,s,n),Ie=l,$h(0,!1),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(_h,i)}catch{}return!0}finally{Re.p=r,se.T=o,aL(t,e)}}function iM(t,e,n){e=Io(n,e),e=fk(t.stateNode,e,2),t=Vs(t,e,2),t!==null&&(Eh(t,2),Xr(t))}function Ue(t,e,n){if(t.tag===3)iM(t,t,n);else for(;e!==null;){if(e.tag===3){iM(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Us===null||!Us.has(o))){t=Io(n,t),n=E5(2),o=Vs(e,n,2),o!==null&&(T5(n,o,e,t),Eh(o,2),Xr(o));break}}e=e.return}}function q1(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new hH;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(g_=!0,r.add(n),t=yH.bind(null,t,e,n),e.then(t,t))}function yH(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Qe===t&&(Ee&n)===n&&(gt===4||gt===3&&(Ee&62914560)===Ee&&300>$r()-y_?!(Ie&2)&&fu(t,0):b_|=n,uu===Ee&&(uu=0)),Xr(t)}function uL(t,e){e===0&&(e=i3()),t=Du(t,e),t!==null&&(Eh(t,e),Xr(t))}function vH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uL(t,n)}function wH(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(j(314))}o!==null&&o.delete(e),uL(t,n)}function kH(t,e){return $C(t,e)}var Eg=null,hc=null,kk=!1,Tg=!1,W1=!1,ra=0;function Xr(t){t!==hc&&t.next===null&&(hc===null?Eg=hc=t:hc=hc.next=t),Tg=!0,kk||(kk=!0,CH())}function $h(t,e){if(!W1&&Tg){W1=!0;do for(var n=!1,o=Eg;o!==null;){if(t!==0){var r=o.pendingLanes;if(r===0)var i=0;else{var s=o.suspendedLanes,l=o.pingedLanes;i=(1<<31-co(42|t)+1)-1,i&=r&~(s&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,sM(o,i))}else i=Ee,i=_y(o,o===Qe?i:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),!(i&3)||Sh(o,i)||(n=!0,sM(o,i));o=o.next}while(n);W1=!1}}function xH(){dL()}function dL(){Tg=kk=!1;var t=0;ra!==0&&(NH()&&(t=ra),ra=0);for(var e=$r(),n=null,o=Eg;o!==null;){var r=o.next,i=fL(o,e);i===0?(o.next=null,n===null?Eg=r:n.next=r,r===null&&(hc=n)):(n=o,(t!==0||i&3)&&(Tg=!0)),o=r}$h(t)}function fL(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-co(i),l=1<<s,a=r[s];a===-1?(!(l&n)||l&o)&&(r[s]=K7(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}if(e=Qe,n=Ee,n=_y(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,n===0||t===e&&(De===2||De===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&v1(o),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Sh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(o!==null&&v1(o),jC(n)){case 2:case 8:n=n3;break;case 32:n=ag;break;case 268435456:n=o3;break;default:n=ag}return o=hL.bind(null,t),n=$C(n,o),t.callbackPriority=e,t.callbackNode=n,e}return o!==null&&o!==null&&v1(o),t.callbackPriority=2,t.callbackNode=null,2}function hL(t,e){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if($y()&&t.callbackNode!==n)return null;var o=Ee;return o=_y(t,t===Qe?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Q5(t,o,e),fL(t,$r()),t.callbackNode!=null&&t.callbackNode===n?hL.bind(null,t):null)}function sM(t,e){if($y())return null;Q5(t,e,!0)}function CH(){LH(function(){Ie&6?$C(t3,xH):dL()})}function w_(){return ra===0&&(ra=r3()),ra}function lM(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_m(""+t)}function aM(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function _H(t,e,n,o,r){if(e==="submit"&&n&&n.stateNode===r){var i=lM((r[Wn]||null).action),s=o.submitter;s&&(e=(e=s[Wn]||null)?lM(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var l=new Sy("action","action",null,o,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ra!==0){var a=s?aM(r,s):new FormData(r);uk(n,{pending:!0,data:a,method:r.method,action:i},null,a)}}else typeof i=="function"&&(l.preventDefault(),a=s?aM(r,s):new FormData(r),uk(n,{pending:!0,data:a,method:r.method,action:i},i,a))},currentTarget:r}]})}}for(var K1=0;K1<Jw.length;K1++){var Z1=Jw[K1],SH=Z1.toLowerCase(),EH=Z1[0].toUpperCase()+Z1.slice(1);yr(SH,"on"+EH)}yr(M3,"onAnimationEnd");yr(A3,"onAnimationIteration");yr(R3,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(Uz,"onTransitionRun");yr(Fz,"onTransitionStart");yr(Gz,"onTransitionCancel");yr(N3,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function pL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var l=o[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=c;try{i(r)}catch(u){wg(u)}r.currentTarget=null,i=a}else for(s=0;s<o.length;s++){if(l=o[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=c;try{i(r)}catch(u){wg(u)}r.currentTarget=null,i=a}}}}function ke(t,e){var n=e[Gw];n===void 0&&(n=e[Gw]=new Set);var o=t+"__bubble";n.has(o)||(mL(e,t,2,!1),n.add(o))}function Y1(t,e,n){var o=0;e&&(o|=4),mL(n,t,o,e)}var $p="_reactListening"+Math.random().toString(36).slice(2);function k_(t){if(!t[$p]){t[$p]=!0,c3.forEach(function(n){n!=="selectionchange"&&(TH.has(n)||Y1(n,!1,t),Y1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$p]||(e[$p]=!0,Y1("selectionchange",!1,e))}}function mL(t,e,n,o){switch(TL(e)){case 2:var r=eV;break;case 8:r=tV;break;default:r=S_}n=r.bind(null,e,n,t),r=void 0,!Zw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function X1(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var l=o.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=o.return;s!==null;){var a=s.tag;if((a===3||a===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=xc(l),s===null)return;if(a=s.tag,a===5||a===6||a===26||a===27){o=i=s;continue e}l=l.parentNode}}o=o.return}b3(function(){var c=i,u=HC(n),d=[];e:{var f=O3.get(t);if(f!==void 0){var h=Sy,p=t;switch(t){case"keypress":if(Em(n)===0)break e;case"keydown":case"keyup":h=kz;break;case"focusin":p="focus",h=T1;break;case"focusout":p="blur",h=T1;break;case"beforeblur":case"afterblur":h=T1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=mT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=cz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=_z;break;case M3:case A3:case R3:h=fz;break;case N3:h=Ez;break;case"scroll":case"scrollend":h=lz;break;case"wheel":h=Mz;break;case"copy":case"cut":case"paste":h=pz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=bT;break;case"toggle":case"beforetoggle":h=Rz}var m=(e&4)!==0,b=!m&&(t==="scroll"||t==="scrollend"),y=m?f!==null?f+"Capture":null:f;m=[];for(var w=c,k;w!==null;){var x=w;if(k=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||k===null||y===null||(x=Cf(w,y),x!=null&&m.push(Rf(w,x,k))),b)break;w=w.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Kw&&(p=n.relatedTarget||n.fromElement)&&(xc(p)||p[Ou]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?xc(p):null,p!==null&&(b=Ch(p),m=p.tag,p!==b||m!==5&&m!==27&&m!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=mT,x="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=bT,x="onPointerLeave",y="onPointerEnter",w="pointer"),b=h==null?f:Dd(h),k=p==null?f:Dd(p),f=new m(x,w+"leave",h,n,u),f.target=b,f.relatedTarget=k,x=null,xc(u)===c&&(m=new m(y,w+"enter",p,n,u),m.target=k,m.relatedTarget=b,x=m),b=x,h&&p)t:{for(m=h,y=p,w=0,k=m;k;k=Ya(k))w++;for(k=0,x=y;x;x=Ya(x))k++;for(;0<w-k;)m=Ya(m),w--;for(;0<k-w;)y=Ya(y),k--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ya(m),y=Ya(y)}m=null}else m=null;h!==null&&cM(d,f,h,m,!1),p!==null&&b!==null&&cM(d,b,p,m,!0)}}e:{if(f=c?Dd(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=kT;else if(wT(f))if(C3)C=zz;else{C=jz;var E=Pz}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&zC(c.elementType)&&(C=kT):C=Bz;if(C&&(C=C(t,c))){x3(d,C,n,u);break e}E&&E(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Ww(f,"number",f.value)}switch(E=c?Dd(c):window,t){case"focusin":(wT(E)||E.contentEditable==="true")&&(Sc=E,Yw=c,Wd=null);break;case"focusout":Wd=Yw=Sc=null;break;case"mousedown":Xw=!0;break;case"contextmenu":case"mouseup":case"dragend":Xw=!1,ET(d,n,u);break;case"selectionchange":if(Vz)break;case"keydown":case"keyup":ET(d,n,u)}var S;if(FC)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _c?w3(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(v3&&n.locale!=="ko"&&(_c||_!=="onCompositionStart"?_==="onCompositionEnd"&&_c&&(S=y3()):(Ns=u,VC="value"in Ns?Ns.value:Ns.textContent,_c=!0)),E=Mg(c,_),0<E.length&&(_=new gT(_,t,null,n,u),d.push({event:_,listeners:E}),S?_.data=S:(S=k3(n),S!==null&&(_.data=S)))),(S=Oz?Lz(t,n):Dz(t,n))&&(_=Mg(c,"onBeforeInput"),0<_.length&&(E=new gT("onBeforeInput","beforeinput",null,n,u),d.push({event:E,listeners:_}),E.data=S)),_H(d,t,c,n,u)}pL(d,e)})}function Rf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mg(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Cf(t,n),r!=null&&o.unshift(Rf(t,r,i)),r=Cf(t,e),r!=null&&o.push(Rf(t,r,i))),t.tag===3)return o;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cM(t,e,n,o,r){for(var i=e._reactName,s=[];n!==null&&n!==o;){var l=n,a=l.alternate,c=l.stateNode;if(l=l.tag,a!==null&&a===o)break;l!==5&&l!==26&&l!==27||c===null||(a=c,r?(c=Cf(n,i),c!=null&&s.unshift(Rf(n,c,a))):r||(c=Cf(n,i),c!=null&&s.push(Rf(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var MH=/\r\n?/g,AH=/\u0000|\uFFFD/g;function uM(t){return(typeof t=="string"?t:""+t).replace(MH,`
`).replace(AH,"")}function gL(t,e){return e=uM(e),uM(t)===e}function Py(){}function je(t,e,n,o,r,i){switch(n){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||iu(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&iu(t,""+o);break;case"className":Ap(t,"class",o);break;case"tabIndex":Ap(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ap(t,n,o);break;case"style":g3(t,o,i);break;case"data":if(e!=="object"){Ap(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(n);break}o=_m(""+o),t.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&je(t,e,"name",r.name,r,null),je(t,e,"formEncType",r.formEncType,r,null),je(t,e,"formMethod",r.formMethod,r,null),je(t,e,"formTarget",r.formTarget,r,null)):(je(t,e,"encType",r.encType,r,null),je(t,e,"method",r.method,r,null),je(t,e,"target",r.target,r,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(n);break}o=_m(""+o),t.setAttribute(n,o);break;case"onClick":o!=null&&(t.onclick=Py);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(j(61));if(n=o.__html,n!=null){if(r.children!=null)throw Error(j(60));t.innerHTML=n}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}n=_m(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,""+o):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":o===!0?t.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,o):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(n,o):t.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(n):t.setAttribute(n,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Cm(t,"popover",o);break;case"xlinkActuate":ci(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ci(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ci(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ci(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ci(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ci(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ci(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ci(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ci(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Cm(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=iz.get(n)||n,Cm(t,n,o))}}function xk(t,e,n,o,r,i){switch(n){case"style":g3(t,o,i);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(j(61));if(n=o.__html,n!=null){if(r.children!=null)throw Error(j(60));t.innerHTML=n}}break;case"children":typeof o=="string"?iu(t,o):(typeof o=="number"||typeof o=="bigint")&&iu(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Py);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u3.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[Wn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof o=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,o,r);break e}n in t?t[n]=o:o===!0?t.setAttribute(n,""):Cm(t,n,o)}}}function nn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":o=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,e));default:je(t,e,i,s,n,null)}}r&&je(t,e,"srcSet",n.srcSet,n,null),o&&je(t,e,"src",n.src,n,null);return;case"input":ke("invalid",t);var l=i=s=r=null,a=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var u=n[o];if(u!=null)switch(o){case"name":r=u;break;case"type":s=u;break;case"checked":a=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(j(137,e));break;default:je(t,e,o,u,n,null)}}h3(t,i,l,a,c,s,r,!1),cg(t);return;case"select":ke("invalid",t),o=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:je(t,e,r,l,n,null)}e=i,n=s,t.multiple=!!o,e!=null?Pc(t,!!o,e,!1):n!=null&&Pc(t,!!o,n,!0);return;case"textarea":ke("invalid",t),i=r=o=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":o=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(j(91));break;default:je(t,e,s,l,n,null)}m3(t,o,r,i),cg(t);return;case"option":for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:je(t,e,a,o,n,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Af.length;o++)ke(Af[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(o=n[c],o!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,e));default:je(t,e,c,o,n,null)}return;default:if(zC(e)){for(u in n)n.hasOwnProperty(u)&&(o=n[u],o!==void 0&&xk(t,e,u,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(o=n[l],o!=null&&je(t,e,l,o,n,null))}function RH(t,e,n,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,s=null,l=null,a=null,c=null,u=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":a=d;default:o.hasOwnProperty(h)||je(t,e,h,null,o,d)}}for(var f in o){var h=o[f];if(d=n[f],o.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":i=h;break;case"name":r=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(j(137,e));break;default:h!==d&&je(t,e,f,h,o,d)}}qw(t,s,l,a,c,u,i,r);return;case"select":h=s=l=f=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null)switch(i){case"value":break;case"multiple":h=a;default:o.hasOwnProperty(i)||je(t,e,i,null,o,a)}for(r in o)if(i=o[r],a=n[r],o.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==a&&je(t,e,r,i,o,a)}e=l,n=s,o=h,f!=null?Pc(t,!!n,f,!1):!!o!=!!n&&(e!=null?Pc(t,!!n,e,!0):Pc(t,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!o.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:je(t,e,l,null,o,r)}for(s in o)if(r=o[s],i=n[s],o.hasOwnProperty(s)&&(r!=null||i!=null))switch(s){case"value":f=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(j(91));break;default:r!==i&&je(t,e,s,r,o,i)}p3(t,f,h);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!o.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:je(t,e,p,null,o,f)}for(a in o)if(f=o[a],h=n[a],o.hasOwnProperty(a)&&f!==h&&(f!=null||h!=null))switch(a){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:je(t,e,a,f,o,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&f!=null&&!o.hasOwnProperty(m)&&je(t,e,m,null,o,f);for(c in o)if(f=o[c],h=n[c],o.hasOwnProperty(c)&&f!==h&&(f!=null||h!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,e));break;default:je(t,e,c,f,o,h)}return;default:if(zC(e)){for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!==void 0&&!o.hasOwnProperty(b)&&xk(t,e,b,void 0,o,f);for(u in o)f=o[u],h=n[u],!o.hasOwnProperty(u)||f===h||f===void 0&&h===void 0||xk(t,e,u,f,o,h);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!o.hasOwnProperty(y)&&je(t,e,y,null,o,f);for(d in o)f=o[d],h=n[d],!o.hasOwnProperty(d)||f===h||f==null&&h==null||je(t,e,d,f,o,h)}var Ck=null,_k=null;function Ag(t){return t.nodeType===9?t:t.ownerDocument}function dM(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bL(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Sk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var J1=null;function NH(){var t=window.event;return t&&t.type==="popstate"?t===J1?!1:(J1=t,!0):(J1=null,!1)}var yL=typeof setTimeout=="function"?setTimeout:void 0,OH=typeof clearTimeout=="function"?clearTimeout:void 0,fM=typeof Promise=="function"?Promise:void 0,LH=typeof queueMicrotask=="function"?queueMicrotask:typeof fM<"u"?function(t){return fM.resolve(null).then(t).catch(DH)}:yL;function DH(t){setTimeout(function(){throw t})}function hl(t){return t==="head"}function hM(t,e){var n=e,o=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<o&&8>o){n=o;var s=t.ownerDocument;if(n&1&&rf(s.documentElement),n&2&&rf(s.body),n&4)for(n=s.head,rf(n),s=n.firstChild;s;){var l=s.nextSibling,a=s.nodeName;s[Th]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(r===0){t.removeChild(i),If(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:o=n.charCodeAt(0)-48;else o=0;n=i}while(n);If(e)}function Ek(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ek(n),BC(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function IH(t,e,n,o){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Th])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=cr(t.nextSibling),t===null)break}return null}function $H(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=cr(t.nextSibling),t===null))return null;return t}function Tk(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function PH(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var o=function(){e(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Mk=null;function pM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function vL(t,e,n){switch(e=Ag(n),t){case"html":if(t=e.documentElement,!t)throw Error(j(452));return t;case"head":if(t=e.head,!t)throw Error(j(453));return t;case"body":if(t=e.body,!t)throw Error(j(454));return t;default:throw Error(j(451))}}function rf(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);BC(t)}var qo=new Map,mM=new Set;function Rg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=Re.d;Re.d={f:jH,r:BH,D:zH,C:HH,L:VH,m:UH,X:GH,S:FH,M:qH};function jH(){var t=Yi.f(),e=Dy();return t||e}function BH(t){var e=Lu(t);e!==null&&e.tag===5&&e.type==="form"?f5(e):Yi.r(t)}var $u=typeof document>"u"?null:document;function wL(t,e,n){var o=$u;if(o&&typeof e=="string"&&e){var r=Do(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),mM.has(r)||(mM.add(r),t={rel:t,crossOrigin:n,href:e},o.querySelector(r)===null&&(e=o.createElement("link"),nn(e,"link",t),zt(e),o.head.appendChild(e)))}}function zH(t){Yi.D(t),wL("dns-prefetch",t,null)}function HH(t,e){Yi.C(t,e),wL("preconnect",t,e)}function VH(t,e,n){Yi.L(t,e,n);var o=$u;if(o&&t&&e){var r='link[rel="preload"][as="'+Do(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Do(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Do(n.imageSizes)+'"]')):r+='[href="'+Do(t)+'"]';var i=r;switch(e){case"style":i=hu(t);break;case"script":i=Pu(t)}qo.has(i)||(t=ot({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),qo.set(i,t),o.querySelector(r)!==null||e==="style"&&o.querySelector(Ph(i))||e==="script"&&o.querySelector(jh(i))||(e=o.createElement("link"),nn(e,"link",t),zt(e),o.head.appendChild(e)))}}function UH(t,e){Yi.m(t,e);var n=$u;if(n&&t){var o=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Do(o)+'"][href="'+Do(t)+'"]',i=r;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pu(t)}if(!qo.has(i)&&(t=ot({rel:"modulepreload",href:t},e),qo.set(i,t),n.querySelector(r)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jh(i)))return}o=n.createElement("link"),nn(o,"link",t),zt(o),n.head.appendChild(o)}}}function FH(t,e,n){Yi.S(t,e,n);var o=$u;if(o&&t){var r=$c(o).hoistableStyles,i=hu(t);e=e||"default";var s=r.get(i);if(!s){var l={loading:0,preload:null};if(s=o.querySelector(Ph(i)))l.loading=5;else{t=ot({rel:"stylesheet",href:t,"data-precedence":e},n),(n=qo.get(i))&&x_(t,n);var a=s=o.createElement("link");zt(a),nn(a,"link",t),a._p=new Promise(function(c,u){a.onload=c,a.onerror=u}),a.addEventListener("load",function(){l.loading|=1}),a.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Lm(s,e,o)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(i,s)}}}function GH(t,e){Yi.X(t,e);var n=$u;if(n&&t){var o=$c(n).hoistableScripts,r=Pu(t),i=o.get(r);i||(i=n.querySelector(jh(r)),i||(t=ot({src:t,async:!0},e),(e=qo.get(r))&&C_(t,e),i=n.createElement("script"),zt(i),nn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}}function qH(t,e){Yi.M(t,e);var n=$u;if(n&&t){var o=$c(n).hoistableScripts,r=Pu(t),i=o.get(r);i||(i=n.querySelector(jh(r)),i||(t=ot({src:t,async:!0,type:"module"},e),(e=qo.get(r))&&C_(t,e),i=n.createElement("script"),zt(i),nn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}}function gM(t,e,n,o){var r=(r=zs.current)?Rg(r):null;if(!r)throw Error(j(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=hu(n.href),n=$c(r).hoistableStyles,o=n.get(e),o||(o={type:"style",instance:null,count:0,state:null},n.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=hu(n.href);var i=$c(r).hoistableStyles,s=i.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=r.querySelector(Ph(t)))&&!i._p&&(s.instance=i,s.state.loading=5),qo.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qo.set(t,n),i||WH(r,t,n,s.state))),e&&o===null)throw Error(j(528,""));return s}if(e&&o!==null)throw Error(j(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Pu(n),n=$c(r).hoistableScripts,o=n.get(e),o||(o={type:"script",instance:null,count:0,state:null},n.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,t))}}function hu(t){return'href="'+Do(t)+'"'}function Ph(t){return'link[rel="stylesheet"]['+t+"]"}function kL(t){return ot({},t,{"data-precedence":t.precedence,precedence:null})}function WH(t,e,n,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),nn(e,"link",n),zt(e),t.head.appendChild(e))}function Pu(t){return'[src="'+Do(t)+'"]'}function jh(t){return"script[async]"+t}function bM(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+Do(n.href)+'"]');if(o)return e.instance=o,zt(o),o;var r=ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zt(o),nn(o,"style",r),Lm(o,n.precedence,t),e.instance=o;case"stylesheet":r=hu(n.href);var i=t.querySelector(Ph(r));if(i)return e.state.loading|=4,e.instance=i,zt(i),i;o=kL(n),(r=qo.get(r))&&x_(o,r),i=(t.ownerDocument||t).createElement("link"),zt(i);var s=i;return s._p=new Promise(function(l,a){s.onload=l,s.onerror=a}),nn(i,"link",o),e.state.loading|=4,Lm(i,n.precedence,t),e.instance=i;case"script":return i=Pu(n.src),(r=t.querySelector(jh(i)))?(e.instance=r,zt(r),r):(o=n,(r=qo.get(i))&&(o=ot({},n),C_(o,r)),t=t.ownerDocument||t,r=t.createElement("script"),zt(r),nn(r,"link",o),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(j(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(o=e.instance,e.state.loading|=4,Lm(o,n.precedence,t));return e.instance}function Lm(t,e,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=o.length?o[o.length-1]:null,i=r,s=0;s<o.length;s++){var l=o[s];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function x_(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function C_(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Dm=null;function yM(t,e,n){if(Dm===null){var o=new Map,r=Dm=new Map;r.set(n,o)}else r=Dm,o=r.get(n),o||(o=new Map,r.set(n,o));if(o.has(t))return o;for(o.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Th]||i[dn]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var l=o.get(s);l?l.push(i):o.set(s,[i])}}return o}function vM(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function KH(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function xL(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Nf=null;function ZH(){}function YH(t,e,n){if(Nf===null)throw Error(j(475));var o=Nf;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=hu(n.href),i=t.querySelector(Ph(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Ng.bind(o),t.then(o,o)),e.state.loading|=4,e.instance=i,zt(i);return}i=t.ownerDocument||t,n=kL(n),(r=qo.get(r))&&x_(n,r),i=i.createElement("link"),zt(i);var s=i;s._p=new Promise(function(l,a){s.onload=l,s.onerror=a}),nn(i,"link",n),e.instance=i}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(o.count++,e=Ng.bind(o),t.addEventListener("load",e),t.addEventListener("error",e))}}function XH(){if(Nf===null)throw Error(j(475));var t=Nf;return t.stylesheets&&t.count===0&&Ak(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Ak(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ng(){if(this.count--,this.count===0){if(this.stylesheets)Ak(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Og=null;function Ak(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Og=new Map,e.forEach(JH,t),Og=null,Ng.call(t))}function JH(t,e){if(!(e.state.loading&4)){var n=Og.get(t);if(n)var o=n.get(null);else{n=new Map,Og.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var s=r[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),o=s)}o&&n.set(null,o)}r=e.instance,s=r.getAttribute("data-precedence"),i=n.get(s)||o,i===o&&n.set(null,r),n.set(s,r),this.count++,o=Ng.bind(this),r.addEventListener("load",o),r.addEventListener("error",o),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Of={$$typeof:Si,Provider:null,Consumer:null,_currentValue:Jl,_currentValue2:Jl,_threadCount:0};function QH(t,e,n,o,r,i,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w1(0),this.hiddenUpdates=w1(null),this.identifierPrefix=o,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function CL(t,e,n,o,r,i,s,l,a,c,u,d){return t=new QH(t,e,n,s,l,a,c,d),e=1,i===!0&&(e|=24),i=io(3,null,null,e),t.current=i,i.stateNode=t,e=XC(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:e},QC(i),t}function _L(t){return t?(t=Mc,t):Mc}function SL(t,e,n,o,r,i){r=_L(r),o.context===null?o.context=r:o.pendingContext=r,o=Hs(e),o.payload={element:n},i=i===void 0?null:i,i!==null&&(o.callback=i),n=Vs(t,o,e),n!==null&&(fo(n,t,e),Yd(n,t,e))}function wM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function __(t,e){wM(t,e),(t=t.alternate)&&wM(t,e)}function EL(t){if(t.tag===13){var e=Du(t,67108864);e!==null&&fo(e,t,67108864),__(t,67108864)}}var Lg=!0;function eV(t,e,n,o){var r=se.T;se.T=null;var i=Re.p;try{Re.p=2,S_(t,e,n,o)}finally{Re.p=i,se.T=r}}function tV(t,e,n,o){var r=se.T;se.T=null;var i=Re.p;try{Re.p=8,S_(t,e,n,o)}finally{Re.p=i,se.T=r}}function S_(t,e,n,o){if(Lg){var r=Rk(o);if(r===null)X1(t,e,o,Dg,n),kM(t,o);else if(oV(r,t,e,n,o))o.stopPropagation();else if(kM(t,o),e&4&&-1<nV.indexOf(t)){for(;r!==null;){var i=Lu(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Ll(i.pendingLanes);if(s!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var a=1<<31-co(s);l.entanglements[1]|=a,s&=~a}Xr(i),!(Ie&6)&&(_g=$r()+500,$h(0))}}break;case 13:l=Du(i,2),l!==null&&fo(l,i,2),Dy(),__(i,2)}if(i=Rk(o),i===null&&X1(t,e,o,Dg,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else X1(t,e,o,null,n)}}function Rk(t){return t=HC(t),E_(t)}var Dg=null;function E_(t){if(Dg=null,t=xc(t),t!==null){var e=Ch(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=XO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Dg=t,null}function TL(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(H7()){case t3:return 2;case n3:return 8;case ag:case V7:return 32;case o3:return 268435456;default:return 32}default:return 32}}var Nk=!1,Gs=null,qs=null,Ws=null,Lf=new Map,Df=new Map,xs=[],nV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kM(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Lf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(e.pointerId)}}function kd(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Lu(e),e!==null&&EL(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function oV(t,e,n,o,r){switch(e){case"focusin":return Gs=kd(Gs,t,e,n,o,r),!0;case"dragenter":return qs=kd(qs,t,e,n,o,r),!0;case"mouseover":return Ws=kd(Ws,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return Lf.set(i,kd(Lf.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Df.set(i,kd(Df.get(i)||null,t,e,n,o,r)),!0}return!1}function ML(t){var e=xc(t.target);if(e!==null){var n=Ch(e);if(n!==null){if(e=n.tag,e===13){if(e=XO(n),e!==null){t.blockedOn=e,Y7(t.priority,function(){if(n.tag===13){var o=uo();o=PC(o);var r=Du(n,o);r!==null&&fo(r,n,o),__(n,o)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Im(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rk(t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);Kw=o,n.target.dispatchEvent(o),Kw=null}else return e=Lu(n),e!==null&&EL(e),t.blockedOn=n,!1;e.shift()}return!0}function xM(t,e,n){Im(t)&&n.delete(e)}function rV(){Nk=!1,Gs!==null&&Im(Gs)&&(Gs=null),qs!==null&&Im(qs)&&(qs=null),Ws!==null&&Im(Ws)&&(Ws=null),Lf.forEach(xM),Df.forEach(xM)}function Pp(t,e){t.blockedOn===e&&(t.blockedOn=null,Nk||(Nk=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,rV)))}var jp=null;function CM(t){jp!==t&&(jp=t,$t.unstable_scheduleCallback($t.unstable_NormalPriority,function(){jp===t&&(jp=null);for(var e=0;e<t.length;e+=3){var n=t[e],o=t[e+1],r=t[e+2];if(typeof o!="function"){if(E_(o||n)===null)continue;break}var i=Lu(n);i!==null&&(t.splice(e,3),e-=3,uk(i,{pending:!0,data:r,method:n.method,action:o},o,r))}}))}function If(t){function e(a){return Pp(a,t)}Gs!==null&&Pp(Gs,t),qs!==null&&Pp(qs,t),Ws!==null&&Pp(Ws,t),Lf.forEach(e),Df.forEach(e);for(var n=0;n<xs.length;n++){var o=xs[n];o.blockedOn===t&&(o.blockedOn=null)}for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)ML(n),n.blockedOn===null&&xs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var r=n[o],i=n[o+1],s=r[Wn]||null;if(typeof i=="function")s||CM(n);else if(s){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,s=i[Wn]||null)l=s.formAction;else if(E_(r)!==null)continue}else l=s.action;typeof l=="function"?n[o+1]=l:(n.splice(o,3),o-=3),CM(n)}}}function T_(t){this._internalRoot=t}jy.prototype.render=T_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));var n=e.current,o=uo();SL(n,o,t,e,null,null)};jy.prototype.unmount=T_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;SL(t.current,2,null,t,null,null),Dy(),e[Ou]=null}};function jy(t){this._internalRoot=t}jy.prototype.unstable_scheduleHydration=function(t){if(t){var e=a3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&ML(t)}};var _M=ZO.version;if(_M!=="19.1.1")throw Error(j(527,_M,"19.1.1"));Re.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=D7(e),t=t!==null?JO(t):null,t=t===null?null:t.stateNode,t};var iV={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{_h=Bp.inject(iV),ao=Bp}catch{}}xy.createRoot=function(t,e){if(!YO(t))throw Error(j(299));var n=!1,o="",r=C5,i=_5,s=S5,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=CL(t,1,!1,null,null,n,o,r,i,s,l,null),t[Ou]=e.current,k_(t),new T_(e)};xy.hydrateRoot=function(t,e,n){if(!YO(t))throw Error(j(299));var o=!1,r="",i=C5,s=_5,l=S5,a=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(a=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=CL(t,1,!0,e,n??null,o,r,i,s,l,a,c),e.context=_L(null),n=e.current,o=uo(),o=PC(o),r=Hs(o),r.callback=null,Vs(n,r,o),n=o,e.current.lanes=n,Eh(e,n),Xr(e),t[Ou]=e.current,k_(t),new jy(e)};xy.version="19.1.1";function AL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AL)}catch(t){console.error(t)}}AL(),UO.exports=xy;var RL=UO.exports,Nr=function(){return Nr=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nr.apply(this,arguments)};function NL(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function sV(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}var $m="right-scroll-bar-position",Pm="width-before-scroll-bar",lV="with-scroll-bars-hidden",aV="--removed-body-scroll-bar-size";function Q1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cV(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=e,n.facade}var uV=typeof window<"u"?v.useLayoutEffect:v.useEffect,SM=new WeakMap;function dV(t,e){var n=cV(null,function(o){return t.forEach(function(r){return Q1(r,o)})});return uV(function(){var o=SM.get(n);if(o){var r=new Set(o),i=new Set(t),s=n.current;r.forEach(function(l){i.has(l)||Q1(l,null)}),i.forEach(function(l){r.has(l)||Q1(l,s)})}SM.set(n,t)},[t]),n}function fV(t){return t}function hV(t,e){e===void 0&&(e=fV);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var s=e(i,o);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(o=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){o=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(i),s=n}var a=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(a)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return r}function pV(t){t===void 0&&(t={});var e=hV(null);return e.options=Nr({async:!0,ssr:!1},t),e}var OL=function(t){var e=t.sideCar,n=NL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,Nr({},n))};OL.isSideCarExport=!0;function mV(t,e){return t.useMedium(e),OL}var LL=pV(),ev=function(){},By=v.forwardRef(function(t,e){var n=v.useRef(null),o=v.useState({onScrollCapture:ev,onWheelCapture:ev,onTouchMoveCapture:ev}),r=o[0],i=o[1],s=t.forwardProps,l=t.children,a=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,p=t.noIsolation,m=t.inert,b=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,k=t.gapMode,x=NL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=dV([n,e]),S=Nr(Nr({},x),r);return v.createElement(v.Fragment,null,u&&v.createElement(C,{sideCar:LL,removeScrollBar:c,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:k}),s?v.cloneElement(v.Children.only(l),Nr(Nr({},S),{ref:E})):v.createElement(w,Nr({},S,{className:a,ref:E}),l))});By.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};By.classNames={fullWidth:Pm,zeroRight:$m};var gV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=gV();return e&&t.setAttribute("nonce",e),t}function yV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function vV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bV())&&(yV(e,n),vV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},kV=function(){var t=wV();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DL=function(){var t=kV(),e=function(n){var o=n.styles,r=n.dynamic;return t(o,r),null};return e},xV={left:0,top:0,right:0,gap:0},tv=function(t){return parseInt(t||"",10)||0},CV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[tv(n),tv(o),tv(r)]},_V=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xV;var e=CV(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},SV=DL(),Fc="data-scroll-locked",EV=function(t,e,n,o){var r=t.left,i=t.top,s=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lV,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Fc,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($m,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(Pm,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat($m," .").concat($m,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Pm," .").concat(Pm,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Fc,`] {
    `).concat(aV,": ").concat(l,`px;
  }
`)},EM=function(){var t=parseInt(document.body.getAttribute(Fc)||"0",10);return isFinite(t)?t:0},TV=function(){v.useEffect(function(){return document.body.setAttribute(Fc,(EM()+1).toString()),function(){var t=EM()-1;t<=0?document.body.removeAttribute(Fc):document.body.setAttribute(Fc,t.toString())}},[])},MV=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,r=o===void 0?"margin":o;TV();var i=v.useMemo(function(){return _V(r)},[r]);return v.createElement(SV,{styles:EV(i,!e,r,n?"":"!important")})},Ok=!1;if(typeof window<"u")try{var zp=Object.defineProperty({},"passive",{get:function(){return Ok=!0,!0}});window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{Ok=!1}var Xa=Ok?{passive:!1}:!1,AV=function(t){return t.tagName==="TEXTAREA"},IL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!AV(t)&&n[e]==="visible")},RV=function(t){return IL(t,"overflowY")},NV=function(t){return IL(t,"overflowX")},TM=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=$L(t,o);if(r){var i=PL(t,o),s=i[1],l=i[2];if(s>l)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},OV=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},LV=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},$L=function(t,e){return t==="v"?RV(e):NV(e)},PL=function(t,e){return t==="v"?OV(e):LV(e)},DV=function(t,e){return t==="h"&&e==="rtl"?-1:1},IV=function(t,e,n,o,r){var i=DV(t,window.getComputedStyle(e).direction),s=i*o,l=n.target,a=e.contains(l),c=!1,u=s>0,d=0,f=0;do{if(!l)break;var h=PL(t,l),p=h[0],m=h[1],b=h[2],y=m-b-i*p;(p||y)&&$L(t,l)&&(d+=y,f+=p);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Hp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MM=function(t){return[t.deltaX,t.deltaY]},AM=function(t){return t&&"current"in t?t.current:t},$V=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},jV=0,Ja=[];function BV(t){var e=v.useRef([]),n=v.useRef([0,0]),o=v.useRef(),r=v.useState(jV++)[0],i=v.useState(DL)[0],s=v.useRef(t);v.useEffect(function(){s.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var m=sV([t.lockRef.current],(t.shards||[]).map(AM),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=Hp(m),w=n.current,k="deltaX"in m?m.deltaX:w[0]-y[0],x="deltaY"in m?m.deltaY:w[1]-y[1],C,E=m.target,S=Math.abs(k)>Math.abs(x)?"h":"v";if("touches"in m&&S==="h"&&E.type==="range")return!1;var _=TM(S,E);if(!_)return!0;if(_?C=S:(C=S==="v"?"h":"v",_=TM(S,E)),!_)return!1;if(!o.current&&"changedTouches"in m&&(k||x)&&(o.current=C),!C)return!0;var T=o.current||C;return IV(T,b,m,T==="h"?k:x)},[]),a=v.useCallback(function(m){var b=m;if(!(!Ja.length||Ja[Ja.length-1]!==i)){var y="deltaY"in b?MM(b):Hp(b),w=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&$V(C.delta,y)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var k=(s.current.shards||[]).map(AM).filter(Boolean).filter(function(C){return C.contains(b.target)}),x=k.length>0?l(b,k[0]):!s.current.noIsolation;x&&b.cancelable&&b.preventDefault()}}},[]),c=v.useCallback(function(m,b,y,w){var k={name:m,delta:b,target:y,should:w,shadowParent:zV(y)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(x){return x!==k})},1)},[]),u=v.useCallback(function(m){n.current=Hp(m),o.current=void 0},[]),d=v.useCallback(function(m){c(m.type,MM(m),m.target,l(m,t.lockRef.current))},[]),f=v.useCallback(function(m){c(m.type,Hp(m),m.target,l(m,t.lockRef.current))},[]);v.useEffect(function(){return Ja.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",a,Xa),document.addEventListener("touchmove",a,Xa),document.addEventListener("touchstart",u,Xa),function(){Ja=Ja.filter(function(m){return m!==i}),document.removeEventListener("wheel",a,Xa),document.removeEventListener("touchmove",a,Xa),document.removeEventListener("touchstart",u,Xa)}},[]);var h=t.removeScrollBar,p=t.inert;return v.createElement(v.Fragment,null,p?v.createElement(i,{styles:PV(r)}):null,h?v.createElement(MV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const HV=mV(LL,BV);var jL=v.forwardRef(function(t,e){return v.createElement(By,Nr({},t,{ref:e,sideCar:HV}))});jL.classNames=By.classNames;function jr(t){return Object.keys(t)}function nv(t){return t&&typeof t=="object"&&!Array.isArray(t)}function M_(t,e){const n={...t},o=e;return nv(t)&&nv(e)&&Object.keys(e).forEach(r=>{nv(o[r])&&r in t?n[r]=M_(n[r],o[r]):n[r]=o[r]}),n}function VV(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function UV(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function FV(t){const e=UV(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function RM(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function BL(t,{shouldScale:e=!1}={}){function n(o){if(o===0||o==="0")return`0${t}`;if(typeof o=="number"){const r=`${o/16}${t}`;return e?RM(r):r}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(i=>n(i)).join(",");if(o.includes(" "))return o.split(" ").map(i=>n(i)).join(" ");const r=o.replace("px","");if(!Number.isNaN(Number(r))){const i=`${Number(r)/16}${t}`;return e?RM(i):i}}return o}return n}const V=BL("rem",{shouldScale:!0}),NM=BL("em");function A_(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function zL(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(o=>e.test(o))}return!1}function zy(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==v.Fragment:!1}function ju(t){const e=v.createContext(null);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>{const r=v.useContext(e);if(r===null)throw new Error(t);return r}]}function HL(t=null){const e=v.createContext(t);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>v.useContext(e)]}function Ig(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function GV(t,e,n){for(let o=t-1;o>=0;o-=1)if(!e[o].disabled)return o;if(n){for(let o=e.length-1;o>-1;o-=1)if(!e[o].disabled)return o}return t}function qV(t,e,n){for(let o=t+1;o<e.length;o+=1)if(!e[o].disabled)return o;if(n){for(let o=0;o<e.length;o+=1)if(!e[o].disabled)return o}return t}function WV(t,e,n){return Ig(t,n)===Ig(e,n)}function VL({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:o=!0,activateOnFocus:r=!1,dir:i="rtl",orientation:s}){return l=>{var f;n==null||n(l);const a=Array.from(((f=Ig(l.currentTarget,t))==null?void 0:f.querySelectorAll(e))||[]).filter(h=>WV(l.currentTarget,h,t)),c=a.findIndex(h=>l.currentTarget===h),u=qV(c,a,o),d=GV(c,a,o);switch(l.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{l.stopPropagation(),l.preventDefault(),a[d].focus(),r&&a[d].click();break}case"ArrowDown":{l.stopPropagation(),l.preventDefault(),a[u].focus(),r&&a[u].click();break}case"Home":{l.stopPropagation(),l.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const h=a.length-1;!a[h].disabled&&a[h].focus();break}}}}const KV={app:100,modal:200,popover:300,overlay:400,max:9999};function Pa(t){return KV[t]}const ZV=()=>{};function YV(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||ZV:n=>{var o;n.key==="Escape"&&(t(n),(o=e.onTrigger)==null||o.call(e))}}function dr(t,e="size",n=!0){if(t!==void 0)return zL(t)?n?V(t):t:`var(--${e}-${t})`}function R_(t){return dr(t,"mantine-spacing")}function ja(t){return t===void 0?"var(--mantine-radius-default)":dr(t,"mantine-radius")}function $g(t){return dr(t,"mantine-font-size")}function N_(t){if(t)return dr(t,"mantine-shadow",!1)}function Hn(t,e){return n=>{t==null||t(n),e==null||e(n)}}function XV(t,e,n){var o;return n?Array.from(((o=Ig(n,e))==null?void 0:o.querySelectorAll(t))||[]).findIndex(r=>r===n):null}function JV(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function $l(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var o;return(o=e.current)==null?void 0:o.call(e,...n)},[])}function Hy(t,e){const{delay:n,flushOnUnmount:o,leading:r}=typeof e=="number"?{delay:e,flushOnUnmount:!1,leading:!1}:e,i=$l(t),s=v.useRef(0),l=v.useMemo(()=>{const a=Object.assign((...c)=>{window.clearTimeout(s.current);const u=a._isFirstCall;a._isFirstCall=!1;function d(){window.clearTimeout(s.current),s.current=0,a._isFirstCall=!0}if(r&&u){i(...c);const p=()=>{d()},m=()=>{s.current!==0&&(d(),i(...c))},b=()=>{d()};a.flush=m,a.cancel=b,s.current=window.setTimeout(p,n);return}if(r&&!u){const p=()=>{s.current!==0&&(d(),i(...c))},m=()=>{d()};a.flush=p,a.cancel=m;const b=()=>{d()};s.current=window.setTimeout(b,n);return}const f=()=>{s.current!==0&&(d(),i(...c))},h=()=>{d()};a.flush=f,a.cancel=h,s.current=window.setTimeout(f,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return a},[i,n,r]);return v.useEffect(()=>()=>{o?l.flush():l.cancel()},[l,o]),l}const QV=["mousedown","touchstart"];function eU(t,e,n){const o=v.useRef(null),r=e||QV;return v.useEffect(()=>{const i=s=>{const{target:l}=s??{};if(Array.isArray(n)){const a=!document.body.contains(l)&&l.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&t()}else o.current&&!o.current.contains(l)&&t()};return r.forEach(s=>document.addEventListener(s,i)),()=>{r.forEach(s=>document.removeEventListener(s,i))}},[o,t,n]),o}function tU(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function nU(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function oU(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,r]=v.useState(n?e:nU(t)),i=v.useRef(null);return v.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(t),r(i.current.matches),tU(i.current,s=>r(s.matches))},[t]),o||!1}const Bh=typeof document<"u"?v.useLayoutEffect:v.useEffect;function sf(t,e){const n=v.useRef(!1);v.useEffect(()=>()=>{n.current=!1},[]),v.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function UL({opened:t,shouldReturnFocus:e=!0}){const n=v.useRef(null),o=()=>{var r;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((r=n.current)==null||r.focus({preventScroll:!0}))};return sf(()=>{let r=-1;const i=s=>{s.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",i),t?n.current=document.activeElement:e&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",i)}},[t,e]),o}const rU=/input|select|textarea|button|object/,FL="a, input, select, textarea, button, object, [tabindex]";function iU(t){return t.style.display==="none"}function sU(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(iU(n))return!1;n=n.parentNode}return!0}function GL(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function Lk(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(GL(t));return(rU.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&sU(t)}function qL(t){const e=GL(t);return(Number.isNaN(e)||e>=0)&&Lk(t)}function lU(t){return Array.from(t.querySelectorAll(FL)).filter(qL)}function aU(t,e){const n=lU(t);if(!n.length){e.preventDefault();return}const o=n[e.shiftKey?0:n.length-1],r=t.getRootNode();let i=o===r.activeElement||t===r.activeElement;const s=r.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(i=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===s.getAttribute("name")).includes(o)),!i)return;e.preventDefault();const a=n[e.shiftKey?n.length-1:0];a&&a.focus()}function cU(t=!0){const e=v.useRef(null),n=r=>{let i=r.querySelector("[data-autofocus]");if(!i){const s=Array.from(r.querySelectorAll(FL));i=s.find(qL)||s.find(Lk)||null,!i&&Lk(r)&&(i=r)}i&&i.focus({preventScroll:!0})},o=v.useCallback(r=>{t&&r!==null&&e.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&n(r)}),e.current=r):e.current=null)},[t]);return v.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const r=i=>{i.key==="Tab"&&e.current&&aU(e.current,i)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),o}const uU=ee.useId||(()=>{});function dU(){const t=uU();return t?`mantine-${t.replace(/:/g,"")}`:""}function O_(t){const e=dU(),[n,o]=v.useState(e);return Bh(()=>{o(JV())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function fU(t,e,n){v.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function Dk(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function hU(...t){const e=new Map;return n=>{if(t.forEach(o=>{const r=Dk(o,n);r&&e.set(o,r)}),e.size>0)return()=>{t.forEach(o=>{const r=e.get(o);r?r():Dk(o,null)}),e.clear()}}}function xo(...t){return v.useCallback(hU(...t),t)}function WL({value:t,defaultValue:e,finalValue:n,onChange:o=()=>{}}){const[r,i]=v.useState(e!==void 0?e:n),s=(l,...a)=>{i(l),o==null||o(l,...a)};return t!==void 0?[t,o,!0]:[r,s,!1]}function KL(t,e){return oU("(prefers-reduced-motion: reduce)",t,e)}function pU(t=!1,e={}){const[n,o]=v.useState(t),r=v.useCallback(()=>{o(l=>{var a;return l||((a=e.onOpen)==null||a.call(e),!0)})},[e.onOpen]),i=v.useCallback(()=>{o(l=>{var a;return l&&((a=e.onClose)==null||a.call(e),!1)})},[e.onClose]),s=v.useCallback(()=>{n?i():r()},[i,r,n]);return[n,{open:r,close:i,toggle:s}]}function mU(t){var n;const e=ee.version;return typeof ee.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function ZL(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=ZL(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function dt(){for(var t,e,n=0,o="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=ZL(t))&&(o&&(o+=" "),o+=e);return o}const gU={};function bU(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([o,r])=>{e[o]?e[o]=dt(e[o],r):e[o]=r})}),e}function Vy({theme:t,classNames:e,props:n,stylesCtx:o}){const i=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,o):s||gU);return bU(i)}function Pg({theme:t,styles:e,props:n,stylesCtx:o}){return(Array.isArray(e)?e:[e]).reduce((i,s)=>typeof s=="function"?{...i,...s(t,n,o)}:{...i,...s},{})}const YL=v.createContext(null);function pl(){const t=v.useContext(YL);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function yU(){return pl().cssVariablesResolver}function vU(){return pl().classNamesPrefix}function L_(){return pl().getStyleNonce}function wU(){return pl().withStaticClasses}function kU(){return pl().headless}function xU(){var t;return(t=pl().stylesTransform)==null?void 0:t.sx}function CU(){var t;return(t=pl().stylesTransform)==null?void 0:t.styles}function Uy(){return pl().env||"default"}function _U(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function SU(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),o=n>>16&255,r=n>>8&255,i=n&255;return{r:o,g:r,b:i,a:1}}function EU(t){const[e,n,o,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:o,a:r===void 0?1:r}}function TU(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),r=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*i-1))*r,a=o/60,c=l*(1-Math.abs(a%2-1)),u=i-l/2;let d,f,h;return a>=0&&a<1?(d=l,f=c,h=0):a>=1&&a<2?(d=c,f=l,h=0):a>=2&&a<3?(d=0,f=l,h=c):a>=3&&a<4?(d=0,f=c,h=l):a>=4&&a<5?(d=c,f=0,h=l):(d=l,f=0,h=c),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((h+u)*255),a:s||1}}function D_(t){return _U(t)?SU(t):t.startsWith("rgb")?EU(t):t.startsWith("hsl")?TU(t):{r:0,g:0,b:0,a:1}}function Vp(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:o,b:r,a:i}=D_(t),s=1-e,l=a=>Math.round(a*s);return`rgba(${l(n)}, ${l(o)}, ${l(r)}, ${i})`}function $f(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function ov(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function MU(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function AU(t){if(t.startsWith("oklch("))return(MU(t)||0)/100;const{r:e,g:n,b:o}=D_(t),r=e/255,i=n/255,s=o/255,l=ov(r),a=ov(i),c=ov(s);return .2126*l+.7152*a+.0722*c}function xd(t,e=.179){return t.startsWith("var(")?!1:AU(t)>e}function Ba({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:xd(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:xd(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:xd(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[o,r]=t.split("."),i=r?Number(r):void 0,s=o in e.colors;if(s){const l=i!==void 0?e.colors[o][i]:e.colors[o][$f(e,n||"light")];return{color:o,value:l,shade:i,isThemeColor:s,isLight:xd(l,e.luminanceThreshold),variable:r?`--mantine-color-${o}-${i}`:`--mantine-color-${o}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:xd(t,e.luminanceThreshold),shade:i,variable:void 0}}function Ik(t,e){const n=Ba({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function OM(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},o=Ik(n.from,e),r=Ik(n.to,e);return`linear-gradient(${n.deg}deg, ${o} 0%, ${r} 100%)`}function Er(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const i=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${i}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:o,b:r}=D_(t);return`rgba(${n}, ${o}, ${r}, ${e})`}const Qa=Er,RU=({color:t,theme:e,variant:n,gradient:o,autoContrast:r})=>{const i=Ba({color:t,theme:e}),s=typeof r=="boolean"?r:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const l=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:l,border:`${V(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${V(1)} solid transparent`}:{background:t,hover:Vp(t,.1),color:l,border:`${V(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${V(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:Er(l,.1),hover:Er(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${V(1)} solid transparent`}}return{background:Er(t,.1),hover:Er(t,.12),color:t,border:`${V(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${V(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Er(e.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${V(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:Er(t,.05),color:t,border:`${V(1)} solid ${t}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${V(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:"transparent",hover:Er(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${V(1)} solid transparent`}}return{background:"transparent",hover:Er(t,.12),color:t,border:`${V(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${V(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${V(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${V(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Vp(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${V(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Vp(e.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${V(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Vp(e.white,.01),color:t,border:`${V(1)} solid transparent`}:n==="gradient"?{background:OM(o,e),hover:OM(o,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${V(1)} solid var(--mantine-color-default-border)`}:{}},NU={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},LM="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",I_={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:NU,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:RU,autoContrast:!1,luminanceThreshold:.3,fontFamily:LM,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:LM,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:V(34),lineHeight:"1.3"},h2:{fontSize:V(26),lineHeight:"1.35"},h3:{fontSize:V(22),lineHeight:"1.4"},h4:{fontSize:V(18),lineHeight:"1.45"},h5:{fontSize:V(16),lineHeight:"1.5"},h6:{fontSize:V(14),lineHeight:"1.5"}}},fontSizes:{xs:V(12),sm:V(14),md:V(16),lg:V(18),xl:V(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:V(2),sm:V(4),md:V(8),lg:V(16),xl:V(32)},spacing:{xs:V(10),sm:V(12),md:V(16),lg:V(20),xl:V(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), 0 ${V(1)} ${V(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(10)} ${V(15)} ${V(-5)}, rgba(0, 0, 0, 0.04) 0 ${V(7)} ${V(7)} ${V(-5)}`,md:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(20)} ${V(25)} ${V(-5)}, rgba(0, 0, 0, 0.04) 0 ${V(10)} ${V(10)} ${V(-5)}`,lg:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(28)} ${V(23)} ${V(-7)}, rgba(0, 0, 0, 0.04) 0 ${V(12)} ${V(12)} ${V(-7)}`,xl:`0 ${V(1)} ${V(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V(36)} ${V(28)} ${V(-7)}, rgba(0, 0, 0, 0.04) 0 ${V(17)} ${V(17)} ${V(-7)}`},other:{},components:{}};function DM(t){return t==="auto"||t==="dark"||t==="light"}function OU({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(t);return DM(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{e=o=>{o.storageArea===window.localStorage&&o.key===t&&DM(o.newValue)&&n(o.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const LU="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",IM="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function rv(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function $M(t){if(!(t.primaryColor in t.colors))throw new Error(LU);if(typeof t.primaryShade=="object"&&(!rv(t.primaryShade.dark)||!rv(t.primaryShade.light)))throw new Error(IM);if(typeof t.primaryShade=="number"&&!rv(t.primaryShade))throw new Error(IM)}function DU(t,e){var o;if(!e)return $M(t),t;const n=M_(t,e);return e.fontFamily&&!((o=e.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=e.fontFamily),$M(n),n}const $_=v.createContext(null),IU=()=>v.useContext($_)||I_;function Jr(){const t=v.useContext($_);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function XL({theme:t,children:e,inherit:n=!0}){const o=IU(),r=v.useMemo(()=>DU(n?o:I_,t),[t,o,n]);return g.jsx($_.Provider,{value:r,children:e})}XL.displayName="@mantine/core/MantineThemeProvider";function $U(){const t=Jr(),e=L_(),n=jr(t.breakpoints).reduce((o,r)=>{const i=t.breakpoints[r].includes("px"),s=FV(t.breakpoints[r]),l=i?`${s-.1}px`:NM(s-.1),a=i?`${s}px`:NM(s);return`${o}@media (max-width: ${l}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${a}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function iv(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Cd(t,e){return(Array.isArray(t)?t:[t]).reduce((o,r)=>`${r}{${o}}`,e)}function PU(t,e){const n=iv(t.variables),o=n?Cd(e,n):"",r=iv(t.dark),i=iv(t.light),s=r?Cd(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",l=i?Cd(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,i):"";return`${o}${s}${l}`}function jU({color:t,theme:e,autoContrast:n}){return e.autoContrast&&Ba({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function PM(t,e){return jU({color:t.colors[t.primaryColor][$f(t,e)],theme:t,autoContrast:null})}function Up({theme:t,color:e,colorScheme:n,name:o=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const l=$f(t,"light"),a={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${l===9?8:l+1})`,[`--mantine-color-${o}-light`]:Qa(t.colors[e][l],.1),[`--mantine-color-${o}-light-hover`]:Qa(t.colors[e][l],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline-hover`]:Qa(t.colors[e][l],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...a}:a}const i=$f(t,"dark"),s={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${i===9?8:i+1})`,[`--mantine-color-${o}-light`]:Qa(t.colors[e][Math.max(0,i-2)],.15),[`--mantine-color-${o}-light-hover`]:Qa(t.colors[e][Math.max(0,i-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(i-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(i-4,0)})`,[`--mantine-color-${o}-outline-hover`]:Qa(t.colors[e][Math.max(i-4,0)],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...s}:s}function BU(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function ec(t,e,n){jr(e).forEach(o=>Object.assign(t,{[`--mantine-${n}-${o}`]:e[o]}))}const JL=t=>{const e=$f(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:V(t.defaultRadius),o={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":PM(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-primary-color-contrast":PM(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};ec(o.variables,t.breakpoints,"breakpoint"),ec(o.variables,t.spacing,"spacing"),ec(o.variables,t.fontSizes,"font-size"),ec(o.variables,t.lineHeights,"line-height"),ec(o.variables,t.shadows,"shadow"),ec(o.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((i,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),jr(t.colors).forEach(i=>{const s=t.colors[i];if(BU(s)){Object.assign(o.light,Up({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,Up({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((l,a)=>{o.variables[`--mantine-color-${i}-${a}`]=l}),Object.assign(o.light,Up({theme:t,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,Up({theme:t,color:i,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return jr(r).forEach(i=>{o.variables[`--mantine-${i}-font-size`]=r[i].fontSize,o.variables[`--mantine-${i}-line-height`]=r[i].lineHeight,o.variables[`--mantine-${i}-font-weight`]=r[i].fontWeight||t.headings.fontWeight}),o};function zU({theme:t,generator:e}){const n=JL(t),o=e==null?void 0:e(t);return o?M_(n,o):n}const sv=JL(I_);function HU(t){const e={variables:{},light:{},dark:{}};return jr(t.variables).forEach(n=>{sv.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),jr(t.light).forEach(n=>{sv.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),jr(t.dark).forEach(n=>{sv.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function VU(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function QL({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Jr(),o=L_(),r=yU(),i=zU({theme:n,generator:r}),s=t===":root"&&e,l=s?HU(i):i,a=PU(l,t);return a?g.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${a}${s?"":VU(t)}`}}):null}QL.displayName="@mantine/CssVariables";function tc(t,e){var r,i;const n=typeof window<"u"&&"matchMedia"in window&&((r=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:r.matches),o=t!=="auto"?t:n?"dark":"light";(i=e())==null||i.setAttribute("data-mantine-color-scheme",o)}function UU({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:o}){const r=v.useRef(null),[i,s]=v.useState(()=>t.get(e)),l=o||i,a=v.useCallback(u=>{o||(tc(u,n),s(u),t.set(u))},[t.set,l,o]),c=v.useCallback(()=>{s(e),tc(e,n),t.clear()},[t.clear,e]);return v.useEffect(()=>(t.subscribe(a),t.unsubscribe),[t.subscribe,t.unsubscribe]),Bh(()=>{tc(t.get(e),n)},[]),v.useEffect(()=>{var d;if(o)return tc(o,n),()=>{};o===void 0&&tc(i,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{i==="auto"&&tc(f.matches?"dark":"light",n)};return(d=r.current)==null||d.addEventListener("change",u),()=>{var f;return(f=r.current)==null?void 0:f.removeEventListener("change",u)}},[i,o]),{colorScheme:l,setColorScheme:a,clearColorScheme:c}}function FU({respectReducedMotion:t,getRootElement:e}){Bh(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}function P_({theme:t,children:e,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:r=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:l=":root",classNamesPrefix:a="mantine",colorSchemeManager:c=OU(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:b,setColorScheme:y,clearColorScheme:w}=UU({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return FU({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),g.jsx(YL.Provider,{value:{colorScheme:b,setColorScheme:y,clearColorScheme:w,getRootElement:d,classNamesPrefix:a,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:l,withStaticClasses:o,stylesTransform:p,env:m},children:g.jsxs(XL,{theme:t,children:[s&&g.jsx(QL,{cssVariablesSelector:l,deduplicateCssVariables:i}),r&&g.jsx($U,{}),e]})})}P_.displayName="@mantine/core/MantineProvider";function eD({classNames:t,styles:e,props:n,stylesCtx:o}){const r=Jr();return{resolvedClassNames:Vy({theme:r,classNames:t,props:n,stylesCtx:o||void 0}),resolvedStyles:Pg({theme:r,styles:e,props:n,stylesCtx:o||void 0})}}const GU={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function qU({theme:t,options:e,unstyled:n}){return dt((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||GU[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function WU({selector:t,stylesCtx:e,options:n,props:o,theme:r}){return Vy({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:e})[t]}function jM({selector:t,stylesCtx:e,theme:n,classNames:o,props:r}){return Vy({theme:n,classNames:o,props:r,stylesCtx:e})[t]}function KU({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function ZU({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function YU({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:o}){return o===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function XU({themeName:t,theme:e,selector:n,props:o,stylesCtx:r}){return t.map(i=>{var s,l;return(l=Vy({theme:e,classNames:(s=e.components[i])==null?void 0:s.classNames,props:o,stylesCtx:r}))==null?void 0:l[n]})}function JU({options:t,classes:e,selector:n,unstyled:o}){return t!=null&&t.variant&&!o?e[`${n}--${t.variant}`]:void 0}function QU({theme:t,options:e,themeName:n,selector:o,classNamesPrefix:r,classNames:i,classes:s,unstyled:l,className:a,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return dt(qU({theme:t,options:e,unstyled:l||h}),XU({theme:t,themeName:n,selector:o,props:u,stylesCtx:d}),JU({options:e,classes:s,selector:o,unstyled:l}),jM({selector:o,stylesCtx:d,theme:t,classNames:i,props:u}),jM({selector:o,stylesCtx:d,theme:t,classNames:p,props:u}),WU({selector:o,stylesCtx:d,options:e,props:u,theme:t}),KU({rootSelector:c,selector:o,className:a}),ZU({selector:o,classes:s,unstyled:l||h}),f&&!h&&YU({themeName:n,classNamesPrefix:r,selector:o,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function eF({theme:t,themeName:e,props:n,stylesCtx:o,selector:r}){return e.map(i=>{var s;return Pg({theme:t,styles:(s=t.components[i])==null?void 0:s.styles,props:n,stylesCtx:o})[r]}).reduce((i,s)=>({...i,...s}),{})}function $k({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...$k({style:o,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function tF(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(o=>{e[o]={...e[o],...A_(n[o])}}),e),{})}function nF({vars:t,varsResolver:e,theme:n,props:o,stylesCtx:r,selector:i,themeName:s,headless:l}){var a;return(a=tF([l?{}:e==null?void 0:e(n,o,r),...s.map(c=>{var u,d,f;return(f=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:f.call(d,n,o,r)}),t==null?void 0:t(n,o,r)]))==null?void 0:a[i]}function oF({theme:t,themeName:e,selector:n,options:o,props:r,stylesCtx:i,rootSelector:s,styles:l,style:a,vars:c,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&eF({theme:t,themeName:e,props:r,stylesCtx:i,selector:n}),...!f&&Pg({theme:t,styles:l,props:r,stylesCtx:i})[n],...!f&&Pg({theme:t,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||r,stylesCtx:i})[n],...nF({theme:t,props:r,stylesCtx:i,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...s===n?$k({style:a,theme:t}):null,...$k({style:o==null?void 0:o.style,theme:t})}}function rF({props:t,stylesCtx:e,themeName:n}){var s;const o=Jr(),r=(s=CU())==null?void 0:s();return{getTransformedStyles:l=>r?[...l.map(c=>r(c,{props:t,theme:o,ctx:e})),...n.map(c=>{var u;return r((u=o.components[c])==null?void 0:u.styles,{props:t,theme:o,ctx:e})})].filter(Boolean):[],withStylesTransform:!!r}}function On({name:t,classes:e,props:n,stylesCtx:o,className:r,style:i,rootSelector:s="root",unstyled:l,classNames:a,styles:c,vars:u,varsResolver:d,attributes:f}){const h=Jr(),p=vU(),m=wU(),b=kU(),y=(Array.isArray(t)?t:[t]).filter(x=>x),{withStylesTransform:w,getTransformedStyles:k}=rF({props:n,stylesCtx:o,themeName:y});return(x,C)=>({className:QU({theme:h,options:C,themeName:y,selector:x,classNamesPrefix:p,classNames:a,classes:e,unstyled:l,className:r,rootSelector:s,props:n,stylesCtx:o,withStaticClasses:m,headless:b,transformedStyles:k([C==null?void 0:C.styles,c])}),style:oF({theme:h,themeName:y,selector:x,options:C,props:n,stylesCtx:o,rootSelector:s,styles:c,style:i,vars:u,varsResolver:d,headless:b,withStylesTransform:w}),...f==null?void 0:f[x]})}function _e(t,e,n){var s;const o=Jr(),r=(s=o.components[t])==null?void 0:s.defaultProps,i=typeof r=="function"?r(o):r;return{...e,...i,...A_(n)}}function lv(t){return jr(t).reduce((e,n)=>t[n]!==void 0?`${e}${VV(n)}:${t[n]};`:e,"").trim()}function iF({selector:t,styles:e,media:n,container:o}){const r=e?lv(e):"",i=Array.isArray(n)?n.map(l=>`@media${l.query}{${t}{${lv(l.styles)}}}`):[],s=Array.isArray(o)?o.map(l=>`@container ${l.query}{${t}{${lv(l.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}${s.join("")}`.trim()}function sF(t){const e=L_();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:iF(t)}})}function lF(t){const{m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bdrs:x,bg:C,c:E,opacity:S,ff:_,fz:T,fw:M,lts:$,ta:D,lh:z,fs:H,tt:U,td:R,w:O,miw:N,maw:P,h:K,mih:Z,mah:ie,bgsz:ve,bgp:Pe,bgr:Ge,bga:qe,pos:We,top:Zt,left:et,bottom:Nt,right:_o,inset:si,display:Jo,flex:Qo,hiddenFrom:li,visibleFrom:Ml,lightHidden:rs,darkHidden:is,sx:ai,...Ct}=t;return{styleProps:A_({m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bg:C,c:E,opacity:S,ff:_,fz:T,fw:M,lts:$,ta:D,lh:z,fs:H,tt:U,td:R,w:O,miw:N,maw:P,h:K,mih:Z,mah:ie,bgsz:ve,bgp:Pe,bgr:Ge,bga:qe,pos:We,top:Zt,left:et,bottom:Nt,right:_o,inset:si,display:Jo,flex:Qo,bdrs:x,hiddenFrom:li,visibleFrom:Ml,lightHidden:rs,darkHidden:is,sx:ai}),rest:Ct}}const aF={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function j_(t,e){const n=Ba({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function cF(t,e){const n=Ba({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:j_(t,e)}function uF(t,e){if(typeof t=="number")return V(t);if(typeof t=="string"){const[n,o,...r]=t.split(" ").filter(s=>s.trim()!=="");let i=`${V(n)}`;return o&&(i+=` ${o}`),r.length>0&&(i+=` ${j_(r.join(" "),e)}`),i.trim()}return t}const BM={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function dF(t){return typeof t=="string"&&t in BM?BM[t]:t}const fF=["h1","h2","h3","h4","h5","h6"];function hF(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&fF.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?V(t):t}function pF(t){return t}const mF=["h1","h2","h3","h4","h5","h6"];function gF(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&mF.includes(t)?`var(--mantine-${t}-line-height)`:t}function bF(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?V(t):t}function yF(t){return typeof t=="number"?V(t):t}function vF(t,e){if(typeof t=="number")return V(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return V(t);const o=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return t}const av={color:j_,textColor:cF,fontSize:hF,spacing:vF,radius:bF,identity:pF,size:yF,lineHeight:gF,fontFamily:dF,border:uF};function zM(t){return t.replace("(min-width: ","").replace("em)","")}function wF({media:t,...e}){const o=Object.keys(t).sort((r,i)=>Number(zM(r))-Number(zM(i))).map(r=>({query:r,styles:t[r]}));return{...e,media:o}}function kF(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function xF(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function CF(t){return typeof t=="object"&&t!==null?jr(t).filter(e=>e!=="base"):[]}function _F(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function SF({styleProps:t,data:e,theme:n}){return wF(jr(t).reduce((o,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return o;const i=e[r],s=Array.isArray(i.property)?i.property:[i.property],l=xF(t[r]);if(!kF(t[r]))return s.forEach(c=>{o.inlineStyles[c]=av[i.type](l,n)}),o;o.hasResponsiveStyles=!0;const a=CF(t[r]);return s.forEach(c=>{l!=null&&(o.styles[c]=av[i.type](l,n)),a.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;o.media[d]={...o.media[d],[c]:av[i.type](_F(t[r],u),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function EF(){return`__m__-${v.useId().replace(/:/g,"")}`}function tD(t){return t.startsWith("data-")?t:`data-${t}`}function TF(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return o===void 0||o===""||o===!1||o===null||(e[tD(n)]=t[n]),e},{})}function nD(t){return t?typeof t=="string"?{[tD(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...nD(n)}),{}):TF(t):null}function Pk(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...Pk(o,e)}),{}):typeof t=="function"?t(e):t??{}}function MF({theme:t,style:e,vars:n,styleProps:o}){const r=Pk(e,t),i=Pk(n,t);return{...r,...i,...o}}const oD=v.forwardRef(({component:t,style:e,__vars:n,className:o,variant:r,mod:i,size:s,hiddenFrom:l,visibleFrom:a,lightHidden:c,darkHidden:u,renderRoot:d,__size:f,...h},p)=>{var _;const m=Jr(),b=t||"div",{styleProps:y,rest:w}=lF(h),k=xU(),x=(_=k==null?void 0:k())==null?void 0:_(y.sx),C=EF(),E=SF({styleProps:y,theme:m,data:aF}),S={ref:p,style:MF({theme:m,style:e,vars:n,styleProps:E.inlineStyles}),className:dt(o,x,{[C]:E.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${a}`]:a}),"data-variant":r,"data-size":zL(s)?void 0:s||void 0,size:f,...nD(i),...w};return g.jsxs(g.Fragment,{children:[E.hasResponsiveStyles&&g.jsx(sF,{selector:`.${C}`,styles:E.styles,media:E.media}),typeof d=="function"?d(S):g.jsx(b,{...S})]})});oD.displayName="@mantine/core/Box";const Oe=oD;function rD(t){return t}function AF(t){const e=t;return n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o}}function at(t){const e=v.forwardRef(t);return e.extend=rD,e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e}function za(t){const e=v.forwardRef(t);return e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e.extend=rD,e}const RF=v.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function zh(){return v.useContext(RF)}function Fy(){return typeof window<"u"}function Bu(t){return iD(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qr(t){var e;return(e=(iD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iD(t){return Fy()?t instanceof Node||t instanceof Vn(t).Node:!1}function Ze(t){return Fy()?t instanceof Element||t instanceof Vn(t).Element:!1}function go(t){return Fy()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function jk(t){return!Fy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const NF=new Set(["inline","contents"]);function Hh(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=Wo(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!NF.has(r)}const OF=new Set(["table","td","th"]);function LF(t){return OF.has(Bu(t))}const DF=[":popover-open",":modal"];function Gy(t){return DF.some(e=>{try{return t.matches(e)}catch{return!1}})}const IF=["transform","translate","scale","rotate","perspective"],$F=["transform","translate","scale","rotate","perspective","filter"],PF=["paint","layout","strict","content"];function B_(t){const e=qy(),n=Ze(t)?Wo(t):t;return IF.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||$F.some(o=>(n.willChange||"").includes(o))||PF.some(o=>(n.contain||"").includes(o))}function jF(t){let e=Wi(t);for(;go(e)&&!nl(e);){if(B_(e))return e;if(Gy(e))return null;e=Wi(e)}return null}function qy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BF=new Set(["html","body","#document"]);function nl(t){return BF.has(Bu(t))}function Wo(t){return Vn(t).getComputedStyle(t)}function Wy(t){return Ze(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wi(t){if(Bu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jk(t)&&t.host||Qr(t);return jk(e)?e.host:e}function sD(t){const e=Wi(t);return nl(e)?t.ownerDocument?t.ownerDocument.body:t.body:go(e)&&Hh(e)?e:sD(e)}function $i(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=sD(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=Vn(r);if(i){const l=Bk(s);return e.concat(s,s.visualViewport||[],Hh(r)?r:[],l&&n?$i(l):[])}return e.concat(r,$i(r,[],n))}function Bk(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zk(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function pu(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&jk(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function lD(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function aD(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}function zF(t){return VF()?!1:!HM()&&t.width===0&&t.height===0||HM()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function cD(){return/apple/i.test(navigator.vendor)}function HM(){const t=/android/i;return t.test(lD())||t.test(aD())}function HF(){return lD().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function VF(){return aD().includes("jsdom/")}function Hk(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function UF(t){return"nativeEvent"in t}function FF(t){return t.matches("html,body")}function Ds(t){return(t==null?void 0:t.ownerDocument)||document}function cv(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function pc(t){return"composedPath"in t?t.composedPath()[0]:t.target}const GF="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function qF(t){return go(t)&&t.matches(GF)}const WF=["top","right","bottom","left"],fr=Math.min,cn=Math.max,jg=Math.round,Fp=Math.floor,Br=t=>({x:t,y:t}),KF={left:"right",right:"left",bottom:"top",top:"bottom"},ZF={start:"end",end:"start"};function Vk(t,e,n){return cn(t,fr(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function hr(t){return t.split("-")[0]}function zu(t){return t.split("-")[1]}function z_(t){return t==="x"?"y":"x"}function H_(t){return t==="y"?"height":"width"}const YF=new Set(["top","bottom"]);function ir(t){return YF.has(hr(t))?"y":"x"}function V_(t){return z_(ir(t))}function XF(t,e,n){n===void 0&&(n=!1);const o=zu(t),r=V_(t),i=H_(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Bg(s)),[s,Bg(s)]}function JF(t){const e=Bg(t);return[Uk(t),e,Uk(e)]}function Uk(t){return t.replace(/start|end/g,e=>ZF[e])}const VM=["left","right"],UM=["right","left"],QF=["top","bottom"],eG=["bottom","top"];function tG(t,e,n){switch(t){case"top":case"bottom":return n?e?UM:VM:e?VM:UM;case"left":case"right":return e?QF:eG;default:return[]}}function nG(t,e,n,o){const r=zu(t);let i=tG(hr(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Uk)))),i}function Bg(t){return t.replace(/left|right|bottom|top/g,e=>KF[e])}function oG(t){return{top:0,right:0,bottom:0,left:0,...t}}function U_(t){return typeof t!="number"?oG(t):{top:t,right:t,bottom:t,left:t}}function mu(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var rG=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Fk=rG.join(","),uD=typeof Element>"u",Pf=uD?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,zg=!uD&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},Hg=function t(e,n){var o;n===void 0&&(n=!0);var r=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),i=r===""||r==="true",s=i||n&&e&&t(e.parentNode);return s},iG=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},sG=function(e,n,o){if(Hg(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Fk));return n&&Pf.call(e,Fk)&&r.unshift(e),r=r.filter(o),r},lG=function t(e,n,o){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(!Hg(s,!1))if(s.tagName==="SLOT"){var l=s.assignedElements(),a=l.length?l:s.children,c=t(a,!0,o);o.flatten?r.push.apply(r,c):r.push({scopeParent:s,candidates:c})}else{var u=Pf.call(s,Fk);u&&o.filter(s)&&(n||!e.includes(s))&&r.push(s);var d=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),f=!Hg(d,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(d&&f){var h=t(d===!0?s.children:d.children,!0,o);o.flatten?r.push.apply(r,h):r.push({scopeParent:s,candidates:h})}else i.unshift.apply(i,s.children)}}return r},dD=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},fD=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||iG(e))&&!dD(e)?0:e.tabIndex},aG=function(e,n){var o=fD(e);return o<0&&n&&!dD(e)?0:o},cG=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},hD=function(e){return e.tagName==="INPUT"},uG=function(e){return hD(e)&&e.type==="hidden"},dG=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},fG=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},hG=function(e){if(!e.name)return!0;var n=e.form||zg(e),o=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=fG(r,e.form);return!i||i===e},pG=function(e){return hD(e)&&e.type==="radio"},mG=function(e){return pG(e)&&!hG(e)},gG=function(e){var n,o=e&&zg(e),r=(n=o)===null||n===void 0?void 0:n.host,i=!1;if(o&&o!==e){var s,l,a;for(i=!!((s=r)!==null&&s!==void 0&&(l=s.ownerDocument)!==null&&l!==void 0&&l.contains(r)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!i&&r;){var c,u,d;o=zg(r),r=(c=o)===null||c===void 0?void 0:c.host,i=!!((u=r)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(r))}}return i},FM=function(e){var n=e.getBoundingClientRect(),o=n.width,r=n.height;return o===0&&r===0},bG=function(e,n){var o=n.displayCheck,r=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Pf.call(e,"details>summary:first-of-type"),s=i?e.parentElement:e;if(Pf.call(s,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof r=="function"){for(var l=e;e;){var a=e.parentElement,c=zg(e);if(a&&!a.shadowRoot&&r(a)===!0)return FM(e);e.assignedSlot?e=e.assignedSlot:!a&&c!==e.ownerDocument?e=c.host:e=a}e=l}if(gG(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return FM(e);return!1},yG=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var r=n.children.item(o);if(r.tagName==="LEGEND")return Pf.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},vG=function(e,n){return!(n.disabled||Hg(n)||uG(n)||bG(n,e)||dG(n)||yG(n))},GM=function(e,n){return!(mG(n)||fD(n)<0||!vG(e,n))},wG=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},kG=function t(e){var n=[],o=[];return e.forEach(function(r,i){var s=!!r.scopeParent,l=s?r.scopeParent:r,a=aG(l,s),c=s?t(r.candidates):l;a===0?s?n.push.apply(n,c):n.push(l):o.push({documentOrder:i,tabIndex:a,item:r,isScope:s,content:c})}),o.sort(cG).reduce(function(r,i){return i.isScope?r.push.apply(r,i.content):r.push(i.content),r},[]).concat(n)},pD=function(e,n){n=n||{};var o;return n.getShadowRoot?o=lG([e],n.includeContainer,{filter:GM.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:wG}):o=sG(e,n.includeContainer,GM.bind(null,n)),kG(o)};function qM(t,e,n){let{reference:o,floating:r}=t;const i=ir(e),s=V_(e),l=H_(s),a=hr(e),c=i==="y",u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,f=o[l]/2-r[l]/2;let h;switch(a){case"top":h={x:u,y:o.y-r.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:d};break;case"left":h={x:o.x-r.width,y:d};break;default:h={x:o.x,y:o.y}}switch(zu(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const xG=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=qM(c,o,a),f=o,h={},p=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:w,y:k,data:x,reset:C}=await y({x:u,y:d,initialPlacement:o,placement:f,strategy:r,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=w??u,d=k??d,h={...h,[b]:{...h[b],...x}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:u,y:d}=qM(c,f,a)),m=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:h}};async function jf(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Ur(e,t),p=U_(h),b=l[f?d==="floating"?"reference":"floating":d],y=mu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),w=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),x=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},C=mu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:k,strategy:a}):w);return{top:(y.top-C.top+p.top)/x.y,bottom:(C.bottom-y.bottom+p.bottom)/x.y,left:(y.left-C.left+p.left)/x.x,right:(C.right-y.right+p.right)/x.x}}const CG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:a}=e,{element:c,padding:u=0}=Ur(t,e)||{};if(c==null)return{};const d=U_(u),f={x:n,y:o},h=V_(r),p=H_(h),m=await s.getDimensions(c),b=h==="y",y=b?"top":"left",w=b?"bottom":"right",k=b?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[h]-f[h]-i.floating[p],C=f[h]-i.reference[h],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=E?E[k]:0;(!S||!await(s.isElement==null?void 0:s.isElement(E)))&&(S=l.floating[k]||i.floating[p]);const _=x/2-C/2,T=S/2-m[p]/2-1,M=fr(d[y],T),$=fr(d[w],T),D=M,z=S-m[p]-$,H=S/2-m[p]/2+_,U=Vk(D,H,z),R=!a.arrow&&zu(r)!=null&&H!==U&&i.reference[p]/2-(H<D?M:$)-m[p]/2<0,O=R?H<D?H-D:H-z:0;return{[h]:f[h]+O,data:{[h]:U,centerOffset:H-U-O,...R&&{alignmentOffset:O}},reset:R}}}),_G=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...b}=Ur(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=hr(r),w=ir(l),k=hr(l)===l,x=await(a.isRTL==null?void 0:a.isRTL(c.floating)),C=f||(k||!m?[Bg(l)]:JF(l)),E=p!=="none";!f&&E&&C.push(...nG(l,m,p,x));const S=[l,...C],_=await jf(e,b),T=[];let M=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&T.push(_[y]),d){const H=XF(r,s,x);T.push(_[H[0]],_[H[1]])}if(M=[...M,{placement:r,overflows:T}],!T.every(H=>H<=0)){var $,D;const H=((($=i.flip)==null?void 0:$.index)||0)+1,U=S[H];if(U&&(!(d==="alignment"?w!==ir(U):!1)||M.every(N=>N.overflows[0]>0&&ir(N.placement)===w)))return{data:{index:H,overflows:M},reset:{placement:U}};let R=(D=M.filter(O=>O.overflows[0]<=0).sort((O,N)=>O.overflows[1]-N.overflows[1])[0])==null?void 0:D.placement;if(!R)switch(h){case"bestFit":{var z;const O=(z=M.filter(N=>{if(E){const P=ir(N.placement);return P===w||P==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(P=>P>0).reduce((P,K)=>P+K,0)]).sort((N,P)=>N[1]-P[1])[0])==null?void 0:z[0];O&&(R=O);break}case"initialPlacement":R=l;break}if(r!==R)return{reset:{placement:R}}}return{}}}};function WM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function KM(t){return WF.some(e=>t[e]>=0)}const SG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=Ur(t,e);switch(o){case"referenceHidden":{const i=await jf(e,{...r,elementContext:"reference"}),s=WM(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:KM(s)}}}case"escaped":{const i=await jf(e,{...r,altBoundary:!0}),s=WM(i,n.floating);return{data:{escapedOffsets:s,escaped:KM(s)}}}default:return{}}}}};function mD(t){const e=fr(...t.map(i=>i.left)),n=fr(...t.map(i=>i.top)),o=cn(...t.map(i=>i.right)),r=cn(...t.map(i=>i.bottom));return{x:e,y:n,width:o-e,height:r-n}}function EG(t){const e=t.slice().sort((r,i)=>r.y-i.y),n=[];let o=null;for(let r=0;r<e.length;r++){const i=e[r];!o||i.y-o.y>o.height/2?n.push([i]):n[n.length-1].push(i),o=i}return n.map(r=>mu(mD(r)))}const TG=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:o,rects:r,platform:i,strategy:s}=e,{padding:l=2,x:a,y:c}=Ur(t,e),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(o.reference))||[]),d=EG(u),f=mu(mD(u)),h=U_(l);function p(){if(d.length===2&&d[0].left>d[1].right&&a!=null&&c!=null)return d.find(b=>a>b.left-h.left&&a<b.right+h.right&&c>b.top-h.top&&c<b.bottom+h.bottom)||f;if(d.length>=2){if(ir(n)==="y"){const M=d[0],$=d[d.length-1],D=hr(n)==="top",z=M.top,H=$.bottom,U=D?M.left:$.left,R=D?M.right:$.right,O=R-U,N=H-z;return{top:z,bottom:H,left:U,right:R,width:O,height:N,x:U,y:z}}const b=hr(n)==="left",y=cn(...d.map(M=>M.right)),w=fr(...d.map(M=>M.left)),k=d.filter(M=>b?M.left===w:M.right===y),x=k[0].top,C=k[k.length-1].bottom,E=w,S=y,_=S-E,T=C-x;return{top:x,bottom:C,left:E,right:S,width:_,height:T,x:E,y:x}}return f}const m=await i.getElementRects({reference:{getBoundingClientRect:p},floating:o.floating,strategy:s});return r.reference.x!==m.reference.x||r.reference.y!==m.reference.y||r.reference.width!==m.reference.width||r.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},gD=new Set(["left","top"]);async function MG(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=hr(n),l=zu(n),a=ir(n)==="y",c=gD.has(s)?-1:1,u=i&&a?-1:1,d=Ur(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),a?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const AG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=e,a=await MG(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:s}}}}},RG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...a}=Ur(t,e),c={x:n,y:o},u=await jf(e,a),d=ir(hr(r)),f=z_(d);let h=c[f],p=c[d];if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=h+u[b],k=h-u[y];h=Vk(w,h,k)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=p+u[b],k=p-u[y];p=Vk(w,p,k)}const m=l.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[f]:i,[d]:s}}}}}},NG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=e,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=Ur(t,e),u={x:n,y:o},d=ir(r),f=z_(d);let h=u[f],p=u[d];const m=Ur(l,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(a){const k=f==="y"?"height":"width",x=i.reference[f]-i.floating[k]+b.mainAxis,C=i.reference[f]+i.reference[k]-b.mainAxis;h<x?h=x:h>C&&(h=C)}if(c){var y,w;const k=f==="y"?"width":"height",x=gD.has(hr(r)),C=i.reference[d]-i.floating[k]+(x&&((y=s.offset)==null?void 0:y[d])||0)+(x?0:b.crossAxis),E=i.reference[d]+i.reference[k]+(x?0:((w=s.offset)==null?void 0:w[d])||0)-(x?b.crossAxis:0);p<C?p=C:p>E&&(p=E)}return{[f]:h,[d]:p}}}},OG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:i,platform:s,elements:l}=e,{apply:a=()=>{},...c}=Ur(t,e),u=await jf(e,c),d=hr(r),f=zu(r),h=ir(r)==="y",{width:p,height:m}=i.floating;let b,y;d==="top"||d==="bottom"?(b=d,y=f===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,b=f==="end"?"top":"bottom");const w=m-u.top-u.bottom,k=p-u.left-u.right,x=fr(m-u[b],w),C=fr(p-u[y],k),E=!e.middlewareData.shift;let S=x,_=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=k),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(S=w),E&&!f){const M=cn(u.left,0),$=cn(u.right,0),D=cn(u.top,0),z=cn(u.bottom,0);h?_=p-2*(M!==0||$!==0?M+$:cn(u.left,u.right)):S=m-2*(D!==0||z!==0?D+z:cn(u.top,u.bottom))}await a({...e,availableWidth:_,availableHeight:S});const T=await s.getDimensions(l.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function bD(t){const e=Wo(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=go(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,l=jg(n)!==i||jg(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function F_(t){return Ze(t)?t:t.contextElement}function Gc(t){const e=F_(t);if(!go(e))return Br(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=bD(e);let s=(i?jg(n.width):n.width)/o,l=(i?jg(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const LG=Br(0);function yD(t){const e=Vn(t);return!qy()||!e.visualViewport?LG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function ya(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=F_(t);let s=Br(1);e&&(o?Ze(o)&&(s=Gc(o)):s=Gc(t));const l=DG(i,n,o)?yD(i):Br(0);let a=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const f=Vn(i),h=o&&Ze(o)?Vn(o):o;let p=f,m=Bk(p);for(;m&&o&&h!==p;){const b=Gc(m),y=m.getBoundingClientRect(),w=Wo(m),k=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,x=y.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;a*=b.x,c*=b.y,u*=b.x,d*=b.y,a+=k,c+=x,p=Vn(m),m=Bk(p)}}return mu({width:u,height:d,x:a,y:c})}function G_(t,e){const n=Wy(t).scrollLeft;return e?e.left+n:ya(Qr(t)).left+n}function vD(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),r=o.left+e.scrollLeft-(n?0:G_(t,o)),i=o.top+e.scrollTop;return{x:r,y:i}}function IG(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=Qr(o),l=e?Gy(e.floating):!1;if(o===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},c=Br(1);const u=Br(0),d=go(o);if((d||!d&&!i)&&((Bu(o)!=="body"||Hh(s))&&(a=Wy(o)),go(o))){const h=ya(o);c=Gc(o),u.x=h.x+o.clientLeft,u.y=h.y+o.clientTop}const f=s&&!d&&!i?vD(s,a,!0):Br(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-a.scrollTop*c.y+u.y+f.y}}function $G(t){return Array.from(t.getClientRects())}function PG(t){const e=Qr(t),n=Wy(t),o=t.ownerDocument.body,r=cn(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=cn(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+G_(t);const l=-n.scrollTop;return Wo(o).direction==="rtl"&&(s+=cn(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function jG(t,e){const n=Vn(t),o=Qr(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,a=0;if(r){i=r.width,s=r.height;const c=qy();(!c||c&&e==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:i,height:s,x:l,y:a}}const BG=new Set(["absolute","fixed"]);function zG(t,e){const n=ya(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=go(t)?Gc(t):Br(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,a=r*i.x,c=o*i.y;return{width:s,height:l,x:a,y:c}}function ZM(t,e,n){let o;if(e==="viewport")o=jG(t,n);else if(e==="document")o=PG(Qr(t));else if(Ze(e))o=zG(e,n);else{const r=yD(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return mu(o)}function wD(t,e){const n=Wi(t);return n===e||!Ze(n)||nl(n)?!1:Wo(n).position==="fixed"||wD(n,e)}function HG(t,e){const n=e.get(t);if(n)return n;let o=$i(t,[],!1).filter(l=>Ze(l)&&Bu(l)!=="body"),r=null;const i=Wo(t).position==="fixed";let s=i?Wi(t):t;for(;Ze(s)&&!nl(s);){const l=Wo(s),a=B_(s);!a&&l.position==="fixed"&&(r=null),(i?!a&&!r:!a&&l.position==="static"&&!!r&&BG.has(r.position)||Hh(s)&&!a&&wD(t,s))?o=o.filter(u=>u!==s):r=l,s=Wi(s)}return e.set(t,o),o}function VG(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?Gy(e)?[]:HG(e,this._c):[].concat(n),o],l=s[0],a=s.reduce((c,u)=>{const d=ZM(e,u,r);return c.top=cn(d.top,c.top),c.right=fr(d.right,c.right),c.bottom=fr(d.bottom,c.bottom),c.left=cn(d.left,c.left),c},ZM(e,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function UG(t){const{width:e,height:n}=bD(t);return{width:e,height:n}}function FG(t,e,n){const o=go(e),r=Qr(e),i=n==="fixed",s=ya(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const a=Br(0);function c(){a.x=G_(r)}if(o||!o&&!i)if((Bu(e)!=="body"||Hh(r))&&(l=Wy(e)),o){const h=ya(e,!0,i,e);a.x=h.x+e.clientLeft,a.y=h.y+e.clientTop}else r&&c();i&&!o&&r&&c();const u=r&&!o&&!i?vD(r,l):Br(0),d=s.left+l.scrollLeft-a.x-u.x,f=s.top+l.scrollTop-a.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function uv(t){return Wo(t).position==="static"}function YM(t,e){if(!go(t)||Wo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qr(t)===n&&(n=n.ownerDocument.body),n}function kD(t,e){const n=Vn(t);if(Gy(t))return n;if(!go(t)){let r=Wi(t);for(;r&&!nl(r);){if(Ze(r)&&!uv(r))return r;r=Wi(r)}return n}let o=YM(t,e);for(;o&&LF(o)&&uv(o);)o=YM(o,e);return o&&nl(o)&&uv(o)&&!B_(o)?n:o||jF(t)||n}const GG=async function(t){const e=this.getOffsetParent||kD,n=this.getDimensions,o=await n(t.floating);return{reference:FG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function qG(t){return Wo(t).direction==="rtl"}const WG={convertOffsetParentRelativeRectToViewportRelativeRect:IG,getDocumentElement:Qr,getClippingRect:VG,getOffsetParent:kD,getElementRects:GG,getClientRects:$G,getDimensions:UG,getScale:Gc,isElement:Ze,isRTL:qG};function xD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KG(t,e){let n=null,o;const r=Qr(t);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(l||e(),!f||!h)return;const p=Fp(d),m=Fp(r.clientWidth-(u+f)),b=Fp(r.clientHeight-(d+h)),y=Fp(u),k={rootMargin:-p+"px "+-m+"px "+-b+"px "+-y+"px",threshold:cn(0,fr(1,a))||1};let x=!0;function C(E){const S=E[0].intersectionRatio;if(S!==a){if(!x)return s();S?s(!1,S):o=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!xD(c,t.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(C,{...k,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,k)}n.observe(t)}return s(!0),i}function Gk(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=F_(t),u=r||i?[...c?$i(c):[],...$i(e)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=c&&l?KG(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var k;(k=h)==null||k.observe(e)})),n()}),c&&!a&&h.observe(c),h.observe(e));let p,m=a?ya(t):null;a&&b();function b(){const y=ya(t);m&&!xD(m,y)&&n(),m=y,p=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(w=>{r&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,a&&cancelAnimationFrame(p)}}const ZG=AG,YG=RG,XG=_G,JG=OG,QG=SG,XM=CG,eq=TG,tq=NG,nq=(t,e,n)=>{const o=new Map,r={platform:WG,...n},i={...r.platform,_c:o};return xG(t,e,{...r,platform:i})};var oq=typeof document<"u",rq=function(){},jm=oq?v.useLayoutEffect:rq;function Vg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!Vg(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!Vg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function CD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JM(t,e){const n=CD(t);return Math.round(e*n)/n}function dv(t){const e=v.useRef(t);return jm(()=>{e.current=t}),e}function iq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:c}=t,[u,d]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=v.useState(o);Vg(f,o)||h(o);const[p,m]=v.useState(null),[b,y]=v.useState(null),w=v.useCallback(N=>{N!==E.current&&(E.current=N,m(N))},[]),k=v.useCallback(N=>{N!==S.current&&(S.current=N,y(N))},[]),x=i||p,C=s||b,E=v.useRef(null),S=v.useRef(null),_=v.useRef(u),T=a!=null,M=dv(a),$=dv(r),D=dv(c),z=v.useCallback(()=>{if(!E.current||!S.current)return;const N={placement:e,strategy:n,middleware:f};$.current&&(N.platform=$.current),nq(E.current,S.current,N).then(P=>{const K={...P,isPositioned:D.current!==!1};H.current&&!Vg(_.current,K)&&(_.current=K,po.flushSync(()=>{d(K)}))})},[f,e,n,$,D]);jm(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(N=>({...N,isPositioned:!1})))},[c]);const H=v.useRef(!1);jm(()=>(H.current=!0,()=>{H.current=!1}),[]),jm(()=>{if(x&&(E.current=x),C&&(S.current=C),x&&C){if(M.current)return M.current(x,C,z);z()}},[x,C,z,M,T]);const U=v.useMemo(()=>({reference:E,floating:S,setReference:w,setFloating:k}),[w,k]),R=v.useMemo(()=>({reference:x,floating:C}),[x,C]),O=v.useMemo(()=>{const N={position:n,left:0,top:0};if(!R.floating)return N;const P=JM(R.floating,u.x),K=JM(R.floating,u.y);return l?{...N,transform:"translate("+P+"px, "+K+"px)",...CD(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:K}},[n,l,R.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:z,refs:U,elements:R,floatingStyles:O}),[u,z,U,R,O])}const sq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?XM({element:o.current,padding:r}).fn(n):{}:o?XM({element:o,padding:r}).fn(n):{}}}},vr=(t,e)=>({...ZG(t),options:[t,e]}),ml=(t,e)=>({...YG(t),options:[t,e]}),Ug=(t,e)=>({...tq(t),options:[t,e]}),bo=(t,e)=>({...XG(t),options:[t,e]}),Vh=(t,e)=>({...JG(t),options:[t,e]}),lq=(t,e)=>({...QG(t),options:[t,e]}),ia=(t,e)=>({...eq(t),options:[t,e]}),q_=(t,e)=>({...sq(t),options:[t,e]});function aq(t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const _D={...M7},cq=_D.useInsertionEffect,uq=cq||(t=>t());function Ci(t){const e=v.useRef(()=>{});return uq(()=>{e.current=t}),v.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}var mn=typeof document<"u"?v.useLayoutEffect:v.useEffect;function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qk.apply(this,arguments)}let QM=!1,dq=0;const eA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+dq++;function fq(){const[t,e]=v.useState(()=>QM?eA():void 0);return mn(()=>{t==null&&e(eA())},[]),v.useEffect(()=>{QM=!0},[]),t}const hq=_D.useId,W_=hq||fq;function pq(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const mq=v.createContext(null),gq=v.createContext(null),K_=()=>{var t;return((t=v.useContext(mq))==null?void 0:t.id)||null},Z_=()=>v.useContext(gq);function Uh(t){return"data-floating-ui-"+t}function Vl(t){const e=v.useRef(t);return mn(()=>{e.current=t}),e}const tA=Uh("safe-polygon");function Bm(t,e,n){return n&&!Hk(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function bq(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,dataRef:r,events:i,elements:s}=t,{enabled:l=!0,delay:a=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:f=!0}=e,h=Z_(),p=K_(),m=Vl(c),b=Vl(a),y=Vl(n),w=v.useRef(),k=v.useRef(-1),x=v.useRef(),C=v.useRef(-1),E=v.useRef(!0),S=v.useRef(!1),_=v.useRef(()=>{}),T=v.useRef(!1),M=v.useCallback(()=>{var O;const N=(O=r.current.openEvent)==null?void 0:O.type;return(N==null?void 0:N.includes("mouse"))&&N!=="mousedown"},[r]);v.useEffect(()=>{if(!l)return;function O(N){let{open:P}=N;P||(clearTimeout(k.current),clearTimeout(C.current),E.current=!0,T.current=!1)}return i.on("openchange",O),()=>{i.off("openchange",O)}},[l,i]),v.useEffect(()=>{if(!l||!m.current||!n)return;function O(P){M()&&o(!1,P,"hover")}const N=Ds(s.floating).documentElement;return N.addEventListener("mouseleave",O),()=>{N.removeEventListener("mouseleave",O)}},[s.floating,n,o,l,m,M]);const $=v.useCallback(function(O,N,P){N===void 0&&(N=!0),P===void 0&&(P="hover");const K=Bm(b.current,"close",w.current);K&&!x.current?(clearTimeout(k.current),k.current=window.setTimeout(()=>o(!1,O,P),K)):N&&(clearTimeout(k.current),o(!1,O,P))},[b,o]),D=Ci(()=>{_.current(),x.current=void 0}),z=Ci(()=>{if(S.current){const O=Ds(s.floating).body;O.style.pointerEvents="",O.removeAttribute(tA),S.current=!1}}),H=Ci(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);v.useEffect(()=>{if(!l)return;function O(Z){if(clearTimeout(k.current),E.current=!1,u&&!Hk(w.current)||d>0&&!Bm(b.current,"open"))return;const ie=Bm(b.current,"open",w.current);ie?k.current=window.setTimeout(()=>{y.current||o(!0,Z,"hover")},ie):n||o(!0,Z,"hover")}function N(Z){if(H())return;_.current();const ie=Ds(s.floating);if(clearTimeout(C.current),T.current=!1,m.current&&r.current.floatingContext){n||clearTimeout(k.current),x.current=m.current({...r.current.floatingContext,tree:h,x:Z.clientX,y:Z.clientY,onClose(){z(),D(),H()||$(Z,!0,"safe-polygon")}});const Pe=x.current;ie.addEventListener("mousemove",Pe),_.current=()=>{ie.removeEventListener("mousemove",Pe)};return}(w.current==="touch"?!pu(s.floating,Z.relatedTarget):!0)&&$(Z)}function P(Z){H()||r.current.floatingContext&&(m.current==null||m.current({...r.current.floatingContext,tree:h,x:Z.clientX,y:Z.clientY,onClose(){z(),D(),H()||$(Z)}})(Z))}if(Ze(s.domReference)){var K;const Z=s.domReference;return n&&Z.addEventListener("mouseleave",P),(K=s.floating)==null||K.addEventListener("mouseleave",P),f&&Z.addEventListener("mousemove",O,{once:!0}),Z.addEventListener("mouseenter",O),Z.addEventListener("mouseleave",N),()=>{var ie;n&&Z.removeEventListener("mouseleave",P),(ie=s.floating)==null||ie.removeEventListener("mouseleave",P),f&&Z.removeEventListener("mousemove",O),Z.removeEventListener("mouseenter",O),Z.removeEventListener("mouseleave",N)}}},[s,l,t,u,d,f,$,D,z,o,n,y,h,b,m,r,H]),mn(()=>{var O;if(l&&n&&(O=m.current)!=null&&O.__options.blockPointerEvents&&M()){S.current=!0;const P=s.floating;if(Ze(s.domReference)&&P){var N;const K=Ds(s.floating).body;K.setAttribute(tA,"");const Z=s.domReference,ie=h==null||(N=h.nodesRef.current.find(ve=>ve.id===p))==null||(N=N.context)==null?void 0:N.elements.floating;return ie&&(ie.style.pointerEvents=""),K.style.pointerEvents="none",Z.style.pointerEvents="auto",P.style.pointerEvents="auto",()=>{K.style.pointerEvents="",Z.style.pointerEvents="",P.style.pointerEvents=""}}}},[l,n,p,s,h,m,M]),mn(()=>{n||(w.current=void 0,T.current=!1,D(),z())},[n,D,z]),v.useEffect(()=>()=>{D(),clearTimeout(k.current),clearTimeout(C.current),z()},[l,s.domReference,D,z]);const U=v.useMemo(()=>{function O(N){w.current=N.pointerType}return{onPointerDown:O,onPointerEnter:O,onMouseMove(N){const{nativeEvent:P}=N;function K(){!E.current&&!y.current&&o(!0,P,"hover")}u&&!Hk(w.current)||n||d===0||T.current&&N.movementX**2+N.movementY**2<2||(clearTimeout(C.current),w.current==="touch"?K():(T.current=!0,C.current=window.setTimeout(K,d)))}}},[u,o,n,y,d]),R=v.useMemo(()=>({onMouseEnter(){clearTimeout(k.current)},onMouseLeave(O){H()||$(O.nativeEvent,!1)}}),[$,H]);return v.useMemo(()=>l?{reference:U,floating:R}:{},[l,U,R])}const Wk=()=>{},SD=v.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Wk,setState:Wk,isInstantPhase:!1}),yq=()=>v.useContext(SD);function vq(t){const{children:e,delay:n,timeoutMs:o=0}=t,[r,i]=v.useReducer((a,c)=>({...a,...c}),{delay:n,timeoutMs:o,initialDelay:n,currentId:null,isInstantPhase:!1}),s=v.useRef(null),l=v.useCallback(a=>{i({currentId:a})},[]);return mn(()=>{r.currentId?s.current===null?s.current=r.currentId:r.isInstantPhase||i({isInstantPhase:!0}):(r.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[r.currentId,r.isInstantPhase]),v.createElement(SD.Provider,{value:v.useMemo(()=>({...r,setState:i,setCurrentId:l}),[r,l])},e)}function wq(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,floatingId:r}=t,{id:i,enabled:s=!0}=e,l=i??r,a=yq(),{currentId:c,setCurrentId:u,initialDelay:d,setState:f,timeoutMs:h}=a;return mn(()=>{s&&c&&(f({delay:{open:1,close:Bm(d,"close")}}),c!==l&&o(!1))},[s,l,o,f,c,d]),mn(()=>{function p(){o(!1),f({delay:d,currentId:null})}if(s&&c&&!n&&c===l){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[s,n,f,c,l,o,d,h]),mn(()=>{s&&(u===Wk||!n||u(l))},[s,n,u,l]),a}function fv(t,e){let n=t.filter(r=>{var i;return r.parentId===e&&((i=r.context)==null?void 0:i.open)}),o=n;for(;o.length;)o=t.filter(r=>{var i;return(i=o)==null?void 0:i.some(s=>{var l;return r.parentId===s.id&&((l=r.context)==null?void 0:l.open)})}),n=n.concat(o);return n}const ED=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function TD(t,e){const n=pD(t,ED());e==="prev"&&n.reverse();const o=n.indexOf(zk(Ds(t)));return n.slice(o+1)[0]}function kq(){return TD(document.body,"next")}function xq(){return TD(document.body,"prev")}function hv(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!pu(n,o)}function Cq(t){pD(t,ED()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function nA(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const MD={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let _q;function oA(t){t.key==="Tab"&&(t.target,clearTimeout(_q))}const rA=v.forwardRef(function(e,n){const[o,r]=v.useState();mn(()=>(cD()&&r("button"),document.addEventListener("keydown",oA),()=>{document.removeEventListener("keydown",oA)}),[]);const i={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[Uh("focus-guard")]:"",style:MD};return v.createElement("span",qk({},e,i))}),AD=v.createContext(null),iA=Uh("portal");function Sq(t){t===void 0&&(t={});const{id:e,root:n}=t,o=W_(),r=Tq(),[i,s]=v.useState(null),l=v.useRef(null);return mn(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{l.current=null})},[i]),mn(()=>{if(!o||l.current)return;const a=e?document.getElementById(e):null;if(!a)return;const c=document.createElement("div");c.id=o,c.setAttribute(iA,""),a.appendChild(c),l.current=c,s(c)},[e,o]),mn(()=>{if(n===null||!o||l.current)return;let a=n||(r==null?void 0:r.portalNode);a&&!Ze(a)&&(a=a.current),a=a||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,a.appendChild(c));const u=document.createElement("div");u.id=o,u.setAttribute(iA,""),a=c||a,a.appendChild(u),l.current=u,s(u)},[e,n,o,r]),i}function Eq(t){const{children:e,id:n,root:o,preserveTabOrder:r=!0}=t,i=Sq({id:n,root:o}),[s,l]=v.useState(null),a=v.useRef(null),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=s==null?void 0:s.modal,h=s==null?void 0:s.open,p=!!s&&!s.modal&&s.open&&r&&!!(o||i);return v.useEffect(()=>{if(!i||!r||f)return;function m(b){i&&hv(b)&&(b.type==="focusin"?nA:Cq)(i)}return i.addEventListener("focusin",m,!0),i.addEventListener("focusout",m,!0),()=>{i.removeEventListener("focusin",m,!0),i.removeEventListener("focusout",m,!0)}},[i,r,f]),v.useEffect(()=>{i&&(h||nA(i))},[h,i]),v.createElement(AD.Provider,{value:v.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:a,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:i,setFocusManagerState:l}),[r,i])},p&&i&&v.createElement(rA,{"data-type":"outside",ref:a,onFocus:m=>{if(hv(m,i)){var b;(b=u.current)==null||b.focus()}else{const y=xq()||(s==null?void 0:s.refs.domReference.current);y==null||y.focus()}}}),p&&i&&v.createElement("span",{"aria-owns":i.id,style:MD}),i&&po.createPortal(e,i),p&&i&&v.createElement(rA,{"data-type":"outside",ref:c,onFocus:m=>{if(hv(m,i)){var b;(b=d.current)==null||b.focus()}else{const y=kq()||(s==null?void 0:s.refs.domReference.current);y==null||y.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,m.nativeEvent,"focus-out"))}}}))}const Tq=()=>v.useContext(AD),Mq="data-floating-ui-focusable",Aq={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Rq={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},sA=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function RD(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,elements:r,dataRef:i}=t,{enabled:s=!0,escapeKey:l=!0,outsidePress:a=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=e,m=Z_(),b=Ci(typeof a=="function"?a:()=>!1),y=typeof a=="function"?b:a,w=v.useRef(!1),k=v.useRef(!1),{escapeKey:x,outsidePress:C}=sA(h),{escapeKey:E,outsidePress:S}=sA(p),_=v.useRef(!1),T=Ci(U=>{var R;if(!n||!s||!l||U.key!=="Escape"||_.current)return;const O=(R=i.current.floatingContext)==null?void 0:R.nodeId,N=m?fv(m.nodesRef.current,O):[];if(!x&&(U.stopPropagation(),N.length>0)){let P=!0;if(N.forEach(K=>{var Z;if((Z=K.context)!=null&&Z.open&&!K.context.dataRef.current.__escapeKeyBubbles){P=!1;return}}),!P)return}o(!1,UF(U)?U.nativeEvent:U,"escape-key")}),M=Ci(U=>{var R;const O=()=>{var N;T(U),(N=pc(U))==null||N.removeEventListener("keydown",O)};(R=pc(U))==null||R.addEventListener("keydown",O)}),$=Ci(U=>{var R;const O=w.current;w.current=!1;const N=k.current;if(k.current=!1,c==="click"&&N||O||typeof y=="function"&&!y(U))return;const P=pc(U),K="["+Uh("inert")+"]",Z=Ds(r.floating).querySelectorAll(K);let ie=Ze(P)?P:null;for(;ie&&!nl(ie);){const qe=Wi(ie);if(nl(qe)||!Ze(qe))break;ie=qe}if(Z.length&&Ze(P)&&!FF(P)&&!pu(P,r.floating)&&Array.from(Z).every(qe=>!pu(ie,qe)))return;if(go(P)&&H){const qe=P.clientWidth>0&&P.scrollWidth>P.clientWidth,We=P.clientHeight>0&&P.scrollHeight>P.clientHeight;let Zt=We&&U.offsetX>P.clientWidth;if(We&&Wo(P).direction==="rtl"&&(Zt=U.offsetX<=P.offsetWidth-P.clientWidth),Zt||qe&&U.offsetY>P.clientHeight)return}const ve=(R=i.current.floatingContext)==null?void 0:R.nodeId,Pe=m&&fv(m.nodesRef.current,ve).some(qe=>{var We;return cv(U,(We=qe.context)==null?void 0:We.elements.floating)});if(cv(U,r.floating)||cv(U,r.domReference)||Pe)return;const Ge=m?fv(m.nodesRef.current,ve):[];if(Ge.length>0){let qe=!0;if(Ge.forEach(We=>{var Zt;if((Zt=We.context)!=null&&Zt.open&&!We.context.dataRef.current.__outsidePressBubbles){qe=!1;return}}),!qe)return}o(!1,U,"outside-press")}),D=Ci(U=>{var R;const O=()=>{var N;$(U),(N=pc(U))==null||N.removeEventListener(c,O)};(R=pc(U))==null||R.addEventListener(c,O)});v.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=x,i.current.__outsidePressBubbles=C;let U=-1;function R(Z){o(!1,Z,"ancestor-scroll")}function O(){window.clearTimeout(U),_.current=!0}function N(){U=window.setTimeout(()=>{_.current=!1},qy()?5:0)}const P=Ds(r.floating);l&&(P.addEventListener("keydown",E?M:T,E),P.addEventListener("compositionstart",O),P.addEventListener("compositionend",N)),y&&P.addEventListener(c,S?D:$,S);let K=[];return f&&(Ze(r.domReference)&&(K=$i(r.domReference)),Ze(r.floating)&&(K=K.concat($i(r.floating))),!Ze(r.reference)&&r.reference&&r.reference.contextElement&&(K=K.concat($i(r.reference.contextElement)))),K=K.filter(Z=>{var ie;return Z!==((ie=P.defaultView)==null?void 0:ie.visualViewport)}),K.forEach(Z=>{Z.addEventListener("scroll",R,{passive:!0})}),()=>{l&&(P.removeEventListener("keydown",E?M:T,E),P.removeEventListener("compositionstart",O),P.removeEventListener("compositionend",N)),y&&P.removeEventListener(c,S?D:$,S),K.forEach(Z=>{Z.removeEventListener("scroll",R)}),window.clearTimeout(U)}},[i,r,l,y,c,n,o,f,s,x,C,T,E,M,$,S,D]),v.useEffect(()=>{w.current=!1},[y,c]);const z=v.useMemo(()=>({onKeyDown:T,[Aq[d]]:U=>{u&&o(!1,U.nativeEvent,"reference-press")}}),[T,o,u,d]),H=v.useMemo(()=>({onKeyDown:T,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[Rq[c]]:()=>{w.current=!0}}),[T,c]);return v.useMemo(()=>s?{reference:z,floating:H}:{},[s,z,H])}function Nq(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=W_(),i=v.useRef({}),[s]=v.useState(()=>pq()),l=K_()!=null,[a,c]=v.useState(o.reference),u=Ci((h,p,m)=>{i.current.openEvent=h?p:void 0,s.emit("openchange",{open:h,event:p,reason:m,nested:l}),n==null||n(h,p,m)}),d=v.useMemo(()=>({setPositionReference:c}),[]),f=v.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return v.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:f,events:s,floatingId:r,refs:d}),[e,u,f,s,r,d])}function Ha(t){t===void 0&&(t={});const{nodeId:e}=t,n=Nq({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[i,s]=v.useState(null),[l,a]=v.useState(null),u=(r==null?void 0:r.domReference)||i,d=v.useRef(null),f=Z_();mn(()=>{u&&(d.current=u)},[u]);const h=iq({...t,elements:{...r,...l&&{reference:l}}}),p=v.useCallback(k=>{const x=Ze(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;a(x),h.refs.setReference(x)},[h.refs]),m=v.useCallback(k=>{(Ze(k)||k===null)&&(d.current=k,s(k)),(Ze(h.refs.reference.current)||h.refs.reference.current===null||k!==null&&!Ze(k))&&h.refs.setReference(k)},[h.refs]),b=v.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),y=v.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),w=v.useMemo(()=>({...h,...o,refs:b,elements:y,nodeId:e}),[h,b,y,e,o]);return mn(()=>{o.dataRef.current.floatingContext=w;const k=f==null?void 0:f.nodesRef.current.find(x=>x.id===e);k&&(k.context=w)}),v.useMemo(()=>({...h,context:w,refs:b,elements:y}),[h,b,y,w])}function Oq(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,events:r,dataRef:i,elements:s}=t,{enabled:l=!0,visibleOnly:a=!0}=e,c=v.useRef(!1),u=v.useRef(),d=v.useRef(!0);v.useEffect(()=>{if(!l)return;const h=Vn(s.domReference);function p(){!n&&go(s.domReference)&&s.domReference===zk(Ds(s.domReference))&&(c.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[s.domReference,n,l]),v.useEffect(()=>{if(!l)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(c.current=!0)}return r.on("openchange",h),()=>{r.off("openchange",h)}},[r,l]),v.useEffect(()=>()=>{clearTimeout(u.current)},[]);const f=v.useMemo(()=>({onPointerDown(h){zF(h.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(h){if(c.current)return;const p=pc(h.nativeEvent);if(a&&Ze(p))try{if(cD()&&HF())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!qF(p))return}o(!0,h.nativeEvent,"focus")},onBlur(h){c.current=!1;const p=h.relatedTarget,m=h.nativeEvent,b=Ze(p)&&p.hasAttribute(Uh("focus-guard"))&&p.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var y;const w=zk(s.domReference?s.domReference.ownerDocument:document);!p&&w===s.domReference||pu((y=i.current.floatingContext)==null?void 0:y.refs.floating.current,w)||pu(s.domReference,w)||b||o(!1,m,"focus")})}}),[i,s.domReference,o,a]);return v.useMemo(()=>l?{reference:f}:{},[l,f])}const lA="active",aA="selected";function pv(t,e,n){const o=new Map,r=n==="item";let i=t;if(r&&t){const{[lA]:s,[aA]:l,...a}=t;i=a}return{...n==="floating"&&{tabIndex:-1,[Mq]:""},...i,...e.map(s=>{const l=s?s[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(a=>{let[c,u]=a;if(!(r&&[lA,aA].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof u=="function"){var d;(d=o.get(c))==null||d.push(u),s[c]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=o.get(c))==null?void 0:f.map(b=>b(...p)).find(b=>b!==void 0)}}}else s[c]=u}),s),{})}}function ND(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),n=t.map(l=>l==null?void 0:l.floating),o=t.map(l=>l==null?void 0:l.item),r=v.useCallback(l=>pv(l,t,"reference"),e),i=v.useCallback(l=>pv(l,t,"floating"),n),s=v.useCallback(l=>pv(l,t,"item"),o);return v.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}const Lq=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Dq(t,e){var n;e===void 0&&(e={});const{open:o,floatingId:r}=t,{enabled:i=!0,role:s="dialog"}=e,l=(n=Lq.get(s))!=null?n:s,a=W_(),u=K_()!=null,d=v.useMemo(()=>l==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:o?r:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":o?r:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:a},...l==="menu"&&u&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[l,r,u,o,a,s]),f=v.useMemo(()=>{const p={id:r,...l&&{role:l}};return l==="tooltip"||s==="label"?p:{...p,...l==="menu"&&{"aria-labelledby":a}}},[l,r,a,s]),h=v.useCallback(p=>{let{active:m,selected:b}=p;const y={role:"option",...m&&{id:r+"-option"}};switch(s){case"select":return{...y,"aria-selected":m&&b};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[r,s]);return v.useMemo(()=>i?{reference:d,floating:f,item:h}:{},[i,d,f,h])}const cA=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function nc(t,e){return typeof t=="function"?t(e):t}function Iq(t,e){const[n,o]=v.useState(t);return t&&!n&&o(!0),v.useEffect(()=>{if(!t&&n){const r=setTimeout(()=>o(!1),e);return()=>clearTimeout(r)}},[t,n,e]),n}function $q(t,e){e===void 0&&(e={});const{open:n,elements:{floating:o}}=t,{duration:r=250}=e,s=(typeof r=="number"?r:r.close)||0,[l,a]=v.useState("unmounted"),c=Iq(n,s);return!c&&l==="close"&&a("unmounted"),mn(()=>{if(o){if(n){a("initial");const u=requestAnimationFrame(()=>{a("open")});return()=>{cancelAnimationFrame(u)}}a("close")}},[n,o]),{isMounted:c,status:l}}function Y_(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:o,close:r,common:i,duration:s=250}=e,l=t.placement,a=l.split("-")[0],c=v.useMemo(()=>({side:a,placement:l}),[a,l]),u=typeof s=="number",d=(u?s:s.open)||0,f=(u?s:s.close)||0,[h,p]=v.useState(()=>({...nc(i,c),...nc(n,c)})),{isMounted:m,status:b}=$q(t,{duration:s}),y=Vl(n),w=Vl(o),k=Vl(r),x=Vl(i);return mn(()=>{const C=nc(y.current,c),E=nc(k.current,c),S=nc(x.current,c),_=nc(w.current,c)||Object.keys(C).reduce((T,M)=>(T[M]="",T),{});if(b==="initial"&&p(T=>({transitionProperty:T.transitionProperty,...S,...C})),b==="open"&&p({transitionProperty:Object.keys(_).map(cA).join(","),transitionDuration:d+"ms",...S,..._}),b==="close"){const T=E||C;p({transitionProperty:Object.keys(T).map(cA).join(","),transitionDuration:f+"ms",...S,...T})}},[f,k,y,w,x,d,b,c]),{isMounted:m,styles:h}}const[Pq,Zo]=ju("ScrollArea.Root component was not found in tree");function gu(t,e){const n=$l(e);Bh(()=>{let o=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(o),r.unobserve(t)}}},[t,n])}const jq=v.forwardRef((t,e)=>{const{style:n,...o}=t,r=Zo(),[i,s]=v.useState(0),[l,a]=v.useState(0),c=!!(i&&l);return gu(r.scrollbarX,()=>{var d;const u=((d=r.scrollbarX)==null?void 0:d.offsetHeight)||0;r.onCornerHeightChange(u),a(u)}),gu(r.scrollbarY,()=>{var d;const u=((d=r.scrollbarY)==null?void 0:d.offsetWidth)||0;r.onCornerWidthChange(u),s(u)}),c?g.jsx("div",{...o,ref:e,style:{...n,width:i,height:l}}):null}),Bq=v.forwardRef((t,e)=>{const n=Zo(),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?g.jsx(jq,{...t,ref:e}):null}),zq={scrollHideDelay:1e3,type:"hover"},OD=v.forwardRef((t,e)=>{const{type:n,scrollHideDelay:o,scrollbars:r,getStyles:i,...s}=_e("ScrollAreaRoot",zq,t),[l,a]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,p]=v.useState(null),[m,b]=v.useState(null),[y,w]=v.useState(0),[k,x]=v.useState(0),[C,E]=v.useState(!1),[S,_]=v.useState(!1),T=xo(e,M=>a(M));return g.jsx(Pq,{value:{type:n,scrollHideDelay:o,scrollArea:l,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:_,onCornerWidthChange:w,onCornerHeightChange:x,getStyles:i},children:g.jsx(Oe,{...s,ref:T,__vars:{"--sa-corner-width":r!=="xy"?"0px":`${y}px`,"--sa-corner-height":r!=="xy"?"0px":`${k}px`}})})});OD.displayName="@mantine/core/ScrollAreaRoot";function LD(t,e){const n=t/e;return Number.isNaN(n)?0:n}function Ky(t){const e=LD(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function DD(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function Hq(t,[e,n]){return Math.min(n,Math.max(e,t))}function uA(t,e,n="ltr"){const o=Ky(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,s=e.content-e.viewport,l=i-o,a=n==="ltr"?[0,s]:[s*-1,0],c=Hq(t,a);return DD([0,s],[0,l])(c)}function Vq(t,e,n,o="ltr"){const r=Ky(n),i=r/2,s=e||i,l=r-s,a=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,d=o==="ltr"?[0,u]:[u*-1,0];return DD([a,c],d)(t)}function ID(t,e){return t>0&&t<e}function Fg(t){return t?parseInt(t,10):0}function sa(t,e,{checkForDefaultPrevented:n=!0}={}){return o=>{t==null||t(o),(n===!1||!o.defaultPrevented)&&(e==null||e(o))}}const[Uq,$D]=ju("ScrollAreaScrollbar was not found in tree"),PD=v.forwardRef((t,e)=>{const{sizes:n,hasThumb:o,onThumbChange:r,onThumbPointerUp:i,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:a,onWheelScroll:c,onResize:u,...d}=t,f=Zo(),[h,p]=v.useState(null),m=xo(e,_=>p(_)),b=v.useRef(null),y=v.useRef(""),{viewport:w}=f,k=n.content-n.viewport,x=$l(c),C=$l(l),E=Hy(u,10),S=_=>{if(b.current){const T=_.clientX-b.current.left,M=_.clientY-b.current.top;a({x:T,y:M})}};return v.useEffect(()=>{const _=T=>{const M=T.target;(h==null?void 0:h.contains(M))&&x(T,k)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[w,h,k,x]),v.useEffect(C,[n,C]),gu(h,E),gu(f.content,E),g.jsx(Uq,{value:{scrollbar:h,hasThumb:o,onThumbChange:$l(r),onThumbPointerUp:$l(i),onThumbPositionChange:C,onThumbPointerDown:$l(s)},children:g.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:sa(t.onPointerDown,_=>{_.preventDefault(),_.button===0&&(_.target.setPointerCapture(_.pointerId),b.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S(_))}),onPointerMove:sa(t.onPointerMove,S),onPointerUp:sa(t.onPointerUp,_=>{const T=_.target;T.hasPointerCapture(_.pointerId)&&(_.preventDefault(),T.releasePointerCapture(_.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,b.current=null}})})}),jD=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,style:r,...i}=t,s=Zo(),[l,a]=v.useState(),c=v.useRef(null),u=xo(e,c,s.onScrollbarXChange);return v.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),g.jsx(PD,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{...r,"--sa-thumb-width":`${Ky(n)}px`},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),ID(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Fg(l.paddingLeft),paddingEnd:Fg(l.paddingRight)}})}})});jD.displayName="@mantine/core/ScrollAreaScrollbarX";const BD=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,style:r,...i}=t,s=Zo(),[l,a]=v.useState(),c=v.useRef(null),u=xo(e,c,s.onScrollbarYChange);return v.useEffect(()=>{c.current&&a(window.getComputedStyle(c.current))},[]),g.jsx(PD,{...i,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${Ky(n)}px`,...r},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),ID(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Fg(l.paddingTop),paddingEnd:Fg(l.paddingBottom)}})}})});BD.displayName="@mantine/core/ScrollAreaScrollbarY";const Zy=v.forwardRef((t,e)=>{const{orientation:n="vertical",...o}=t,{dir:r}=zh(),i=Zo(),s=v.useRef(null),l=v.useRef(0),[a,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=LD(a.viewport,a.content),d={...o,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:h=>{l.current=h}},f=(h,p)=>Vq(h,l.current,a,p);return n==="horizontal"?g.jsx(jD,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=uA(h,a,r);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,r))}}):n==="vertical"?g.jsx(BD,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=uA(h,a);a.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null});Zy.displayName="@mantine/core/ScrollAreaScrollbarVisible";const X_=v.forwardRef((t,e)=>{const n=Zo(),{forceMount:o,...r}=t,[i,s]=v.useState(!1),l=t.orientation==="horizontal",a=Hy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?c:u)}},10);return gu(n.viewport,a),gu(n.content,a),o||i?g.jsx(Zy,{"data-state":i?"visible":"hidden",...r,ref:e}):null});X_.displayName="@mantine/core/ScrollAreaScrollbarAuto";const zD=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=Zo(),[i,s]=v.useState(!1);return v.useEffect(()=>{const{scrollArea:l}=r;let a=0;if(l){const c=()=>{window.clearTimeout(a),s(!0)},u=()=>{a=window.setTimeout(()=>s(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),n||i?g.jsx(X_,{"data-state":i?"visible":"hidden",...o,ref:e}):null});zD.displayName="@mantine/core/ScrollAreaScrollbarHover";const Fq=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=Zo(),i=t.orientation==="horizontal",[s,l]=v.useState("hidden"),a=Hy(()=>l("idle"),100);return v.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("hidden"),r.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,r.scrollHideDelay]),v.useEffect(()=>{const{viewport:c}=r,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("scrolling"),a()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[r.viewport,i,a]),n||s!=="hidden"?g.jsx(Zy,{"data-state":s==="hidden"?"hidden":"visible",...o,ref:e,onPointerEnter:sa(t.onPointerEnter,()=>l("interacting")),onPointerLeave:sa(t.onPointerLeave,()=>l("idle"))}):null}),Kk=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=Zo(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=r,l=t.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),r.type==="hover"?g.jsx(zD,{...o,ref:e,forceMount:n}):r.type==="scroll"?g.jsx(Fq,{...o,ref:e,forceMount:n}):r.type==="auto"?g.jsx(X_,{...o,ref:e,forceMount:n}):r.type==="always"?g.jsx(Zy,{...o,ref:e}):null});Kk.displayName="@mantine/core/ScrollAreaScrollbar";function Gq(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},o=0;return function r(){const i={left:t.scrollLeft,top:t.scrollTop},s=n.left!==i.left,l=n.top!==i.top;(s||l)&&e(),n=i,o=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(o)}const HD=v.forwardRef((t,e)=>{const{style:n,...o}=t,r=Zo(),i=$D(),{onThumbPositionChange:s}=i,l=xo(e,u=>i.onThumbChange(u)),a=v.useRef(void 0),c=Hy(()=>{a.current&&(a.current(),a.current=void 0)},100);return v.useEffect(()=>{const{viewport:u}=r;if(u){const d=()=>{if(c(),!a.current){const f=Gq(u,s);a.current=f,s()}};return s(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[r.viewport,c,s]),g.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:sa(t.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),h=u.clientX-f.left,p=u.clientY-f.top;i.onThumbPointerDown({x:h,y:p})}),onPointerUp:sa(t.onPointerUp,i.onThumbPointerUp)})});HD.displayName="@mantine/core/ScrollAreaThumb";const Zk=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=$D();return n||r.hasThumb?g.jsx(HD,{ref:e,...o}):null});Zk.displayName="@mantine/core/ScrollAreaThumb";const VD=v.forwardRef(({children:t,style:e,...n},o)=>{const r=Zo(),i=xo(o,r.onViewportChange);return g.jsx(Oe,{...n,ref:i,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e},children:g.jsx("div",{...r.getStyles("content"),ref:r.onContentChange,children:t})})});VD.displayName="@mantine/core/ScrollAreaViewport";var J_={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268",content:"m_b1336c6"};const UD={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},qq=(t,{scrollbarSize:e,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":V(e),"--scrollarea-over-scroll-behavior":n}}),Fh=at((t,e)=>{const n=_e("ScrollArea",UD,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,scrollbarSize:a,vars:c,type:u,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:b,scrollbars:y,onBottomReached:w,onTopReached:k,overscrollBehavior:x,attributes:C,...E}=n,[S,_]=v.useState(!1),[T,M]=v.useState(!1),[$,D]=v.useState(!1),z=On({name:"ScrollArea",props:n,classes:J_,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:C,vars:c,varsResolver:qq}),H=v.useRef(null),U=aq([h,H]);return v.useEffect(()=>{if(!H.current||b!=="present")return;const R=H.current,O=new ResizeObserver(()=>{const{scrollHeight:N,clientHeight:P,scrollWidth:K,clientWidth:Z}=R;M(N>P),D(K>Z)});return O.observe(R),()=>O.disconnect()},[H,b]),g.jsxs(OD,{getStyles:z,type:u==="never"?"always":u,scrollHideDelay:d,ref:e,scrollbars:y,...z("root"),...E,children:[g.jsx(VD,{...f,...z("viewport",{style:f==null?void 0:f.style}),ref:U,"data-offset-scrollbars":b===!0?"xy":b||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":b==="present"&&!$?"true":void 0,"data-vertical-hidden":b==="present"&&!T?"true":void 0,onScroll:R=>{var K;(K=f==null?void 0:f.onScroll)==null||K.call(f,R),p==null||p({x:R.currentTarget.scrollLeft,y:R.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:N,clientHeight:P}=R.currentTarget;O-(N-P)>=-.6&&(w==null||w()),O===0&&(k==null||k())},children:m}),(y==="xy"||y==="x")&&g.jsx(Kk,{...z("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||b==="present"&&!$?!0:void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:g.jsx(Zk,{...z("thumb")})}),(y==="xy"||y==="y")&&g.jsx(Kk,{...z("scrollbar"),orientation:"vertical","data-hidden":u==="never"||b==="present"&&!T?!0:void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:g.jsx(Zk,{...z("thumb")})}),g.jsx(Bq,{...z("corner"),"data-hovered":S||void 0,"data-hidden":u==="never"||void 0})]})});Fh.displayName="@mantine/core/ScrollArea";const Q_=at((t,e)=>{const{children:n,classNames:o,styles:r,scrollbarSize:i,scrollHideDelay:s,type:l,dir:a,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:b,vars:y,onBottomReached:w,onTopReached:k,...x}=_e("ScrollAreaAutosize",UD,t);return g.jsx(Oe,{...x,ref:e,style:[{display:"flex",overflow:"auto"},b],children:g.jsx(Oe,{style:{display:"flex",flexDirection:"column",flex:1},children:g.jsx(Fh,{classNames:o,styles:r,scrollHideDelay:s,scrollbarSize:i,type:l,dir:a,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:y,scrollbars:m,onBottomReached:w,onTopReached:k,children:n})})})});Fh.classes=J_;Q_.displayName="@mantine/core/ScrollAreaAutosize";Q_.classes=J_;Fh.Autosize=Q_;var FD={root:"m_87cf2631"};const Wq={__staticSelector:"UnstyledButton"},Hu=za((t,e)=>{const n=_e("UnstyledButton",Wq,t),{className:o,component:r="button",__staticSelector:i,unstyled:s,classNames:l,styles:a,style:c,attributes:u,...d}=n,f=On({name:i,props:n,classes:FD,className:o,style:c,classNames:l,styles:a,unstyled:s,attributes:u});return g.jsx(Oe,{...f("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...d})});Hu.classes=FD;Hu.displayName="@mantine/core/UnstyledButton";var GD={root:"m_515a97f8"};const eS=at((t,e)=>{const n=_e("VisuallyHidden",null,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,attributes:c,...u}=n,d=On({name:"VisuallyHidden",classes:GD,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:c});return g.jsx(Oe,{component:"span",ref:e,...d("root"),...u})});eS.classes=GD;eS.displayName="@mantine/core/VisuallyHidden";var qD={root:"m_1b7284a3"};const Kq=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:ja(e),"--paper-shadow":N_(n)}}),bu=za((t,e)=>{const n=_e("Paper",null,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,withBorder:a,vars:c,radius:u,shadow:d,variant:f,mod:h,attributes:p,...m}=n,b=On({name:"Paper",props:n,classes:qD,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:p,vars:c,varsResolver:Kq});return g.jsx(Oe,{ref:e,mod:[{"data-with-border":a},h],...b("root"),variant:f,...m})});bu.classes=qD;bu.displayName="@mantine/core/Paper";function dA(t,e,n,o){return t==="center"||o==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function fA(t,e,n,o,r){return t==="center"||o==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const Zq={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Yq({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:i,arrowY:s,dir:l}){const[a,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[Zq[a]]:o},d=-e/2;return a==="left"?{...u,...dA(c,s,n,r),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:a==="right"?{...u,...dA(c,s,n,r),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:a==="top"?{...u,...fA(c,i,n,r,l),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:a==="bottom"?{...u,...fA(c,i,n,r,l),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const WD=v.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:i,arrowX:s,arrowY:l,style:a,...c},u)=>{const{dir:d}=zh();return i?g.jsx("div",{...c,ref:u,style:{...a,...Yq({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:d,arrowX:s,arrowY:l})}}):null});WD.displayName="@mantine/core/FloatingArrow";function Xq(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,o]=e.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return e}var KD={root:"m_9814e45f"};const Jq={zIndex:Pa("modal")},Qq=(t,{gradient:e,color:n,backgroundOpacity:o,blur:r,radius:i,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||o!==void 0)&&Er(n||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${V(r)})`:void 0,"--overlay-radius":i===void 0?void 0:ja(i),"--overlay-z-index":s==null?void 0:s.toString()}}),Yy=za((t,e)=>{const n=_e("Overlay",Jq,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,fixed:c,center:u,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:b,backgroundOpacity:y,mod:w,attributes:k,...x}=n,C=On({name:"Overlay",props:n,classes:KD,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:k,vars:a,varsResolver:Qq});return g.jsx(Oe,{ref:e,...C("root"),mod:[{center:u,fixed:c},w],...x,children:d})});Yy.classes=KD;Yy.displayName="@mantine/core/Overlay";function mv(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function eW({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||mv(n):t;if(e){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const r=mv(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return mv(n)}const tW={reuseTargetNode:!0},ZD=at((t,e)=>{const{children:n,target:o,reuseTargetNode:r,...i}=_e("Portal",tW,t),[s,l]=v.useState(!1),a=v.useRef(null);return Bh(()=>(l(!0),a.current=eW({target:o,reuseTargetNode:r,...i}),Dk(e,a.current),!o&&!r&&a.current&&document.body.appendChild(a.current),()=>{!o&&!r&&a.current&&document.body.removeChild(a.current)}),[o]),!s||!a.current?null:po.createPortal(g.jsx(g.Fragment,{children:n}),a.current)});ZD.displayName="@mantine/core/Portal";const Xy=at(({withinPortal:t=!0,children:e,...n},o)=>Uy()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(ZD,{ref:o,...n,children:e}));Xy.displayName="@mantine/core/OptionalPortal";const _d=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Gp={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{..._d("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{..._d("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{..._d("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{..._d("top"),common:{transformOrigin:"top left"}},"pop-top-right":{..._d("top"),common:{transformOrigin:"top right"}}},hA={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function nW({transition:t,state:e,duration:n,timingFunction:o}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof t=="string"?t in Gp?{transitionProperty:Gp[t].transitionProperty,...r,...Gp[t].common,...Gp[t][hA[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[hA[e]]}}function oW({duration:t,exitDuration:e,timingFunction:n,mounted:o,onEnter:r,onExit:i,onEntered:s,onExited:l,enterDelay:a,exitDelay:c}){const u=Jr(),d=KL(),f=u.respectReducedMotion?d:!1,[h,p]=v.useState(f?0:t),[m,b]=v.useState(o?"entered":"exited"),y=v.useRef(-1),w=v.useRef(-1),k=v.useRef(-1);function x(){window.clearTimeout(y.current),window.clearTimeout(w.current),cancelAnimationFrame(k.current)}const C=S=>{x();const _=S?r:i,T=S?s:l,M=f?0:S?t:e;p(M),M===0?(typeof _=="function"&&_(),typeof T=="function"&&T(),b(S?"entered":"exited")):k.current=requestAnimationFrame(()=>{LC.flushSync(()=>{b(S?"pre-entering":"pre-exiting")}),k.current=requestAnimationFrame(()=>{typeof _=="function"&&_(),b(S?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof T=="function"&&T(),b(S?"entered":"exited")},M)})})},E=S=>{if(x(),typeof(S?a:c)!="number"){C(S);return}w.current=window.setTimeout(()=>{C(S)},S?a:c)};return sf(()=>{E(o)},[o]),v.useEffect(()=>()=>{x()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function Vu({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:o=n,mounted:r,children:i,timingFunction:s="ease",onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f}){const h=Uy(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:b}=oW({mounted:r,exitDuration:o,duration:n,timingFunction:s,onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f});return p===0||h==="test"?r?g.jsx(g.Fragment,{children:i({})}):t?i({display:"none"}):null:m==="exited"?t?i({display:"none"}):null:g.jsx(g.Fragment,{children:i(nW({transition:e,duration:p,state:m,timingFunction:b}))})}Vu.displayName="@mantine/core/Transition";const[rW,YD]=ju("Popover component was not found in the tree");function Jy({children:t,active:e=!0,refProp:n="ref",innerRef:o}){const r=cU(e),i=xo(r,o);return zy(t)?v.cloneElement(t,{[n]:i}):t}function XD(t){return g.jsx(eS,{tabIndex:-1,"data-autofocus":!0,...t})}Jy.displayName="@mantine/core/FocusTrap";XD.displayName="@mantine/core/FocusTrapInitialFocus";Jy.InitialFocus=XD;var JD={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const tS=at((t,e)=>{var b,y,w,k;const n=_e("PopoverDropdown",null,t),{className:o,style:r,vars:i,children:s,onKeyDownCapture:l,variant:a,classNames:c,styles:u,...d}=n,f=YD(),h=UL({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=xo(e,f.floating);return f.disabled?null:g.jsx(Xy,{...f.portalProps,withinPortal:f.withinPortal,children:g.jsx(Vu,{mounted:f.opened,...f.transitionProps,transition:((b=f.transitionProps)==null?void 0:b.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((w=f.transitionProps)==null?void 0:w.exitDuration)=="number"?f.transitionProps.exitDuration:(k=f.transitionProps)==null?void 0:k.duration,children:x=>g.jsx(Jy,{active:f.trapFocus&&f.opened,innerRef:m,children:g.jsxs(Oe,{...p,...d,variant:a,onKeyDownCapture:YV(()=>{var C,E;(C=f.onClose)==null||C.call(f),(E=f.onDismiss)==null||E.call(f)},{active:f.closeOnEscape,onTrigger:h,onKeyDown:l}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:o,props:n,classNames:c,styles:u,style:[{...x,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:V(f.width),...f.referenceHidden?{display:"none"}:null},f.resolvedStyles.dropdown,u==null?void 0:u.dropdown,r]}),children:[s,g.jsx(WD,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});tS.classes=JD;tS.displayName="@mantine/core/PopoverDropdown";const iW={refProp:"ref",popupType:"dialog"},QD=at((t,e)=>{const{children:n,refProp:o,popupType:r,...i}=_e("PopoverTarget",iW,t);if(!zy(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,l=YD(),a=xo(l.reference,mU(n),e),c=l.withRoles?{"aria-haspopup":r,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return v.cloneElement(n,{...s,...c,...l.targetProps,className:dt(l.targetProps.className,s.className,n.props.className),[o]:a,...l.controlled?null:{onClick:()=>{var u,d;l.onToggle(),(d=(u=n.props).onClick)==null||d.call(u)}}})});QD.displayName="@mantine/core/PopoverTarget";function sW(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function lW(t,e,n){const o=sW(t.middlewares),r=[vr(t.offset),lq()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(o.flip=!1,o.shift=!1),o.shift&&r.push(ml(typeof o.shift=="boolean"?{limiter:Ug(),padding:5}:{limiter:Ug(),padding:5,...o.shift})),o.flip&&r.push(typeof o.flip=="boolean"?bo():bo(o.flip)),o.inline&&r.push(typeof o.inline=="boolean"?ia():ia(o.inline)),r.push(q_({element:t.arrowRef,padding:t.arrowOffset})),(o.size||t.width==="target")&&r.push(Vh({...typeof o.size=="boolean"?{}:o.size,apply({rects:i,availableWidth:s,availableHeight:l,...a}){var d;const u=((d=e().refs.floating.current)==null?void 0:d.style)??{};o.size&&(typeof o.size=="object"&&o.size.apply?o.size.apply({rects:i,availableWidth:s,availableHeight:l,...a}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${l}px`})),t.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function aW(t){const e=Uy(),[n,o]=WL({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=v.useRef(n),i=()=>{n&&!t.disabled&&o(!1)},s=()=>{t.disabled||o(!n)},l=Ha({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:lW(t,()=>l,e),whileElementsMounted:t.keepMounted?void 0:Gk});return v.useEffect(()=>{if(!(!t.keepMounted||!l.refs.reference.current||!l.refs.floating.current)&&n)return Gk(l.refs.reference.current,l.refs.floating.current,l.update)},[t.keepMounted,n,l.refs.reference,l.refs.floating,l.update]),sf(()=>{var a;(a=t.onPositionChange)==null||a.call(t,l.placement),t.positionRef.current=l.placement},[l.placement]),sf(()=>{var a,c;n!==r.current&&(n?(c=t.onOpen)==null||c.call(t):(a=t.onClose)==null||a.call(t)),r.current=n},[n,t.onClose,t.onOpen]),sf(()=>{let a=-1;return n&&(a=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(a)}},[n,t.position]),{floating:l,controlled:typeof t.opened=="boolean",opened:n,onClose:i,onToggle:s}}const cW={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Pa("popover"),__staticSelector:"Popover",width:"max-content"},uW=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:ja(e),"--popover-shadow":N_(n)}});function ei(t){var GE,qE,WE,KE,ZE,YE,XE;const e=_e("Popover",cW,t),{children:n,position:o,offset:r,onPositionChange:i,positionDependencies:s,opened:l,transitionProps:a,onExitTransitionEnd:c,onEnterTransitionEnd:u,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,unstyled:w,classNames:k,styles:x,closeOnClickOutside:C,withinPortal:E,portalProps:S,closeOnEscape:_,clickOutsideEvents:T,trapFocus:M,onClose:$,onDismiss:D,onOpen:z,onChange:H,zIndex:U,radius:R,shadow:O,id:N,defaultOpened:P,__staticSelector:K,withRoles:Z,disabled:ie,returnFocus:ve,variant:Pe,keepMounted:Ge,vars:qe,floatingStrategy:We,withOverlay:Zt,overlayProps:et,hideDetached:Nt,attributes:_o,preventPositionChangeWhenVisible:si,...Jo}=e,Qo=On({name:K,props:e,classes:JD,classNames:k,styles:x,unstyled:w,attributes:_o,rootSelector:"dropdown",vars:qe,varsResolver:uW}),{resolvedStyles:li}=eD({classNames:k,styles:x,props:e}),[Ml,rs]=v.useState(l??P??!1),is=v.useRef(o),ai=v.useRef(null),[Ct,wp]=v.useState(null),[h1,p1]=v.useState(null),{dir:m1}=zh(),kp=Uy(),hd=O_(N),Ot=aW({middlewares:f,width:d,position:Xq(m1,o),offset:typeof r=="number"?r+(h?p/2:0):r,arrowRef:ai,arrowOffset:m,onPositionChange:i,positionDependencies:s,opened:l,defaultOpened:P,onChange:H,onOpen:z,onClose:$,onDismiss:D,strategy:We,dropdownVisible:Ml,setDropdownVisible:rs,positionRef:is,disabled:ie,preventPositionChangeWhenVisible:si,keepMounted:Ge});eU(()=>{C&&(Ot.onClose(),D==null||D())},T,[Ct,h1]);const xp=v.useCallback(Xn=>{wp(Xn),Ot.floating.refs.setReference(Xn)},[Ot.floating.refs.setReference]),Cp=v.useCallback(Xn=>{p1(Xn),Ot.floating.refs.setFloating(Xn)},[Ot.floating.refs.setFloating]),_p=v.useCallback(()=>{var Xn;(Xn=a==null?void 0:a.onExited)==null||Xn.call(a),c==null||c(),rs(!1),is.current=o},[a==null?void 0:a.onExited,c]),wn=v.useCallback(()=>{var Xn;(Xn=a==null?void 0:a.onEntered)==null||Xn.call(a),u==null||u()},[a==null?void 0:a.onEntered,u]);return g.jsxs(rW,{value:{returnFocus:ve,disabled:ie,controlled:Ot.controlled,reference:xp,floating:Cp,x:Ot.floating.x,y:Ot.floating.y,arrowX:(WE=(qE=(GE=Ot.floating)==null?void 0:GE.middlewareData)==null?void 0:qE.arrow)==null?void 0:WE.x,arrowY:(YE=(ZE=(KE=Ot.floating)==null?void 0:KE.middlewareData)==null?void 0:ZE.arrow)==null?void 0:YE.y,opened:Ot.opened,arrowRef:ai,transitionProps:{...a,onExited:_p,onEntered:wn},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,placement:Ot.floating.placement,trapFocus:M,withinPortal:E,portalProps:S,zIndex:U,radius:R,shadow:O,closeOnEscape:_,onDismiss:D,onClose:Ot.onClose,onToggle:Ot.onToggle,getTargetId:()=>`${hd}-target`,getDropdownId:()=>`${hd}-dropdown`,withRoles:Z,targetProps:Jo,__staticSelector:K,classNames:k,styles:x,unstyled:w,variant:Pe,keepMounted:Ge,getStyles:Qo,resolvedStyles:li,floatingStrategy:We,referenceHidden:Nt&&kp!=="test"?(XE=Ot.floating.middlewareData.hide)==null?void 0:XE.referenceHidden:!1},children:[n,Zt&&g.jsx(Vu,{transition:"fade",mounted:Ot.opened,duration:(a==null?void 0:a.duration)||250,exitDuration:(a==null?void 0:a.exitDuration)||250,children:Xn=>g.jsx(Xy,{withinPortal:E,children:g.jsx(Yy,{...et,...Qo("overlay",{className:et==null?void 0:et.className,style:[Xn,et==null?void 0:et.style]})})})})]})}ei.Target=QD;ei.Dropdown=tS;ei.displayName="@mantine/core/Popover";ei.extend=t=>t;var sr={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const eI=v.forwardRef(({className:t,...e},n)=>g.jsxs(Oe,{component:"span",className:dt(sr.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:sr.bar}),g.jsx("span",{className:sr.bar}),g.jsx("span",{className:sr.bar})]}));eI.displayName="@mantine/core/Bars";const tI=v.forwardRef(({className:t,...e},n)=>g.jsxs(Oe,{component:"span",className:dt(sr.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:sr.dot}),g.jsx("span",{className:sr.dot}),g.jsx("span",{className:sr.dot})]}));tI.displayName="@mantine/core/Dots";const nI=v.forwardRef(({className:t,...e},n)=>g.jsx(Oe,{component:"span",className:dt(sr.ovalLoader,t),...e,ref:n}));nI.displayName="@mantine/core/Oval";const oI={bars:eI,oval:nI,dots:tI},dW={loaders:oI,type:"oval"},fW=(t,{size:e,color:n})=>({root:{"--loader-size":dr(e,"loader-size"),"--loader-color":n?Ik(n,t):void 0}}),Qy=at((t,e)=>{const n=_e("Loader",dW,t),{size:o,color:r,type:i,vars:s,className:l,style:a,classNames:c,styles:u,unstyled:d,loaders:f,variant:h,children:p,attributes:m,...b}=n,y=On({name:"Loader",props:n,classes:sr,className:l,style:a,classNames:c,styles:u,unstyled:d,attributes:m,vars:s,varsResolver:fW});return p?g.jsx(Oe,{...y("root"),ref:e,...b,children:p}):g.jsx(Oe,{...y("root"),ref:e,component:f[i],variant:h,size:o,...b})});Qy.defaultLoaders=oI;Qy.classes=sr;Qy.displayName="@mantine/core/Loader";const rI=v.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},o)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:o,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));rI.displayName="@mantine/core/CloseIcon";var iI={root:"m_86a44da5","root--subtle":"m_220c80f2"};const hW={variant:"subtle"},pW=(t,{size:e,radius:n,iconSize:o})=>({root:{"--cb-size":dr(e,"cb-size"),"--cb-radius":n===void 0?void 0:ja(n),"--cb-icon-size":V(o)}}),nS=za((t,e)=>{const n=_e("CloseButton",hW,t),{iconSize:o,children:r,vars:i,radius:s,className:l,classNames:a,style:c,styles:u,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:b,attributes:y,__staticSelector:w,...k}=n,x=On({name:w||"CloseButton",props:n,className:l,style:c,classes:iI,classNames:a,styles:u,unstyled:d,attributes:y,vars:i,varsResolver:pW});return g.jsxs(Hu,{ref:e,...k,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},b],...x("root",{variant:p,active:!h&&!f}),children:[m||g.jsx(rI,{}),r]})});nS.classes=iI;nS.displayName="@mantine/core/CloseButton";function mW(t){return v.Children.toArray(t).filter(Boolean)}var sI={root:"m_4081bf90"};const gW={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},bW=(t,{grow:e,preventGrowOverflow:n,gap:o,align:r,justify:i,wrap:s},{childWidth:l})=>({root:{"--group-child-width":e&&n?l:void 0,"--group-gap":R_(o),"--group-align":r,"--group-justify":i,"--group-wrap":s}}),Bf=at((t,e)=>{const n=_e("Group",gW,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,children:a,gap:c,align:u,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:b,__size:y,mod:w,attributes:k,...x}=n,C=mW(a),E=C.length,S=R_(c??"md"),T={childWidth:`calc(${100/E}% - (${S} - ${S} / ${E}))`},M=On({name:"Group",props:n,stylesCtx:T,className:r,style:i,classes:sI,classNames:o,styles:s,unstyled:l,attributes:k,vars:m,varsResolver:bW});return g.jsx(Oe,{...M("root"),ref:e,variant:b,mod:[{grow:h},w],size:y,...x,children:C})});Bf.classes=sI;Bf.displayName="@mantine/core/Group";const[yW,Xi]=ju("ModalBase component was not found in tree");function vW({opened:t,transitionDuration:e}){const[n,o]=v.useState(t),r=v.useRef(-1),s=KL()?0:e;return v.useEffect(()=>(t?(o(!0),window.clearTimeout(r.current)):s===0?o(!1):r.current=window.setTimeout(()=>o(!1),s),()=>window.clearTimeout(r.current)),[t,s]),n}function wW({id:t,transitionProps:e,opened:n,trapFocus:o,closeOnEscape:r,onClose:i,returnFocus:s}){const l=O_(t),[a,c]=v.useState(!1),[u,d]=v.useState(!1),f=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,h=vW({opened:n,transitionDuration:f});return fU("keydown",p=>{var m;p.key==="Escape"&&r&&!p.isComposing&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),UL({opened:n,shouldReturnFocus:o&&s}),{_id:l,titleMounted:a,bodyMounted:u,shouldLockScroll:h,setTitleMounted:c,setBodyMounted:d}}const lI=v.forwardRef(({keepMounted:t,opened:e,onClose:n,id:o,transitionProps:r,onExitTransitionEnd:i,onEnterTransitionEnd:s,trapFocus:l,closeOnEscape:a,returnFocus:c,closeOnClickOutside:u,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:b,padding:y,__vars:w,unstyled:k,removeScrollProps:x,...C},E)=>{const{_id:S,titleMounted:_,bodyMounted:T,shouldLockScroll:M,setTitleMounted:$,setBodyMounted:D}=wW({id:o,transitionProps:r,opened:e,trapFocus:l,closeOnEscape:a,onClose:n,returnFocus:c}),{key:z,...H}=x||{};return g.jsx(Xy,{...f,withinPortal:d,children:g.jsx(yW,{value:{opened:e,onClose:n,closeOnClickOutside:u,onExitTransitionEnd:i,onEnterTransitionEnd:s,transitionProps:{...r,keepMounted:t},getTitleId:()=>`${S}-title`,getBodyId:()=>`${S}-body`,titleMounted:_,bodyMounted:T,setTitleMounted:$,setBodyMounted:D,trapFocus:l,closeOnEscape:a,zIndex:m,unstyled:k},children:g.jsx(jL,{enabled:M&&h,...H,children:g.jsx(Oe,{ref:E,...C,__vars:{...w,"--mb-z-index":(m||Pa("modal")).toString(),"--mb-shadow":N_(b),"--mb-padding":R_(y)},children:p})},z)})})});lI.displayName="@mantine/core/ModalBase";function kW(){const t=Xi();return v.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var yu={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const aI=v.forwardRef(({className:t,...e},n)=>{const o=kW(),r=Xi();return g.jsx(Oe,{ref:n,...e,id:o,className:dt({[yu.body]:!r.unstyled},t)})});aI.displayName="@mantine/core/ModalBaseBody";const cI=v.forwardRef(({className:t,onClick:e,...n},o)=>{const r=Xi();return g.jsx(nS,{ref:o,...n,onClick:i=>{r.onClose(),e==null||e(i)},className:dt({[yu.close]:!r.unstyled},t),unstyled:r.unstyled})});cI.displayName="@mantine/core/ModalBaseCloseButton";const uI=v.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:o,style:r,...i},s)=>{const l=Xi();return g.jsx(Vu,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var a,c,u;(a=l.onExitTransitionEnd)==null||a.call(l),(u=(c=l.transitionProps)==null?void 0:c.onExited)==null||u.call(c)},onEntered:()=>{var a,c,u;(a=l.onEnterTransitionEnd)==null||a.call(l),(u=(c=l.transitionProps)==null?void 0:c.onEntered)==null||u.call(c)},...t,children:a=>g.jsx("div",{...n,className:dt({[yu.inner]:!l.unstyled},n.className),children:g.jsx(Jy,{active:l.opened&&l.trapFocus,innerRef:s,children:g.jsx(bu,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[r,a],className:dt({[yu.content]:!l.unstyled},e),unstyled:l.unstyled,children:i.children})})})})});uI.displayName="@mantine/core/ModalBaseContent";const dI=v.forwardRef(({className:t,...e},n)=>{const o=Xi();return g.jsx(Oe,{component:"header",ref:n,className:dt({[yu.header]:!o.unstyled},t),...e})});dI.displayName="@mantine/core/ModalBaseHeader";const xW={duration:200,timingFunction:"ease",transition:"fade"};function CW(t){const e=Xi();return{...xW,...e.transitionProps,...t}}const fI=v.forwardRef(({onClick:t,transitionProps:e,style:n,visible:o,...r},i)=>{const s=Xi(),l=CW(e);return g.jsx(Vu,{mounted:o!==void 0?o:s.opened,...l,transition:"fade",children:a=>g.jsx(Yy,{ref:i,fixed:!0,style:[n,a],zIndex:s.zIndex,unstyled:s.unstyled,onClick:c=>{t==null||t(c),s.closeOnClickOutside&&s.onClose()},...r})})});fI.displayName="@mantine/core/ModalBaseOverlay";function _W(){const t=Xi();return v.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const hI=v.forwardRef(({className:t,...e},n)=>{const o=_W(),r=Xi();return g.jsx(Oe,{component:"h2",ref:n,className:dt({[yu.title]:!r.unstyled},t),...e,id:o})});hI.displayName="@mantine/core/ModalBaseTitle";function SW({children:t}){return g.jsx(g.Fragment,{children:t})}function pI({open:t,close:e,openDelay:n,closeDelay:o}){const r=v.useRef(-1),i=v.useRef(-1),s=()=>{window.clearTimeout(r.current),window.clearTimeout(i.current)},l=()=>{s(),n===0||n===void 0?t():r.current=window.setTimeout(t,n)},a=()=>{s(),o===0||o===void 0?e():i.current=window.setTimeout(e,o)};return v.useEffect(()=>s,[]),{openDropdown:l,closeDropdown:a}}function mI({style:t,size:e=16,...n}){return g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:V(e),height:V(e),display:"block"},...n,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}mI.displayName="@mantine/core/AccordionChevron";var Uu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const pA={orientation:"horizontal"},EW=(t,{borderWidth:e})=>({group:{"--button-border-width":V(e)}}),oS=at((t,e)=>{const n=_e("ButtonGroup",pA,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:a,vars:c,borderWidth:u,variant:d,mod:f,attributes:h,...p}=_e("ButtonGroup",pA,t),m=On({name:"ButtonGroup",props:n,classes:Uu,className:o,style:r,classNames:i,styles:s,unstyled:l,attributes:h,vars:c,varsResolver:EW,rootSelector:"group"});return g.jsx(Oe,{...m("group"),ref:e,variant:d,mod:[{"data-orientation":a},f],role:"group",...p})});oS.classes=Uu;oS.displayName="@mantine/core/ButtonGroup";const TW=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":dr(s,"section-height"),"--section-padding-x":dr(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?$g(s.replace("compact-","")):$g(s),"--section-radius":e===void 0?void 0:ja(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},rS=at((t,e)=>{const n=_e("ButtonGroupSection",null,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,variant:c,gradient:u,radius:d,autoContrast:f,attributes:h,...p}=n,m=On({name:"ButtonGroupSection",props:n,classes:Uu,className:o,style:r,classNames:i,styles:s,unstyled:l,attributes:h,vars:a,varsResolver:TW,rootSelector:"groupSection"});return g.jsx(Oe,{...m("groupSection"),ref:e,variant:c,...p})});rS.classes=Uu;rS.displayName="@mantine/core/ButtonGroupSection";const MW={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${V(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},AW=(t,{radius:e,color:n,gradient:o,variant:r,size:i,justify:s,autoContrast:l})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":dr(i,"button-height"),"--button-padding-x":dr(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?$g(i.replace("compact-","")):$g(i),"--button-radius":e===void 0?void 0:ja(e),"--button-bg":n||r?a.background:void 0,"--button-hover":n||r?a.hover:void 0,"--button-color":a.color,"--button-bd":n||r?a.border:void 0,"--button-hover-color":n||r?a.hoverColor:void 0}}},Is=za((t,e)=>{const n=_e("Button",null,t),{style:o,vars:r,className:i,color:s,disabled:l,children:a,leftSection:c,rightSection:u,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:b,classNames:y,styles:w,unstyled:k,"data-disabled":x,autoContrast:C,mod:E,attributes:S,..._}=n,T=On({name:"Button",props:n,classes:Uu,className:i,style:o,classNames:y,styles:w,unstyled:k,attributes:S,vars:r,varsResolver:AW}),M=!!c,$=!!u;return g.jsxs(Hu,{ref:e,...T("root",{active:!l&&!p&&!x}),unstyled:k,variant:f,disabled:l||p,mod:[{disabled:l||x,loading:p,block:d,"with-left-section":M,"with-right-section":$},E],..._,children:[g.jsx(Vu,{mounted:!!p,transition:MW,duration:150,children:D=>g.jsx(Oe,{component:"span",...T("loader",{style:D}),"aria-hidden":!0,children:g.jsx(Qy,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),g.jsxs("span",{...T("inner"),children:[c&&g.jsx(Oe,{component:"span",...T("section"),mod:{position:"left"},children:c}),g.jsx(Oe,{component:"span",mod:{loading:p},...T("label"),children:a}),u&&g.jsx(Oe,{component:"span",...T("section"),mod:{position:"right"},children:u})]})]})});Is.classes=Uu;Is.displayName="@mantine/core/Button";Is.Group=oS;Is.GroupSection=rS;const[RW,gl]=ju("Menu component was not found in the tree");var bl={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const iS=at((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=_e("MenuDivider",null,t),a=gl();return g.jsx(Oe,{ref:e,...a.getStyles("divider",{className:o,style:r,styles:i,classNames:n}),...l})});iS.classes=bl;iS.displayName="@mantine/core/MenuDivider";const sS=at((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:a,onKeyDown:c,children:u,...d}=_e("MenuDropdown",null,t),f=v.useRef(null),h=gl(),p=Hn(c,y=>{var w,k;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(k=(w=f.current)==null?void 0:w.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||k.focus())}),m=Hn(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),b=Hn(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return g.jsxs(ei.Dropdown,{...d,onMouseEnter:m,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:xo(e,f),...h.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});sS.classes=bl;sS.displayName="@mantine/core/MenuDropdown";const[NW,e0]=HL(),lS=za((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,closeMenuOnClick:a,leftSection:c,rightSection:u,children:d,disabled:f,"data-disabled":h,...p}=_e("MenuItem",null,t),m=gl(),b=e0(),y=Jr(),{dir:w}=zh(),k=v.useRef(null),x=p,C=Hn(x.onClick,()=>{h||(typeof a=="boolean"?a&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),E=l?y.variantColorResolver({color:l,theme:y,variant:"light"}):void 0,S=l?Ba({color:l,theme:y}):null,_=Hn(x.onKeyDown,T=>{T.key==="ArrowLeft"&&b&&(b.close(),b.focusParentItem())});return g.jsxs(Hu,{onMouseDown:T=>T.preventDefault(),...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,...m.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:xo(k,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-mantine-stop-propagation":!0,onClick:C,onKeyDown:VL({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:w,orientation:"vertical",onKeyDown:_}),__vars:{"--menu-item-color":S!=null&&S.isThemeColor&&(S==null?void 0:S.shade)===void 0?`var(--mantine-color-${S.color}-6)`:E==null?void 0:E.color,"--menu-item-hover":E==null?void 0:E.hover},children:[c&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:c}),d&&g.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:n}),children:d}),u&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:u})]})});lS.classes=bl;lS.displayName="@mantine/core/MenuItem";const aS=at((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=_e("MenuLabel",null,t),a=gl();return g.jsx(Oe,{ref:e,...a.getStyles("label",{className:o,style:r,styles:i,classNames:n}),...l})});aS.classes=bl;aS.displayName="@mantine/core/MenuLabel";const cS=at((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:a,onKeyDown:c,children:u,...d}=_e("MenuSubDropdown",null,t),f=v.useRef(null),h=gl(),p=e0(),m=Hn(l,p==null?void 0:p.open),b=Hn(a,p==null?void 0:p.close);return g.jsx(ei.Dropdown,{...d,onMouseEnter:m,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:xo(e,f),...h.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:u})});cS.classes=bl;cS.displayName="@mantine/core/MenuSubDropdown";const uS=za((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,leftSection:a,rightSection:c,children:u,disabled:d,"data-disabled":f,closeMenuOnClick:h,...p}=_e("MenuSubItem",null,t),m=gl(),b=e0(),y=Jr(),{dir:w}=zh(),k=v.useRef(null),x=p,C=l?y.variantColorResolver({color:l,theme:y,variant:"light"}):void 0,E=l?Ba({color:l,theme:y}):null,S=Hn(x.onKeyDown,$=>{$.key==="ArrowRight"&&(b==null||b.open(),b==null||b.focusFirstItem()),$.key==="ArrowLeft"&&(b!=null&&b.parentContext)&&(b.parentContext.close(),b.parentContext.focusParentItem())}),_=Hn(x.onClick,()=>{!f&&h&&m.closeDropdownImmediately()}),T=Hn(x.onMouseEnter,b==null?void 0:b.open),M=Hn(x.onMouseLeave,b==null?void 0:b.close);return g.jsxs(Hu,{onMouseDown:$=>$.preventDefault(),...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,...m.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:xo(k,e),role:"menuitem",disabled:d,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":d||f||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:T,onMouseLeave:M,onClick:_,onKeyDown:VL({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:w,orientation:"vertical",onKeyDown:S}),__vars:{"--menu-item-color":E!=null&&E.isThemeColor&&(E==null?void 0:E.shade)===void 0?`var(--mantine-color-${E.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[a&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:a}),u&&g.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:n}),children:u}),g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:c||g.jsx(mI,{...m.getStyles("chevron"),size:14})})]})});uS.classes=bl;uS.displayName="@mantine/core/MenuSubItem";function gI({children:t,refProp:e}){if(!zy(t))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return gl(),g.jsx(ei.Target,{refProp:e,popupType:"menu",children:t})}gI.displayName="@mantine/core/MenuSubTarget";const OW={offset:0,position:"right-start",transitionProps:{duration:0}};function Fu(t){const{children:e,closeDelay:n,...o}=_e("MenuSub",OW,t),r=O_(),[i,{open:s,close:l}]=pU(!1),a=e0(),{openDropdown:c,closeDropdown:u}=pI({open:s,close:l,closeDelay:n,openDelay:0}),d=()=>window.setTimeout(()=>{var h,p;(p=(h=document.getElementById(`${r}-dropdown`))==null?void 0:h.querySelectorAll("[data-menu-item]:not([data-disabled])")[0])==null||p.focus()},16),f=()=>window.setTimeout(()=>{var h;(h=document.getElementById(`${r}-target`))==null||h.focus()},16);return g.jsx(NW,{value:{opened:i,close:u,open:c,focusFirstItem:d,focusParentItem:f,parentContext:a},children:g.jsx(ei,{opened:i,...o,withinPortal:!1,withArrow:!1,id:r,children:e})})}Fu.extend=t=>t;Fu.displayName="@mantine/core/MenuSub";Fu.Target=gI;Fu.Dropdown=cS;Fu.Item=uS;const LW={refProp:"ref"},bI=v.forwardRef((t,e)=>{const{children:n,refProp:o,...r}=_e("MenuTarget",LW,t);if(!zy(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=gl(),s=n.props,l=Hn(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=Hn(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=Hn(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return g.jsx(ei.Target,{refProp:o,popupType:"menu",ref:e,...r,children:v.cloneElement(n,{onClick:l,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});bI.displayName="@mantine/core/MenuTarget";const DW={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Un(t){const e=_e("Menu",DW,t),{children:n,onOpen:o,onClose:r,opened:i,defaultOpened:s,trapFocus:l,onChange:a,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:b,unstyled:y,variant:w,vars:k,menuItemTabIndex:x,keepMounted:C,withInitialFocusPlaceholder:E,attributes:S,..._}=e,T=On({name:"Menu",classes:bl,props:e,classNames:m,styles:b,unstyled:y,attributes:S}),[M,$]=WL({value:i,defaultValue:s,finalValue:!1,onChange:a}),[D,z]=v.useState(!1),H=()=>{$(!1),z(!1),M&&(r==null||r())},U=()=>{$(!0),!M&&(o==null||o())},R=()=>{M?H():U()},{openDropdown:O,closeDropdown:N}=pI({open:U,close:H,closeDelay:p,openDelay:h}),P=ie=>XV("[data-menu-item]","[data-menu-dropdown]",ie),{resolvedClassNames:K,resolvedStyles:Z}=eD({classNames:m,styles:b,props:e});return g.jsx(RW,{value:{getStyles:T,opened:M,toggleDropdown:R,getItemIndex:P,openedViaClick:D,setOpenedViaClick:z,closeOnItemClick:c,closeDropdown:f==="click"?H:N,openDropdown:f==="click"?U:O,closeDropdownImmediately:H,loop:u,trigger:f,unstyled:y,menuItemTabIndex:x,withInitialFocusPlaceholder:E},children:g.jsx(ei,{..._,opened:M,onChange:R,defaultOpened:s,trapFocus:C?!1:l,closeOnEscape:d,__staticSelector:"Menu",classNames:K,styles:Z,unstyled:y,variant:w,keepMounted:C,children:n})})}Un.extend=t=>t;Un.withProps=AF(Un);Un.classes=bl;Un.displayName="@mantine/core/Menu";Un.Item=lS;Un.Label=aS;Un.Dropdown=sS;Un.Target=bI;Un.Divider=iS;Un.Sub=Fu;const[IW,Gu]=ju("Modal component was not found in tree");var Ji={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const t0=at((t,e)=>{const n=_e("ModalBody",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Gu();return g.jsx(aI,{ref:e,...c.getStyles("body",{classNames:o,style:i,styles:s,className:r}),...a})});t0.classes=Ji;t0.displayName="@mantine/core/ModalBody";const n0=at((t,e)=>{const n=_e("ModalCloseButton",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Gu();return g.jsx(cI,{ref:e,...c.getStyles("close",{classNames:o,style:i,styles:s,className:r}),...a})});n0.classes=Ji;n0.displayName="@mantine/core/ModalCloseButton";const o0=at((t,e)=>{const n=_e("ModalContent",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,children:a,__hidden:c,...u}=n,d=Gu(),f=d.scrollAreaComponent||SW;return g.jsx(uI,{...d.getStyles("content",{className:r,style:i,styles:s,classNames:o}),innerProps:d.getStyles("inner",{className:r,style:i,styles:s,classNames:o}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:e,...u,children:g.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${V(d.yOffset)} * 2))`},children:a})})});o0.classes=Ji;o0.displayName="@mantine/core/ModalContent";const r0=at((t,e)=>{const n=_e("ModalHeader",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Gu();return g.jsx(dI,{ref:e,...c.getStyles("header",{classNames:o,style:i,styles:s,className:r}),...a})});r0.classes=Ji;r0.displayName="@mantine/core/ModalHeader";const i0=at((t,e)=>{const n=_e("ModalOverlay",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Gu();return g.jsx(fI,{ref:e,...c.getStyles("overlay",{classNames:o,style:i,styles:s,className:r}),...a})});i0.classes=Ji;i0.displayName="@mantine/core/ModalOverlay";const $W={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Pa("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},PW=(t,{radius:e,size:n,yOffset:o,xOffset:r})=>({root:{"--modal-radius":e===void 0?void 0:ja(e),"--modal-size":dr(n,"modal-size"),"--modal-y-offset":V(o),"--modal-x-offset":V(r)}}),s0=at((t,e)=>{const n=_e("ModalRoot",$W,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,yOffset:c,scrollAreaComponent:u,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,attributes:b,...y}=n,w=On({name:m,classes:Ji,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:b,vars:a,varsResolver:PW});return g.jsx(IW,{value:{yOffset:c,scrollAreaComponent:u,getStyles:w,fullScreen:f},children:g.jsx(lI,{ref:e,...w("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":u===Fh.Autosize||void 0,unstyled:l,...y})})});s0.classes=Ji;s0.displayName="@mantine/core/ModalRoot";const[jW,BW]=HL();function yI({children:t}){const[e,n]=v.useState([]),[o,r]=v.useState(Pa("modal"));return g.jsx(jW,{value:{stack:e,addModal:(i,s)=>{n(l=>[...new Set([...l,i])]),r(l=>typeof s=="number"&&typeof l=="number"?Math.max(l,s):l)},removeModal:i=>n(s=>s.filter(l=>l!==i)),getZIndex:i=>`calc(${o} + ${e.indexOf(i)} + 1)`,currentId:e[e.length-1],maxZIndex:o},children:t})}yI.displayName="@mantine/core/ModalStack";const l0=at((t,e)=>{const n=_e("ModalTitle",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Gu();return g.jsx(hI,{ref:e,...c.getStyles("title",{classNames:o,style:i,styles:s,className:r}),...a})});l0.classes=Ji;l0.displayName="@mantine/core/ModalTitle";const zW={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Pa("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},wr=at((t,e)=>{const{title:n,withOverlay:o,overlayProps:r,withCloseButton:i,closeButtonProps:s,children:l,radius:a,opened:c,stackId:u,zIndex:d,...f}=_e("Modal",zW,t),h=BW(),p=!!n||i,m=h&&u?{closeOnEscape:h.currentId===u,trapFocus:h.currentId===u,zIndex:h.getZIndex(u)}:{},b=o===!1?!1:u&&h?h.currentId===u:c;return v.useEffect(()=>{h&&u&&(c?h.addModal(u,d||Pa("modal")):h.removeModal(u))},[c,u,d]),g.jsxs(s0,{ref:e,radius:a,opened:c,zIndex:h&&u?h.getZIndex(u):d,...f,...m,children:[o&&g.jsx(i0,{visible:b,transitionProps:h&&u?{duration:0}:void 0,...r}),g.jsxs(o0,{radius:a,__hidden:h&&u&&c?u!==h.currentId:!1,children:[p&&g.jsxs(r0,{children:[n&&g.jsx(l0,{children:n}),i&&g.jsx(n0,{...s})]}),g.jsx(t0,{children:l})]})]})});wr.classes=Ji;wr.displayName="@mantine/core/Modal";wr.Root=s0;wr.Overlay=i0;wr.Content=o0;wr.Body=t0;wr.Header=r0;wr.Title=l0;wr.CloseButton=n0;wr.Stack=yI;const HW=["h1","h2","h3","h4","h5","h6"],VW=["xs","sm","md","lg","xl"];function UW(t,e){const n=e!==void 0?e:`h${t}`;return HW.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:VW.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:V(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var vI={root:"m_8a5d1357"};const FW={order:1},GW=(t,{order:e,size:n,lineClamp:o,textWrap:r})=>{const i=UW(e||1,n);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof o=="number"?o.toString():void 0,"--title-text-wrap":r}}},a0=at((t,e)=>{const n=_e("Title",FW,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,order:a,vars:c,size:u,variant:d,lineClamp:f,textWrap:h,mod:p,attributes:m,...b}=n,y=On({name:"Title",props:n,classes:vI,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:m,vars:c,varsResolver:GW});return[1,2,3,4,5,6].includes(a)?g.jsx(Oe,{...y("root"),component:`h${a}`,variant:d,ref:e,mod:[{order:a,"data-line-clamp":typeof f=="number"},p],size:u,...b}):null});a0.classes=vI;a0.displayName="@mantine/core/Title";const qW="modulepreload",WW=function(t){return"/multi-block-note2/"+t},mA={},W=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(a=>{if(a=WW(a),a in mA)return;mA[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":qW,c||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Xt(t){this.content=t}Xt.prototype={constructor:Xt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,r=o.find(t),i=o.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new Xt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Xt(n)},addToStart:function(t,e){return new Xt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Xt(n)},addBefore:function(t,e,n){var o=this.remove(e),r=o.content.slice(),i=o.find(t);return r.splice(i==-1?r.length:i,0,e,n),new Xt(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Xt.from(t),t.size?new Xt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Xt.from(t),t.size?new Xt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Xt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Xt.from=function(t){if(t instanceof Xt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Xt(e)};function wI(t,e,n){for(let o=0;;o++){if(o==t.childCount||o==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(o),i=e.child(o);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let s=0;r.text[s]==i.text[s];s++)n++;return n}if(r.content.size||i.content.size){let s=wI(r.content,i.content,n+1);if(s!=null)return s}n+=r.nodeSize}}function kI(t,e,n,o){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:o};let s=t.child(--r),l=e.child(--i),a=s.nodeSize;if(s==l){n-=a,o-=a;continue}if(!s.sameMarkup(l))return{a:n,b:o};if(s.isText&&s.text!=l.text){let c=0,u=Math.min(s.text.length,l.text.length);for(;c<u&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,o--;return{a:n,b:o}}if(s.content.size||l.content.size){let c=kI(s.content,l.content,n-1,o-1);if(c)return c}n-=a,o-=a}}class L{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let o=0;o<e.length;o++)this.size+=e[o].nodeSize}nodesBetween(e,n,o,r=0,i){for(let s=0,l=0;l<n;s++){let a=this.content[s],c=l+a.nodeSize;if(c>e&&o(a,r+l,i||null,s)!==!1&&a.content.size){let u=l+1;a.nodesBetween(Math.max(0,e-u),Math.min(a.content.size,n-u),o,r+u)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,o,r){let i="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&o&&(s?s=!1:i+=o),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,o=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(o)&&(r[r.length-1]=n.withText(n.text+o.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new L(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let o=[],r=0;if(n>e)for(let i=0,s=0;s<n;i++){let l=this.content[i],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),o.push(l),r+=l.nodeSize),s=a}return new L(o,r)}cutByIndex(e,n){return e==n?L.empty:e==0&&n==this.content.length?this:new L(this.content.slice(e,n))}replaceChild(e,n){let o=this.content[e];if(o==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-o.nodeSize;return r[e]=n,new L(r,i)}addToStart(e){return new L([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new L(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,o=0;n<this.content.length;n++){let r=this.content[n];e(r,o,n),o+=r.nodeSize}}findDiffStart(e,n=0){return wI(this,e,n)}findDiffEnd(e,n=this.size,o=e.size){return kI(this,e,n,o)}findIndex(e){if(e==0)return qp(0,e);if(e==this.size)return qp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let r=this.child(n),i=o+r.nodeSize;if(i>=e)return i==e?qp(n+1,i):qp(n,o);o=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return L.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new L(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return L.empty;let n,o=0;for(let r=0;r<e.length;r++){let i=e[r];o+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new L(n||e,o)}static from(e){if(!e)return L.empty;if(e instanceof L)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new L([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}L.empty=new L([],0);const gv={index:0,offset:0};function qp(t,e){return gv.index=t,gv.offset=e,gv}function Gg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!Gg(t[o],e[o]))return!1}else{for(let o in t)if(!(o in e)||!Gg(t[o],e[o]))return!1;for(let o in e)if(!(o in t))return!1}return!0}let Fe=class Yk{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!o&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),o=!0),n&&n.push(i)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Gg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=o.create(n.attrs);return o.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Yk.none;if(e instanceof Yk)return[e];let n=e.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}};Fe.none=[];class qg extends Error{}class q{constructor(e,n,o){this.content=e,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let o=CI(this.content,e+this.openStart,n);return o&&new q(o,this.openStart,this.openEnd)}removeBetween(e,n){return new q(xI(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return q.empty;let o=n.openStart||0,r=n.openEnd||0;if(typeof o!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new q(L.fromJSON(e,n.content),o,r)}static maxOpen(e,n=!0){let o=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)o++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new q(e,o,r)}}q.empty=new q(L.empty,0,0);function xI(t,e,n){let{index:o,offset:r}=t.findIndex(e),i=t.maybeChild(o),{index:s,offset:l}=t.findIndex(n);if(r==e||i.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(o,i.copy(xI(i.content,e-r-1,n-r-1)))}function CI(t,e,n,o){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=CI(s.content,e-i-1,n);return l&&t.replaceChild(r,s.copy(l))}function KW(t,e,n){if(n.openStart>t.depth)throw new qg("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new qg("Inconsistent open depths");return _I(t,e,n,0)}function _I(t,e,n,o){let r=t.index(o),i=t.node(o);if(r==e.index(o)&&o<t.depth-n.openStart){let s=_I(t,e,n,o+1);return i.copy(i.content.replaceChild(r,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==o&&e.depth==o){let s=t.parent,l=s.content;return aa(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=ZW(n,t);return aa(i,EI(t,s,l,e,o))}else return aa(i,Wg(t,e,o))}function SI(t,e){if(!e.type.compatibleContent(t.type))throw new qg("Cannot join "+e.type.name+" onto "+t.type.name)}function Xk(t,e,n){let o=t.node(n);return SI(o,e.node(n)),o}function la(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function lf(t,e,n,o){let r=(e||t).node(n),i=0,s=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(la(t.nodeAfter,o),i++));for(let l=i;l<s;l++)la(r.child(l),o);e&&e.depth==n&&e.textOffset&&la(e.nodeBefore,o)}function aa(t,e){return t.type.checkContent(e),t.copy(e)}function EI(t,e,n,o,r){let i=t.depth>r&&Xk(t,e,r+1),s=o.depth>r&&Xk(n,o,r+1),l=[];return lf(null,t,r,l),i&&s&&e.index(r)==n.index(r)?(SI(i,s),la(aa(i,EI(t,e,n,o,r+1)),l)):(i&&la(aa(i,Wg(t,e,r+1)),l),lf(e,n,r,l),s&&la(aa(s,Wg(n,o,r+1)),l)),lf(o,null,r,l),new L(l)}function Wg(t,e,n){let o=[];if(lf(null,t,n,o),t.depth>n){let r=Xk(t,e,n+1);la(aa(r,Wg(t,e,n+1)),o)}return lf(e,null,n,o),new L(o)}function ZW(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(L.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class zf{constructor(e,n,o){this.pos=e,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let o=this.pos-this.path[this.path.length-1],r=e.child(n);return o?e.child(n).cut(o):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let o=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=o.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Fe.none;if(this.textOffset)return e.child(n).marks;let o=e.maybeChild(n-1),r=e.maybeChild(n);if(!o){let l=o;o=r,r=l}let i=o.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<o.length;i++)o[i].type.spec.inclusive===!1&&(!r||!o[i].isInSet(r.marks))&&(o=o[i--].removeFromSet(o));return o}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);o>=0;o--)if(e.pos<=this.end(o)&&(!n||n(this.node(o))))return new Kg(this,e,o);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let o=[],r=0,i=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(i),c=i-a;if(o.push(s,l,r+a),!c||(s=s.child(l),s.isText))break;i=c-1,r+=a+1}return new zf(n,o,i)}static resolveCached(e,n){let o=gA.get(e);if(o)for(let i=0;i<o.elts.length;i++){let s=o.elts[i];if(s.pos==n)return s}else gA.set(e,o=new YW);let r=o.elts[o.i]=zf.resolve(e,n);return o.i=(o.i+1)%XW,r}}class YW{constructor(){this.elts=[],this.i=0}}const XW=12,gA=new WeakMap;class Kg{constructor(e,n,o){this.$from=e,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const JW=Object.create(null);let Pi=class Jk{constructor(e,n,o,r=Fe.none){this.type=e,this.attrs=n,this.marks=r,this.content=o||L.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,o,r=0){this.content.nodesBetween(e,n,o,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,o,r){return this.content.textBetween(e,n,o,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,o){return this.type==e&&Gg(this.attrs,n||e.defaultAttrs||JW)&&Fe.sameSet(this.marks,o||Fe.none)}copy(e=null){return e==this.content?this:new Jk(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Jk(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,o=!1){if(e==n)return q.empty;let r=this.resolve(e),i=this.resolve(n),s=o?0:r.sharedDepth(n),l=r.start(s),c=r.node(s).content.cut(r.pos-l,i.pos-l);return new q(c,r.depth-s,i.depth-s)}replace(e,n,o){return KW(this.resolve(e),this.resolve(n),o)}nodeAt(e){for(let n=this;;){let{index:o,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(o),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:o}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(e);if(o<e)return{node:this.content.child(n),index:n,offset:o};let r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}}resolve(e){return zf.resolveCached(this,e)}resolveNoCache(e){return zf.resolve(this,e)}rangeHasMark(e,n,o){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(o.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),TI(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,o=L.empty,r=0,i=o.childCount){let s=this.contentMatchAt(e).matchFragment(o,r,i),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(o.child(a).marks))return!1;return!0}canReplaceWith(e,n,o,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(o),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Fe.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),e=o.addToSet(e)}if(!Fe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,o)}let r=L.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,o);return i.type.checkAttrs(i.attrs),i}};Pi.prototype.text=void 0;class Zg extends Pi{constructor(e,n,o,r){if(super(e,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):TI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Zg(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Zg(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function TI(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class va{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let o=new QW(e,n);if(o.next==null)return va.empty;let r=MI(o);o.next&&o.err("Unexpected trailing text");let i=sK(iK(r));return lK(i,o),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,o=e.childCount){let r=this;for(let i=n;r&&i<o;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let o=0;o<e.next.length;o++)if(this.next[n].type==e.next[o].type)return!0;return!1}fillBefore(e,n=!1,o=0){let r=[this];function i(s,l){let a=s.matchFragment(e,o);if(a&&(!n||a.validEnd))return L.from(l.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let f=i(d,l.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==e)return this.wrapCache[o+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let r=o.shift(),i=r.match;if(i.matchType(e)){let s=[];for(let l=r;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:a}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||a.validEnd)&&(o.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(o){e.push(o);for(let r=0;r<o.next.length;r++)e.indexOf(o.next[r].next)==-1&&n(o.next[r].next)}return n(this),e.map((o,r)=>{let i=r+(o.validEnd?"*":" ")+" ";for(let s=0;s<o.next.length;s++)i+=(s?", ":"")+o.next[s].type.name+"->"+e.indexOf(o.next[s].next);return i}).join(`
`)}}va.empty=new va(!0);class QW{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function MI(t){let e=[];do e.push(eK(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function eK(t){let e=[];do e.push(tK(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function tK(t){let e=rK(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=nK(t,e);else break;return e}function bA(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function nK(t,e){let n=bA(t),o=n;return t.eat(",")&&(t.next!="}"?o=bA(t):o=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function oK(t,e){let n=t.nodeTypes,o=n[e];if(o)return[o];let r=[];for(let i in n){let s=n[i];s.isInGroup(e)&&r.push(s)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function rK(t){if(t.eat("(")){let e=MI(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=oK(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function iK(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function o(s,l,a){let c={term:a,to:l};return e[s].push(c),c}function r(s,l){s.forEach(a=>a.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((a,c)=>a.concat(i(c,l)),[]);if(s.type=="seq")for(let a=0;;a++){let c=i(s.exprs[a],l);if(a==s.exprs.length-1)return c;r(c,l=n())}else if(s.type=="star"){let a=n();return o(l,a),r(i(s.expr,a),a),[o(a)]}else if(s.type=="plus"){let a=n();return r(i(s.expr,l),a),r(i(s.expr,a),a),[o(a)]}else{if(s.type=="opt")return[o(l)].concat(i(s.expr,l));if(s.type=="range"){let a=l;for(let c=0;c<s.min;c++){let u=n();r(i(s.expr,a),u),a=u}if(s.max==-1)r(i(s.expr,a),a);else for(let c=s.min;c<s.max;c++){let u=n();o(a,u),r(i(s.expr,a),u),a=u}return[o(a)]}else{if(s.type=="name")return[o(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function AI(t,e){return e-t}function yA(t,e){let n=[];return o(e),n.sort(AI);function o(r){let i=t[r];if(i.length==1&&!i[0].term)return o(i[0].to);n.push(r);for(let s=0;s<i.length;s++){let{term:l,to:a}=i[s];!l&&n.indexOf(a)==-1&&o(a)}}}function sK(t){let e=Object.create(null);return n(yA(t,0));function n(o){let r=[];o.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let u=0;u<r.length;u++)r[u][0]==l&&(c=r[u][1]);yA(t,a).forEach(u=>{c||r.push([l,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[o.join(",")]=new va(o.indexOf(t.length-1)>-1);for(let s=0;s<r.length;s++){let l=r[s][1].sort(AI);i.next.push({type:r[s][0],next:e[l.join(",")]||n(l)})}return i}}function lK(t,e){for(let n=0,o=[t];n<o.length;n++){let r=o[n],i=!r.validEnd,s=[];for(let l=0;l<r.next.length;l++){let{type:a,next:c}=r.next[l];s.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),o.indexOf(c)==-1&&o.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function RI(t){let e=Object.create(null);for(let n in t){let o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function NI(t,e){let n=Object.create(null);for(let o in t){let r=e&&e[o];if(r===void 0){let i=t[o];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=r}return n}function OI(t,e,n,o){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function LI(t,e){let n=Object.create(null);if(e)for(let o in e)n[o]=new cK(t,o,e[o]);return n}let vA=class DI{constructor(e,n,o){this.name=e,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=LI(e,o.attrs),this.defaultAttrs=RI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==va.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:NI(this.attrs,e)}create(e=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pi(this,this.computeAttrs(e),L.from(n),Fe.setFrom(o))}createChecked(e=null,n,o){return n=L.from(n),this.checkContent(n),new Pi(this,this.computeAttrs(e),n,Fe.setFrom(o))}createAndFill(e=null,n,o){if(e=this.computeAttrs(e),n=L.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(L.empty,!0);return i?new Pi(this,e,n.append(i),Fe.setFrom(o)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){OI(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let o=0;o<e.length;o++)this.allowsMarkType(e[o].type)?n&&n.push(e[o]):n||(n=e.slice(0,o));return n?n.length?n:Fe.none:e}static compile(e,n){let o=Object.create(null);e.forEach((i,s)=>o[i]=new DI(i,n,s));let r=n.spec.topNode||"doc";if(!o[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let i in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function aK(t,e,n){let o=n.split("|");return r=>{let i=r===null?"null":typeof r;if(o.indexOf(i)<0)throw new RangeError(`Expected value of type ${o} for attribute ${e} on type ${t}, got ${i}`)}}class cK{constructor(e,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?aK(e,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class c0{constructor(e,n,o,r){this.name=e,this.rank=n,this.schema=o,this.spec=r,this.attrs=LI(e,r.attrs),this.excluded=null;let i=RI(this.attrs);this.instance=i?new Fe(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Fe(this,NI(this.attrs,e))}static compile(e,n){let o=Object.create(null),r=0;return e.forEach((i,s)=>o[i]=new c0(i,r++,n,s)),o}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){OI(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let II=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=Xt.from(e.nodes),n.marks=Xt.from(e.marks||{}),this.nodes=vA.compile(this.spec.nodes,this),this.marks=c0.compile(this.spec.marks,this);let o=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=o[s]||(o[s]=va.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?wA(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:wA(this,s.split(" "))}this.nodeFromJSON=r=>Pi.fromJSON(this,r),this.markFromJSON=r=>Fe.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,o,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof vA){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,o,r)}text(e,n){let o=this.nodes.text;return new Zg(o,o.defaultAttrs,e,Fe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function wA(t,e){let n=[];for(let o=0;o<e.length;o++){let r=e[o],i=t.marks[r],s=i;if(i)n.push(i);else for(let l in t.marks){let a=t.marks[l];(r=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}function uK(t){return t.tag!=null}function dK(t){return t.style!=null}let zr=class Qk{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(r=>{if(uK(r))this.tags.push(r);else if(dK(r)){let i=/[^=]*/.exec(r.style)[0];o.indexOf(i)<0&&o.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let o=new xA(this,n,!1);return o.addAll(e,Fe.none,n.from,n.to),o.finish()}parseSlice(e,n={}){let o=new xA(this,n,!0);return o.addAll(e,Fe.none,n.from,n.to),q.maxOpen(o.finish())}matchTag(e,n,o){for(let r=o?this.tags.indexOf(o)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(pK(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,o,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!o.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function o(r){let i=r.priority==null?50:r.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<i)break}n.splice(s,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(s=>{o(s=CA(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(s=>{o(s=CA(s)),s.node||s.ignore||s.mark||(s.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Qk(e,Qk.schemaRules(e)))}};const $I={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},fK={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},PI={ol:!0,ul:!0},Hf=1,ex=2,af=4;function kA(t,e,n){return e!=null?(e?Hf:0)|(e==="full"?ex:0):t&&t.whitespace=="pre"?Hf|ex:n&~af}class Wp{constructor(e,n,o,r,i,s){this.type=e,this.attrs=n,this.marks=o,this.solid=r,this.options=s,this.content=[],this.activeMarks=Fe.none,this.match=i||(s&af?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(L.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,r;return(r=o.findWrapping(e.type))?(this.match=o,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Hf)){let o=this.content[this.content.length-1],r;if(o&&o.isText&&(r=/[ \t\r\n\u000c]+$/.exec(o.text))){let i=o;o.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=L.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$I.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class xA{constructor(e,n,o){this.parser=e,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let r=n.topNode,i,s=kA(null,n.preserveWhitespace,0)|(o?af:0);r?i=new Wp(r.type,r.attrs,Fe.none,!0,n.topMatch||r.type.contentMatch,s):o?i=new Wp(null,null,Fe.none,!0,null,s):i=new Wp(e.schema.topNodeType,null,Fe.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let o=e.nodeValue,r=this.top,i=r.options&ex?"full":this.localPreserveWS||(r.options&Hf)>0;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(o)){if(i)i!=="full"?o=o.replace(/\r?\n|\r/g," "):o=o.replace(/\r\n?/g,`
`);else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o),n,!/\S/.test(o)),this.findInText(e)}else this.findInside(e)}addElement(e,n,o){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;PI.hasOwnProperty(s)&&this.parser.normalizeLists&&hK(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,o));e:if(a?a.ignore:fK.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let c,u=this.needsBlock;if($I.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=a&&a.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,a,c,a.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let o=e.style;if(o&&o.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],s=o.getPropertyValue(i);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(i,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,o,r){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),o,e.nodeName=="BR")||this.leafFallback(e,o);else{let a=this.enter(s,n.attrs||null,o,n.preserveWhitespace);a&&(i=!0,o=a)}else{let a=this.parser.schema.marks[n.mark];o=o.concat(a.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,o,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,o,!1));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,o),this.findAround(e,a,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,o,r){let i=o||0;for(let s=o?e.childNodes[o]:e.firstChild,l=r==null?null:e.childNodes[r];s!=l;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n,o){let r,i;for(let s=this.open,l=0;s>=0;s--){let a=this.nodes[s],c=a.findWrapping(e);if(c&&(!r||r.length>c.length+l)&&(r=c,i=a,!c.length))break;if(a.solid){if(o)break;l+=2}}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n,o){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n,o);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Fe.none;for(let l of r.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):_A(l.type,e.type))&&(s=l.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,o,r){let i=this.findPlace(e.create(n),o,!1);return i&&(i=this.enterInner(e,n,o,!0,r)),i}enterInner(e,n,o,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=kA(e,i,s.options);s.options&af&&s.content.length==0&&(l|=af);let a=Fe.none;return o=o.filter(c=>(s.type?s.type.allowsMarkType(c.type):_A(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new Wp(e,n,a,r,null,l)),this.open++,o}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Hf)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let r=o.length-1;r>=0;r--)e+=o[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,o){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(o?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),o=this.options.context,r=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),i=-(o?o.depth+1:0)+(r?0:1),s=(l,a)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;a>=i;a--)if(s(l-1,a))return!0;return!1}else{let u=a>0||a==0&&r?this.nodes[a].type:o&&a>=i?o.node(a-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function hK(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let o=e.nodeType==1?e.nodeName.toLowerCase():null;o&&PI.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):o=="li"?n=e:o&&(n=null)}}function pK(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function CA(t){let e={};for(let n in t)e[n]=t[n];return e}function _A(t,e){let n=e.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(t))continue;let i=[],s=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:u}=l.edge(a);if(c==e||i.indexOf(u)<0&&s(u))return!0}};if(s(r.contentMatch))return!0}}class Qi{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},o){o||(o=bv(n).createDocumentFragment());let r=o,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let l=0,a=0;for(;l<i.length&&a<s.marks.length;){let c=s.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)r=i.pop()[1];for(;a<s.marks.length;){let c=s.marks[a++],u=this.serializeMark(c,s.isInline,n);u&&(i.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(s,n))}),o}serializeNodeInner(e,n){let{dom:o,contentDOM:r}=zm(bv(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return o}serializeNode(e,n={}){let o=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(o),o=i.dom)}return o}serializeMark(e,n,o={}){let r=this.marks[e.type.name];return r&&zm(bv(o),r(e,n),null,e.attrs)}static renderSpec(e,n,o=null,r){return zm(e,n,o,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Qi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=SA(e.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(e){return SA(e.marks)}}function SA(t){let e={};for(let n in t){let o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function bv(t){return t.document||window.document}const EA=new WeakMap;function mK(t){let e=EA.get(t);return e===void 0&&EA.set(t,e=gK(t)),e}function gK(t){let e=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")e||(e=[]),e.push(o);else for(let r=0;r<o.length;r++)n(o[r]);else for(let r in o)n(o[r])}return n(t),e}function zm(t,e,n,o){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(i=mK(o))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(n=r.slice(0,s),r=r.slice(s+1));let l,a=n?t.createElementNS(n,r):t.createElement(r),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&a.style?a.style.cssText=c[d]:a.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:p}=zm(t,f,n,o);if(a.appendChild(h),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}const jI=65535,BI=Math.pow(2,16);function bK(t,e){return t+e*BI}function TA(t){return t&jI}function yK(t){return(t-(t&jI))/BI}const zI=1,HI=2,Hm=4,VI=8;class tx{constructor(e,n,o){this.pos=e,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&VI)>0}get deletedBefore(){return(this.delInfo&(zI|Hm))>0}get deletedAfter(){return(this.delInfo&(HI|Hm))>0}get deletedAcross(){return(this.delInfo&Hm)>0}}class so{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&so.empty)return so.empty}recover(e){let n=0,o=TA(e);if(!this.inverted)for(let r=0;r<o;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[o*3]+n+yK(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,o){let r=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let c=this.ranges[l+i],u=this.ranges[l+s],d=a+c;if(e<=d){let f=c?e==a?-1:e==d?1:n:n,h=a+r+(f<0?0:u);if(o)return h;let p=e==(n<0?a:d)?null:bK(l/3,e-a),m=e==a?HI:e==d?zI:Hm;return(n<0?e!=a:e!=d)&&(m|=VI),new tx(h,m,p)}r+=u-c}return o?e+r:new tx(e+r,0,null)}touches(e,n){let o=0,r=TA(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?o:0);if(a>e)break;let c=this.ranges[l+i],u=a+c;if(e<=u&&l==r*3)return!0;o+=this.ranges[l+s]-c}return!1}forEach(e){let n=this.inverted?2:1,o=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let s=this.ranges[r],l=s-(this.inverted?i:0),a=s+(this.inverted?0:i),c=this.ranges[r+n],u=this.ranges[r+o];e(l,l+c,a,a+u),i+=u-c}}invert(){return new so(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?so.empty:new so(e<0?[0,-e,0]:[0,0,e])}}so.empty=new so([]);class vu{constructor(e,n,o=0,r=e?e.length:0){this.mirror=n,this.from=o,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new vu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,o=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?o+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,o=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?o-r-1:void 0)}}invert(){let e=new vu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let o=this.from;o<this.to;o++)e=this._maps[o].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,o){let r=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this._maps[a].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return o?e:new tx(e,r,null)}}const yv=Object.create(null);class yn{getMap(){return so.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=yv[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in yv)throw new RangeError("Duplicate use of step JSON ID "+e);return yv[e]=n,n.prototype.jsonID=e,n}}class Mt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Mt(e,null)}static fail(e){return new Mt(null,e)}static fromReplace(e,n,o,r){try{return Mt.ok(e.replace(n,o,r))}catch(i){if(i instanceof qg)return Mt.fail(i.message);throw i}}}function dS(t,e,n){let o=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(dS(i.content,e,i))),i.isInline&&(i=e(i,n,r)),o.push(i)}return L.fromArray(o)}class $s extends yn{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),i=new q(dS(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),n.openStart,n.openEnd);return Mt.fromReplace(e,this.from,this.to,i)}invert(){return new Lr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new $s(n.pos,o.pos,this.mark)}merge(e){return e instanceof $s&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $s(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $s(n.from,n.to,e.markFromJSON(n.mark))}}yn.jsonID("addMark",$s);class Lr extends yn{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=new q(dS(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return Mt.fromReplace(e,this.from,this.to,o)}invert(){return new $s(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new Lr(n.pos,o.pos,this.mark)}merge(e){return e instanceof Lr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Lr(n.from,n.to,e.markFromJSON(n.mark))}}yn.jsonID("removeMark",Lr);class Ps extends yn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Mt.fromReplace(e,this.pos,this.pos+1,new q(L.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(o))return new Ps(this.pos,n.marks[r]);return new Ps(this.pos,this.mark)}}return new wa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ps(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ps(n.pos,e.markFromJSON(n.mark))}}yn.jsonID("addNodeMark",Ps);class wa extends yn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Mt.fromReplace(e,this.pos,this.pos+1,new q(L.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ps(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wa(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wa(n.pos,e.markFromJSON(n.mark))}}yn.jsonID("removeNodeMark",wa);class Et extends yn{constructor(e,n,o,r=!1){super(),this.from=e,this.to=n,this.slice=o,this.structure=r}apply(e){return this.structure&&nx(e,this.from,this.to)?Mt.fail("Structure replace would overwrite content"):Mt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new so([this.from,this.to-this.from,this.slice.size])}invert(e){return new Et(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new Et(n.pos,Math.max(n.pos,o.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Et)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?q.empty:new q(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Et(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?q.empty:new q(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Et(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Et(n.from,n.to,q.fromJSON(e,n.slice),!!n.structure)}}yn.jsonID("replace",Et);class xt extends yn{constructor(e,n,o,r,i,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=i,this.insert=s,this.structure=l}apply(e){if(this.structure&&(nx(e,this.from,this.gapFrom)||nx(e,this.gapTo,this.to)))return Mt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Mt.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?Mt.fromReplace(e,this.from,this.to,o):Mt.fail("Content does not fit in gap")}getMap(){return new so([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new xt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?o.pos:e.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||r<n.pos||i>o.pos?null:new xt(n.pos,o.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xt(n.from,n.to,n.gapFrom,n.gapTo,q.fromJSON(e,n.slice),n.insert,!!n.structure)}}yn.jsonID("replaceAround",xt);function nx(t,e,n){let o=t.resolve(e),r=n-e,i=o.depth;for(;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0){let s=o.node(i).maybeChild(o.indexAfter(i));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function vK(t,e,n,o){let r=[],i=[],s,l;t.doc.nodesBetween(e,n,(a,c,u)=>{if(!a.isInline)return;let d=a.marks;if(!o.isInSet(d)&&u.type.allowsMarkType(o.type)){let f=Math.max(c,e),h=Math.min(c+a.nodeSize,n),p=o.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[m])?s.to=h:r.push(s=new Lr(f,h,d[m])));l&&l.to==f?l.to=h:i.push(l=new $s(f,h,o))}}),r.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function wK(t,e,n,o){let r=[],i=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;i++;let a=null;if(o instanceof c0){let c=s.marks,u;for(;u=o.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c)}else o?o.isInSet(s.marks)&&(a=[o]):a=s.marks;if(a&&a.length){let c=Math.min(l+s.nodeSize,n);for(let u=0;u<a.length;u++){let d=a[u],f;for(let h=0;h<r.length;h++){let p=r[h];p.step==i-1&&d.eq(r[h].style)&&(f=p)}f?(f.to=c,f.step=i):r.push({style:d,from:Math.max(l,e),to:c,step:i})}}}),r.forEach(s=>t.step(new Lr(s.from,s.to,s.style)))}function fS(t,e,n,o=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),u=l+c.nodeSize,d=o.matchType(c.type);if(!d)s.push(new Et(l,u,q.empty));else{o=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Lr(l,u,c.marks[f]));if(r&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new q(L.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Et(l+f.index,l+f.index+f[0].length,p))}}l=u}if(!o.validEnd){let a=o.fillBefore(L.empty,!0);t.replace(l,l,new q(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function kK(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function qu(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let r=t.$from.node(o),i=t.$from.index(o),s=t.$to.indexAfter(o);if(o<t.depth&&r.canReplace(i,s,n))return o;if(o==0||r.type.spec.isolating||!kK(r,i,s))break}return null}function xK(t,e,n){let{$from:o,$to:r,depth:i}=e,s=o.before(i+1),l=r.after(i+1),a=s,c=l,u=L.empty,d=0;for(let p=i,m=!1;p>n;p--)m||o.index(p)>0?(m=!0,u=L.from(o.node(p).copy(u)),d++):a--;let f=L.empty,h=0;for(let p=i,m=!1;p>n;p--)m||r.after(p+1)<r.end(p)?(m=!0,f=L.from(r.node(p).copy(f)),h++):c++;t.step(new xt(a,c,s,l,new q(u.append(f),d,h),u.size-d,!0))}function UI(t,e,n=null,o=t){let r=CK(t,e),i=r&&_K(o,e);return i?r.map(MA).concat({type:e,attrs:n}).concat(i.map(MA)):null}function MA(t){return{type:t,attrs:null}}function CK(t,e){let{parent:n,startIndex:o,endIndex:r}=t,i=n.contentMatchAt(o).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(o,r,s)?i:null}function _K(t,e){let{parent:n,startIndex:o,endIndex:r}=t,i=n.child(o),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let c=o;a&&c<r;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:s}function SK(t,e,n){let o=L.empty;for(let s=n.length-1;s>=0;s--){if(o.size){let l=n[s].type.contentMatch.matchFragment(o);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=L.from(n[s].type.create(n[s].attrs,o))}let r=e.start,i=e.end;t.step(new xt(r,i,r,i,new q(o,0,0),n.length,!0))}function EK(t,e,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{let a=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(o,a)&&TK(t.doc,t.mapping.slice(i).map(l),o)){let c=null;if(o.schema.linebreakReplacement){let h=o.whitespace=="pre",p=!!o.contentMatch.matchType(o.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&GI(t,s,l,i),fS(t,t.mapping.slice(i).map(l,1),o,void 0,c===null);let u=t.mapping.slice(i),d=u.map(l,1),f=u.map(l+s.nodeSize,1);return t.step(new xt(d,f,d+1,f-1,new q(L.from(o.create(a,null,s.marks)),0,0),1,!0)),c===!0&&FI(t,s,l,i),!1}})}function FI(t,e,n,o){e.forEach((r,i)=>{if(r.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(r.text);){let a=t.mapping.slice(o).map(n+1+i+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function GI(t,e,n,o){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let s=t.mapping.slice(o).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function TK(t,e,n){let o=t.resolve(e),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}function MK(t,e,n,o,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(o,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new xt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new q(L.from(s),0,0),1,!0))}function ji(t,e,n=1,o){let r=t.resolve(e),i=r.depth-n,s=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=n-2;c>i;c--,u--){let d=r.node(c),f=r.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=o&&o[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=o&&o[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let l=r.indexAfter(i),a=o&&o[0];return r.node(i).canReplaceWith(l,l,a?a.type:r.node(i+1).type)}function AK(t,e,n=1,o){let r=t.doc.resolve(e),i=L.empty,s=L.empty;for(let l=r.depth,a=r.depth-n,c=n-1;l>a;l--,c--){i=L.from(r.node(l).copy(i));let u=o&&o[c];s=L.from(u?u.type.create(u.attrs,s):r.node(l).copy(s))}t.step(new Et(e,e,new q(i.append(s),n,n),!0))}function Va(t,e){let n=t.resolve(e),o=n.index();return qI(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function RK(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:o}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),s=i.type==o?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function qI(t,e){return!!(t&&e&&!t.isLeaf&&RK(t,e))}function u0(t,e,n=-1){let o=t.resolve(e);for(let r=o.depth;;r--){let i,s,l=o.index(r);if(r==o.depth?(i=o.nodeBefore,s=o.nodeAfter):n>0?(i=o.node(r+1),l++,s=o.node(r).maybeChild(l)):(i=o.node(r).maybeChild(l-1),s=o.node(r+1)),i&&!i.isTextblock&&qI(i,s)&&o.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?o.before(r):o.after(r)}}function NK(t,e,n){let o=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(r&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(r);u&&!d?o=!1:!u&&d&&(o=!0)}let l=t.steps.length;if(o===!1){let u=t.doc.resolve(e+n);GI(t,u.node(),u.before(),l)}s.inlineContent&&fS(t,e+n-1,s,i.node().contentMatchAt(i.index()),o==null);let a=t.mapping.slice(l),c=a.map(e-n);if(t.step(new Et(c,a.map(e+n,-1),q.empty,!0)),o===!0){let u=t.doc.resolve(c);FI(t,u.node(),u.before(),t.steps.length)}return t}function OK(t,e,n){let o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(o.parentOffset==0)for(let r=o.depth-1;r>=0;r--){let i=o.index(r);if(o.node(r).canReplaceWith(i,i,n))return o.before(r+1);if(i>0)return null}if(o.parentOffset==o.parent.content.size)for(let r=o.depth-1;r>=0;r--){let i=o.indexAfter(r);if(o.node(r).canReplaceWith(i,i,n))return o.after(r+1);if(i<o.node(r).childCount)return null}return null}function hS(t,e,n){let o=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=o.depth;s>=0;s--){let l=s==o.depth?0:o.pos<=(o.start(s+1)+o.end(s+1))/2?-1:1,a=o.index(s)+(l>0?1:0),c=o.node(s),u=!1;if(i==1)u=c.canReplace(a,a,r);else{let d=c.contentMatchAt(a).findWrapping(r.firstChild.type);u=d&&c.canReplaceWith(a,a,d[0])}if(u)return l==0?o.pos:l<0?o.before(s+1):o.after(s+1)}return null}function d0(t,e,n=e,o=q.empty){if(e==n&&!o.size)return null;let r=t.resolve(e),i=t.resolve(n);return WI(r,i,o)?new Et(e,n,o):new LK(r,i,o).fit()}function WI(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class LK{constructor(e,n,o){this.$from=e,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=L.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=L.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(e<0?this.$to:o.doc.resolve(e));if(!r)return null;let i=this.placed,s=o.depth,l=r.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let a=new q(i,s,l);return e>-1?new xt(o.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||o.pos!=this.$to.pos?new Et(o.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,r=this.unplaced.openEnd;o<e;o++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=o){e=o;break}n=i.content}for(let n=1;n<=2;n++)for(let o=n==1?e:this.unplaced.openStart;o>=0;o--){let r,i=null;o?(i=vv(this.unplaced.content,o-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(L.from(s),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:o,frontierDepth:l,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:o,frontierDepth:l,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=vv(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new q(e,n+1,Math.max(o,r.size+n>=e.size-o?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=vv(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new q($d(e,n-1,1),n-1,i?n-1:o)}else this.unplaced=new q($d(e,n,1),n,o)}placeNodes({sliceDepth:e,frontierDepth:n,parent:o,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let s=this.unplaced,l=o?o.content:s.content,a=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(r){for(let m=0;m<r.childCount;m++)u.push(r.child(m));d=d.matchFragment(r)}let h=l.size+e-(s.content.size-s.openEnd);for(;c<l.childCount;){let m=l.child(c),b=d.matchType(m.type);if(!b)break;c++,(c>1||a==0||m.content.size)&&(d=b,u.push(KI(m.mark(f.allowedMarks(m.marks)),c==1?a:0,c==l.childCount?h:-1)))}let p=c==l.childCount;p||(h=-1),this.placed=Pd(this.placed,n,L.from(u)),this.frontier[n].match=d,p&&h<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,b=l;m<h;m++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=p?e==0?q.empty:new q($d(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new q($d(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!wv(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,r=this.$to.after(o);for(;o>1&&r==this.$to.end(--o);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:o,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=wv(e,n,r,o,i);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],u=wv(e,l,c,a,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Pd(this.placed,n.depth,n.fit)),e=n.move;for(let o=n.depth+1;o<=e.depth;o++){let r=e.node(o),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(o));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,o){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Pd(this.placed,this.depth,L.from(e.create(n,o))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(L.empty,!0);n.childCount&&(this.placed=Pd(this.placed,this.frontier.length,n))}}function $d(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy($d(t.firstChild.content,e-1,n)))}function Pd(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Pd(t.lastChild.content,e-1,n)))}function vv(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function KI(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,KI(o.firstChild,e-1,o.childCount==1?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(L.empty,!0)))),t.copy(o)}function wv(t,e,n,o,r){let i=t.node(e),s=r?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=o.fillBefore(i.content,!0,s);return l&&!DK(n,i.content,s)?l:null}function DK(t,e,n){for(let o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}function IK(t){return t.spec.defining||t.spec.definingForContent}function $K(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(WI(r,i,o))return t.step(new Et(e,n,o));let s=YI(r,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(r.depth+1);s.unshift(l);for(let f=r.depth,h=r.pos-1;f>0;f--,h--){let p=r.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?l=f:r.before(f)==h&&s.splice(1,0,-f)}let a=s.indexOf(l),c=[],u=o.openStart;for(let f=o.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==o.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=IK(h.type);if(p&&!h.sameMarkup(r.node(Math.abs(l)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=o.openStart;f>=0;f--){let h=(f+u+1)%(o.openStart+1),p=c[h];if(p)for(let m=0;m<s.length;m++){let b=s[(m+a)%s.length],y=!0;b<0&&(y=!1,b=-b);let w=r.node(b-1),k=r.index(b-1);if(w.canReplaceWith(k,k,p.type,p.marks))return t.replace(r.before(b),y?i.after(b):n,new q(ZI(o.content,0,o.openStart,h),h,o.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,o),!(t.steps.length>d));f--){let h=s[f];h<0||(e=r.before(h),n=i.after(h))}}function ZI(t,e,n,o,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(ZI(i.content,e+1,n,o,i)))}if(e>o){let i=r.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(L.empty,!0))}return t}function PK(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=OK(t.doc,e,o.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new q(L.from(o),0,0))}function jK(t,e,n){let o=t.doc.resolve(e),r=t.doc.resolve(n),i=YI(o,r);for(let s=0;s<i.length;s++){let l=i[s],a=s==i.length-1;if(a&&l==0||o.node(l).type.contentMatch.validEnd)return t.delete(o.start(l),r.end(l));if(l>0&&(a||o.node(l-1).canReplace(o.index(l-1),r.indexAfter(l-1))))return t.delete(o.before(l),r.after(l))}for(let s=1;s<=o.depth&&s<=r.depth;s++)if(e-o.start(s)==o.depth-s&&n>o.end(s)&&r.end(s)-n!=r.depth-s&&o.start(s-1)==r.start(s-1)&&o.node(s-1).canReplace(o.index(s-1),r.index(s-1)))return t.delete(o.before(s),n);t.delete(e,n)}function YI(t,e){let n=[],o=Math.min(t.depth,e.depth);for(let r=o;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class qc extends yn{constructor(e,n,o){super(),this.pos=e,this.attr=n,this.value=o}apply(e){let n=e.nodeAt(this.pos);if(!n)return Mt.fail("No node at attribute step's position");let o=Object.create(null);for(let i in n.attrs)o[i]=n.attrs[i];o[this.attr]=this.value;let r=n.type.create(o,null,n.marks);return Mt.fromReplace(e,this.pos,this.pos+1,new q(L.from(r),0,n.isLeaf?0:1))}getMap(){return so.empty}invert(e){return new qc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new qc(n.pos,n.attr,n.value)}}yn.jsonID("attr",qc);class Vf extends yn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,e.content,e.marks);return Mt.ok(o)}getMap(){return so.empty}invert(e){return new Vf(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Vf(n.attr,n.value)}}yn.jsonID("docAttr",Vf);let wu=class extends Error{};wu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};wu.prototype=Object.create(Error.prototype);wu.prototype.constructor=wu;wu.prototype.name="TransformError";class pS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new wu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,o=q.empty){let r=d0(this.doc,e,n,o);return r&&this.step(r),this}replaceWith(e,n,o){return this.replace(e,n,new q(L.from(o),0,0))}delete(e,n){return this.replace(e,n,q.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,o){return $K(this,e,n,o),this}replaceRangeWith(e,n,o){return PK(this,e,n,o),this}deleteRange(e,n){return jK(this,e,n),this}lift(e,n){return xK(this,e,n),this}join(e,n=1){return NK(this,e,n),this}wrap(e,n){return SK(this,e,n),this}setBlockType(e,n=e,o,r=null){return EK(this,e,n,o,r),this}setNodeMarkup(e,n,o=null,r){return MK(this,e,n,o,r),this}setNodeAttribute(e,n,o){return this.step(new qc(e,n,o)),this}setDocAttribute(e,n){return this.step(new Vf(e,n)),this}addNodeMark(e,n){return this.step(new Ps(e,n)),this}removeNodeMark(e,n){let o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at position "+e);if(n instanceof Fe)n.isInSet(o.marks)&&this.step(new wa(e,n));else{let r=o.marks,i,s=[];for(;i=n.isInSet(r);)s.push(new wa(e,i)),r=i.removeFromSet(r);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(e,n=1,o){return AK(this,e,n,o),this}addMark(e,n,o){return vK(this,e,n,o),this}removeMark(e,n,o){return wK(this,e,n,o),this}clearIncompatible(e,n,o){return fS(this,e,n,o),this}}const kv=Object.create(null);class ne{constructor(e,n,o){this.$anchor=e,this.$head=n,this.ranges=o||[new XI(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=q.empty){let o=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=o,o=o.lastChild;let i=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],u=e.mapping.slice(i);e.replaceRange(u.map(a.pos),u.map(c.pos),l?q.empty:n),l==0&&NA(e,i,(o?o.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let o=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:l}=r[i],a=e.mapping.slice(o),c=a.map(s.pos),u=a.map(l.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),NA(e,o,n.isInline?-1:1))}}static findFrom(e,n,o=!1){let r=e.parent.inlineContent?new Y(e):mc(e.node(0),e.parent,e.pos,e.index(),n,o);if(r)return r;for(let i=e.depth-1;i>=0;i--){let s=n<0?mc(e.node(0),e.node(i),e.before(i+1),e.index(i),n,o):mc(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,o);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Fn(e.node(0))}static atStart(e){return mc(e,e,0,0,1)||new Fn(e)}static atEnd(e){return mc(e,e,e.content.size,e.childCount,-1)||new Fn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=kv[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in kv)throw new RangeError("Duplicate use of selection JSON ID "+e);return kv[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Y.between(this.$anchor,this.$head).getBookmark()}}ne.prototype.visible=!0;class XI{constructor(e,n){this.$from=e,this.$to=n}}let AA=!1;function RA(t){!AA&&!t.parent.inlineContent&&(AA=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Y extends ne{constructor(e,n=e){RA(e),RA(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let o=e.resolve(n.map(this.head));if(!o.parent.inlineContent)return ne.near(o);let r=e.resolve(n.map(this.anchor));return new Y(r.parent.inlineContent?r:o,o)}replace(e,n=q.empty){if(super.replace(e,n),n==q.empty){let o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}}eq(e){return e instanceof Y&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new f0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Y(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){let r=e.resolve(n);return new this(r,o==n?r:e.resolve(o))}static between(e,n,o){let r=e.pos-n.pos;if((!o||r)&&(o=r>=0?1:-1),!n.parent.inlineContent){let i=ne.findFrom(n,o,!0)||ne.findFrom(n,-o,!0);if(i)n=i.$head;else return ne.near(n,o)}return e.parent.inlineContent||(r==0?e=n:(e=(ne.findFrom(e,-o,!0)||ne.findFrom(e,o,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Y(e,n)}}ne.jsonID("text",Y);class f0{constructor(e,n){this.anchor=e,this.head=n}map(e){return new f0(e.map(this.anchor),e.map(this.head))}resolve(e){return Y.between(e.resolve(this.anchor),e.resolve(this.head))}}class J extends ne{constructor(e){let n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);super(e,o),this.node=n}map(e,n){let{deleted:o,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return o?ne.near(i):new J(i)}content(){return new q(L.from(this.node),0,0)}eq(e){return e instanceof J&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mS(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new J(e.resolve(n.anchor))}static create(e,n){return new J(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}J.prototype.visible=!1;ne.jsonID("node",J);class mS{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:o}=e.mapResult(this.anchor);return n?new f0(o,o):new mS(o)}resolve(e){let n=e.resolve(this.anchor),o=n.nodeAfter;return o&&J.isSelectable(o)?new J(n):ne.near(n)}}class Fn extends ne{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=q.empty){if(n==q.empty){e.delete(0,e.doc.content.size);let o=ne.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Fn(e)}map(e){return new Fn(e)}eq(e){return e instanceof Fn}getBookmark(){return BK}}ne.jsonID("all",Fn);const BK={map(){return this},resolve(t){return new Fn(t)}};function mc(t,e,n,o,r,i=!1){if(e.inlineContent)return Y.create(t,n);for(let s=o-(r>0?0:1);r>0?s<e.childCount:s>=0;s+=r){let l=e.child(s);if(l.isAtom){if(!i&&J.isSelectable(l))return J.create(t,n-(r<0?l.nodeSize:0))}else{let a=mc(t,l,n+r,r<0?l.childCount:0,r,i);if(a)return a}n+=l.nodeSize*r}return null}function NA(t,e,n){let o=t.steps.length-1;if(o<e)return;let r=t.steps[o];if(!(r instanceof Et||r instanceof xt))return;let i=t.mapping.maps[o],s;i.forEach((l,a,c,u)=>{s==null&&(s=u)}),t.setSelection(ne.near(t.doc.resolve(s),n))}const OA=1,Kp=2,LA=4;let zK=class extends pS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|OA)&~Kp,this.storedMarks=null,this}get selectionSet(){return(this.updated&OA)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Kp,this}ensureMarks(e){return Fe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Kp)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Kp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let o=this.selection;return n&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||Fe.none))),o.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,o){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(o==null&&(o=n),o=o??n,!e)return this.deleteRange(n,o);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=o==n?s.marks():s.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,r.text(e,i)),this.selection.empty||this.setSelection(ne.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=LA,this}get scrolledIntoView(){return(this.updated&LA)>0}};function DA(t,e){return!e||!t?t:t.bind(e)}class jd{constructor(e,n,o){this.name=e,this.init=DA(n.init,o),this.apply=DA(n.apply,o)}}const HK=[new jd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new jd("selection",{init(t,e){return t.selection||ne.atStart(e.doc)},apply(t){return t.selection}}),new jd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new jd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class xv{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=HK.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new jd(o.key,o.spec.state,o))})}}class Ul{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let r=this.config.plugins[o];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],o=this.applyInner(e),r=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=r?r[s].n:0,c=r?r[s].state:this,u=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,c,o);if(u&&o.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<s?{state:o,n:n.length}:{state:this,n:0})}n.push(u),o=o.applyInner(u),i=!0}r&&(r[s]={state:o,n:n.length})}}if(!i)return{state:o,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ul(this.config),o=this.config.fields;for(let r=0;r<o.length;r++){let i=o[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new zK(this)}static create(e){let n=new xv(e.doc?e.doc.type.schema:e.schema,e.plugins),o=new Ul(n);for(let r=0;r<n.fields.length;r++)o[n.fields[r].name]=n.fields[r].init(e,o);return o}reconfigure(e){let n=new xv(this.schema,e.plugins),o=n.fields,r=new Ul(n);for(let i=0;i<o.length;i++){let s=o[i].name;r[s]=this.hasOwnProperty(s)?this[s]:o[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),e&&typeof e=="object")for(let o in e){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[o],i=r.spec.state;i&&i.toJSON&&(n[o]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new xv(e.schema,e.plugins),i=new Ul(r);return r.fields.forEach(s=>{if(s.name=="doc")i.doc=Pi.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=ne.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(o)for(let l in o){let a=o[l],c=a.spec.state;if(a.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[s.name]=c.fromJSON.call(a,e,n[l],i);return}}i[s.name]=s.init(e,i)}}),i}}function JI(t,e,n){for(let o in t){let r=t[o];r instanceof Function?r=r.bind(e):o=="handleDOMEvents"&&(r=JI(r,e,{})),n[o]=r}return n}class de{constructor(e){this.spec=e,this.props={},e.props&&JI(e.props,this,this.props),this.key=e.key?e.key.key:QI("plugin")}getState(e){return e[this.key]}}const Cv=Object.create(null);function QI(t){return t in Cv?t+"$"+ ++Cv[t]:(Cv[t]=0,t+"$")}class Te{constructor(e="key"){this.key=QI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ku=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ox=null;const wi=function(t,e,n){let o=ox||(ox=document.createRange());return o.setEnd(t,n??t.nodeValue.length),o.setStart(t,e||0),o},VK=function(){ox=null},ka=function(t,e,n,o){return n&&(IA(t,e,n,o,-1)||IA(t,e,n,o,1))},UK=/^(img|br|input|textarea|hr)$/i;function IA(t,e,n,o,r){for(var i;;){if(t==n&&e==o)return!0;if(e==(r<0?0:$o(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Gh(t)||UK.test(t.nodeName)||t.contentEditable=="false")return!1;e=Qt(t)+(r<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(r<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((i=s.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=r;else return!1;else t=s,e=r<0?$o(t):0}else return!1}}function $o(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function FK(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=$o(t)}else if(t.parentNode&&!Gh(t))e=Qt(t),t=t.parentNode;else return null}}function GK(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Gh(t))e=Qt(t)+1,t=t.parentNode;else return null}}function qK(t,e,n){for(let o=e==0,r=e==$o(t);o||r;){if(t==n)return!0;let i=Qt(t);if(t=t.parentNode,!t)return!1;o=o&&i==0,r=r&&i==$o(t)}}function Gh(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const h0=function(t){return t.focusNode&&ka(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Pl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function WK(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function KK(t,e,n){if(t.caretPositionFromPoint)try{let o=t.caretPositionFromPoint(e,n);if(o)return{node:o.offsetNode,offset:Math.min($o(o.offsetNode),o.offset)}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(e,n);if(o)return{node:o.startContainer,offset:Math.min($o(o.startContainer),o.startOffset)}}}const Fr=typeof navigator<"u"?navigator:null,$A=typeof document<"u"?document:null,yl=Fr&&Fr.userAgent||"",rx=/Edge\/(\d+)/.exec(yl),e$=/MSIE \d/.exec(yl),ix=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yl),Gn=!!(e$||ix||rx),Ks=e$?document.documentMode:ix?+ix[1]:rx?+rx[1]:0,pr=!Gn&&/gecko\/(\d+)/i.test(yl);pr&&+(/Firefox\/(\d+)/.exec(yl)||[0,0])[1];const sx=!Gn&&/Chrome\/(\d+)/.exec(yl),hn=!!sx,t$=sx?+sx[1]:0,Tn=!Gn&&!!Fr&&/Apple Computer/.test(Fr.vendor),xu=Tn&&(/Mobile\/\w+/.test(yl)||!!Fr&&Fr.maxTouchPoints>2),Ao=xu||(Fr?/Mac/.test(Fr.platform):!1),ZK=Fr?/Win/.test(Fr.platform):!1,Ri=/Android \d/.test(yl),qh=!!$A&&"webkitFontSmoothing"in $A.documentElement.style,YK=qh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function XK(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function fi(t,e){return typeof t=="number"?t:t[e]}function JK(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*o}}function PA(t,e,n){let o=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=ku(s);continue}let l=s,a=l==i.body,c=a?XK(i):JK(l),u=0,d=0;if(e.top<c.top+fi(o,"top")?d=-(c.top-e.top+fi(r,"top")):e.bottom>c.bottom-fi(o,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+fi(r,"top")-c.top:e.bottom-c.bottom+fi(r,"bottom")),e.left<c.left+fi(o,"left")?u=-(c.left-e.left+fi(r,"left")):e.right>c.right-fi(o,"right")&&(u=e.right-c.right+fi(r,"right")),u||d)if(a)i.defaultView.scrollBy(u,d);else{let h=l.scrollLeft,p=l.scrollTop;d&&(l.scrollTop+=d),u&&(l.scrollLeft+=u);let m=l.scrollLeft-h,b=l.scrollTop-p;e={left:e.left-m,top:e.top-b,right:e.right-m,bottom:e.bottom-b}}let f=a?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:ku(s)}}function QK(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),o,r;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(i,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){o=l,r=a.top;break}}return{refDOM:o,refTop:r,stack:n$(t.dom)}}function n$(t){let e=[],n=t.ownerDocument;for(let o=t;o&&(e.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),t!=n);o=ku(o));return e}function eZ({refDOM:t,refTop:e,stack:n}){let o=t?t.getBoundingClientRect().top:0;o$(n,o==0?0:o-e)}function o$(t,e){for(let n=0;n<t.length;n++){let{dom:o,top:r,left:i}=t[n];o.scrollTop!=r+e&&(o.scrollTop=r+e),o.scrollLeft!=i&&(o.scrollLeft=i)}}let oc=null;function tZ(t){if(t.setActive)return t.setActive();if(oc)return t.focus(oc);let e=n$(t);t.focus(oc==null?{get preventScroll(){return oc={preventScroll:!0},!0}}:void 0),oc||(oc=!1,o$(e,0))}function r$(t,e){let n,o=2e8,r,i=0,s=e.top,l=e.top,a,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=wi(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<o){n=u,o=m,r=m&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&m&&(i=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=d+1)}}return!n&&a&&(n=a,r=c,o=0),n&&n.nodeType==3?nZ(n,r):!n||o&&n.nodeType==1?{node:t,offset:i}:r$(n,r)}function nZ(t,e){let n=t.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(t,r+1),o.setStart(t,r);let i=ds(o,1);if(i.top!=i.bottom&&gS(e,i))return{node:t,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function gS(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function oZ(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function rZ(t,e,n){let{node:o,offset:r}=r$(e,n),i=-1;if(o.nodeType==1&&!o.firstChild){let s=o.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(o,r,i)}function iZ(t,e,n,o){let r=-1;for(let i=e,s=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!s&&a.left>o.left||a.top>o.top?r=l.posBefore:(!s&&a.right<o.left||a.bottom<o.top)&&(r=l.posAfter),s=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?o.top<(a.top+a.bottom)/2:o.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function i$(t,e,n){let o=t.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let s=t.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(gS(e,c))return i$(s,e,c)}}if((i=(i+1)%o)==r)break}return t}function sZ(t,e){let n=t.dom.ownerDocument,o,r=0,i=KK(n,e.left,e.top);i&&({node:o,offset:r}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!gS(e,c)||(s=i$(t.dom,e,c),!s))return null}if(Tn)for(let c=s;o&&c;c=ku(c))c.draggable&&(o=void 0);if(s=oZ(s,e),o){if(pr&&o.nodeType==1&&(r=Math.min(r,o.childNodes.length),r<o.childNodes.length)){let u=o.childNodes[r],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}let c;qh&&r&&o.nodeType==1&&(c=o.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,o==t.dom&&r==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||o.nodeType!=1||o.childNodes[r-1].nodeName!="BR")&&(l=iZ(t,o,r,e))}l==null&&(l=rZ(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function jA(t){return t.top<t.bottom||t.left<t.right}function ds(t,e){let n=t.getClientRects();if(n.length){let o=n[e<0?0:n.length-1];if(jA(o))return o}return Array.prototype.find.call(n,jA)||t.getBoundingClientRect()}const lZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function s$(t,e,n){let{node:o,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=qh||pr;if(o.nodeType==3)if(s&&(lZ.test(o.nodeValue)||(n<0?!r:r==o.nodeValue.length))){let a=ds(wi(o,r,r),n);if(pr&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let c=ds(wi(o,r-1,r-1),-1);if(c.top==a.top){let u=ds(wi(o,r,r+1),-1);if(u.top!=a.top)return Sd(u,u.left<c.left)}}return a}else{let a=r,c=r,u=n<0?1:-1;return n<0&&!r?(c++,u=-1):n>=0&&r==o.nodeValue.length?(a--,u=1):n<0?a--:c++,Sd(ds(wi(o,a,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==$o(o))){let a=o.childNodes[r-1];if(a.nodeType==1)return _v(a.getBoundingClientRect(),!1)}if(i==null&&r<$o(o)){let a=o.childNodes[r];if(a.nodeType==1)return _v(a.getBoundingClientRect(),!0)}return _v(o.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==$o(o))){let a=o.childNodes[r-1],c=a.nodeType==3?wi(a,$o(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return Sd(ds(c,1),!1)}if(i==null&&r<$o(o)){let a=o.childNodes[r];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?wi(a,0,s?0:1):a.nodeType==1?a:null:null;if(c)return Sd(ds(c,-1),!0)}return Sd(ds(o.nodeType==3?wi(o):o,-n),n>=0)}function Sd(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function _v(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function l$(t,e,n){let o=t.state,r=t.root.activeElement;o!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),r!=t.dom&&r&&r.focus()}}function aZ(t,e,n){let o=e.selection,r=n=="up"?o.$from:o.$to;return l$(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=s$(t,r.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=wi(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let u=a[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const cZ=/[\u0590-\u08ac]/;function uZ(t,e,n){let{$head:o}=e.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,i=!r,s=r==o.parent.content.size,l=t.domSelection();return l?!cZ.test(o.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:s:l$(t,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=o.depth?t.docView.domAfterPos(o.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),b=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&c==m;try{l.collapse(u,d),a&&(a!=u||c!=d)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),b}):o.pos==o.start()||o.pos==o.end()}let BA=null,zA=null,HA=!1;function dZ(t,e,n){return BA==e&&zA==n?HA:(BA=e,zA=n,HA=n=="up"||n=="down"?aZ(t,e,n):uZ(t,e,n))}const Uo=0,VA=1,Fl=2,Gr=3;class Wh{constructor(e,n,o,r){this.parent=e,this.children=n,this.dom=o,this.contentDOM=r,this.dirty=Uo,o.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,o){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,o=this.posAtStart;;n++){let r=this.children[n];if(r==e)return o;o+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,o){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(o<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>Qt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??o>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let o=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),s;if(i&&(!n||i.node))if(o&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))o=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(e,n,o){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,o)}return-1}descAt(e){for(let n=0,o=0;n<this.children.length;n++){let r=this.children[n],i=o+r.size;if(o==e&&i!=o){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let l=r.children[s];if(l.size){r=l;break}}return r}if(e<i)return r.descAt(e-o-r.border);o=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o=0,r=0;for(let i=0;o<this.children.length;o++){let s=this.children[o],l=i+s.size;if(l>e||s instanceof c$){r=e-i;break}i=l}if(r)return this.children[o].domFromPos(r-this.children[o].border,n);for(let i;o&&!(i=this.children[o-1]).size&&i instanceof a$&&i.side>=0;o--);if(n<=0){let i,s=!0;for(;i=o?this.children[o-1]:null,!(!i||i.dom.parentNode==this.contentDOM);o--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Qt(i.dom)+1:0}}else{let i,s=!0;for(;i=o<this.children.length?this.children[o]:null,!(!i||i.dom.parentNode==this.contentDOM);o++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Qt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let s=o,l=0;;l++){let a=this.children[l],c=s+a.size;if(r==-1&&e<=c){let u=s+a.border;if(e>=u&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,u);e=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=Qt(f.dom)+1;break}e-=f.size}r==-1&&(r=0)}if(r>-1&&(c>n||l==this.children.length-1)){n=c;for(let u=l+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Qt(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:o}=this.domFromPos(e,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]}setSelection(e,n,o,r=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],b=p+m.size;if(i>p&&s<b)return m.setSelection(e-p-m.border,n-p-m.border,o,r);p=b}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),c=o.root.getSelection(),u=o.domSelectionRange(),d=!1;if((pr||Tn)&&e==n){let{node:h,offset:p}=l;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let m=h,b;m;m=m.parentNode){if(b=m.nextSibling){b.nodeName=="BR"&&(l=a={node:b.parentNode,offset:Qt(b)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=h.childNodes[p-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(pr&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(r=!0)}if(!(r||d&&Tn)&&ka(l.node,l.offset,u.anchorNode,u.anchorOffset)&&ka(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!d){c.collapse(l.node,l.offset);try{e!=n&&c.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let p=l;l=a,a=p}let h=document.createRange();h.setEnd(a.node,a.offset),h.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let o=0,r=0;r<this.children.length;r++){let i=this.children[r],s=o+i.size;if(o==s?e<=s&&n>=o:e<s&&n>o){let l=o+i.border,a=s-i.border;if(e>=l&&n<=a){this.dirty=e==o||n==s?Fl:VA,e==l&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Gr:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Fl:Gr}o=s}this.dirty=Fl}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let o=e==1?Fl:VA;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class a$ extends Wh{constructor(e,n,o,r){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(o,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Uo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class fZ extends Wh{constructor(e,n,o,r){super(e,[],n,null),this.textDOM=o,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xa extends Wh{constructor(e,n,o,r,i){super(e,[],o,r),this.mark=n,this.spec=i}static create(e,n,o,r){let i=r.nodeViews[n.type.name],s=i&&i(n,r,o);return(!s||!s.dom)&&(s=Qi.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new xa(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Gr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Gr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Uo){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=Uo}}slice(e,n,o){let r=xa.create(this.parent,this.mark,!0,o),i=this.children,s=this.size;n<s&&(i=ax(i,n,s,o)),e>0&&(i=ax(i,0,e,o));for(let l=0;l<i.length;l++)i[l].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Zs extends Wh{constructor(e,n,o,r,i,s,l,a,c){super(e,[],i,s),this.node=n,this.outerDeco=o,this.innerDeco=r,this.nodeDOM=l}static create(e,n,o,r,i,s){let l=i.nodeViews[n.type.name],a,c=l&&l(n,i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},o,r),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Qi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=f$(u,o,n),c?a=new hZ(e,n,o,r,u,d||null,f,c,i,s+1):n.isText?new p0(e,n,o,r,u,f,i):new Zs(e,n,o,r,u,d||null,f,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){e.contentElement=o.dom.parentNode;break}}e.contentElement||(e.getContent=()=>L.empty)}return e}matchesNode(e,n,o){return this.dirty==Uo&&e.eq(this.node)&&Yg(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let o=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new mZ(this,s&&s.node,e);yZ(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?a.syncToMarks(c.spec.marks,o,e):c.type.side>=0&&!d&&a.syncToMarks(u==this.node.childCount?Fe.none:this.node.child(u).marks,o,e),a.placeWidget(c,e,r)},(c,u,d,f)=>{a.syncToMarks(c.marks,o,e);let h;a.findNodeMatch(c,u,d,f)||l&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(h=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,u,d,h,e)||a.updateNextNode(c,u,d,e,f,r)||a.addNode(c,u,d,e,r),r+=c.nodeSize}),a.syncToMarks([],o,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Fl)&&(s&&this.protectLocalComposition(e,s),u$(this.contentDOM,this.children,e),xu&&vZ(this.dom))}localCompositionInfo(e,n){let{from:o,to:r}=e.state.selection;if(!(e.state.selection instanceof Y)||o<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=wZ(this.node.content,s,o-n,r-n);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:o,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new fZ(this,i,n,r);e.input.compositionNodes.push(s),this.children=ax(this.children,o,o+r.length,e,s)}update(e,n,o,r){return this.dirty==Gr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,o,r),!0)}updateInner(e,n,o,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Uo}updateOuterDeco(e){if(Yg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=d$(this.dom,this.nodeDOM,lx(this.outerDeco,this.node,n),lx(e,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function UA(t,e,n,o,r){f$(o,e,t);let i=new Zs(void 0,t,e,n,o,o,o,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class p0 extends Zs{constructor(e,n,o,r,i,s,l){super(e,n,o,r,i,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,o,r){return this.dirty==Gr||this.dirty!=Uo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Uo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Uo,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,o)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,o){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new p0(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Gr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class c$ extends Wh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Uo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class hZ extends Zs{constructor(e,n,o,r,i,s,l,a,c,u){super(e,n,o,r,i,s,l,c,u),this.spec=a}update(e,n,o,r){if(this.dirty==Gr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,o);return i&&this.updateInner(e,n,o,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,o,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,o,r){this.spec.setSelection?this.spec.setSelection(e,n,o.root):super.setSelection(e,n,o,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function u$(t,e,n){let o=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let s=e[i],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=FA(o),r=!0;o=o.nextSibling}else r=!0,t.insertBefore(l,o);if(s instanceof xa){let a=o?o.previousSibling:t.lastChild;u$(s.contentDOM,s.children,n),o=a?a.nextSibling:t.firstChild}}for(;o;)o=FA(o),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const cf=function(t){t&&(this.nodeName=t)};cf.prototype=Object.create(null);const Gl=[new cf];function lx(t,e,n){if(t.length==0)return Gl;let o=n?Gl[0]:new cf,r=[o];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&r.push(o=new cf(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&r.length==1&&r.push(o=new cf(e.isInline?"span":"div")),l=="class"?o.class=(o.class?o.class+" ":"")+a:l=="style"?o.style=(o.style?o.style+";":"")+a:l!="nodeName"&&(o[l]=a))}}}return r}function d$(t,e,n,o){if(n==Gl&&o==Gl)return e;let r=e;for(let i=0;i<o.length;i++){let s=o[i],l=n[i];if(i){let a;l&&l.nodeName==s.nodeName&&r!=t&&(a=r.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(r),l=Gl[0]),r=a}pZ(r,l||Gl[0],s)}return r}function pZ(t,e,n){for(let o in e)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&t.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){let o=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.remove(o[i]);for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=o.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function f$(t,e,n){return d$(t,t,Gl,lx(e,n,t.nodeType!=1))}function Yg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function FA(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class mZ{constructor(e,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gZ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let o=e;o<n;o++)this.top.children[o].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,o){let r=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;r<s&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=Uo,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=xa.create(this.top,e[i],n,o);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,o,r){let i=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,o))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,n,o)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,o,r,i){let s=this.top.children[r];return s.dirty==Gr&&s.dom==s.contentDOM&&(s.dirty=Fl),s.update(e,n,o,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=e.pmViewDesc;if(o){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==o)return r}return-1}e=n}}updateNextNode(e,n,o,r,i,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Zs){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let u=a.dom,d,f=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Gr&&Yg(n,a.outerDeco));if(!f&&a.update(e,n,o,r))return this.destroyBetween(this.index,l),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,o,r,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Fl,d.updateChildren(r,s+1),d.dirty=Uo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,o,r,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Yg(o,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=Zs.create(this.top,n,o,r,i,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,o,r,i){let s=Zs.create(this.top,e,n,o,r,i);s.contentDOM&&s.updateChildren(r,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,o){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new a$(this.top,e,n,o);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof xa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof p0)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Tn||hn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let o=document.createElement(e);e=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),e=="BR"&&(o.className="ProseMirror-trailingBreak");let r=new c$(this.top,[],o,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function gZ(t,e){let n=e,o=n.children.length,r=t.childCount,i=new Map,s=[];e:for(;r>0;){let l;for(;;)if(o){let c=n.children[o-1];if(c instanceof xa)n=c,o=c.children.length;else{l=c,o--;break}}else{if(n==e)break e;o=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(r-1))break;--r,i.set(l,r),s.push(l)}}return{index:r,matched:i,matches:s.reverse()}}function bZ(t,e){return t.type.side-e.type.side}function yZ(t,e,n,o){let r=e.locals(t),i=0;if(r.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);o(u,r,e.forChild(i,u),c),i+=u.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){let u,d;for(;s<r.length&&r[s].to==i;){let b=r[s++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(bZ);for(let b=0;b<d.length;b++)n(d[b],c,!!a)}else n(u,c,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;s<r.length&&r[s].from<=i&&r[s].to>i;)l.push(r[s++]);let p=i+f.nodeSize;if(f.isText){let b=p;s<r.length&&r[s].from<b&&(b=r[s].from);for(let y=0;y<l.length;y++)l[y].to<b&&(b=l[y].to);b<p&&(a=f.cut(b-i),f=f.cut(0,b-i),p=b,h=-1)}else for(;s<r.length&&r[s].to<p;)s++;let m=f.isInline&&!f.isLeaf?l.filter(b=>!b.inline):l.slice();o(f,m,e.forChild(i,f),h),i=p}}function vZ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function wZ(t,e,n,o){for(let r=0,i=0;r<t.childCount&&i<=o;){let s=t.child(r++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;for(;r<t.childCount;){let c=t.child(r++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=n){if(i>=o&&a.slice(o-e.length-l,o-l)==e)return o-e.length;let c=l<o?a.lastIndexOf(e,o-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==o&&a.length>=o+e.length-l&&a.slice(o-l,o-l+e.length)==e)return o}}return-1}function ax(t,e,n,o,r){let i=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],c=l,u=l+=a.size;c>=n||u<=e?i.push(a):(c<e&&i.push(a.slice(0,e-c,o)),r&&(i.push(r),r=void 0),u>n&&i.push(a.slice(n-c,a.size,o)))}return i}function bS(t,e=null){let n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=o.resolve(s),a,c;if(h0(n)){for(a=s;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&J.isSelectable(d)&&r.parent&&!(d.isInline&&qK(n.focusNode,n.focusOffset,r.dom))){let f=r.posBefore;c=new J(s==f?l:o.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[a,s]=f==t.state.selection.anchor?[f,d]:[d,f],l=o.resolve(s)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=o.resolve(a);if(!c){let d=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;c=yS(t,u,l,d)}return c}function h$(t){return t.editable?t.hasFocus():m$(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Bi(t,e=!1){let n=t.state.selection;if(p$(t,n),!!h$(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&hn){let o=t.domSelectionRange(),r=t.domObserver.currentSelection;if(o.anchorNode&&r.anchorNode&&ka(o.anchorNode,o.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)xZ(t);else{let{anchor:o,head:r}=n,i,s;GA&&!(n instanceof Y)&&(n.$from.parent.inlineContent||(i=qA(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=qA(t,n.to))),t.docView.setSelection(o,r,t,e),GA&&(i&&WA(i),s&&WA(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&kZ(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const GA=Tn||hn&&t$<63;function qA(t,e){let{node:n,offset:o}=t.docView.domFromPos(e,0),r=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(Tn&&r&&r.contentEditable=="false")return Sv(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Sv(r);if(i)return Sv(i)}}function Sv(t){return t.contentEditable="true",Tn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function WA(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function kZ(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),o=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!h$(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function xZ(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let o=t.cursorWrapper.dom,r=o.nodeName=="IMG";r?n.setStart(o.parentNode,Qt(o)+1):n.setStart(o,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&Gn&&Ks<=11&&(o.disabled=!0,o.disabled=!1)}function p$(t,e){if(e instanceof J){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(KA(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else KA(t)}function KA(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function yS(t,e,n,o){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Y.between(e,n,o)}function ZA(t){return t.editable&&!t.hasFocus()?!1:m$(t)}function m$(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function CZ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ka(e.node,e.offset,n.anchorNode,n.anchorOffset)}function cx(t,e){let{$anchor:n,$head:o}=t.selection,r=e>0?n.max(o):n.min(o),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&ne.findFrom(i,e)}function gs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function YA(t,e,n){let o=t.state.selection;if(o instanceof Y)if(n.indexOf("s")>-1){let{$head:r}=o,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return gs(t,new Y(o.$anchor,s))}else if(o.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=cx(t.state,e);return r&&r instanceof J?gs(t,r):!1}else if(!(Ao&&n.indexOf("m")>-1)){let r=o.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,s;if(!i||i.isText)return!1;let l=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?J.isSelectable(i)?gs(t,new J(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):qh?gs(t,new Y(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(o instanceof J&&o.node.isInline)return gs(t,new Y(e>0?o.$to:o.$from));{let r=cx(t.state,e);return r?gs(t,r):!1}}}function Xg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function uf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function rc(t,e){return e<0?_Z(t):SZ(t)}function _Z(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r,i,s=!1;for(pr&&n.nodeType==1&&o<Xg(n)&&uf(n.childNodes[o],-1)&&(s=!0);;)if(o>0){if(n.nodeType!=1)break;{let l=n.childNodes[o-1];if(uf(l,-1))r=n,i=--o;else if(l.nodeType==3)n=l,o=n.nodeValue.length;else break}}else{if(g$(n))break;{let l=n.previousSibling;for(;l&&uf(l,-1);)r=n.parentNode,i=Qt(l),l=l.previousSibling;if(l)n=l,o=Xg(n);else{if(n=n.parentNode,n==t.dom)break;o=0}}}s?ux(t,n,o):r&&ux(t,r,i)}function SZ(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r=Xg(n),i,s;for(;;)if(o<r){if(n.nodeType!=1)break;let l=n.childNodes[o];if(uf(l,1))i=n,s=++o;else break}else{if(g$(n))break;{let l=n.nextSibling;for(;l&&uf(l,1);)i=l.parentNode,s=Qt(l)+1,l=l.nextSibling;if(l)n=l,o=0,r=Xg(n);else{if(n=n.parentNode,n==t.dom)break;o=r=0}}}i&&ux(t,i,s)}function g$(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function EZ(t,e){for(;t&&e==t.childNodes.length&&!Gh(t);)e=Qt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function TZ(t,e){for(;t&&!e&&!Gh(t);)e=Qt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ux(t,e,n){if(e.nodeType!=3){let i,s;(s=EZ(e,n))?(e=s,n=0):(i=TZ(e,n))&&(e=i,n=i.nodeValue.length)}let o=t.domSelection();if(!o)return;if(h0(o)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),o.removeAllRanges(),o.addRange(i)}else o.extend&&o.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&Bi(t)},50)}function XA(t,e){let n=t.state.doc.resolve(e);if(!(hn||ZK)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function JA(t,e,n){let o=t.state.selection;if(o instanceof Y&&!o.empty||n.indexOf("s")>-1||Ao&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=o;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=cx(t.state,e);if(s&&s instanceof J)return gs(t,s)}if(!r.parent.inlineContent){let s=e<0?r:i,l=o instanceof Fn?ne.near(s,e):ne.findFrom(s,e);return l?gs(t,l):!1}return!1}function QA(t,e){if(!(t.state.selection instanceof Y))return!0;let{$head:n,$anchor:o,empty:r}=t.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function eR(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function MZ(t){if(!Tn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let o=e.firstChild;eR(t,o,"true"),setTimeout(()=>eR(t,o,"false"),20)}return!1}function AZ(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function RZ(t,e){let n=e.keyCode,o=AZ(e);if(n==8||Ao&&n==72&&o=="c")return QA(t,-1)||rc(t,-1);if(n==46&&!e.shiftKey||Ao&&n==68&&o=="c")return QA(t,1)||rc(t,1);if(n==13||n==27)return!0;if(n==37||Ao&&n==66&&o=="c"){let r=n==37?XA(t,t.state.selection.from)=="ltr"?-1:1:-1;return YA(t,r,o)||rc(t,r)}else if(n==39||Ao&&n==70&&o=="c"){let r=n==39?XA(t,t.state.selection.from)=="ltr"?1:-1:1;return YA(t,r,o)||rc(t,r)}else{if(n==38||Ao&&n==80&&o=="c")return JA(t,-1,o)||rc(t,-1);if(n==40||Ao&&n==78&&o=="c")return MZ(t)||JA(t,1,o)||rc(t,1);if(o==(Ao?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function vS(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:o,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&o.childCount==1&&o.firstChild.childCount==1;){r--,i--;let h=o.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),o=h.content}let s=t.someProp("clipboardSerializer")||Qi.fromSchema(t.state.schema),l=x$(),a=l.createElement("div");a.appendChild(s.serializeFragment(o,{document:l}));let c=a.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=k$[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=l.createElement(u[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),d++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function b$(t,e,n,o,r){let i=r.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(o||i||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,i||o,t)}),i)return e?new q(L.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):q.empty;let d=t.someProp("clipboardTextParser",f=>f(e,r,o,t));if(d)l=d;else{let f=r.marks(),{schema:h}=t.state,p=Qi.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let b=s.appendChild(document.createElement("p"));m&&b.appendChild(p.serializeNode(h.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=DZ(n),qh&&IZ(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||zr.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||u),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!NZ.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)l=$Z(tR(l,+u[1],+u[2]),u[4]);else if(l=q.maxOpen(OZ(l.content,r),!0),l.openStart||l.openEnd){let d=0,f=0;for(let h=l.content.firstChild;d<l.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=tR(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const NZ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OZ(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(l=>{if(!s)return;let a=r.findWrapping(l.type),c;if(!a)return s=null;if(c=s.length&&i.length&&v$(a,i,l,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=w$(s[s.length-1],i.length));let u=y$(l,a);s.push(u),r=r.matchType(u.type),i=a}}),s)return L.from(s)}return t}function y$(t,e,n=0){for(let o=e.length-1;o>=n;o--)t=e[o].create(null,L.from(t));return t}function v$(t,e,n,o,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=v$(t,e,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==t.length-1?n.type:t[r+1]))return o.copy(o.content.append(L.from(y$(n,t,r+1))))}}function w$(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,w$(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(L.empty,!0);return t.copy(n.append(o))}function dx(t,e,n,o,r,i){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(i=0),r<o-1&&(l=dx(l,e,n,o,r+1,i)),r>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,i<=r).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(L.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function tR(t,e,n){return e<t.openStart&&(t=new q(dx(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new q(dx(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const k$={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let nR=null;function x$(){return nR||(nR=document.implementation.createHTMLDocument("title"))}let Ev=null;function LZ(t){let e=window.trustedTypes;return e?(Ev||(Ev=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ev.createHTML(t)):t}function DZ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=x$().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t),r;if((r=o&&k$[o[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=LZ(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function IZ(t){let e=t.querySelectorAll(hn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let o=e[n];o.childNodes.length==1&&o.textContent==" "&&o.parentNode&&o.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),o)}}function $Z(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,o;try{o=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:s}=t;for(let l=o.length-2;l>=0;l-=2){let a=n.nodes[o[l]];if(!a||a.hasRequiredAttrs())break;r=L.from(a.create(o[l+1],r)),i++,s++}return new q(r,i,s)}const Mn={},An={},PZ={touchstart:!0,touchmove:!0};class jZ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function BZ(t){for(let e in Mn){let n=Mn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=o=>{HZ(t,o)&&!wS(t,o)&&(t.editable||!(o.type in An))&&n(t,o)},PZ[e]?{passive:!0}:void 0)}Tn&&t.dom.addEventListener("input",()=>null),fx(t)}function js(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function zZ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function fx(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=o=>wS(t,o))})}function wS(t,e){return t.someProp("handleDOMEvents",n=>{let o=n[e.type];return o?o(t,e)||e.defaultPrevented:!1})}function HZ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function VZ(t,e){!wS(t,e)&&Mn[e.type]&&(t.editable||!(e.type in An))&&Mn[e.type](t,e)}An.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!_$(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ri&&hn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),xu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();t.input.lastIOSEnter=o,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==o&&(t.someProp("handleKeyDown",r=>r(t,Pl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",o=>o(t,n))||RZ(t,n)?n.preventDefault():js(t,"key")};An.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};An.keypress=(t,e)=>{let n=e;if(_$(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ao&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let o=t.state.selection;if(!(o instanceof Y)||!o.$from.sameParent(o.$to)){let r=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",s=>s(t,o.$from.pos,o.$to.pos,r,i))&&t.dispatch(i()),n.preventDefault()}};function m0(t){return{left:t.clientX,top:t.clientY}}function UZ(t,e){let n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}function kS(t,e,n,o,r){if(o==-1)return!1;let i=t.state.doc.resolve(o);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,l=>s>i.depth?l(t,n,i.nodeAfter,i.before(s),r,!0):l(t,n,i.node(s),i.before(s),r,!1)))return!0;return!1}function Wc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let o=t.state.tr.setSelection(e);o.setMeta("pointer",!0),t.dispatch(o)}function FZ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return o&&o.isAtom&&J.isSelectable(o)?(Wc(t,new J(n)),!0):!1}function GZ(t,e){if(e==-1)return!1;let n=t.state.selection,o,r;n instanceof J&&(o=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(J.isSelectable(l)){o&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(s);break}}return r!=null?(Wc(t,J.create(t.state.doc,r)),!0):!1}function qZ(t,e,n,o,r){return kS(t,"handleClickOn",e,n,o)||t.someProp("handleClick",i=>i(t,e,o))||(r?GZ(t,n):FZ(t,n))}function WZ(t,e,n,o){return kS(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",r=>r(t,e,o))}function KZ(t,e,n,o){return kS(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",r=>r(t,e,o))||ZZ(t,n,o)}function ZZ(t,e,n){if(n.button!=0)return!1;let o=t.state.doc;if(e==-1)return o.inlineContent?(Wc(t,Y.create(o,0,o.content.size)),!0):!1;let r=o.resolve(e);for(let i=r.depth+1;i>0;i--){let s=i>r.depth?r.nodeAfter:r.node(i),l=r.before(i);if(s.inlineContent)Wc(t,Y.create(o,l+1,l+1+s.content.size));else if(J.isSelectable(s))Wc(t,J.create(o,l));else continue;return!0}}function xS(t){return Jg(t)}const C$=Ao?"metaKey":"ctrlKey";Mn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let o=xS(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&UZ(n,t.input.lastClick)&&!n[C$]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=t.posAtCoords(m0(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new YZ(t,s,n,!!o)):(i=="doubleClick"?WZ:KZ)(t,s.pos,s.inside,n)?n.preventDefault():js(t,"pointer"))};class YZ{constructor(e,n,o,r){this.view=e,this.pos=n,this.event=o,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!o[C$],this.allowDefault=o.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,s=u.depth?u.before():0}const l=r?null:o.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(o.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof J&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),js(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(m0(e))),this.updateAllowDefault(e),this.allowDefault||!n?js(this.view,"pointer"):qZ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Tn&&this.mightDrag&&!this.mightDrag.node.isAtom||hn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Wc(this.view,ne.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):js(this.view,"pointer")}move(e){this.updateAllowDefault(e),js(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Mn.touchstart=t=>{t.input.lastTouch=Date.now(),xS(t),js(t,"pointer")};Mn.touchmove=t=>{t.input.lastTouch=Date.now(),js(t,"pointer")};Mn.contextmenu=t=>xS(t);function _$(t,e){return t.composing?!0:Tn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const XZ=Ri?5e3:-1;An.compositionstart=An.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Y&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Jg(t,!0),t.markCursor=null;else if(Jg(t,!e.selection.empty),pr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=t.domSelectionRange();for(let r=o.focusNode,i=o.focusOffset;r&&r.nodeType==1&&i!=0;){let s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(s.nodeType==3){let l=t.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else r=s,i=-1}}t.input.composing=!0}S$(t,XZ)};An.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,S$(t,20))};function S$(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Jg(t),e))}function E$(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=QZ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function JZ(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=FK(e.focusNode,e.focusOffset),o=GK(e.focusNode,e.focusOffset);if(n&&o&&n!=o){let r=o.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||o==i)return i;if(!r||!r.isText(o.nodeValue))return o;if(t.input.compositionNode==o){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return o}}return n||o}function QZ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Jg(t,e=!1){if(!(Ri&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),E$(t),e||t.docView&&t.docView.dirty){let n=bS(t),o=t.state.selection;return n&&!n.eq(o)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!o.$from.node(o.$from.sharedDepth(o.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function eY(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Uf=Gn&&Ks<15||xu&&YK<604;Mn.copy=An.cut=(t,e)=>{let n=e,o=t.state.selection,r=n.type=="cut";if(o.empty)return;let i=Uf?null:n.clipboardData,s=o.content(),{dom:l,text:a}=vS(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):eY(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function tY(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function nY(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,o=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),o.parentNode&&o.parentNode.removeChild(o),n?Ff(t,o.value,null,r,e):Ff(t,o.textContent,o.innerHTML,r,e)},50)}function Ff(t,e,n,o,r){let i=b$(t,e,n,o,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||q.empty)))return!0;if(!i)return!1;let s=tY(i),l=s?t.state.tr.replaceSelectionWith(s,o):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function T$(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}An.paste=(t,e)=>{let n=e;if(t.composing&&!Ri)return;let o=Uf?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;o&&Ff(t,T$(o),o.getData("text/html"),r,n)?n.preventDefault():nY(t,n)};class M${constructor(e,n,o){this.slice=e,this.move=n,this.node=o}}const oY=Ao?"altKey":"ctrlKey";function A$(t,e){let n=t.someProp("dragCopies",o=>!o(e));return n??!e[oY]}Mn.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords(m0(n)),s;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof J?r.to-1:r.to))){if(o&&o.mightDrag)s=J.create(t.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=J.create(t.state.doc,d.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:c,slice:u}=vS(t,l);(!n.dataTransfer.files.length||!hn||t$>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Uf?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Uf||n.dataTransfer.setData("text/plain",c),t.dragging=new M$(u,A$(t,n),s)};Mn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};An.dragover=An.dragenter=(t,e)=>e.preventDefault();An.drop=(t,e)=>{let n=e,o=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(m0(n));if(!r)return;let i=t.state.doc.resolve(r.pos),s=o&&o.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=b$(t,T$(n.dataTransfer),Uf?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(o&&A$(t,n));if(t.someProp("handleDrop",p=>p(t,n,s||q.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?hS(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(l){let{node:p}=o;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&J.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new J(h));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((m,b,y,w)=>p=w),c.setSelection(yS(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Mn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Bi(t)},20))};Mn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Mn.beforeinput=(t,e)=>{if(hn&&Ri&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:o}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=o||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Pl(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in An)Mn[t]=An[t];function Gf(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Qg{constructor(e,n){this.toDOM=e,this.spec=n||ca,this.side=this.spec.side||0}map(e,n,o,r){let{pos:i,deleted:s}=e.mapResult(n.from+r,this.side<0?-1:1);return s?null:new Le(i-o,i-o,this)}valid(){return!0}eq(e){return this==e||e instanceof Qg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ys{constructor(e,n){this.attrs=e,this.spec=n||ca}map(e,n,o,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-o,s=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-o;return i>=s?null:new Le(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ys&&Gf(this.attrs,e.attrs)&&Gf(this.spec,e.spec)}static is(e){return e.type instanceof Ys}destroy(){}}class CS{constructor(e,n){this.attrs=e,this.spec=n||ca}map(e,n,o,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let s=e.mapResult(n.to+r,-1);return s.deleted||s.pos<=i.pos?null:new Le(i.pos-o,s.pos-o,this)}valid(e,n){let{index:o,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(o)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof CS&&Gf(this.attrs,e.attrs)&&Gf(this.spec,e.spec)}destroy(){}}class Le{constructor(e,n,o){this.from=e,this.to=n,this.type=o}copy(e,n){return new Le(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,o){return this.type.map(e,this,n,o)}static widget(e,n,o){return new Le(e,e,new Qg(n,o))}static inline(e,n,o,r){return new Le(e,n,new Ys(o,r))}static node(e,n,o,r){return new Le(e,n,new CS(o,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ys}get widget(){return this.type instanceof Qg}}const gc=[],ca={};class ye{constructor(e,n){this.local=e.length?e:gc,this.children=n.length?n:gc}static create(e,n){return n.length?eb(n,e,0,ca):an}find(e,n,o){let r=[];return this.findInner(e??0,n??1e9,r,0,o),r}findInner(e,n,o,r,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&o.push(l.copy(l.from+r,l.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,o,r+l,i)}}map(e,n,o){return this==an||e.maps.length==0?this:this.mapInner(e,n,0,0,o||ca)}mapInner(e,n,o,r,i){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,o,r);a&&a.type.valid(n,a)?(s||(s=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?rY(this.children,s||[],e,n,o,r,i):s?new ye(s.sort(ua),gc):an}add(e,n){return n.length?this==an?ye.create(e,n):this.addInner(e,n,0):this}addInner(e,n,o){let r,i=0;e.forEach((l,a)=>{let c=a+o,u;if(u=N$(n,l,c)){for(r||(r=this.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(l,u,c+1):r.splice(i,0,a,a+l.nodeSize,eb(u,l,c+1,ca)),i+=3}});let s=R$(i?O$(n):n,-o);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new ye(s.length?this.local.concat(s).sort(ua):this.local,r||this.children)}remove(e){return e.length==0||this==an?this:this.removeInner(e,0)}removeInner(e,n){let o=this.children,r=this.local;for(let i=0;i<o.length;i+=3){let s,l=o[i]+n,a=o[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>l&&d.to<a&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;o==this.children&&(o=this.children.slice());let c=o[i+2].removeInner(s,l+1);c!=an?o[i+2]=c:(o.splice(i,3),i-=3)}if(r.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let l=0;l<r.length;l++)r[l].eq(s,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return o==this.children&&r==this.local?this:r.length||o.length?new ye(r,o):an}forChild(e,n){if(this==an)return this;if(n.isLeaf)return ye.empty;let o,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(o=this.children[l+2]);break}let i=e+1,s=i+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>i&&a.type instanceof Ys){let c=Math.max(i,a.from)-i,u=Math.min(s,a.to)-i;c<u&&(r||(r=[])).push(a.copy(c,u))}}if(r){let l=new ye(r.sort(ua),gc);return o?new Cs([l,o]):l}return o||an}eq(e){if(this==e)return!0;if(!(e instanceof ye)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return _S(this.localsInner(e))}localsInner(e){if(this==an)return gc;if(e.inlineContent||!this.local.some(Ys.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof Ys||n.push(this.local[o]);return n}forEachSet(e){e(this)}}ye.empty=new ye([],[]);ye.removeOverlap=_S;const an=ye.empty;class Cs{constructor(e){this.members=e}map(e,n){const o=this.members.map(r=>r.map(e,n,ca));return Cs.from(o)}forChild(e,n){if(n.isLeaf)return ye.empty;let o=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=an&&(i instanceof Cs?o=o.concat(i.members):o.push(i))}return Cs.from(o)}eq(e){if(!(e instanceof Cs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,o=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{o&&(n=n.slice(),o=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?_S(o?n:n.sort(ua)):gc}static from(e){switch(e.length){case 0:return an;case 1:return e[0];default:return new Cs(e.every(n=>n instanceof ye)?e:e.reduce((n,o)=>n.concat(o instanceof ye?o:o.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function rY(t,e,n,o,r,i,s){let l=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,m)=>{let b=m-p-(h-f);for(let y=0;y<l.length;y+=3){let w=l[y+1];if(w<0||f>w+u-d)continue;let k=l[y]+u-d;h>=k?l[y+1]=f<=k?-2:-1:f>=u&&b&&(l[y]+=b,l[y+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-r;if(d<0||d>=o.content.size){a=!0;continue}let f=n.map(t[c+1]+i,-1),h=f-r,{index:p,offset:m}=o.content.findIndex(d),b=o.maybeChild(p);if(b&&m==d&&m+b.nodeSize==h){let y=l[c+2].mapInner(n,b,u+1,t[c]+i+1,s);y!=an?(l[c]=d,l[c+1]=h,l[c+2]=y):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=iY(l,t,e,n,r,i,s),u=eb(c,o,0,s);e=u.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new ye(e.sort(ua),l)}function R$(t,e){if(!e||!t.length)return t;let n=[];for(let o=0;o<t.length;o++){let r=t[o];n.push(new Le(r.from+e,r.to+e,r.type))}return n}function iY(t,e,n,o,r,i,s){function l(a,c){for(let u=0;u<a.local.length;u++){let d=a.local[u].map(o,r,c);d?n.push(d):s.onRemove&&s.onRemove(a.local[u].spec)}for(let u=0;u<a.children.length;u+=3)l(a.children[u+2],a.children[u]+c+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+i+1);return n}function N$(t,e,n){if(e.isLeaf)return null;let o=n+e.nodeSize,r=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<o&&((r||(r=[])).push(s),t[i]=null);return r}function O$(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function eb(t,e,n,o){let r=[],i=!1;e.forEach((l,a)=>{let c=N$(t,l,a+n);if(c){i=!0;let u=eb(c,l,n+a+1,o);u!=an&&r.push(a,a+l.nodeSize,u)}});let s=R$(i?O$(t):t,-n).sort(ua);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(o.onRemove&&o.onRemove(s[l].spec),s.splice(l--,1));return s.length||r.length?new ye(s,r):an}function ua(t,e){return t.from-e.from||t.to-e.to}function _S(t){let e=t;for(let n=0;n<e.length-1;n++){let o=e[n];if(o.from!=o.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==o.from){i.to!=o.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,o.to),oR(e,r+1,i.copy(o.to,i.to)));continue}else{i.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,i.from),oR(e,r,o.copy(i.from,o.to)));break}}}return e}function oR(t,e,n){for(;e<t.length&&ua(n,t[e])>0;)e++;t.splice(e,0,n)}function Tv(t){let e=[];return t.someProp("decorations",n=>{let o=n(t.state);o&&o!=an&&e.push(o)}),t.cursorWrapper&&e.push(ye.create(t.state.doc,[t.cursorWrapper.deco])),Cs.from(e)}const sY={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},lY=Gn&&Ks<=11;class aY{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class cY{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new aY,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let r=0;r<o.length;r++)this.queue.push(o[r]);Gn&&Ks<=11&&o.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),lY&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,sY)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ZA(this.view)){if(this.suppressingSelectionUpdates)return Bi(this.view);if(Gn&&Ks<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ka(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,o;for(let i=e.focusNode;i;i=ku(i))n.add(i);for(let i=e.anchorNode;i;i=ku(i))if(n.has(i)){o=i;break}let r=o&&this.view.docView.nearestDesc(o);if(r&&r.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&ZA(e)&&!this.ignoreSelectionChange(o),i=-1,s=-1,l=!1,a=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],a);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(pr&&a.length){let u=a.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||fY(e,d)!=h)&&f.remove()}}}let c=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&h0(o)&&(c=bS(e))&&c.eq(ne.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Bi(e),this.currentSelection.set(o),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,s),uY(e)),this.handleDOMChange(i,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(o)||Bi(e),this.currentSelection.set(o))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let o=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(o==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!o||o.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(e.target))return{from:o.posBefore,to:o.posAfter};let r=e.previousSibling,i=e.nextSibling;if(Gn&&Ks<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let s=r&&r.parentNode==e.target?Qt(r)+1:0,l=o.localPosFromDOM(e.target,s,-1),a=i&&i.parentNode==e.target?Qt(i):e.target.childNodes.length,c=o.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=e.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let rR=new WeakMap,iR=!1;function uY(t){if(!rR.has(t)&&(rR.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pr,iR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),iR=!0}}function sR(t,e){let n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return ka(s.node,s.offset,r,i)&&([n,o,r,i]=[r,i,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:i}}function dY(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return sR(t,r)}let n;function o(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",o,!0),n?sR(t,n):null}function fY(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let o=t.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function hY(t,e,n){let{node:o,fromOffset:r,toOffset:i,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),c,u=a.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:a.anchorOffset}],h0(a)||c.push({node:a.focusNode,offset:a.focusOffset})),hn&&t.input.lastKeyCode===8)for(let b=i;b>r;b--){let y=o.childNodes[b-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){i=b;break}if(!w||w.size)break}let d=t.state.doc,f=t.someProp("domParser")||zr.fromSchema(t.state.schema),h=d.resolve(s),p=null,m=f.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:r,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:pY,context:h});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),p={anchor:b+s,head:y+s}}return{doc:m,sel:p,from:s,to:l}}function pY(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Tn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Tn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const mY=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function gY(t,e,n,o,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=bS(t,_);if(T&&!t.state.selection.eq(T)){if(hn&&Ri&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",$=>$(t,Pl(13,"Enter"))))return;let M=t.state.tr.setSelection(T);_=="pointer"?M.setMeta("pointer",!0):_=="key"&&M.scrollIntoView(),i&&M.setMeta("composition",i),t.dispatch(M)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,c=hY(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=vY(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(xu&&t.input.lastIOSEnter>Date.now()-225||Ri)&&r.some(_=>_.nodeType==1&&!mY.test(_.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",_=>_(t,Pl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(o&&a instanceof Y&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let _=lR(t,t.state.doc,c.sel);if(_&&!_.eq(t.state.selection)){let T=t.state.tr.setSelection(_);i&&T.setMeta("composition",i),t.dispatch(T)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Y&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Gn&&Ks<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),b=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),w=m.sameParent(b)&&m.parent.inlineContent&&y.end()>=p.endA,k;if((xu&&t.input.lastIOSEnter>Date.now()-225&&(!w||r.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!w&&m.pos<c.doc.content.size&&(!m.sameParent(b)||!m.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(m.pos,b.pos,"",""))&&(k=ne.findFrom(c.doc.resolve(m.pos+1),1,!0))&&k.head>m.pos)&&t.someProp("handleKeyDown",_=>_(t,Pl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&yY(u,p.start,p.endA,m,b)&&t.someProp("handleKeyDown",_=>_(t,Pl(8,"Backspace")))){Ri&&hn&&t.domObserver.suppressSelectionUpdates();return}hn&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),Ri&&!w&&m.start()!=b.start()&&b.parentOffset==0&&m.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,b=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,Pl(13,"Enter"))})},20));let x=p.start,C=p.endA,E=_=>{let T=_||t.state.tr.replace(x,C,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let M=lR(t,T.doc,c.sel);M&&!(hn&&t.composing&&M.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(M.head==x||M.head==T.mapping.map(C)-1)||Gn&&M.empty&&M.head==x)&&T.setSelection(M)}return i&&T.setMeta("composition",i),T.scrollIntoView()},S;if(w){if(m.pos==b.pos){Gn&&Ks<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bi(t),20));let _=E(t.state.tr.delete(x,C)),T=u.resolve(p.start).marksAcross(u.resolve(p.endA));T&&_.ensureMarks(T),t.dispatch(_)}else if(p.endA==p.endB&&(S=bY(m.parent.content.cut(m.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start())))){let _=E(t.state.tr);S.type=="add"?_.addMark(x,C,S.mark):_.removeMark(x,C,S.mark),t.dispatch(_)}else if(m.parent.child(m.index()).isText&&m.index()==b.index()-(b.textOffset?0:1)){let _=m.parent.textBetween(m.parentOffset,b.parentOffset),T=()=>E(t.state.tr.insertText(_,x,C));t.someProp("handleTextInput",M=>M(t,x,C,_,T))||t.dispatch(T())}}else t.dispatch(E())}function lR(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:yS(t,e.resolve(n.anchor),e.resolve(n.head))}function bY(t,e){let n=t.firstChild.marks,o=e.firstChild.marks,r=n,i=o,s,l,a;for(let u=0;u<o.length;u++)r=o[u].removeFromSet(r);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(r.length==1&&i.length==0)l=r[0],s="add",a=u=>u.mark(l.addToSet(u.marks));else if(r.length==0&&i.length==1)l=i[0],s="remove",a=u=>u.mark(l.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(a(e.child(u)));if(L.from(c).eq(t))return{mark:l,type:s}}function yY(t,e,n,o,r){if(n-e<=r.pos-o.pos||Mv(o,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!o.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(Mv(i,!0,!0));return!s.parent.isTextblock||s.pos>n||Mv(s,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(s.parent.content)}function Mv(t,e,n){let o=t.depth,r=e?t.end():t.pos;for(;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,r++,e=!1;if(n){let i=t.node(o).maybeChild(t.indexAfter(o));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function vY(t,e,n,o,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let a=Math.max(0,i-Math.min(s,l));o-=s+a-i}if(s<i&&t.size<e.size){let a=o<=i&&o>=s?i-o:0;i-=a,i&&i<e.size&&aR(e.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-s),s=i}else if(l<i){let a=o<=i&&o>=l?i-o:0;i-=a,i&&i<t.size&&aR(t.textBetween(i-1,i+1))&&(i+=a?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function aR(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class SS{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new jZ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(hR),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=dR(this),uR(this),this.nodeViews=fR(this),this.docView=UA(this.state.doc,cR(this),Tv(this),this.dom,this),this.domObserver=new cY(this,(o,r,i,s)=>gY(this,o,r,i,s)),this.domObserver.start(),BZ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&fx(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(hR),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in e)n[o]=e[o];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var o;let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(E$(this),s=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=fR(this);kY(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&fx(this),this.editable=dR(this),uR(this);let a=Tv(this),c=cR(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,a);(d||!e.selection.eq(r.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&QK(this);if(s){this.domObserver.stop();let h=d&&(Gn||hn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&wY(r.selection,e.selection);if(d){let p=hn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=JZ(this)),(i||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=UA(e.doc,c,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&CZ(this))?Bi(this,h):(p$(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((o=this.dragging)===null||o===void 0)&&o.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&eZ(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof J){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&PA(this,n.getBoundingClientRect(),e)}else PA(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,e)}}updateDraggedNode(e,n){let o=e.node,r=-1;if(this.state.doc.nodeAt(o.from)==o.node)r=o.from;else{let i=o.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==o.node&&(r=i)}this.dragging=new M$(e.slice,e.move,r<0?void 0:J.create(this.state.doc,r))}someProp(e,n){let o=this._props&&this._props[e],r;if(o!=null&&(r=n?n(o):o))return r;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(r=n?n(l):l))return r}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(Gn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tZ(this.dom),Bi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sZ(this,e)}coordsAtPos(e,n=1){return s$(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,o=-1){let r=this.docView.posFromDOM(e,n,o);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return dZ(this,n||this.state,e)}pasteHTML(e,n){return Ff(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Ff(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return vS(this,e)}destroy(){this.docView&&(zZ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Tv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VK())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return VZ(this,e)}domSelectionRange(){let e=this.domSelection();return e?Tn&&this.root.nodeType===11&&WK(this.dom.ownerDocument)==this.dom&&dY(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}SS.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function cR(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let o in n)o=="class"?e.class+=" "+n[o]:o=="style"?e.style=(e.style?e.style+";":"")+n[o]:!e[o]&&o!="contenteditable"&&o!="nodeName"&&(e[o]=String(n[o]))}),e.translate||(e.translate="no"),[Le.node(0,t.state.doc.content.size,e)]}function uR(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Le.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function dR(t){return!t.someProp("editable",e=>e(t.state)===!1)}function wY(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function fR(t){let e=Object.create(null);function n(o){for(let r in o)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=o[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function kY(t,e){let n=0,o=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)o++;return n!=o}function hR(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ol={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xY=typeof navigator<"u"&&/Mac/.test(navigator.platform),CY=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var en=0;en<10;en++)ol[48+en]=ol[96+en]=String(en);for(var en=1;en<=24;en++)ol[en+111]="F"+en;for(var en=65;en<=90;en++)ol[en]=String.fromCharCode(en+32),tb[en]=String.fromCharCode(en);for(var Av in ol)tb.hasOwnProperty(Av)||(tb[Av]=ol[Av]);function _Y(t){var e=xY&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||CY&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?tb:ol)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const SY=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),EY=typeof navigator<"u"&&/Win/.test(navigator.platform);function TY(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let o,r,i,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))o=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))SY?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+a)}return o&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function MY(t){let e=Object.create(null);for(let n in t)e[TY(n)]=t[n];return e}function Rv(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function AY(t){return new de({props:{handleKeyDown:ES(t)}})}function ES(t){let e=MY(t);return function(n,o){let r=_Y(o),i,s=e[Rv(r,o)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(o.shiftKey){let l=e[Rv(r,o,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((o.altKey||o.metaKey||o.ctrlKey)&&!(EY&&o.ctrlKey&&o.altKey)&&(i=ol[o.keyCode])&&i!=r){let l=e[Rv(i,o)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const TS=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function L$(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const D$=(t,e,n)=>{let o=L$(t,n);if(!o)return!1;let r=MS(o);if(!r){let s=o.blockRange(),l=s&&qu(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let i=r.nodeBefore;if(U$(t,r,e,-1))return!0;if(o.parent.content.size==0&&(Cu(i,"end")||J.isSelectable(i)))for(let s=o.depth;;s--){let l=d0(t.doc,o.before(s),o.after(s),q.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(Cu(i,"end")?ne.findFrom(a.doc.resolve(a.mapping.map(r.pos,-1)),-1):J.create(a.doc,r.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}if(s==1||o.node(s-1).childCount>1)break}return i.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},RY=(t,e,n)=>{let o=L$(t,n);if(!o)return!1;let r=MS(o);return r?I$(t,r,e):!1},NY=(t,e,n)=>{let o=P$(t,n);if(!o)return!1;let r=AS(o);return r?I$(t,r,e):!1};function I$(t,e,n){let o=e.nodeBefore,r=o,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let c=d0(t.doc,i,a,q.empty);if(!c||c.from!=i||c instanceof Et&&c.slice.size>=a-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(Y.create(u.doc,i)),n(u.scrollIntoView())}return!0}function Cu(t,e,n=!1){for(let o=t;o;o=e=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const $$=(t,e,n)=>{let{$head:o,empty:r}=t.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=MS(o)}let s=i&&i.nodeBefore;return!s||!J.isSelectable(s)?!1:(e&&e(t.tr.setSelection(J.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function MS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function P$(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const j$=(t,e,n)=>{let o=P$(t,n);if(!o)return!1;let r=AS(o);if(!r)return!1;let i=r.nodeAfter;if(U$(t,r,e,1))return!0;if(o.parent.content.size==0&&(Cu(i,"start")||J.isSelectable(i))){let s=d0(t.doc,o.before(),o.after(),q.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Cu(i,"start")?ne.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):J.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},B$=(t,e,n)=>{let{$head:o,empty:r}=t.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=AS(o)}let s=i&&i.nodeAfter;return!s||!J.isSelectable(s)?!1:(e&&e(t.tr.setSelection(J.create(t.doc,i.pos)).scrollIntoView()),!0)};function AS(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const OY=(t,e)=>{let n=t.selection,o=n instanceof J,r;if(o){if(n.node.isTextblock||!Va(t.doc,n.from))return!1;r=n.from}else if(r=u0(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);o&&i.setSelection(J.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},LY=(t,e)=>{let n=t.selection,o;if(n instanceof J){if(n.node.isTextblock||!Va(t.doc,n.to))return!1;o=n.to}else if(o=u0(t.doc,n.to,1),o==null)return!1;return e&&e(t.tr.join(o).scrollIntoView()),!0},DY=(t,e)=>{let{$from:n,$to:o}=t.selection,r=n.blockRange(o),i=r&&qu(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},z$=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function RS(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const IY=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),i=n.indexAfter(-1),s=RS(r.contentMatchAt(i));if(!s||!r.canReplaceWith(i,i,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(ne.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},H$=(t,e)=>{let n=t.selection,{$from:o,$to:r}=n;if(n instanceof Fn||o.parent.inlineContent||r.parent.inlineContent)return!1;let i=RS(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,l=t.tr.insert(s,i.createAndFill());l.setSelection(Y.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},V$=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ji(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let o=n.blockRange(),r=o&&qu(o);return r==null?!1:(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)};function $Y(t){return(e,n)=>{let{$from:o,$to:r}=e.selection;if(e.selection instanceof J&&e.selection.node.isBlock)return!o.parentOffset||!ji(e.doc,o.pos)?!1:(n&&n(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let i=[],s,l,a=!1,c=!1;for(let h=o.depth;;h--)if(o.node(h).isBlock){a=o.end(h)==o.pos+(o.depth-h),c=o.start(h)==o.pos-(o.depth-h),l=RS(o.node(h-1).contentMatchAt(o.indexAfter(h-1))),i.unshift(a&&l?{type:l}:null),s=h;break}else{if(h==1)return!1;i.unshift(null)}let u=e.tr;(e.selection instanceof Y||e.selection instanceof Fn)&&u.deleteSelection();let d=u.mapping.map(o.pos),f=ji(u.doc,d,i.length,i);if(f||(i[0]=l?{type:l}:null,f=ji(u.doc,d,i.length,i)),!f)return!1;if(u.split(d,i.length,i),!a&&c&&o.node(s).type!=l){let h=u.mapping.map(o.before(s)),p=u.doc.resolve(h);l&&o.node(s-1).canReplaceWith(p.index(),p.index()+1,l)&&u.setNodeMarkup(u.mapping.map(o.before(s)),l)}return n&&n(u.scrollIntoView()),!0}}const PY=$Y(),jY=(t,e)=>{let{$from:n,to:o}=t.selection,r,i=n.sharedDepth(o);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(J.create(t.doc,r))),!0)};function BY(t,e,n){let o=e.nodeBefore,r=e.nodeAfter,i=e.index();return!o||!r||!o.type.compatibleContent(r.type)?!1:!o.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||Va(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function U$(t,e,n,o){let r=e.nodeBefore,i=e.nodeAfter,s,l,a=r.type.spec.isolating||i.type.spec.isolating;if(!a&&BY(t,e,n))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(s[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,p=L.empty;for(let y=s.length-1;y>=0;y--)p=L.from(s[y].create(null,p));p=L.from(r.copy(p));let m=t.tr.step(new xt(e.pos-1,h,e.pos,h,new q(p,1,0),s.length,!0)),b=m.doc.resolve(h+2*s.length);b.nodeAfter&&b.nodeAfter.type==r.type&&Va(m.doc,b.pos)&&m.join(b.pos),n(m.scrollIntoView())}return!0}let u=i.type.spec.isolating||o>0&&a?null:ne.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&qu(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Cu(i,"start",!0)&&Cu(r,"end")){let h=r,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=i,b=1;for(;!m.isTextblock;m=m.firstChild)b++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(n){let y=L.empty;for(let k=p.length-1;k>=0;k--)y=L.from(p[k].copy(y));let w=t.tr.step(new xt(e.pos-p.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new q(y,p.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function F$(t){return function(e,n){let o=e.selection,r=t<0?o.$from:o.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(Y.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const zY=F$(-1),HY=F$(1);function VY(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),l=s&&UI(s,t,e);return l?(o&&o(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function pR(t,e=null){return function(n,o){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(s,l,(a,c)=>{if(r)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)r=!0;else{let u=n.doc.resolve(c),d=u.index();r=u.parent.canReplaceWith(d,d+1,t)}})}if(!r)return!1;if(o){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];i.setBlockType(l,a,t,e)}o(i.scrollIntoView())}return!0}}function NS(...t){return function(e,n,o){for(let r=0;r<t.length;r++)if(t[r](e,n,o))return!0;return!1}}NS(TS,D$,$$);NS(TS,j$,B$);NS(z$,H$,V$,PY);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function UY(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i);if(!s)return!1;let l=o?n.tr:null;return FY(l,s,t,e)?(o&&o(l.scrollIntoView()),!0):!1}}function FY(t,e,n,o=null){let r=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=s.resolve(e.start-2);i=new Kg(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new Kg(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let l=UI(i,n,o,e);return l?(t&&GY(t,e,l,r,n),!0):!1}function GY(t,e,n,o,r){let i=L.empty;for(let u=n.length-1;u>=0;u--)i=L.from(n[u].type.create(n[u].attrs,i));t.step(new xt(e.start-(o?2:0),e.end,e.start,e.end,new q(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==r&&(s=u+1);let l=n.length-s,a=e.start+n.length-(o?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&ji(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=c.child(u).nodeSize;return t}function qY(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,s=>s.childCount>0&&s.firstChild.type==t);return i?n?o.node(i.depth-1).type==t?WY(e,n,t,i):KY(e,n,i):!0:!1}}function WY(t,e,n,o){let r=t.tr,i=o.end,s=o.$to.end(o.depth);i<s&&(r.step(new xt(i-1,s,i,s,new q(L.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new Kg(r.doc.resolve(o.$from.pos),r.doc.resolve(s),o.depth));const l=qu(o);if(l==null)return!1;r.lift(o,l);let a=r.doc.resolve(r.mapping.map(i,-1)-1);return Va(r.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&r.join(a.pos),e(r.scrollIntoView()),!0}function KY(t,e,n){let o=t.tr,r=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=r.child(p).nodeSize,o.delete(h-1,h+1);let i=o.doc.resolve(n.start),s=i.nodeAfter;if(o.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==r.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(l?0:1),u+1,s.content.append(a?L.empty:L.from(r))))return!1;let d=i.pos,f=d+s.nodeSize;return o.step(new xt(d-(l?1:0),f+(a?1:0),d+1,f-1,new q((l?L.empty:L.from(r.copy(L.empty))).append(a?L.empty:L.from(r.copy(L.empty))),l?0:1,a?0:1),l?0:1)),e(o.scrollIntoView()),!0}function ZY(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let l=i.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let c=a.lastChild&&a.lastChild.type==l.type,u=L.from(c?t.create():null),d=new q(L.from(t.create(null,L.from(l.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;n(e.tr.step(new xt(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function g0(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,i=n.storedMarks,n}}}class b0{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:o}=this,{view:r}=n,{tr:i}=o,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...u)=>{const d=a(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:o,editor:r,state:i}=this,{view:s}=r,l=[],a=!!e,c=e||i.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(o).map(([f,h])=>[f,(...m)=>{const b=this.buildProps(c,n),y=h(...m)(b);return l.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:o}=this,r=!1,i=e||o.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,n=!0){const{rawCommands:o,editor:r,state:i}=this,{view:s}=r,l={tr:e,editor:r,view:s,state:g0({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(o).map(([a,c])=>[a,(...u)=>c(...u)(l)]))}};return l}}class YY{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const o=this.callbacks[e];return o&&o.forEach(r=>r.apply(this,n)),this}off(e,n){const o=this.callbacks[e];return o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const o=(...r)=>{this.off(e,o),n.apply(this,r)};return this.on(e,o)}removeAllListeners(){this.callbacks={}}}function X(t,e,n){return t.config[e]===void 0&&t.parent?X(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?X(t.parent,e,n):null}):t.config[e]}function y0(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),o=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:o}}function G$(t){const e=[],{nodeExtensions:n,markExtensions:o}=y0(t),r=[...n,...o],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:r},a=X(s,"addGlobalAttributes",l);if(!a)return;a().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...i,...h}})})})})}),r.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=X(s,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function qt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function yo(...t){return t.filter(e=>!!e).reduce((e,n)=>{const o={...e};return Object.entries(n).forEach(([r,i])=>{if(!o[r]){o[r]=i;return}if(r==="class"){const l=i?String(i).split(" "):[],a=o[r]?o[r].split(" "):[],c=l.filter(u=>!a.includes(u));o[r]=[...a,...c].join(" ")}else if(r==="style"){const l=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],a=o[r]?o[r].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),o[r]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else o[r]=i}),o},{})}function nb(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,o)=>yo(n,o),{})}function q$(t){return typeof t=="function"}function we(t,e=void 0,...n){return q$(t)?e?t.bind(e)(...n):t(...n):t}function XY(t={}){return Object.keys(t).length===0&&t.constructor===Object}function JY(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function mR(t,e){return"style"in t?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(o===!1)return!1;const r=e.reduce((i,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):JY(n.getAttribute(s.name));return l==null?i:{...i,[s.name]:l}},{});return{...o,...r}}}}function gR(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&XY(n)?!1:n!=null))}function W$(t,e){var n;const o=G$(t),{nodeExtensions:r,markExtensions:i}=y0(t),s=(n=r.find(c=>X(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(c=>{const u=o.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,w)=>{const k=X(w,"extendNodeSchema",d);return{...y,...k?k(c):{}}},{}),h=gR({...f,content:we(X(c,"content",d)),marks:we(X(c,"marks",d)),group:we(X(c,"group",d)),inline:we(X(c,"inline",d)),atom:we(X(c,"atom",d)),selectable:we(X(c,"selectable",d)),draggable:we(X(c,"draggable",d)),code:we(X(c,"code",d)),whitespace:we(X(c,"whitespace",d)),linebreakReplacement:we(X(c,"linebreakReplacement",d)),defining:we(X(c,"defining",d)),isolating:we(X(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var w;return[y.name,{default:(w=y==null?void 0:y.attribute)===null||w===void 0?void 0:w.default}]}))}),p=we(X(c,"parseHTML",d));p&&(h.parseDOM=p.map(y=>mR(y,u)));const m=X(c,"renderHTML",d);m&&(h.toDOM=y=>m({node:y,HTMLAttributes:nb(y,u)}));const b=X(c,"renderText",d);return b&&(h.toText=b),[c.name,h]})),a=Object.fromEntries(i.map(c=>{const u=o.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((b,y)=>{const w=X(y,"extendMarkSchema",d);return{...b,...w?w(c):{}}},{}),h=gR({...f,inclusive:we(X(c,"inclusive",d)),excludes:we(X(c,"excludes",d)),group:we(X(c,"group",d)),spanning:we(X(c,"spanning",d)),code:we(X(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),p=we(X(c,"parseHTML",d));p&&(h.parseDOM=p.map(b=>mR(b,u)));const m=X(c,"renderHTML",d);return m&&(h.toDOM=b=>m({mark:b,HTMLAttributes:nb(b,u)})),[c.name,h]}));return new II({topNode:s,nodes:l,marks:a})}function Nv(t,e){return e.nodes[t]||e.marks[t]||null}function bR(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function OS(t,e){const n=Qi.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const QY=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,(r,i,s,l)=>{var a,c;const u=((c=(a=r.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:r,pos:i,parent:s,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,o-i))}),n};function LS(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class rl{constructor(e){this.find=e.find,this.handler=e.handler}}const eX=(t,e)=>{if(LS(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function Zp(t){var e;const{editor:n,from:o,to:r,text:i,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(o);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=QY(c)+i;return s.forEach(f=>{if(u)return;const h=eX(d,f.find);if(!h)return;const p=a.state.tr,m=g0({state:a.state,transaction:p}),b={from:o-(h[0].length-i.length),to:r},{commands:y,chain:w,can:k}=new b0({editor:n,state:m});f.handler({state:m,range:b,match:h,commands:y,chain:w,can:k})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:o,to:r,text:i}),a.dispatch(p),u=!0)}),u}function tX(t){const{editor:e,rules:n}=t,o=new de({state:{init(){return null},apply(r,i,s){const l=r.getMeta(o);if(l)return l;const a=r.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:u}=a;typeof u=="string"?u=u:u=OS(L.from(u),s.schema);const{from:d}=a,f=d+u.length;Zp({editor:e,from:d,to:f,text:u,rules:n,plugin:o})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,s,l){return Zp({editor:e,from:i,to:s,text:l,rules:n,plugin:o})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&Zp({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:s}=r.state.selection;return s?Zp({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function nX(t){return Object.prototype.toString.call(t).slice(8,-1)}function Yp(t){return nX(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function v0(t,e){const n={...t};return Yp(t)&&Yp(e)&&Object.keys(e).forEach(o=>{Yp(e[o])&&Yp(t[o])?n[o]=v0(t[o],e[o]):n[o]=e[o]}),n}class rn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(X(this,"addOptions",{name:this.name}))),this.storage=we(X(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new rn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>v0(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new rn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=we(X(n,"addOptions",{name:n.name})),n.storage=we(X(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:o}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=s.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&o.removeStoredMark(a),o.insertText(" ",r.pos),e.view.dispatch(o),!0}return!1}}function oX(t){return typeof t=="number"}class rX{constructor(e){this.find=e.find,this.handler=e.handler}}const iX=(t,e,n)=>{if(LS(e))return[...t.matchAll(e)];const o=e(t,n);return o?o.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function sX(t){const{editor:e,state:n,from:o,to:r,rule:i,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:c,can:u}=new b0({editor:e,state:n}),d=[];return n.doc.nodesBetween(o,r,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const m=Math.max(o,p),b=Math.min(r,p+h.content.size),y=h.textBetween(m-p,b-p,void 0,"￼");iX(y,i.find,s).forEach(k=>{if(k.index===void 0)return;const x=m+k.index+1,C=x+k[0].length,E={from:n.tr.mapping.map(x),to:n.tr.mapping.map(C)},S=i.handler({state:n,range:E,match:k,commands:a,chain:c,can:u,pasteEvent:s,dropEvent:l});d.push(S)})}),d.every(h=>h!==null)}let Xp=null;const lX=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function aX(t){const{editor:e,rules:n}=t;let o=null,r=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const a=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const m=u.tr,b=g0({state:u,transaction:m});if(!(!sX({editor:e,state:b,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:l})||!m.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new de({view(d){const f=p=>{var m;o=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null,o&&(Xp=e)},h=()=>{Xp&&(Xp=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(i=o===d.dom.parentElement,l=f,!i){const h=Xp;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=f,r=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],m=p.getMeta("uiEvent")==="paste"&&!r,b=p.getMeta("uiEvent")==="drop"&&!i,y=p.getMeta("applyPasteRules"),w=!!y;if(!m&&!b&&!w)return;if(w){let{text:C}=y;typeof C=="string"?C=C:C=OS(L.from(C),h.schema);const{from:E}=y,S=E+C.length,_=lX(C);return a({rule:u,state:h,from:E,to:{b:S},pasteEvt:_})}const k=f.doc.content.findDiffStart(h.doc.content),x=f.doc.content.findDiffEnd(h.doc.content);if(!(!oX(k)||!x||k===x.b))return a({rule:u,state:h,from:k,to:x,pasteEvt:s})}}))}function cX(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return Array.from(new Set(e))}class ql{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ql.resolve(e),this.schema=W$(this.extensions,n),this.setupExtensions()}static resolve(e){const n=ql.sort(ql.flatten(e)),o=cX(n.map(r=>r.name));return o.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${o.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const o={name:n.name,options:n.options,storage:n.storage},r=X(n,"addExtensions",o);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((o,r)=>{const i=X(o,"priority")||100,s=X(r,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Nv(n.name,this.schema)},r=X(n,"addCommands",o);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=ql.sort([...this.extensions].reverse()),o=[],r=[],i=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Nv(s.name,this.schema)},a=[],c=X(s,"addKeyboardShortcuts",l);let u={};if(s.type==="mark"&&X(s,"exitable",l)&&(u.ArrowRight=()=>rn.handleExit({editor:e,mark:s})),c){const m=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...m}}const d=AY(u);a.push(d);const f=X(s,"addInputRules",l);bR(s,e.options.enableInputRules)&&f&&o.push(...f());const h=X(s,"addPasteRules",l);bR(s,e.options.enablePasteRules)&&h&&r.push(...h());const p=X(s,"addProseMirrorPlugins",l);if(p){const m=p();a.push(...m)}return a}).flat();return[tX({editor:e,rules:o}),...aX({editor:e,rules:r}),...i]}get attributes(){return G$(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=y0(this.extensions);return Object.fromEntries(n.filter(o=>!!X(o,"addNodeView")).map(o=>{const r=this.attributes.filter(a=>a.type===o.name),i={name:o.name,options:o.options,storage:o.storage,editor:e,type:qt(o.name,this.schema)},s=X(o,"addNodeView",i);if(!s)return[];const l=(a,c,u,d,f)=>{const h=nb(a,r);return s()({node:a,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:o,HTMLAttributes:h})};return[o.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const o={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Nv(e.name,this.schema)};e.type==="mark"&&(!((n=we(X(e,"keepOnSplit",o)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=X(e,"onBeforeCreate",o),i=X(e,"onCreate",o),s=X(e,"onUpdate",o),l=X(e,"onSelectionUpdate",o),a=X(e,"onTransaction",o),c=X(e,"onFocus",o),u=X(e,"onBlur",o),d=X(e,"onDestroy",o);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class He{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(X(this,"addOptions",{name:this.name}))),this.storage=we(X(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new He(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>v0(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new He({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=we(X(n,"addOptions",{name:n.name})),n.storage=we(X(n,"addStorage",{name:n.name,options:n.options})),n}}function K$(t,e,n){const{from:o,to:r}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let l="";return t.nodesBetween(o,r,(a,c,u,d)=>{var f;a.isBlock&&c>o&&(l+=i);const h=s==null?void 0:s[a.type.name];if(h)return u&&(l+=h({node:a,pos:c,parent:u,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(o,c)-c,r-c))}),l}function Z$(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Y$=He.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new de({key:new Te("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:r}=e,{ranges:i}=r,s=Math.min(...i.map(u=>u.$from.pos)),l=Math.max(...i.map(u=>u.$to.pos)),a=Z$(n);return K$(o,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),uX=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),dX=(t=!1)=>({commands:e})=>e.setContent("",t),fX=()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:r}=o;return n&&r.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(a)),f=c.resolve(u.map(a+l.nodeSize)),h=d.blockRange(f);if(!h)return;const p=qu(h);if(l.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,m)}(p||p===0)&&e.lift(h,p)})}),!0},hX=t=>e=>t(e),pX=()=>({state:t,dispatch:e})=>H$(t,e),mX=(t,e)=>({editor:n,tr:o})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);o.deleteRange(t.from,t.to);const s=o.mapping.map(e);return o.insert(s,i.content),o.setSelection(new Y(o.doc.resolve(Math.max(s-1,0)))),!0},gX=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===o.type){if(e){const l=r.before(i),a=r.after(i);t.delete(l,a).scrollIntoView()}return!0}return!1},bX=t=>({tr:e,state:n,dispatch:o})=>{const r=qt(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r){if(o){const a=i.before(s),c=i.after(s);e.delete(a,c).scrollIntoView()}return!0}return!1},yX=t=>({tr:e,dispatch:n})=>{const{from:o,to:r}=t;return n&&e.delete(o,r),!0},vX=()=>({state:t,dispatch:e})=>TS(t,e),wX=()=>({commands:t})=>t.keyboardShortcut("Enter"),kX=()=>({state:t,dispatch:e})=>IY(t,e);function ob(t,e,n={strict:!0}){const o=Object.keys(e);return o.length?o.every(r=>n.strict?e[r]===t[r]:LS(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function X$(t,e,n={}){return t.find(o=>o.type===e&&ob(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function yR(t,e,n={}){return!!X$(t,e,n)}function qf(t,e,n){var o;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(n=n||((o=r.node.marks[0])===null||o===void 0?void 0:o.attrs),!X$([...r.node.marks],e,n)))return;let s=r.index,l=t.start()+r.offset,a=s+1,c=l+r.node.nodeSize;for(;s>0&&yR([...t.parent.child(s-1).marks],e,n);)s-=1,l-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&yR([...t.parent.child(a).marks],e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:l,to:c}}function vl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const xX=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const i=vl(t,o.schema),{doc:s,selection:l}=n,{$from:a,from:c,to:u}=l;if(r){const d=qf(a,i,e);if(d&&d.from<=c&&d.to>=u){const f=Y.create(s,d.from,d.to);n.setSelection(f)}}return!0},CX=t=>e=>{const n=typeof t=="function"?t(e):t;for(let o=0;o<n.length;o+=1)if(n[o](e))return!0;return!1};function w0(t){return t instanceof Y}function Ni(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function J$(t,e=null){if(!e)return null;const n=ne.atStart(t),o=ne.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return o;const r=n.from,i=o.to;return e==="all"?Y.create(t,Ni(0,r,i),Ni(t.content.size,r,i)):Y.create(t,Ni(e,r,i),Ni(e,r,i))}function Q$(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function k0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const _X=(t=null,e={})=>({editor:n,view:o,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{(k0()||Q$())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!w0(n.state.selection))return s(),!0;const l=J$(r.doc,t)||n.state.selection,a=n.state.selection.eq(l);return i&&(a||r.setSelection(l),a&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},SX=(t,e)=>n=>t.every((o,r)=>e(o,{...n,index:r})),EX=(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),e8=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const o=e[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?t.removeChild(o):o.nodeType===1&&e8(o)}return t};function Jp(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return e8(n)}function Wf(t,e,n){if(t instanceof Pi||t instanceof L)return t;n={slice:!0,parseOptions:{},...n};const o=typeof t=="object"&&t!==null,r=typeof t=="string";if(o)try{if(Array.isArray(t)&&t.length>0)return L.fromArray(t.map(l=>e.nodeFromJSON(l)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Wf("",e,n)}if(r){if(n.errorOnInvalidContent){let s=!1,l="";const a=new II({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?zr.fromSchema(a).parseSlice(Jp(t),n.parseOptions):zr.fromSchema(a).parse(Jp(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=zr.fromSchema(e);return n.slice?i.parseSlice(Jp(t),n.parseOptions).content:i.parse(Jp(t),n.parseOptions)}return Wf("",e,n)}function t8(t,e,n){const o=t.steps.length-1;if(o<e)return;const r=t.steps[o];if(!(r instanceof Et||r instanceof xt))return;const i=t.mapping.maps[o];let s=0;i.forEach((l,a,c,u)=>{s===0&&(s=u)}),t.setSelection(ne.near(t.doc.resolve(s),n))}const TX=t=>!("type"in t),MX=(t,e,n)=>({tr:o,dispatch:r,editor:i})=>{var s;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const a=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Wf(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){a(b)}try{l=Wf(e,i.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(b){return a(b),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((TX(l)?l:[l]).forEach(b=>{b.check(),f=f?b.isText&&b.marks.length===0:!1,h=h?b.isBlock:!1}),u===d&&h){const{parent:b}=o.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,d+=1)}let m;if(f){if(Array.isArray(e))m=e.map(b=>b.text||"").join("");else if(e instanceof L){let b="";e.forEach(y=>{y.text&&(b+=y.text)}),m=b}else typeof e=="object"&&e&&e.text?m=e.text:m=e;o.insertText(m,u,d)}else m=l,o.replaceWith(u,d,m);n.updateSelection&&t8(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:u,text:m})}return!0},AX=()=>({state:t,dispatch:e})=>OY(t,e),RX=()=>({state:t,dispatch:e})=>LY(t,e),NX=()=>({state:t,dispatch:e})=>D$(t,e),OX=()=>({state:t,dispatch:e})=>j$(t,e),LX=()=>({state:t,dispatch:e,tr:n})=>{try{const o=u0(t.doc,t.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},DX=()=>({state:t,dispatch:e,tr:n})=>{try{const o=u0(t.doc,t.selection.$from.pos,1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},IX=()=>({state:t,dispatch:e})=>RY(t,e),$X=()=>({state:t,dispatch:e})=>NY(t,e);function n8(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function PX(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let o,r,i,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))o=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))k0()||n8()?s=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const jX=t=>({editor:e,view:n,tr:o,dispatch:r})=>{const i=PX(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const u=c.map(o.mapping);u&&r&&o.maybeStep(u)}),!0};function Kf(t,e,n={}){const{from:o,to:r,empty:i}=t.selection,s=e?qt(e,t.schema):null,l=[];t.doc.nodesBetween(o,r,(d,f)=>{if(d.isText)return;const h=Math.max(o,f),p=Math.min(r,f+d.nodeSize);l.push({node:d,from:h,to:p})});const a=r-o,c=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>ob(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=a}const BX=(t,e={})=>({state:n,dispatch:o})=>{const r=qt(t,n.schema);return Kf(n,r,e)?DY(n,o):!1},zX=()=>({state:t,dispatch:e})=>V$(t,e),HX=t=>({state:e,dispatch:n})=>{const o=qt(t,e.schema);return qY(o)(e,n)},VX=()=>({state:t,dispatch:e})=>z$(t,e);function x0(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function vR(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((o,r)=>(n.includes(r)||(o[r]=t[r]),o),{})}const UX=(t,e)=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const l=x0(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(i=qt(t,o.schema)),l==="mark"&&(s=vl(t,o.schema)),r&&n.selection.ranges.forEach(a=>{o.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,vR(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(vR(d.attrs,e)))})})}),!0):!1},FX=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),GX=()=>({tr:t,dispatch:e})=>{if(e){const n=new Fn(t.doc);t.setSelection(n)}return!0},qX=()=>({state:t,dispatch:e})=>$$(t,e),WX=()=>({state:t,dispatch:e})=>B$(t,e),KX=()=>({state:t,dispatch:e})=>jY(t,e),ZX=()=>({state:t,dispatch:e})=>HY(t,e),YX=()=>({state:t,dispatch:e})=>zY(t,e);function rb(t,e,n={},o={}){return Wf(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const XX=(t,e=!1,n={},o={})=>({editor:r,tr:i,dispatch:s,commands:l})=>{var a,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=rb(t,r.schema,n,{errorOnInvalidContent:(a=o.errorOnInvalidContent)!==null&&a!==void 0?a:r.options.enableContentCheck});return s&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=o.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function o8(t,e){const n=vl(e,t.schema),{from:o,to:r,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,r,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function DS(t,e){const n=new pS(t);return e.forEach(o=>{o.steps.forEach(r=>{n.step(r)})}),n}function JX(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function wR(t,e){const n=[];return t.descendants((o,r)=>{e(o)&&n.push({node:o,pos:r})}),n}function r8(t,e,n){const o=[];return t.nodesBetween(e.from,e.to,(r,i)=>{n(r)&&o.push({node:r,pos:i})}),o}function QX(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}function C0(t){return e=>QX(e.$from,t)}function eJ(t,e){const n=ql.resolve(t);return W$(n,e)}function tJ(t,e){const n={from:0,to:t.content.size};return K$(t,n,e)}function nJ(t,e){const n=qt(e,t.schema),{from:o,to:r}=t.selection,i=[];t.doc.nodesBetween(o,r,l=>{i.push(l)});const s=i.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function i8(t,e){const n=x0(typeof e=="string"?e:e.name,t.schema);return n==="node"?nJ(t,e):n==="mark"?o8(t,e):{}}function oJ(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function rJ(t){const e=oJ(t);return e.length===1?e:e.filter((n,o)=>!e.filter((i,s)=>s!==o).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function s8(t){const{mapping:e,steps:n}=t,o=[];return e.maps.forEach((r,i)=>{const s=[];if(r.ranges.length)r.forEach((l,a)=>{s.push({from:l,to:a})});else{const{from:l,to:a}=n[i];if(l===void 0||a===void 0)return;s.push({from:l,to:a})}s.forEach(({from:l,to:a})=>{const c=e.slice(i).map(l,-1),u=e.slice(i).map(a),d=e.invert().map(c,-1),f=e.invert().map(u);o.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),rJ(o)}function IS(t,e,n){const o=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),s=qf(i,r.type);s&&o.push({mark:r,...s})}):n.nodesBetween(t,e,(r,i)=>{!r||(r==null?void 0:r.nodeSize)===void 0||o.push(...r.marks.map(s=>({from:i,to:i+r.nodeSize,mark:s})))}),o}function Vm(t,e,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=t.find(i=>i.type===e&&i.name===o);return r?r.attribute.keepOnSplit:!1}))}function hx(t,e,n={}){const{empty:o,ranges:r}=t.selection,i=e?vl(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>ob(d.attrs,n,{strict:!1}));let s=0;const l=[];if(r.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(m,b)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(h,b),w=Math.min(p,b+m.nodeSize),k=w-y;s+=k,l.push(...m.marks.map(x=>({mark:x,from:y,to:w})))})}),s===0)return!1;const a=l.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>ob(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=l.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+c:a)>=s}function iJ(t,e,n={}){if(!e)return Kf(t,null,n)||hx(t,null,n);const o=x0(e,t.schema);return o==="node"?Kf(t,e,n):o==="mark"?hx(t,e,n):!1}function kR(t,e){const{nodeExtensions:n}=y0(e),o=n.find(s=>s.name===t);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},i=we(X(o,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function $S(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((o=t.text)!==null&&o!==void 0?o:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&($S(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function px(t){return t instanceof J}function ib(t,e,n){const r=t.state.doc.content.size,i=Ni(e,0,r),s=Ni(n,0,r),l=t.coordsAtPos(i),a=t.coordsAtPos(s,-1),c=Math.min(l.top,a.top),u=Math.max(l.bottom,a.bottom),d=Math.min(l.left,a.left),f=Math.max(l.right,a.right),h=f-d,p=u-c,y={top:c,bottom:u,left:d,right:f,width:h,height:p,x:d,y:c};return{...y,toJSON:()=>y}}function sJ(t,e,n){var o;const{selection:r}=e;let i=null;if(w0(r)&&(i=r.$cursor),i){const l=(o=t.storedMarks)!==null&&o!==void 0?o:i.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:l,$to:a})=>{let c=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=h&&p}return!c}),c})}const lJ=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:l}=i,a=vl(t,o.schema);if(r)if(s){const c=o8(o,a);n.addStoredMark(a.create({...c,...e}))}else l.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;o.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),m=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===a)?f.marks.forEach(y=>{a===y.type&&n.addMark(p,m,a.create({...y.attrs,...e}))}):n.addMark(p,m,a.create(e))})});return sJ(o,n,a)},aJ=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),cJ=(t,e={})=>({state:n,dispatch:o,chain:r})=>{const i=qt(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:l})=>pR(i,{...s,...e})(n)?!0:l.clearNodes()).command(({state:l})=>pR(i,{...s,...e})(l,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,r=Ni(t,0,o.content.size),i=J.create(o,r);e.setSelection(i)}return!0},dJ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,s=Y.atStart(o).from,l=Y.atEnd(o).to,a=Ni(r,s,l),c=Ni(i,s,l),u=Y.create(o,a,c);e.setSelection(u)}return!0},fJ=t=>({state:e,dispatch:n})=>{const o=qt(t,e.schema);return ZY(o)(e,n)};function xR(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(o)}}const hJ=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:o,editor:r})=>{const{selection:i,doc:s}=e,{$from:l,$to:a}=i,c=r.extensionManager.attributes,u=Vm(c,l.node().type.name,l.node().attrs);if(i instanceof J&&i.node.isBlock)return!l.parentOffset||!ji(s,l.pos)?!1:(o&&(t&&xR(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:JX(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=ji(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&ji(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),o){if(p&&(i instanceof Y&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const m=e.mapping.map(l.before()),b=e.doc.resolve(m);l.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&xR(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return p},pJ=(t,e={})=>({tr:n,state:o,dispatch:r,editor:i})=>{var s;const l=qt(t,o.schema),{$from:a,$to:c}=o.selection,u=o.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let y=L.empty;const w=a.index(-1)?1:a.index(-2)?2:3;for(let _=a.depth-w;_>=a.depth-3;_-=1)y=L.from(a.node(_).copy(y));const k=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,x={...Vm(f,a.node().type.name,a.node().attrs),...e},C=((s=l.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(x))||void 0;y=y.append(L.from(l.createAndFill(null,C)||void 0));const E=a.before(a.depth-(w-1));n.replace(E,a.after(-k),new q(y,4-w,0));let S=-1;n.doc.nodesBetween(E,n.doc.content.size,(_,T)=>{if(S>-1)return!1;_.isTextblock&&_.content.size===0&&(S=T+1)}),S>-1&&n.setSelection(Y.near(n.doc.resolve(S))),n.scrollIntoView()}return!0}const h=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p={...Vm(f,d.type.name,d.attrs),...e},m={...Vm(f,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,c.pos);const b=h?[{type:l,attrs:p},{type:h,attrs:m}]:[{type:l,attrs:p}];if(!ji(n.doc,a.pos,2))return!1;if(r){const{selection:y,storedMarks:w}=o,{splittableMarks:k}=i.extensionManager,x=w||y.$to.parentOffset&&y.$from.marks();if(n.split(a.pos,2,b).scrollIntoView(),!x||!r)return!0;const C=x.filter(E=>k.includes(E.type.name));n.ensureMarks(C)}return!0},Ov=(t,e)=>{const n=C0(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&Va(t.doc,n.pos)&&t.join(n.pos),!0},Lv=(t,e)=>{const n=C0(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&Va(t.doc,o)&&t.join(o),!0},mJ=(t,e,n,o={})=>({editor:r,tr:i,state:s,dispatch:l,chain:a,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=r.extensionManager,h=qt(t,s.schema),p=qt(e,s.schema),{selection:m,storedMarks:b}=s,{$from:y,$to:w}=m,k=y.blockRange(w),x=b||m.$to.parentOffset&&m.$from.marks();if(!k)return!1;const C=C0(E=>kR(E.type.name,d))(m);if(k.depth>=1&&C&&k.depth-C.depth<=1){if(C.node.type===h)return c.liftListItem(p);if(kR(C.node.type.name,d)&&h.validContent(C.node.content)&&l)return a().command(()=>(i.setNodeMarkup(C.pos,h),!0)).command(()=>Ov(i,h)).command(()=>Lv(i,h)).run()}return!n||!x||!l?a().command(()=>u().wrapInList(h,o)?!0:c.clearNodes()).wrapInList(h,o).command(()=>Ov(i,h)).command(()=>Lv(i,h)).run():a().command(()=>{const E=u().wrapInList(h,o),S=x.filter(_=>f.includes(_.type.name));return i.ensureMarks(S),E?!0:c.clearNodes()}).wrapInList(h,o).command(()=>Ov(i,h)).command(()=>Lv(i,h)).run()},gJ=(t,e={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=vl(t,o.schema);return hx(o,s,e)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,e)},bJ=(t,e,n={})=>({state:o,commands:r})=>{const i=qt(t,o.schema),s=qt(e,o.schema),l=Kf(o,i,n);let a;return o.selection.$anchor.sameParent(o.selection.$head)&&(a=o.selection.$anchor.parent.attrs),l?r.setNode(s,a):r.setNode(i,{...a,...n})},yJ=(t,e={})=>({state:n,commands:o})=>{const r=qt(t,n.schema);return Kf(n,r,e)?o.lift(r):o.wrapIn(r,e)},vJ=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const s=t.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else s.delete(i.from,i.to)}return!0}}return!1},wJ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:r}=n;return o||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},kJ=(t,e={})=>({tr:n,state:o,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=vl(t,o.schema),{$from:c,empty:u,ranges:d}=l;if(!r)return!0;if(u&&s){let{from:f,to:h}=l;const p=(i=c.marks().find(b=>b.type===a))===null||i===void 0?void 0:i.attrs,m=qf(c,a,p);m&&(f=m.from,h=m.to),n.removeMark(f,h,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},xJ=(t,e={})=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const l=x0(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(i=qt(t,o.schema)),l==="mark"&&(s=vl(t,o.schema)),r&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;let d,f,h,p;n.selection.empty?o.doc.nodesBetween(c,u,(m,b)=>{i&&i===m.type&&(h=Math.max(b,c),p=Math.min(b+m.nodeSize,u),d=b,f=m)}):o.doc.nodesBetween(c,u,(m,b)=>{b<c&&i&&i===m.type&&(h=Math.max(b,c),p=Math.min(b+m.nodeSize,u),d=b,f=m),b>=c&&b<=u&&(i&&i===m.type&&n.setNodeMarkup(b,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(y=>{if(s===y.type){const w=Math.max(b,c),k=Math.min(b+m.nodeSize,u);n.addMark(w,k,s.create({...y.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&n.addMark(h,p,s.create({...m.attrs,...e}))}))}),!0):!1},CJ=(t,e={})=>({state:n,dispatch:o})=>{const r=qt(t,n.schema);return VY(r,e)(n,o)},_J=(t,e={})=>({state:n,dispatch:o})=>{const r=qt(t,n.schema);return UY(r,e)(n,o)};var SJ=Object.freeze({__proto__:null,blur:uX,clearContent:dX,clearNodes:fX,command:hX,createParagraphNear:pX,cut:mX,deleteCurrentNode:gX,deleteNode:bX,deleteRange:yX,deleteSelection:vX,enter:wX,exitCode:kX,extendMarkRange:xX,first:CX,focus:_X,forEach:SX,insertContent:EX,insertContentAt:MX,joinBackward:NX,joinDown:RX,joinForward:OX,joinItemBackward:LX,joinItemForward:DX,joinTextblockBackward:IX,joinTextblockForward:$X,joinUp:AX,keyboardShortcut:jX,lift:BX,liftEmptyBlock:zX,liftListItem:HX,newlineInCode:VX,resetAttributes:UX,scrollIntoView:FX,selectAll:GX,selectNodeBackward:qX,selectNodeForward:WX,selectParentNode:KX,selectTextblockEnd:ZX,selectTextblockStart:YX,setContent:XX,setMark:lJ,setMeta:aJ,setNode:cJ,setNodeSelection:uJ,setTextSelection:dJ,sinkListItem:fJ,splitBlock:hJ,splitListItem:pJ,toggleList:mJ,toggleMark:gJ,toggleNode:bJ,toggleWrap:yJ,undoInputRule:vJ,unsetAllMarks:wJ,unsetMark:kJ,updateAttributes:xJ,wrapIn:CJ,wrapInList:_J});const l8=He.create({name:"commands",addCommands(){return{...SJ}}}),a8=He.create({name:"drop",addProseMirrorPlugins(){return[new de({key:new Te("tiptapDrop"),props:{handleDrop:(t,e,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:o})}}})]}}),c8=He.create({name:"editable",addProseMirrorPlugins(){return[new de({key:new Te("editable"),props:{editable:()=>this.editor.options.editable}})]}}),u8=new Te("focusEvents"),d8=He.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new de({key:u8,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),f8=He.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:u,$anchor:d}=a,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,b=d.pos-d.parentOffset,y=m&&p.parent.childCount===1?b===d.pos:ne.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...o},i={...o,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return k0()||n8()?i:r},addProseMirrorPlugins(){return[new de({key:new Te("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(m=>m.getMeta("composition")))return;const o=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),r=t.some(m=>m.getMeta("preventClearDocument"));if(!o||r)return;const{empty:i,from:s,to:l}=e.selection,a=ne.atStart(e.doc).from,c=ne.atEnd(e.doc).to;if(i||!(s===a&&l===c)||!$S(n.doc))return;const f=n.tr,h=g0({state:n,transaction:f}),{commands:p}=new b0({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),h8=He.create({name:"paste",addProseMirrorPlugins(){return[new de({key:new Te("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),p8=He.create({name:"tabindex",addProseMirrorPlugins(){return[new de({key:new Te("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Ed=Object.freeze({__proto__:null,ClipboardTextSerializer:Y$,Commands:l8,Drop:a8,Editable:c8,FocusEvents:d8,Keymap:f8,Paste:h8,Tabindex:p8,focusEventsPluginKey:u8});class jl{get name(){return this.node.type.name}constructor(e,n,o=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new jl(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new jl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new jl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,o)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+o+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(s);if(!r&&l.depth<=this.depth)return;const a=new jl(l,this.editor,r,r?n:null);r&&(a.actualDepth=this.depth+1),e.push(new jl(l,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let o=null,r=this.parent;for(;r&&!o;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const a=s[l];if(i[a]!==n[a])break}}else o=r;r=r.parent}return o}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},o=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(s=>{o&&r.length>0||(s.node.type.name===e&&i.every(a=>n[a]===s.node.attrs[a])&&r.push(s),!(o&&r.length>0)&&(r=r.concat(s.querySelectorAll(e,n,o))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const EJ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function TJ(t,e,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class MJ extends YY{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:r})=>this.options.onDrop(n,o,r)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=TJ(EJ,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const o=q$(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let o=n;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;o=o.filter(l=>!l.key.startsWith(s))}),n.length===o.length)return;const r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[c8,Y$.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),l8,d8,f8,p8,a8,h8].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new ql(r,this)}createCommandManager(){this.commandManager=new b0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=rb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=rb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const o=J$(n,this.options.autofocus);this.view=new SS(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Ul.create({doc:n,selection:o||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),o=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return i8(this.state,e)}isActive(e,n){const o=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return iJ(this.state,o,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return OS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:o={}}=e||{};return tJ(this.state.doc,{blockSeparator:n,textSerializers:{...Z$(this.schema),...o}})}get isEmpty(){return $S(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelector(e,n))||null}$nodes(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new jl(n,this)}get $doc(){return this.$pos(0)}}function _u(t){return new rl({find:t.find,handler:({state:e,range:n,match:o})=>{const r=we(t.getAttributes,void 0,o);if(r===!1||r===null)return null;const{tr:i}=e,s=o[o.length-1],l=o[0];if(s){const a=l.search(/\S/),c=n.from+l.indexOf(s),u=c+s.length;if(IS(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+a,c);const f=n.from+a+s.length;i.addMark(n.from+a,f,t.type.create(r||{})),i.removeStoredMark(t.type)}}})}let ti=class mx{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=we(X(this,"addOptions",{name:this.name}))),this.storage=we(X(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mx(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>v0(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new mx(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=we(X(n,"addOptions",{name:n.name})),n.storage=we(X(n,"addStorage",{name:n.name,options:n.options})),n}};class AJ{constructor(e,n,o){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,o,r,i,s,l,a;const{view:c}=this.editor,u=e.target,d=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(u)||!d)return;let f=0,h=0;if(this.dom!==d){const w=this.dom.getBoundingClientRect(),k=d.getBoundingClientRect(),x=(r=e.offsetX)!==null&&r!==void 0?r:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,C=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;f=k.x-w.x+x,h=k.y-w.y+C}const p=this.dom.cloneNode(!0);(a=e.dataTransfer)===null||a===void 0||a.setDragImage(p,f,h);const m=this.getPos();if(typeof m!="number")return;const b=J.create(c.state.doc,m),y=c.state.tr.setSelection(b);c.dispatch(y)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const o=e.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const i=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!s&&!i)return!0;const{isEditable:a}=this.editor,{isDragging:c}=this,u=!!this.node.type.spec.draggable,d=J.isSelectable(this.node),f=e.type==="copy",h=e.type==="paste",p=e.type==="cut",m=e.type==="mousedown";if(!u&&d&&i&&e.target===this.dom&&e.preventDefault(),u&&i&&!c&&e.target===this.dom)return e.preventDefault(),!1;if(u&&a&&!c&&m){const b=o.closest("[data-drag-handle]");b&&(this.dom===b||this.dom.contains(b))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||s||f||h||p||m&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(k0()||Q$())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Ca(t){return new rX({find:t.find,handler:({state:e,range:n,match:o,pasteEvent:r})=>{const i=we(t.getAttributes,void 0,o,r);if(i===!1||i===null)return null;const{tr:s}=e,l=o[o.length-1],a=o[0];let c=n.to;if(l){const u=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(IS(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===t.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+l.length,s.addMark(n.from+u,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}var Qp,RJ=new Uint8Array(16);function NJ(){if(!Qp&&(Qp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qp(RJ)}const OJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function LJ(t){return typeof t=="string"&&OJ.test(t)}var Yt=[];for(var Dv=0;Dv<256;++Dv)Yt.push((Dv+256).toString(16).substr(1));function DJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]).toLowerCase();if(!LJ(n))throw TypeError("Stringified UUID is invalid");return n}function m8(t,e,n){t=t||{};var o=t.random||(t.rng||NJ)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,DJ(o)}var IJ=class g8{constructor(e){this.cache=new Map(e)}get(e){return this.cache.get(e)}set(e,n,o){e<0||this.cache.set(e,[n,o])}replace(e,n,o,r){this.remove(e),this.set(n,o,r)}remove(e){this.cache.delete(e)}invalidate(e){const n=new g8(this.cache),o=e.mapping;return this.cache.forEach(([r,i],s)=>{if(s<0)return;const l=o.mapResult(s),a=e.doc.nodeAt(l.pos);if(l.deleted||!(a!=null&&a.eq(r)))n.remove(s);else if(s!==l.pos){const c=i.map(u=>u.map(o,0,0)).filter(u=>u!=null);n.replace(s,l.pos,a,c)}}),n}};function $J({parser:t,nodeTypes:e=["code_block","codeBlock"],languageExtractor:n=o=>o.attrs.language}){const o=new Te("prosemirror-highlight");return new de({key:o,state:{init(r,i){const s=new IJ,[l,a]=CR(i.doc,t,e,n,s);return{cache:s,decorations:l,promises:a}},apply:(r,i)=>{const s=i.cache.invalidate(r),l=!!r.getMeta("prosemirror-highlight-refresh");if(!r.docChanged&&!l){const u=i.decorations.map(r.mapping,r.doc),d=i.promises;return{cache:s,decorations:u,promises:d}}const[a,c]=CR(r.doc,t,e,n,s);return{cache:s,decorations:a,promises:c}}},view:r=>{const i=new Set,s=()=>{if(i.size>0)return;const a=r.state.tr.setMeta("prosemirror-highlight-refresh",!0);r.dispatch(a)},l=()=>{var a;const c=o.getState(r.state);for(const u of(a=c==null?void 0:c.promises)!=null?a:[])i.add(u),u.then(()=>{i.delete(u),s()}).catch(()=>{i.delete(u)})};return l(),{update:()=>{l()}}},props:{decorations(r){var i;return(i=this.getState(r))==null?void 0:i.decorations}}})}function CR(t,e,n,o,r){const i=[],s=[];return t.descendants((l,a)=>{if(!l.type.isTextblock)return!0;if(n.includes(l.type.name)){const c=o(l),u=r.get(a);if(u){const[d,f]=u;i.push(...f)}else{const d=e({content:l.textContent,language:c||void 0,pos:a,size:l.nodeSize});d&&Array.isArray(d)?(r.set(a,l,d),i.push(...d)):d instanceof Promise&&(r.remove(a),s.push(d))}}return!1}),[ye.create(t,i),s]}function PJ(t,e){return function({content:o,language:r,pos:i,size:s}){var l;const a=[],{tokens:c,fg:u,bg:d,rootStyle:f}=t.codeToTokens(o,{lang:r,theme:t.getLoadedThemes()[0]}),h=f||(u&&d?`--prosemirror-highlight:${u};--prosemirror-highlight-bg:${d}`:"");if(h){const m=Le.node(i,i+s,{style:h});a.push(m)}let p=i+1;for(const m of c){for(const b of m){const y=p+b.content.length,w=Le.inline(p,y,{style:jJ((l=b.htmlStyle)!=null?l:`color: ${b.color}`),class:"shiki"});a.push(w),p=y}p+=1}return a}}function jJ(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const BJ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,zJ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HJ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,VJ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,UJ=rn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",yo(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[_u({find:BJ,type:this.type}),_u({find:HJ,type:this.type})]},addPasteRules(){return[Ca({find:zJ,type:this.type}),Ca({find:VJ,type:this.type})]}}),FJ=/(^|[^`])`([^`]+)`(?!`)/,GJ=/(^|[^`])`([^`]+)`(?!`)/g,qJ=rn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",yo(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[_u({find:FJ,type:this.type})]},addPasteRules(){return[Ca({find:GJ,type:this.type})]}}),WJ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,KJ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,ZJ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,YJ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,XJ=rn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",yo(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[_u({find:WJ,type:this.type}),_u({find:ZJ,type:this.type})]},addPasteRules(){return[Ca({find:KJ,type:this.type}),Ca({find:YJ,type:this.type})]}}),JJ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,QJ=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,eQ=rn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",yo(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[_u({find:JJ,type:this.type})]},addPasteRules(){return[Ca({find:QJ,type:this.type})]}}),tQ=rn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",yo(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),nQ=ti.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",yo(this.options.HTMLAttributes,t),0]}}),oQ=ti.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",yo(this.options.HTMLAttributes,t),0]}});var gx,bx;if(typeof WeakMap<"u"){let t=new WeakMap;gx=e=>t.get(e),bx=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;gx=o=>{for(let r=0;r<t.length;r+=2)if(t[r]==o)return t[r+1]},bx=(o,r)=>(n==10&&(n=0),t[n++]=o,t[n++]=r)}var it=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const o=e%this.width,r=e/this.width|0;let i=o+1,s=r+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:o,top:r,right:i,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:o,right:r,top:i,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?o==0:r==this.width)?null:this.map[i*this.width+(n<0?o-1:r)]:(n<0?i==0:s==this.height)?null:this.map[o+this.width*(n<0?i-1:s)]}rectBetween(t,e){const{left:n,right:o,top:r,bottom:i}=this.findCell(t),{left:s,right:l,top:a,bottom:c}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(r,a),right:Math.max(o,l),bottom:Math.max(i,c)}}cellsInRect(t){const e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let r=t.left;r<t.right;r++){const i=o*this.width+r,s=this.map[i];n[s]||(n[s]=!0,!(r==t.left&&r&&this.map[i-1]==s||o==t.top&&o&&this.map[i-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let o=0,r=0;;o++){const i=r+n.child(o).nodeSize;if(o==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<r;)s++;return s==l?i-1:this.map[s]}r=i}}static get(t){return gx(t)||bx(t,rQ(t))}};function rQ(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=iQ(t),n=t.childCount,o=[];let r=0,i=null;const s=[];for(let c=0,u=e*n;c<u;c++)o[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;r<o.length&&o[r]!=0;)r++;if(p==d.childCount)break;const m=d.child(p),{colspan:b,rowspan:y,colwidth:w}=m.attrs;for(let k=0;k<y;k++){if(k+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:y-k});break}const x=r+k*e;for(let C=0;C<b;C++){o[x+C]==0?o[x+C]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:b-C});const E=w&&w[C];if(E){const S=(x+C)%e*2,_=s[S];_==null||_!=E&&s[S+1]==1?(s[S]=E,s[S+1]=1):_==E&&s[S+1]++}}}r+=b,u+=m.nodeSize}const f=(c+1)*e;let h=0;for(;r<f;)o[r++]==0&&h++;h&&(i||(i=[])).push({type:"missing",row:c,n:h}),u++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new it(e,n,o,i);let a=!1;for(let c=0;!a&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(a=!0);return a&&sQ(l,s,t),l}function iQ(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){const r=t.child(o);let i=0;if(n)for(let s=0;s<o;s++){const l=t.child(s);for(let a=0;a<l.childCount;a++){const c=l.child(a);s+c.attrs.rowspan>o&&(i+=c.attrs.colspan)}}for(let s=0;s<r.childCount;s++){const l=r.child(s);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function sQ(t,e,n){t.problems||(t.problems=[]);const o={};for(let r=0;r<t.map.length;r++){const i=t.map[r];if(o[i])continue;o[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let l=null;const a=s.attrs;for(let c=0;c<a.colspan;c++){const u=(r+c)%t.width,d=e[u*2];d!=null&&(!a.colwidth||a.colwidth[c]!=d)&&((l||(l=lQ(a)))[c]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function lQ(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function bn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const o=t.nodes[n],r=o.spec.tableRole;r&&(e[r]=o)}}return e}var _s=new Te("selectingCells");function Wu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function aQ(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function ni(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function PS(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Wu(e.$head)||cQ(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function cQ(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function yx(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function uQ(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function jS(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function b8(t,e,n){const o=t.node(-1),r=it.get(o),i=t.start(-1),s=r.nextCell(t.pos-i,e,n);return s==null?null:t.node(0).resolve(i+s)}function _a(t,e,n=1){const o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(r=>r>0)||(o.colwidth=null)),o}function y8(t,e,n=1){const o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let r=0;r<n;r++)o.colwidth.splice(e,0,0)}return o}function dQ(t,e,n){const o=bn(e.type.schema).header_cell;for(let r=0;r<t.height;r++)if(e.nodeAt(t.map[n+r*t.width]).type!=o)return!1;return!0}var ze=class yi extends ne{constructor(e,n=e){const o=e.node(-1),r=it.get(o),i=e.start(-1),s=r.rectBetween(e.pos-i,n.pos-i),l=e.node(0),a=r.cellsInRect(s).filter(u=>u!=n.pos-i);a.unshift(n.pos-i);const c=a.map(u=>{const d=o.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const f=i+u+1;return new XI(l.resolve(f),l.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const o=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(yx(o)&&yx(r)&&jS(o,r)){const i=this.$anchorCell.node(-1)!=o.node(-1);return i&&this.isRowSelection()?yi.rowSelection(o,r):i&&this.isColSelection()?yi.colSelection(o,r):new yi(o,r)}return Y.between(o,r)}content(){const e=this.$anchorCell.node(-1),n=it.get(e),o=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),i={},s=[];for(let a=r.top;a<r.bottom;a++){const c=[];for(let u=a*n.width+r.left,d=r.left;d<r.right;d++,u++){const f=n.map[u];if(i[f])continue;i[f]=!0;const h=n.findCell(f);let p=e.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);const m=r.left-h.left,b=h.right-r.right;if(m>0||b>0){let y=p.attrs;if(m>0&&(y=_a(y,0,m)),b>0&&(y=_a(y,y.colspan-b,b)),h.left<r.left){if(p=p.type.createAndFill(y),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else p=p.type.create(y,p.content)}if(h.top<r.top||h.bottom>r.bottom){const y={...p.attrs,rowspan:Math.min(h.bottom,r.bottom)-Math.max(h.top,r.top)};h.top<r.top?p=p.type.createAndFill(y):p=p.type.create(y,p.content)}c.push(p)}s.push(e.child(a).copy(L.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new q(L.from(l),1,1)}replace(e,n=q.empty){const o=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){const{$from:l,$to:a}=r[s],c=e.mapping.slice(o);e.replace(c.map(l.pos),c.map(a.pos),s?q.empty:n)}const i=ne.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new q(L.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),o=it.get(n),r=this.$anchorCell.start(-1),i=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let s=0;s<i.length;s++)e(n.nodeAt(i[s]),r+i[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const o=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,r)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const o=e.node(-1),r=it.get(o),i=e.start(-1),s=r.findCell(e.pos-i),l=r.findCell(n.pos-i),a=e.node(0);return s.top<=l.top?(s.top>0&&(e=a.resolve(i+r.map[s.left])),l.bottom<r.height&&(n=a.resolve(i+r.map[r.width*(r.height-1)+l.right-1]))):(l.top>0&&(n=a.resolve(i+r.map[l.left])),s.bottom<r.height&&(e=a.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))),new yi(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=it.get(e),o=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-o),i=n.colCount(this.$headCell.pos-o);if(Math.min(r,i)>0)return!1;const s=r+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(e){return e instanceof yi&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const o=e.node(-1),r=it.get(o),i=e.start(-1),s=r.findCell(e.pos-i),l=r.findCell(n.pos-i),a=e.node(0);return s.left<=l.left?(s.left>0&&(e=a.resolve(i+r.map[s.top*r.width])),l.right<r.width&&(n=a.resolve(i+r.map[r.width*(l.top+1)-1]))):(l.left>0&&(n=a.resolve(i+r.map[l.top*r.width])),s.right<r.width&&(e=a.resolve(i+r.map[r.width*(s.top+1)-1]))),new yi(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new yi(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new yi(e.resolve(n),e.resolve(o))}getBookmark(){return new fQ(this.$anchorCell.pos,this.$headCell.pos)}};ze.prototype.visible=!1;ne.jsonID("cell",ze);var fQ=class v8{constructor(e,n){this.anchor=e,this.head=n}map(e){return new v8(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&jS(n,o)?new ze(n,o):ne.near(o,1)}};function hQ(t){if(!(t.selection instanceof ze))return null;const e=[];return t.selection.forEachCell((n,o)=>{e.push(Le.node(o,o+n.nodeSize,{class:"selectedCell"}))}),ye.create(t.doc,e)}function pQ({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,o--);return n==o&&/row|table/.test(t.node(r).type.spec.tableRole)}function mQ({$from:t,$to:e}){let n,o;for(let r=t.depth;r>0;r--){const i=t.node(r);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let r=e.depth;r>0;r--){const i=e.node(r);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){o=i;break}}return n!==o&&e.parentOffset===0}function gQ(t,e,n){const o=(e||t).selection,r=(e||t).doc;let i,s;if(o instanceof J&&(s=o.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=ze.create(r,o.from);else if(s=="row"){const l=r.resolve(o.from+1);i=ze.rowSelection(l,l)}else if(!n){const l=it.get(o.node),a=o.from+1,c=a+l.map[l.width*l.height-1];i=ze.create(r,a+1,c)}}else o instanceof Y&&pQ(o)?i=Y.create(r,o.from):o instanceof Y&&mQ(o)&&(i=Y.create(r,o.$from.start(),o.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var bQ=new Te("fix-tables");function w8(t,e,n,o){const r=t.childCount,i=e.childCount;e:for(let s=0,l=0;s<i;s++){const a=e.child(s);for(let c=l,u=Math.min(r,s+3);c<u;c++)if(t.child(c)==a){l=c+1,n+=a.nodeSize;continue e}o(a,n),l<r&&t.child(l).sameMarkup(a)?w8(t.child(l),a,n+1,o):a.nodesBetween(0,a.content.size,o,n+1),n+=a.nodeSize}}function yQ(t,e){let n;const o=(r,i)=>{r.type.spec.tableRole=="table"&&(n=vQ(t,r,i,n))};return e?e.doc!=t.doc&&w8(e.doc,t.doc,0,o):t.doc.descendants(o),n}function vQ(t,e,n,o){const r=it.get(e);if(!r.problems)return o;o||(o=t.tr);const i=[];for(let a=0;a<r.height;a++)i.push(0);for(let a=0;a<r.problems.length;a++){const c=r.problems[a];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let f=0;f<d.rowspan;f++)i[c.row+f]+=c.n;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,_a(d,d.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=o.mapping.map(n);o.delete(u,u+e.nodeSize)}}let s,l;for(let a=0;a<i.length;a++)i[a]&&(s==null&&(s=a),l=a);for(let a=0,c=n+1;a<r.height;a++){const u=e.child(a),d=c+u.nodeSize,f=i[a];if(f>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const p=[];for(let b=0;b<f;b++){const y=bn(t.schema)[h].createAndFill();y&&p.push(y)}const m=(a==0||s==a-1)&&l==a?c+1:d-1;o.insert(o.mapping.map(m),p)}c=d}return o.setMeta(bQ,{fixTables:!0})}function oi(t){const e=t.selection,n=PS(t),o=n.node(-1),r=n.start(-1),i=it.get(o);return{...e instanceof ze?i.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r):i.findCell(n.pos-r),tableStart:r,map:i,table:o}}function k8(t,{map:e,tableStart:n,table:o},r){let i=r>0?-1:0;dQ(e,o,r+i)&&(i=r==0||r==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+r;if(r>0&&r<e.width&&e.map[l-1]==e.map[l]){const a=e.map[l],c=o.nodeAt(a);t.setNodeMarkup(t.mapping.map(n+a),null,y8(c.attrs,r-e.colCount(a))),s+=c.attrs.rowspan-1}else{const a=i==null?bn(o.type.schema).cell:o.nodeAt(e.map[l+i]).type,c=e.positionAt(s,r,o);t.insert(t.mapping.map(n+c),a.createAndFill())}}return t}function wQ(t,e){if(!ni(t))return!1;if(e){const n=oi(t);e(k8(t.tr,n,n.left))}return!0}function kQ(t,e){if(!ni(t))return!1;if(e){const n=oi(t);e(k8(t.tr,n,n.right))}return!0}function xQ(t,{map:e,table:n,tableStart:o},r){const i=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+r,a=e.map[l],c=n.nodeAt(a),u=c.attrs;if(r>0&&e.map[l-1]==a||r<e.width-1&&e.map[l+1]==a)t.setNodeMarkup(t.mapping.slice(i).map(o+a),null,_a(u,r-e.colCount(a)));else{const d=t.mapping.slice(i).map(o+a);t.delete(d,d+c.nodeSize)}s+=u.rowspan}}function CQ(t,e){if(!ni(t))return!1;if(e){const n=oi(t),o=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;xQ(o,n,r),r!=n.left;r--){const i=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=it.get(i)}e(o)}return!0}function _Q(t,e,n){var o;const r=bn(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((o=e.nodeAt(t.map[i+n*t.width]))==null?void 0:o.type)!=r)return!1;return!0}function x8(t,{map:e,tableStart:n,table:o},r){var i;let s=n;for(let c=0;c<r;c++)s+=o.child(c).nodeSize;const l=[];let a=r>0?-1:0;_Q(e,o,r+a)&&(a=r==0||r==e.height?null:0);for(let c=0,u=e.width*r;c<e.width;c++,u++)if(r>0&&r<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],f=o.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{const d=a==null?bn(o.type.schema).cell:(i=o.nodeAt(e.map[u+a*e.width]))==null?void 0:i.type,f=d==null?void 0:d.createAndFill();f&&l.push(f)}return t.insert(s,bn(o.type.schema).row.create(null,l)),t}function SQ(t,e){if(!ni(t))return!1;if(e){const n=oi(t);e(x8(t.tr,n,n.top))}return!0}function EQ(t,e){if(!ni(t))return!1;if(e){const n=oi(t);e(x8(t.tr,n,n.bottom))}return!0}function TQ(t,{map:e,table:n,tableStart:o},r){let i=0;for(let c=0;c<r;c++)i+=n.child(c).nodeSize;const s=i+n.child(r).nodeSize,l=t.mapping.maps.length;t.delete(i+o,s+o);const a=new Set;for(let c=0,u=r*e.width;c<e.width;c++,u++){const d=e.map[u];if(!a.has(d)){if(a.add(d),r>0&&d==e.map[u-e.width]){const f=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(l).map(d+o),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(r<e.height&&d==e.map[u+e.width]){const f=n.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),m=e.positionAt(r+1,c,n);t.insert(t.mapping.slice(l).map(o+m),p),c+=h.colspan-1}}}}function MQ(t,e){if(!ni(t))return!1;if(e){const n=oi(t),o=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;TQ(o,n,r),r!=n.top;r--){const i=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=it.get(n.table)}e(o)}return!0}function _R(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function AQ({width:t,height:e,map:n},o){let r=o.top*t+o.left,i=r,s=(o.bottom-1)*t+o.left,l=r+(o.right-o.left-1);for(let a=o.top;a<o.bottom;a++){if(o.left>0&&n[i]==n[i-1]||o.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let a=o.left;a<o.right;a++){if(o.top>0&&n[r]==n[r-t]||o.bottom<e&&n[s]==n[s+t])return!0;r++,s++}return!1}function RQ(t,e){const n=t.selection;if(!(n instanceof ze)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=oi(t),{map:r}=o;if(AQ(r,o))return!1;if(e){const i=t.tr,s={};let l=L.empty,a,c;for(let u=o.top;u<o.bottom;u++)for(let d=o.left;d<o.right;d++){const f=r.map[u*r.width+d],h=o.table.nodeAt(f);if(!(s[f]||!h))if(s[f]=!0,a==null)a=f,c=h;else{_R(h)||(l=l.append(h.content));const p=i.mapping.map(f+o.tableStart);i.delete(p,p+h.nodeSize)}}if(a==null||c==null)return!0;if(i.setNodeMarkup(a+o.tableStart,null,{...y8(c.attrs,c.attrs.colspan,o.right-o.left-c.attrs.colspan),rowspan:o.bottom-o.top}),l.size){const u=a+1+c.content.size,d=_R(c)?a+1:u;i.replaceWith(d+o.tableStart,u+o.tableStart,l)}i.setSelection(new ze(i.doc.resolve(a+o.tableStart))),e(i)}return!0}function NQ(t,e){const n=bn(t.schema);return OQ(({node:o})=>n[o.type.spec.tableRole])(t,e)}function OQ(t){return(e,n)=>{var o;const r=e.selection;let i,s;if(r instanceof ze){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{if(i=aQ(r.$from),!i)return!1;s=(o=Wu(r.$from))==null?void 0:o.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const a=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const u=oi(e),d=e.tr;for(let h=0;h<u.right-u.left;h++)a.push(c?{...l,colwidth:c&&c[h]?[c[h]]:null}:l);let f;for(let h=u.top;h<u.bottom;h++){let p=u.map.positionAt(h,u.left,u.table);h==u.top&&(p+=i.nodeSize);for(let m=u.left,b=0;m<u.right;m++,b++)m==u.left&&h==u.top||d.insert(f=d.mapping.map(p+u.tableStart,1),t({node:i,row:h,col:m}).createAndFill(a[b]))}d.setNodeMarkup(s,t({node:i,row:u.top,col:u.left}),a[0]),r instanceof ze&&d.setSelection(new ze(d.doc.resolve(r.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function LQ(t){return function(e,n){if(!ni(e))return!1;if(n){const o=bn(e.schema),r=oi(e),i=e.tr,s=r.map.cellsInRect(t=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:t=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),l=s.map(a=>r.table.nodeAt(a));for(let a=0;a<s.length;a++)l[a].type==o.header_cell&&i.setNodeMarkup(r.tableStart+s[a],o.cell,l[a].attrs);if(i.steps.length==0)for(let a=0;a<s.length;a++)i.setNodeMarkup(r.tableStart+s[a],o.header_cell,l[a].attrs);n(i)}return!0}}function SR(t,e,n){const o=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let r=0;r<o.length;r++){const i=e.table.nodeAt(o[r]);if(i&&i.type!==n.header_cell)return!1}return!0}function BS(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?LQ(t):function(n,o){if(!ni(n))return!1;if(o){const r=bn(n.schema),i=oi(n),s=n.tr,l=SR("row",i,r),a=SR("column",i,r),u=(t==="column"?l:t==="row"?a:!1)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?a?r.cell:r.header_cell:t=="row"?l?r.cell:r.header_cell:r.cell;i.map.cellsInRect(d).forEach(h=>{const p=h+i.tableStart,m=s.doc.nodeAt(p);m&&s.setNodeMarkup(p,f,m.attrs)}),o(s)}return!0}}BS("row",{useDeprecatedLogic:!0});BS("column",{useDeprecatedLogic:!0});BS("cell",{useDeprecatedLogic:!0});function DQ(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let o=t.index(-1)-1,r=t.before();o>=0;o--){const i=t.node(-1).child(o),s=i.lastChild;if(s)return r-1-s.nodeSize;r-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let o=t.indexAfter(-1),r=t.after();o<n.childCount;o++){const i=n.child(o);if(i.childCount)return r+1;r+=i.nodeSize}}return null}function ER(t){return function(e,n){if(!ni(e))return!1;const o=DQ(PS(e),t);if(o==null)return!1;if(n){const r=e.doc.resolve(o);n(e.tr.setSelection(Y.between(r,uQ(r))).scrollIntoView())}return!0}}function em(t,e){const n=t.selection;if(!(n instanceof ze))return!1;if(e){const o=t.tr,r=bn(t.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(r)||o.replace(o.mapping.map(s+1),o.mapping.map(s+i.nodeSize-1),new q(r,0,0))}),o.docChanged&&e(o)}return!0}function IQ(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;e.childCount==1&&(n>0&&o>0||e.child(0).type.spec.tableRole=="table");)n--,o--,e=e.child(0).content;const r=e.child(0),i=r.type.spec.tableRole,s=r.type.schema,l=[];if(i=="row")for(let a=0;a<e.childCount;a++){let c=e.child(a).content;const u=a?0:Math.max(0,n-1),d=a<e.childCount-1?0:Math.max(0,o-1);(u||d)&&(c=vx(bn(s).row,new q(c,u,d)).content),l.push(c)}else if(i=="cell"||i=="header_cell")l.push(n||o?vx(bn(s).row,new q(e,n,o)).content:e);else return null;return $Q(s,l)}function $Q(t,e){const n=[];for(let r=0;r<e.length;r++){const i=e[r];for(let s=i.childCount-1;s>=0;s--){const{rowspan:l,colspan:a}=i.child(s).attrs;for(let c=r;c<r+l;c++)n[c]=(n[c]||0)+a}}let o=0;for(let r=0;r<n.length;r++)o=Math.max(o,n[r]);for(let r=0;r<n.length;r++)if(r>=e.length&&e.push(L.empty),n[r]<o){const i=bn(t).cell.createAndFill(),s=[];for(let l=n[r];l<o;l++)s.push(i);e[r]=e[r].append(L.from(s))}return{height:e.length,width:o,rows:e}}function vx(t,e){const n=t.createAndFill();return new pS(n).replace(0,n.content.size,e).doc}function PQ({width:t,height:e,rows:n},o,r){if(t!=o){const i=[],s=[];for(let l=0;l<n.length;l++){const a=n[l],c=[];for(let u=i[l]||0,d=0;u<o;d++){let f=a.child(d%a.childCount);u+f.attrs.colspan>o&&(f=f.type.createChecked(_a(f.attrs,f.attrs.colspan,u+f.attrs.colspan-o),f.content)),c.push(f),u+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)i[l+h]=(i[l+h]||0)+f.attrs.colspan}s.push(L.from(c))}n=s,t=o}if(e!=r){const i=[];for(let s=0,l=0;s<r;s++,l++){const a=[],c=n[l%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);s+d.attrs.rowspan>r&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,r-d.attrs.rowspan)},d.content)),a.push(d)}i.push(L.from(a))}n=i,e=r}return{width:t,height:e,rows:n}}function jQ(t,e,n,o,r,i,s){const l=t.doc.type.schema,a=bn(l);let c,u;if(r>e.width)for(let d=0,f=0;d<e.height;d++){const h=n.child(d);f+=h.nodeSize;const p=[];let m;h.lastChild==null||h.lastChild.type==a.cell?m=c||(c=a.cell.createAndFill()):m=u||(u=a.header_cell.createAndFill());for(let b=e.width;b<r;b++)p.push(m);t.insert(t.mapping.slice(s).map(f-1+o),p)}if(i>e.height){const d=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,r);p++){const b=p>=e.width?!1:n.nodeAt(e.map[m+p]).type==a.header_cell;d.push(b?u||(u=a.header_cell.createAndFill()):c||(c=a.cell.createAndFill()))}const f=a.row.create(null,L.from(d)),h=[];for(let p=e.height;p<i;p++)h.push(f);t.insert(t.mapping.slice(s).map(o+n.nodeSize-2),h)}return!!(c||u)}function TR(t,e,n,o,r,i,s,l){if(s==0||s==e.height)return!1;let a=!1;for(let c=r;c<i;c++){const u=s*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){a=!0;const f=n.nodeAt(d),{top:h,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(l).map(d+o),null,{...f.attrs,rowspan:s-h}),t.insert(t.mapping.slice(l).map(e.positionAt(s,p,n)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-s})),c+=f.attrs.colspan-1}}return a}function MR(t,e,n,o,r,i,s,l){if(s==0||s==e.width)return!1;let a=!1;for(let c=r;c<i;c++){const u=c*e.width+s,d=e.map[u];if(e.map[u-1]==d){a=!0;const f=n.nodeAt(d),h=e.colCount(d),p=t.mapping.slice(l).map(d+o);t.setNodeMarkup(p,null,_a(f.attrs,s-h,f.attrs.colspan-(s-h))),t.insert(p+f.nodeSize,f.type.createAndFill(_a(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return a}function AR(t,e,n,o,r){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let s=it.get(i);const{top:l,left:a}=o,c=a+r.width,u=l+r.height,d=t.tr;let f=0;function h(){if(i=n?d.doc.nodeAt(n-1):d.doc,!i)throw new Error("No table found");s=it.get(i),f=d.mapping.maps.length}jQ(d,s,i,n,c,u,f)&&h(),TR(d,s,i,n,a,c,l,f)&&h(),TR(d,s,i,n,a,c,u,f)&&h(),MR(d,s,i,n,l,u,a,f)&&h(),MR(d,s,i,n,l,u,c,f)&&h();for(let p=l;p<u;p++){const m=s.positionAt(p,a,i),b=s.positionAt(p,c,i);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(b+n),new q(r.rows[p-l],0,0))}h(),d.setSelection(new ze(d.doc.resolve(n+s.positionAt(l,a,i)),d.doc.resolve(n+s.positionAt(u-1,c-1,i)))),e(d)}var BQ=ES({ArrowLeft:tm("horiz",-1),ArrowRight:tm("horiz",1),ArrowUp:tm("vert",-1),ArrowDown:tm("vert",1),"Shift-ArrowLeft":nm("horiz",-1),"Shift-ArrowRight":nm("horiz",1),"Shift-ArrowUp":nm("vert",-1),"Shift-ArrowDown":nm("vert",1),Backspace:em,"Mod-Backspace":em,Delete:em,"Mod-Delete":em});function Um(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function tm(t,e){return(n,o,r)=>{if(!r)return!1;const i=n.selection;if(i instanceof ze)return Um(n,o,ne.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const s=C8(r,t,e);if(s==null)return!1;if(t=="horiz")return Um(n,o,ne.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(s),a=b8(l,t,e);let c;return a?c=ne.near(a,1):e<0?c=ne.near(n.doc.resolve(l.before(-1)),-1):c=ne.near(n.doc.resolve(l.after(-1)),1),Um(n,o,c)}}}function nm(t,e){return(n,o,r)=>{if(!r)return!1;const i=n.selection;let s;if(i instanceof ze)s=i;else{const a=C8(r,t,e);if(a==null)return!1;s=new ze(n.doc.resolve(a))}const l=b8(s.$headCell,t,e);return l?Um(n,o,new ze(s.$anchorCell,l)):!1}}function zQ(t,e){const n=t.state.doc,o=Wu(n.resolve(e));return o?(t.dispatch(t.state.tr.setSelection(new ze(o))),!0):!1}function HQ(t,e,n){if(!ni(t.state))return!1;let o=IQ(n);const r=t.state.selection;if(r instanceof ze){o||(o={width:1,height:1,rows:[L.from(vx(bn(t.state.schema).cell,n))]});const i=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),l=it.get(i).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return o=PQ(o,l.right-l.left,l.bottom-l.top),AR(t.state,t.dispatch,s,l,o),!0}else if(o){const i=PS(t.state),s=i.start(-1);return AR(t.state,t.dispatch,s,it.get(i.node(-1)).findCell(i.pos-s),o),!0}else return!1}function VQ(t,e){var n;if(e.ctrlKey||e.metaKey)return;const o=RR(t,e.target);let r;if(e.shiftKey&&t.state.selection instanceof ze)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&o&&(r=Wu(t.state.selection.$anchor))!=null&&((n=Iv(t,e))==null?void 0:n.pos)!=r.pos)i(r,e),e.preventDefault();else if(!o)return;function i(a,c){let u=Iv(t,c);const d=_s.getState(t.state)==null;if(!u||!jS(a,u))if(d)u=a;else return;const f=new ze(a,u);if(d||!t.state.selection.eq(f)){const h=t.state.tr.setSelection(f);d&&h.setMeta(_s,a.pos),t.dispatch(h)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),_s.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(_s,-1))}function l(a){const c=a,u=_s.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(RR(t,c.target)!=o&&(d=Iv(t,e),!d))return s();d&&i(d,c)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function C8(t,e,n){if(!(t.state.selection instanceof Y))return null;const{$head:o}=t.state.selection;for(let r=o.depth-1;r>=0;r--){const i=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=o.before(r),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?l:null}}return null}function RR(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Iv(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Wu(t.state.doc.resolve(n.pos)):null}var _8=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),wx(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,wx(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function wx(t,e,n,o,r,i){var s;let l=0,a=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,f=0;d<u.childCount;d++){const{colspan:h,colwidth:p}=u.child(d).attrs;for(let m=0;m<h;m++,f++){const b=r==f?i:p&&p[m],y=b?b+"px":"";if(l+=b||o,b||(a=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const w=document.createElement("col");w.style.width=y,e.appendChild(w)}}}for(;c;){const d=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=d}a?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var lo=new Te("tableColumnResizing");function UQ({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=_8,lastColumnResizable:r=!0}={}){const i=new de({key:lo,state:{init(s,l){var a,c;const u=(c=(a=i.spec)==null?void 0:a.props)==null?void 0:c.nodeViews,d=bn(l.schema).table.name;return o&&u&&(u[d]=(f,h)=>new o(f,n,h)),new FQ(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=lo.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{GQ(s,l,t,r)},mouseleave:s=>{qQ(s)},mousedown:(s,l)=>{WQ(s,l,e,n)}},decorations:s=>{const l=lo.getState(s);if(l&&l.activeHandle>-1)return JQ(s,l.activeHandle)},nodeViews:{}}});return i}var FQ=class Fm{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,o=e.getMeta(lo);if(o&&o.setHandle!=null)return new Fm(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new Fm(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&e.docChanged){let r=e.mapping.map(n.activeHandle,-1);return yx(e.doc.resolve(r))||(r=-1),new Fm(r,n.dragging)}return n}};function GQ(t,e,n,o){if(!t.editable)return;const r=lo.getState(t.state);if(r&&!r.dragging){const i=ZQ(e.target);let s=-1;if(i){const{left:l,right:a}=i.getBoundingClientRect();e.clientX-l<=n?s=NR(t,e,"left",n):a-e.clientX<=n&&(s=NR(t,e,"right",n))}if(s!=r.activeHandle){if(!o&&s!==-1){const l=t.state.doc.resolve(s),a=l.node(-1),c=it.get(a),u=l.start(-1);if(c.colCount(l.pos-u)+l.nodeAfter.attrs.colspan-1==c.width-1)return}S8(t,s)}}}function qQ(t){if(!t.editable)return;const e=lo.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&S8(t,-1)}function WQ(t,e,n,o){var r;if(!t.editable)return!1;const i=(r=t.dom.ownerDocument.defaultView)!=null?r:window,s=lo.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=t.state.doc.nodeAt(s.activeHandle),a=KQ(t,s.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(lo,{setDragging:{startX:e.clientX,startWidth:a}}));function c(d){i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",u);const f=lo.getState(t.state);f!=null&&f.dragging&&(YQ(t,f.activeHandle,OR(f.dragging,d,n)),t.dispatch(t.state.tr.setMeta(lo,{setDragging:null})))}function u(d){if(!d.which)return c(d);const f=lo.getState(t.state);if(f&&f.dragging){const h=OR(f.dragging,d,n);LR(t,f.activeHandle,h,o)}}return LR(t,s.activeHandle,a,o),i.addEventListener("mouseup",c),i.addEventListener("mousemove",u),e.preventDefault(),!0}function KQ(t,e,{colspan:n,colwidth:o}){const r=o&&o[o.length-1];if(r)return r;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,a=n;if(o)for(let c=0;c<n;c++)o[c]&&(l-=o[c],a--);return l/a}function ZQ(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function NR(t,e,n,o){const r=n=="right"?-o:o,i=t.posAtCoords({left:e.clientX+r,top:e.clientY});if(!i)return-1;const{pos:s}=i,l=Wu(t.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const a=it.get(l.node(-1)),c=l.start(-1),u=a.map.indexOf(l.pos-c);return u%a.width==0?-1:c+a.map[u-1]}function OR(t,e,n){const o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function S8(t,e){t.dispatch(t.state.tr.setMeta(lo,{setHandle:e}))}function YQ(t,e,n){const o=t.state.doc.resolve(e),r=o.node(-1),i=it.get(r),s=o.start(-1),l=i.colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,a=t.state.tr;for(let c=0;c<i.height;c++){const u=c*i.width+l;if(c&&i.map[u]==i.map[u-i.width])continue;const d=i.map[u],f=r.nodeAt(d).attrs,h=f.colspan==1?0:l-i.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;const p=f.colwidth?f.colwidth.slice():XQ(f.colspan);p[h]=n,a.setNodeMarkup(s+d,null,{...f,colwidth:p})}a.docChanged&&t.dispatch(a)}function LR(t,e,n,o){const r=t.state.doc.resolve(e),i=r.node(-1),s=r.start(-1),l=it.get(i).colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;let a=t.domAtPos(r.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&wx(i,a.firstChild,a,o,l,n)}function XQ(t){return Array(t).fill(0)}function JQ(t,e){var n;const o=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return ye.empty;const s=it.get(i),l=r.start(-1),a=s.colCount(r.pos-l)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const u=a+c*s.width;if((a==s.width-1||s.map[u]!=s.map[u+1])&&(c==0||s.map[u]!=s.map[u-s.width])){const d=s.map[u],f=l+d+i.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=lo.getState(t))!=null&&n.dragging&&o.push(Le.node(l+d,l+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),o.push(Le.widget(f,h))}}return ye.create(t.doc,o)}function QQ({allowTableNodeSelection:t=!1}={}){return new de({key:_s,state:{init(){return null},apply(e,n){const o=e.getMeta(_s);if(o!=null)return o==-1?null:o;if(n==null||!e.docChanged)return n;const{deleted:r,pos:i}=e.mapping.mapResult(n);return r?null:i}},props:{decorations:hQ,handleDOMEvents:{mousedown:VQ},createSelectionBetween(e){return _s.getState(e.state)!=null?e.state.selection:null},handleTripleClick:zQ,handleKeyDown:BQ,handlePaste:HQ},appendTransaction(e,n,o){return gQ(o,yQ(o,n),t)}})}class mt extends ne{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return mt.valid(o)?new mt(o):ne.near(o)}content(){return q.empty}eq(e){return e instanceof mt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new mt(e.resolve(n.pos))}getBookmark(){return new zS(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!eee(e)||!tee(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&mt.valid(e))return e;let r=e.pos,i=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){i=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;r+=n;let a=e.doc.resolve(r);if(mt.valid(a))return a}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!J.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),o=!1;continue e}break}i=s,r+=n;let l=e.doc.resolve(r);if(mt.valid(l))return l}return null}}}mt.prototype.visible=!1;mt.findFrom=mt.findGapCursorFrom;ne.jsonID("gapcursor",mt);class zS{constructor(e){this.pos=e}map(e){return new zS(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return mt.valid(n)?new mt(n):ne.near(n)}}function eee(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function tee(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function nee(){return new de({props:{decorations:see,createSelectionBetween(t,e,n){return e.pos==n.pos&&mt.valid(n)?new mt(n):null},handleClick:ree,handleKeyDown:oee,handleDOMEvents:{beforeinput:iee}}})}const oee=ES({ArrowLeft:om("horiz",-1),ArrowRight:om("horiz",1),ArrowUp:om("vert",-1),ArrowDown:om("vert",1)});function om(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,i){let s=o.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof Y){if(!i.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=o.doc.resolve(e>0?l.after():l.before())}let c=mt.findGapCursorFrom(l,e,a);return c?(r&&r(o.tr.setSelection(new mt(c))),!0):!1}}function ree(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!mt.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&J.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new mt(o))),!0)}function iee(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof mt))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=L.empty;for(let s=o.length-1;s>=0;s--)r=L.from(o[s].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new q(r,0,0));return i.setSelection(Y.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function see(t){if(!(t.selection instanceof mt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ye.create(t.doc,[Le.widget(t.selection.head,e,{key:"gapcursor"})])}const lee=He.create({name:"gapCursor",addProseMirrorPlugins(){return[nee()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=we(X(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var sb=200,Ft=function(){};Ft.prototype.append=function(e){return e.length?(e=Ft.from(e),!this.length&&e||e.length<sb&&this.leafAppend(e)||this.length<sb&&e.leafPrepend(this)||this.appendInner(e)):this};Ft.prototype.prepend=function(e){return e.length?Ft.from(e).append(this):this};Ft.prototype.appendInner=function(e){return new aee(this,e)};Ft.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ft.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ft.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ft.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};Ft.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(i,s){return r.push(e(i,s))},n,o),r};Ft.from=function(e){return e instanceof Ft?e:e&&e.length?new E8(e):Ft.empty};var E8=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,s,l){for(var a=i;a<s;a++)if(r(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){for(var a=i-1;a>=s;a--)if(r(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=sb)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=sb)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ft);Ft.empty=new E8([]);var aee=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,i,s){var l=this.left.length;if(r<l&&this.left.forEachInner(o,r,Math.min(i,l),s)===!1||i>l&&this.right.forEachInner(o,Math.max(r-l,0),Math.min(this.length,i)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,i,s){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(o,r-l,Math.max(i,l)-l,s+l)===!1||i<l&&this.left.forEachInvertedInner(o,Math.min(r,l),i,s)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(o,r):o>=i?this.right.slice(o-i,r-i):this.left.slice(o,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(Ft);const cee=500;class or{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,i;n&&(r=this.remapping(o,this.items.length),i=r.maps.length);let s=e.tr,l,a,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){r||(r=this.remapping(o,f+1),i=r.maps.length),i--,u.push(d);return}if(r){u.push(new as(d.map));let h=d.step.map(r.slice(i)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new as(p,void 0,void 0,c.length+u.length))),i--,p&&r.appendMap(p,i)}else s.maybeStep(d.step);if(d.selection)return l=r?d.selection.map(r.slice(i)):d.selection,a=new or(this.items.slice(0,o).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,o,r){let i=[],s=this.eventCount,l=this.items,a=!r&&l.length?l.get(l.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new as(e.mapping.maps[u],d,n),h;(h=a&&a.merge(f))&&(f=h,u?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(s++,n=void 0),r||(a=f)}let c=s-o.depth;return c>dee&&(l=uee(l,c),s-=c),new or(l.append(i),s)}remapping(e,n){let o=new vu;return this.items.forEach((r,i)=>{let s=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,s)},e,n),o}addMaps(e){return this.eventCount==0?this:new or(this.items.append(e.map(n=>new as(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},r);let a=n;this.items.forEach(f=>{let h=i.getMirror(--a);if(h==null)return;s=Math.min(s,h);let p=i.maps[h];if(f.step){let m=e.steps[h].invert(e.docs[h]),b=f.selection&&f.selection.map(i.slice(a+1,h));b&&l++,o.push(new as(p,m,b))}else o.push(new as(p))},r);let c=[];for(let f=n;f<s;f++)c.push(new as(i.maps[f]));let u=this.items.slice(0,r).append(c).append(o),d=new or(u,l);return d.emptyItemCount()>cee&&(d=d.compress(this.items.length-o.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],i=0;return this.items.forEach((s,l)=>{if(l>=e)r.push(s),s.selection&&i++;else if(s.step){let a=s.step.map(n.slice(o)),c=a&&a.getMap();if(o--,c&&n.appendMap(c,o),a){let u=s.selection&&s.selection.map(n.slice(o));u&&i++;let d=new as(c.invert(),a,u),f,h=r.length-1;(f=r.length&&r[h].merge(d))?r[h]=f:r.push(d)}}else s.map&&o--},this.items.length,0),new or(Ft.from(r.reverse()),i)}}or.empty=new or(Ft.empty,0);function uee(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}let as=class T8{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new T8(n.getMap().invert(),n,this.selection)}}};class bs{constructor(e,n,o,r,i){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=i}}const dee=20;function fee(t,e,n,o){let r=n.getMeta(da),i;if(r)return r.historyState;n.getMeta(mee)&&(t=new bs(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(da))return s.getMeta(da).redo?new bs(t.done.addTransform(n,void 0,o,Gm(e)),t.undone,DR(n.mapping.maps),t.prevTime,t.prevComposition):new bs(t.done,t.undone.addTransform(n,void 0,o,Gm(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-o.newGroupDelay||!hee(n,t.prevRanges)),c=s?$v(t.prevRanges,n.mapping):DR(n.mapping.maps);return new bs(t.done.addTransform(n,a?e.selection.getBookmark():void 0,o,Gm(e)),or.empty,c,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new bs(t.done.rebased(n,i),t.undone.rebased(n,i),$v(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new bs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),$v(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function hee(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let i=0;i<e.length;i+=2)o<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function DR(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,i,s)=>e.push(i,s));return e}function $v(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),i=e.map(t[o+1],-1);r<=i&&n.push(r,i)}return n}function pee(t,e,n){let o=Gm(e),r=da.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,o);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,o),a=new bs(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(da,{redo:n,historyState:a})}let Pv=!1,IR=null;function Gm(t){let e=t.plugins;if(IR!=e){Pv=!1,IR=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Pv=!0;break}}return Pv}const da=new Te("history"),mee=new Te("closeHistory");function gee(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new de({key:da,state:{init(){return new bs(or.empty,or.empty,null,0,-1)},apply(e,n,o){return fee(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?HS:o=="historyRedo"?VS:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function M8(t,e){return(n,o)=>{let r=da.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let i=pee(r,n,t);i&&o(e?i.scrollIntoView():i)}return!0}}const HS=M8(!1,!0),VS=M8(!0,!0),bee=He.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>HS(t,e),redo:()=>({state:t,dispatch:e})=>VS(t,e)}},addProseMirrorPlugins(){return[gee(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),yee="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",vee="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",kx="numeric",xx="ascii",Cx="alpha",df="asciinumeric",Bd="alphanumeric",_x="domain",A8="emoji",wee="scheme",kee="slashscheme",jv="whitespace";function xee(t,e){return t in e||(e[t]=[]),e[t]}function Wl(t,e,n){e[kx]&&(e[df]=!0,e[Bd]=!0),e[xx]&&(e[df]=!0,e[Cx]=!0),e[df]&&(e[Bd]=!0),e[Cx]&&(e[Bd]=!0),e[Bd]&&(e[_x]=!0),e[A8]&&(e[_x]=!0);for(const o in e){const r=xee(o,n);r.indexOf(t)<0&&r.push(t)}}function Cee(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function Bn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Bn.groups={};Bn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const r=e.jr[o][0],i=e.jr[o][1];if(i&&r.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,o)},tr(t,e,n,o){o=o||Bn.groups;let r;return e&&e.j?r=e:(r=new Bn(e),n&&o&&Wl(e,n,o)),this.jr.push([t,r]),r},ts(t,e,n,o){let r=this;const i=t.length;if(!i)return r;for(let s=0;s<i-1;s++)r=r.tt(t[s]);return r.tt(t[i-1],e,n,o)},tt(t,e,n,o){o=o||Bn.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const i=e;let s,l=r.go(t);if(l?(s=new Bn,Object.assign(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new Bn,i){if(o)if(s.t&&typeof s.t=="string"){const a=Object.assign(Cee(s.t,o),n);Wl(i,a,o)}else n&&Wl(i,n,o);s.t=i}return r.j[t]=s,s}};const pe=(t,e,n,o,r)=>t.ta(e,n,o,r),ft=(t,e,n,o,r)=>t.tr(e,n,o,r),$R=(t,e,n,o,r)=>t.ts(e,n,o,r),F=(t,e,n,o,r)=>t.tt(e,n,o,r),vi="WORD",Sx="UWORD",R8="ASCIINUMERICAL",N8="ALPHANUMERICAL",Zf="LOCALHOST",Ex="TLD",Tx="UTLD",qm="SCHEME",bc="SLASH_SCHEME",US="NUM",Mx="WS",FS="NL",ff="OPENBRACE",hf="CLOSEBRACE",lb="OPENBRACKET",ab="CLOSEBRACKET",cb="OPENPAREN",ub="CLOSEPAREN",db="OPENANGLEBRACKET",fb="CLOSEANGLEBRACKET",hb="FULLWIDTHLEFTPAREN",pb="FULLWIDTHRIGHTPAREN",mb="LEFTCORNERBRACKET",gb="RIGHTCORNERBRACKET",bb="LEFTWHITECORNERBRACKET",yb="RIGHTWHITECORNERBRACKET",vb="FULLWIDTHLESSTHAN",wb="FULLWIDTHGREATERTHAN",kb="AMPERSAND",xb="APOSTROPHE",Cb="ASTERISK",ys="AT",_b="BACKSLASH",Sb="BACKTICK",Eb="CARET",Ss="COLON",GS="COMMA",Tb="DOLLAR",Tr="DOT",Mb="EQUALS",qS="EXCLAMATION",To="HYPHEN",pf="PERCENT",Ab="PIPE",Rb="PLUS",Nb="POUND",mf="QUERY",WS="QUOTE",O8="FULLWIDTHMIDDLEDOT",KS="SEMI",Mr="SLASH",gf="TILDE",Ob="UNDERSCORE",L8="EMOJI",Lb="SYM";var D8=Object.freeze({__proto__:null,ALPHANUMERICAL:N8,AMPERSAND:kb,APOSTROPHE:xb,ASCIINUMERICAL:R8,ASTERISK:Cb,AT:ys,BACKSLASH:_b,BACKTICK:Sb,CARET:Eb,CLOSEANGLEBRACKET:fb,CLOSEBRACE:hf,CLOSEBRACKET:ab,CLOSEPAREN:ub,COLON:Ss,COMMA:GS,DOLLAR:Tb,DOT:Tr,EMOJI:L8,EQUALS:Mb,EXCLAMATION:qS,FULLWIDTHGREATERTHAN:wb,FULLWIDTHLEFTPAREN:hb,FULLWIDTHLESSTHAN:vb,FULLWIDTHMIDDLEDOT:O8,FULLWIDTHRIGHTPAREN:pb,HYPHEN:To,LEFTCORNERBRACKET:mb,LEFTWHITECORNERBRACKET:bb,LOCALHOST:Zf,NL:FS,NUM:US,OPENANGLEBRACKET:db,OPENBRACE:ff,OPENBRACKET:lb,OPENPAREN:cb,PERCENT:pf,PIPE:Ab,PLUS:Rb,POUND:Nb,QUERY:mf,QUOTE:WS,RIGHTCORNERBRACKET:gb,RIGHTWHITECORNERBRACKET:yb,SCHEME:qm,SEMI:KS,SLASH:Mr,SLASH_SCHEME:bc,SYM:Lb,TILDE:gf,TLD:Ex,UNDERSCORE:Ob,UTLD:Tx,UWORD:Sx,WORD:vi,WS:Mx});const hi=/[a-z]/,Td=new RegExp("\\p{L}","u"),Bv=new RegExp("\\p{Emoji}","u"),pi=/\d/,zv=/\s/,PR="\r",Hv=`
`,_ee="️",See="‍",Vv="￼";let rm=null,im=null;function Eee(t=[]){const e={};Bn.groups=e;const n=new Bn;rm==null&&(rm=jR(yee)),im==null&&(im=jR(vee)),F(n,"'",xb),F(n,"{",ff),F(n,"}",hf),F(n,"[",lb),F(n,"]",ab),F(n,"(",cb),F(n,")",ub),F(n,"<",db),F(n,">",fb),F(n,"（",hb),F(n,"）",pb),F(n,"「",mb),F(n,"」",gb),F(n,"『",bb),F(n,"』",yb),F(n,"＜",vb),F(n,"＞",wb),F(n,"&",kb),F(n,"*",Cb),F(n,"@",ys),F(n,"`",Sb),F(n,"^",Eb),F(n,":",Ss),F(n,",",GS),F(n,"$",Tb),F(n,".",Tr),F(n,"=",Mb),F(n,"!",qS),F(n,"-",To),F(n,"%",pf),F(n,"|",Ab),F(n,"+",Rb),F(n,"#",Nb),F(n,"?",mf),F(n,'"',WS),F(n,"/",Mr),F(n,";",KS),F(n,"~",gf),F(n,"_",Ob),F(n,"\\",_b),F(n,"・",O8);const o=ft(n,pi,US,{[kx]:!0});ft(o,pi,o);const r=ft(o,hi,R8,{[df]:!0}),i=ft(o,Td,N8,{[Bd]:!0}),s=ft(n,hi,vi,{[xx]:!0});ft(s,pi,r),ft(s,hi,s),ft(r,pi,r),ft(r,hi,r);const l=ft(n,Td,Sx,{[Cx]:!0});ft(l,hi),ft(l,pi,i),ft(l,Td,l),ft(i,pi,i),ft(i,hi),ft(i,Td,i);const a=F(n,Hv,FS,{[jv]:!0}),c=F(n,PR,Mx,{[jv]:!0}),u=ft(n,zv,Mx,{[jv]:!0});F(n,Vv,u),F(c,Hv,a),F(c,Vv,u),ft(c,zv,u),F(u,PR),F(u,Hv),ft(u,zv,u),F(u,Vv,u);const d=ft(n,Bv,L8,{[A8]:!0});F(d,"#"),ft(d,Bv,d),F(d,_ee,d);const f=F(d,See);F(f,"#"),ft(f,Bv,d);const h=[[hi,s],[pi,r]],p=[[hi,null],[Td,l],[pi,i]];for(let m=0;m<rm.length;m++)cs(n,rm[m],Ex,vi,h);for(let m=0;m<im.length;m++)cs(n,im[m],Tx,Sx,p);Wl(Ex,{tld:!0,ascii:!0},e),Wl(Tx,{utld:!0,alpha:!0},e),cs(n,"file",qm,vi,h),cs(n,"mailto",qm,vi,h),cs(n,"http",bc,vi,h),cs(n,"https",bc,vi,h),cs(n,"ftp",bc,vi,h),cs(n,"ftps",bc,vi,h),Wl(qm,{scheme:!0,ascii:!0},e),Wl(bc,{slashscheme:!0,ascii:!0},e),t=t.sort((m,b)=>m[0]>b[0]?1:-1);for(let m=0;m<t.length;m++){const b=t[m][0],w=t[m][1]?{[wee]:!0}:{[kee]:!0};b.indexOf("-")>=0?w[_x]=!0:hi.test(b)?pi.test(b)?w[df]=!0:w[xx]=!0:w[kx]=!0,$R(n,b,b,w)}return $R(n,"localhost",Zf,{ascii:!0}),n.jd=new Bn(Lb),{start:n,tokens:Object.assign({groups:e},D8)}}function I8(t,e){const n=Tee(e.replace(/[A-Z]/g,l=>l.toLowerCase())),o=n.length,r=[];let i=0,s=0;for(;s<o;){let l=t,a=null,c=0,u=null,d=-1,f=-1;for(;s<o&&(a=l.go(n[s]));)l=a,l.accepts()?(d=0,f=0,u=l):d>=0&&(d+=n[s].length,f++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=f,c-=d,r.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return r}function Tee(t){const e=[],n=t.length;let o=0;for(;o<n;){let r=t.charCodeAt(o),i,s=r<55296||r>56319||o+1===n||(i=t.charCodeAt(o+1))<56320||i>57343?t[o]:t.slice(o,o+2);e.push(s),o+=s.length}return e}function cs(t,e,n,o,r){let i;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?i=t.j[a]:(i=new Bn(o),i.jr=r.slice(),t.j[a]=i),t=i}return i=new Bn(n),i.jr=r.slice(),t.j[e[s-1]]=i,i}function jR(t){const e=[],n=[];let o=0,r="0123456789";for(;o<t.length;){let i=0;for(;r.indexOf(t[o+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(o,o+i),10);s>0;s--)n.pop();o+=i}else n.push(t[o]),o++}return e}const Yf={defaultProtocol:"http",events:null,format:BR,formatHref:BR,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ZS(t,e=null){let n=Object.assign({},Yf);t&&(n=Object.assign(n,t instanceof ZS?t.o:t));const o=n.ignoreTags,r=[];for(let i=0;i<o.length;i++)r.push(o[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}ZS.prototype={o:Yf,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Yf[t],typeof r=="function"&&o&&(r=r(e,n))):typeof r=="function"&&o&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function BR(t){return t}function $8(t,e){this.t="token",this.v=t,this.tk=e}$8.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"…":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Yf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),r=t.get("tagName",n,e),i=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=o,l&&(s.class=l),a&&(s.target=a),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:r,attributes:s,content:i,eventListeners:d}}};function _0(t,e){class n extends $8{constructor(r,i){super(r,i),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const zR=_0("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),HR=_0("text"),Mee=_0("nl"),sm=_0("url",{isLink:!0,toHref(t=Yf.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Zf&&t[1].t===Ss}}),So=t=>new Bn(t);function Aee({groups:t}){const e=t.domain.concat([kb,Cb,ys,_b,Sb,Eb,Tb,Mb,To,US,pf,Ab,Rb,Nb,Mr,Lb,gf,Ob]),n=[xb,Ss,GS,Tr,qS,pf,mf,WS,KS,db,fb,ff,hf,ab,lb,cb,ub,hb,pb,mb,gb,bb,yb,vb,wb],o=[kb,xb,Cb,_b,Sb,Eb,Tb,Mb,To,ff,hf,pf,Ab,Rb,Nb,mf,Mr,Lb,gf,Ob],r=So(),i=F(r,gf);pe(i,o,i),pe(i,t.domain,i);const s=So(),l=So(),a=So();pe(r,t.domain,s),pe(r,t.scheme,l),pe(r,t.slashscheme,a),pe(s,o,i),pe(s,t.domain,s);const c=F(s,ys);F(i,ys,c),F(l,ys,c),F(a,ys,c);const u=F(i,Tr);pe(u,o,i),pe(u,t.domain,i);const d=So();pe(c,t.domain,d),pe(d,t.domain,d);const f=F(d,Tr);pe(f,t.domain,d);const h=So(zR);pe(f,t.tld,h),pe(f,t.utld,h),F(c,Zf,h);const p=F(d,To);F(p,To,p),pe(p,t.domain,d),pe(h,t.domain,d),F(h,Tr,f),F(h,To,p);const m=F(h,Ss);pe(m,t.numeric,zR);const b=F(s,To),y=F(s,Tr);F(b,To,b),pe(b,t.domain,s),pe(y,o,i),pe(y,t.domain,s);const w=So(sm);pe(y,t.tld,w),pe(y,t.utld,w),pe(w,t.domain,s),pe(w,o,i),F(w,Tr,y),F(w,To,b),F(w,ys,c);const k=F(w,Ss),x=So(sm);pe(k,t.numeric,x);const C=So(sm),E=So();pe(C,e,C),pe(C,n,E),pe(E,e,C),pe(E,n,E),F(w,Mr,C),F(x,Mr,C);const S=F(l,Ss),_=F(a,Ss),T=F(_,Mr),M=F(T,Mr);pe(l,t.domain,s),F(l,Tr,y),F(l,To,b),pe(a,t.domain,s),F(a,Tr,y),F(a,To,b),pe(S,t.domain,C),F(S,Mr,C),F(S,mf,C),pe(M,t.domain,C),pe(M,e,C),F(M,Mr,C);const $=[[ff,hf],[lb,ab],[cb,ub],[db,fb],[hb,pb],[mb,gb],[bb,yb],[vb,wb]];for(let D=0;D<$.length;D++){const[z,H]=$[D],U=F(C,z);F(E,z,U),F(U,H,C);const R=So(sm);pe(U,e,R);const O=So();pe(U,n),pe(R,e,R),pe(R,n,O),pe(O,e,R),pe(O,n,O),F(R,H,C),F(O,H,C)}return F(r,Zf,w),F(r,FS,Mee),{start:r,tokens:D8}}function Ree(t,e,n){let o=n.length,r=0,i=[],s=[];for(;r<o;){let l=t,a=null,c=null,u=0,d=null,f=-1;for(;r<o&&!(a=l.go(n[r].t));)s.push(n[r++]);for(;r<o&&(c=a||l.go(n[r].t));)a=null,l=c,l.accepts()?(f=0,d=l):f>=0&&f++,r++,u++;if(f<0)r-=u,r<o&&(s.push(n[r]),r++);else{s.length>0&&(i.push(Uv(HR,e,s)),s=[]),r-=f,u-=f;const h=d.t,p=n.slice(r-u,r);i.push(Uv(h,e,p))}}return s.length>0&&i.push(Uv(HR,e,s)),i}function Uv(t,e,n){const o=n[0].s,r=n[n.length-1].e,i=e.slice(o,r);return new t(i,n)}const Nee=typeof console<"u"&&console&&console.warn||(()=>{}),Oee="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",tt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Lee(){return Bn.groups={},tt.scanner=null,tt.parser=null,tt.tokenQueue=[],tt.pluginQueue=[],tt.customSchemes=[],tt.initialized=!1,tt}function VR(t,e=!1){if(tt.initialized&&Nee(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Oee}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);tt.customSchemes.push([t,e])}function Dee(){tt.scanner=Eee(tt.customSchemes);for(let t=0;t<tt.tokenQueue.length;t++)tt.tokenQueue[t][1]({scanner:tt.scanner});tt.parser=Aee(tt.scanner.tokens);for(let t=0;t<tt.pluginQueue.length;t++)tt.pluginQueue[t][1]({scanner:tt.scanner,parser:tt.parser});return tt.initialized=!0,tt}function YS(t){return tt.initialized||Dee(),Ree(tt.parser.start,t,I8(tt.scanner.start,t))}YS.scan=I8;function P8(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const o=new ZS(n),r=YS(t),i=[];for(let s=0;s<r.length;s++){const l=r[s];l.isLink&&(!e||l.t===e)&&o.check(l)&&i.push(l.toFormattedObject(o))}return i}const XS="[\0-   ᠎ -\u2029 　]",Iee=new RegExp(XS),$ee=new RegExp(`${XS}$`),Pee=new RegExp(XS,"g");function jee(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Bee(t){return new de({key:new Te("autolink"),appendTransaction:(e,n,o)=>{const r=e.some(c=>c.docChanged)&&!n.doc.eq(o.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!r||i)return;const{tr:s}=o,l=DS(n.doc,[...e]);if(s8(l).forEach(({newRange:c})=>{const u=r8(o.doc,c,h=>h.isTextblock);let d,f;if(u.length>1)d=u[0],f=o.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const h=o.doc.textBetween(c.from,c.to," "," ");if(!$ee.test(h))return;d=u[0],f=o.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const h=f.split(Iee).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],m=d.pos+f.lastIndexOf(p);if(!p)return!1;const b=YS(p).map(y=>y.toObject(t.defaultProtocol));if(!jee(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:m+y.start+1,to:m+y.end+1})).filter(y=>o.schema.marks.code?!o.doc.rangeHasMark(y.from,y.to,o.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{IS(y.from,y.to,o.doc).some(w=>w.mark.type===t.type)||s.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!s.steps.length)return s}})}function zee(t){return new de({key:new Te("handleClickLink"),props:{handleClick:(e,n,o)=>{var r,i;if(o.button!==0||!e.editable)return!1;let s=o.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const a=i8(e.state,t.type.name),c=o.target,u=(r=c==null?void 0:c.href)!==null&&r!==void 0?r:a.href,d=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:a.target;return c&&u?(window.open(u,d),!0):!1}}})}function Hee(t){return new de({key:new Te("handlePasteLink"),props:{handlePaste:(e,n,o)=>{const{state:r}=e,{selection:i}=r,{empty:s}=i;if(s)return!1;let l="";o.content.forEach(c=>{l+=c.textContent});const a=P8(l,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===l);return!l||!a?!1:t.editor.commands.setMark(t.type,{href:a.href})}}})}function Nl(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(o=>{const r=typeof o=="string"?o:o.scheme;r&&n.push(r)}),!t||t.replace(Pee,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Vee=rn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){VR(t);return}VR(t.scheme,t.optionalSlashes)})},onDestroy(){Lee()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Nl(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Nl(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Nl(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",yo(this.options.HTMLAttributes,t),0]:["a",yo(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Nl(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Nl(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ca({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:o}=this.options,r=P8(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:s=>!!Nl(s,n),protocols:n,defaultProtocol:o}));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(Bee({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:r=>!!Nl(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(zee({type:this.type})),this.options.linkOnPaste&&t.push(Hee({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Uee=ti.create({name:"text",group:"inline"}),Fo=()=>new Map,Ax=t=>{const e=Fo();return t.forEach((n,o)=>{e.set(o,n)}),e},ri=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},Fee=(t,e)=>{const n=[];for(const[o,r]of t)n.push(e(r,o));return n},Gee=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},Sa=()=>new Set,Fv=t=>t[t.length-1],qee=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},il=Array.from,Wee=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},Rx=Array.isArray;class j8{constructor(){this._observers=Fo()}on(e,n){return ri(this._observers,e,Sa).add(n),n}once(e,n){const o=(...r)=>{this.off(e,o),n(...r)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return il((this._observers.get(e)||Fo()).values()).forEach(o=>o(...n))}destroy(){this._observers=Fo()}}const Ki=Math.floor,Wm=Math.abs,zi=(t,e)=>t<e?t:e,mr=(t,e)=>t>e?t:e,B8=t=>t!==0?t<0:1/t<0,UR=1,FR=2,Gv=4,qv=8,Xf=32,Hi=64,En=128,Kee=1<<29,S0=31,Nx=63,fa=127,Zee=2147483647,z8=Number.MAX_SAFE_INTEGER,Yee=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Ki(t)===t),Xee=String.fromCharCode,Jee=t=>t.toLowerCase(),Qee=/^\s*/g,ete=t=>t.replace(Qee,""),tte=/([A-Z])/g,GR=(t,e)=>ete(t.replace(tte,n=>`${e}${Jee(n)}`)),nte=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.codePointAt(r);return o},Jf=typeof TextEncoder<"u"?new TextEncoder:null,ote=t=>Jf.encode(t),rte=Jf?ote:nte;let bf=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});bf&&bf.decode(new Uint8Array).length===1&&(bf=null);class Kh{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Zh=()=>new Kh,ite=t=>{const e=Zh();return t(e),lr(e)},ste=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},lr=t=>{const e=new Uint8Array(ste(t));let n=0;for(let o=0;o<t.bufs.length;o++){const r=t.bufs[o];e.set(r,n),n+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},lte=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(mr(n,e)*2),t.cpos=0)},jt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},Ox=jt,Ce=(t,e)=>{for(;e>fa;)jt(t,En|fa&e),e=Ki(e/128);jt(t,fa&e)},JS=(t,e)=>{const n=B8(e);for(n&&(e=-e),jt(t,(e>Nx?En:0)|(n?Hi:0)|Nx&e),e=Ki(e/64);e>0;)jt(t,(e>fa?En:0)|fa&e),e=Ki(e/128)},Lx=new Uint8Array(3e4),ate=Lx.length/3,cte=(t,e)=>{if(e.length<ate){const n=Jf.encodeInto(e,Lx).written||0;Ce(t,n);for(let o=0;o<n;o++)jt(t,Lx[o])}else to(t,rte(e))},ute=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;Ce(t,o);for(let r=0;r<o;r++)jt(t,n.codePointAt(r))},Kc=Jf&&Jf.encodeInto?cte:ute,E0=(t,e)=>{const n=t.cbuf.length,o=t.cpos,r=zi(n-o,e.length),i=e.length-r;t.cbuf.set(e.subarray(0,r),o),t.cpos+=r,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(mr(n*2,i)),t.cbuf.set(e.subarray(r)),t.cpos=i)},to=(t,e)=>{Ce(t,e.byteLength),E0(t,e)},QS=(t,e)=>{lte(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},dte=(t,e)=>QS(t,4).setFloat32(0,e,!1),fte=(t,e)=>QS(t,8).setFloat64(0,e,!1),hte=(t,e)=>QS(t,8).setBigInt64(0,e,!1),qR=new DataView(new ArrayBuffer(4)),pte=t=>(qR.setFloat32(0,t),qR.getFloat32(0)===t),Su=(t,e)=>{switch(typeof e){case"string":jt(t,119),Kc(t,e);break;case"number":Yee(e)&&Wm(e)<=Zee?(jt(t,125),JS(t,e)):pte(e)?(jt(t,124),dte(t,e)):(jt(t,123),fte(t,e));break;case"bigint":jt(t,122),hte(t,e);break;case"object":if(e===null)jt(t,126);else if(Rx(e)){jt(t,117),Ce(t,e.length);for(let n=0;n<e.length;n++)Su(t,e[n])}else if(e instanceof Uint8Array)jt(t,116),to(t,e);else{jt(t,118);const n=Object.keys(e);Ce(t,n.length);for(let o=0;o<n.length;o++){const r=n[o];Kc(t,r),Su(t,e[r])}}break;case"boolean":jt(t,e?120:121);break;default:jt(t,127)}};class WR extends Kh{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Ce(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const KR=t=>{t.count>0&&(JS(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Ce(t.encoder,t.count-2))};class Km{constructor(){this.encoder=new Kh,this.s=0,this.count=0}write(e){this.s===e?this.count++:(KR(this),this.count=1,this.s=e)}toUint8Array(){return KR(this),lr(this.encoder)}}const ZR=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);JS(t.encoder,e),t.count>1&&Ce(t.encoder,t.count-2)}};class Wv{constructor(){this.encoder=new Kh,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(ZR(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return ZR(this),lr(this.encoder)}}class mte{constructor(){this.sarr=[],this.s="",this.lensE=new Km}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Kh;return this.sarr.push(this.s),this.s="",Kc(e,this.sarr.join("")),E0(e,this.lensE.toUint8Array()),lr(e)}}const sl=t=>new Error(t),ur=()=>{throw sl("Method unimplemented")},vo=()=>{throw sl("Unexpected case")},H8=sl("Unexpected end of array"),V8=sl("Integer out of Range");class T0{constructor(e){this.arr=e,this.pos=0}}const Ku=t=>new T0(t),gte=t=>t.pos!==t.arr.length,bte=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},no=t=>bte(t,be(t)),Eu=t=>t.arr[t.pos++],be=t=>{let e=0,n=1;const o=t.arr.length;for(;t.pos<o;){const r=t.arr[t.pos++];if(e=e+(r&fa)*n,n*=128,r<En)return e;if(e>z8)throw V8}throw H8},e2=t=>{let e=t.arr[t.pos++],n=e&Nx,o=64;const r=(e&Hi)>0?-1:1;if(!(e&En))return r*n;const i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],n=n+(e&fa)*o,o*=128,e<En)return r*n;if(n>z8)throw V8}throw H8},yte=t=>{let e=be(t);if(e===0)return"";{let n=String.fromCodePoint(Eu(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Eu(t));else for(;e>0;){const o=e<1e4?e:1e4,r=t.arr.subarray(t.pos,t.pos+o);t.pos+=o,n+=String.fromCodePoint.apply(null,r),e-=o}return decodeURIComponent(escape(n))}},vte=t=>bf.decode(no(t)),Zc=bf?vte:yte,t2=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},wte=t=>t2(t,4).getFloat32(0,!1),kte=t=>t2(t,8).getFloat64(0,!1),xte=t=>t2(t,8).getBigInt64(0,!1),Cte=[t=>{},t=>null,e2,wte,kte,xte,t=>!1,t=>!0,Zc,t=>{const e=be(t),n={};for(let o=0;o<e;o++){const r=Zc(t);n[r]=Qf(t)}return n},t=>{const e=be(t),n=[];for(let o=0;o<e;o++)n.push(Qf(t));return n},no],Qf=t=>Cte[127-Eu(t)](t);class YR extends T0{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),gte(this)?this.count=be(this)+1:this.count=-1),this.count--,this.s}}class Zm extends T0{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=e2(this);const e=B8(this.s);this.count=1,e&&(this.s=-this.s,this.count=be(this)+2)}return this.count--,this.s}}class Kv extends T0{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=e2(this),n=e&1;this.diff=Ki(e/2),this.count=1,n&&(this.count=be(this)+2)}return this.s+=this.diff,this.count--,this.s}}class _te{constructor(e){this.decoder=new Zm(e),this.str=Zc(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const Ste=crypto.getRandomValues.bind(crypto),Ete=Math.random,U8=()=>Ste(new Uint32Array(1))[0],Tte=t=>t[Ki(Ete()*t.length)],Mte="10000000-1000-4000-8000"+-1e11,Ate=()=>Mte.replace(/[018]/g,t=>(t^U8()&15>>t/4).toString(16)),Rte=Date.now,XR=t=>new Promise(t);Promise.all.bind(Promise);const JR=t=>t===void 0?null:t;class Nte{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let F8=new Nte,Ote=!0;try{typeof localStorage<"u"&&localStorage&&(F8=localStorage,Ote=!1)}catch{}const Lte=F8,Dte=Object.assign,G8=Object.keys,Ite=(t,e)=>{for(const n in t)e(t[n],n)},QR=t=>G8(t).length,$te=t=>{for(const e in t)return!1;return!0},q8=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},Pte=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),jte=(t,e)=>t===e||QR(t)===QR(e)&&q8(t,(n,o)=>(n!==void 0||Pte(e,o))&&e[o]===n),Bte=Object.freeze,W8=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&W8(t[e])}return Bte(t)},n2=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&n2(t,e,n+1)}},zte=t=>t,Hte=(t,e)=>e.includes(t);var K8={};const Tu=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Z8=typeof window<"u"&&typeof document<"u"&&!Tu;let _r;const Vte=()=>{if(_r===void 0)if(Tu){_r=Fo();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&_r.set(e,""),e=o):e!==null&&(_r.set(e,o),e=null)}e!==null&&_r.set(e,"")}else typeof location=="object"?(_r=Fo(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");_r.set(`--${GR(e,"-")}`,n),_r.set(`-${GR(e,"-")}`,n)}})):_r=Fo();return _r},Dx=t=>Vte().has(t),Db=t=>JR(Tu?K8[t.toUpperCase().replaceAll("-","_")]:Lte.getItem(t)),Y8=t=>Dx("--"+t)||Db(t)!==null;Y8("production");const Ute=Tu&&Hte(K8.FORCE_COLOR,["true","1","2"]),Fte=Ute||!Dx("--no-colors")&&!Y8("no-color")&&(!Tu||process.stdout.isTTY)&&(!Tu||Dx("--color")||Db("COLORTERM")!==null||(Db("TERM")||"").includes("color")),Gte=t=>new Uint8Array(t),qte=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=Xee(t[n]);return btoa(e)},Wte=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),Kte=Z8?qte:Wte,Zte=t=>{const e=Gte(t.byteLength);return e.set(t),e},Yte=t=>ite(e=>Su(e,t));class Xte{constructor(e,n){this.left=e,this.right=n}}const mi=(t,e)=>new Xte(t,e),Jte=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const Qte=t=>Fee(t,(e,n)=>`${n}:${e};`).join(""),ene=t=>class{constructor(n){this._=n}destroy(){t(this._)}},tne=ene(clearTimeout),o2=(t,e)=>new tne(setTimeout(e,t)),es=Symbol,X8=es(),J8=es(),nne=es(),one=es(),rne=es(),Q8=es(),ine=es(),r2=es(),sne=es(),lne=t=>{var r;t.length===1&&((r=t[0])==null?void 0:r.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const i=t[o];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(o>0&&n.push(e.join(""));o<t.length;o++){const i=t[o];i instanceof Symbol||n.push(i)}return n},ane={[X8]:mi("font-weight","bold"),[J8]:mi("font-weight","normal"),[nne]:mi("color","blue"),[rne]:mi("color","green"),[one]:mi("color","grey"),[Q8]:mi("color","red"),[ine]:mi("color","purple"),[r2]:mi("color","orange"),[sne]:mi("color","black")},cne=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],o=Fo();let r=[],i=0;for(;i<t.length;i++){const l=t[i],a=ane[l];if(a!==void 0)o.set(a.left,a.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const c=Qte(o);i>0||c.length>0?(e.push("%c"+l),n.push(c)):e.push(l)}else break}}for(i>0&&(r=n,r.unshift(e.join("")));i<t.length;i++){const l=t[i];l instanceof Symbol||r.push(l)}return r},eP=Fte?cne:lne,une=(...t)=>{console.log(...eP(t)),nP.forEach(e=>e.print(t))},tP=(...t)=>{console.warn(...eP(t)),t.unshift(r2),nP.forEach(e=>e.print(t))},nP=Sa(),oP=t=>({[Symbol.iterator](){return this},next:t}),dne=(t,e)=>oP(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Zv=(t,e)=>oP(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}});class i2{constructor(e,n){this.clock=e,this.len=n}}class Zu{constructor(){this.clients=new Map}}const ll=(t,e,n)=>e.clients.forEach((o,r)=>{const i=t.doc.store.clients.get(r);if(i!=null){const s=i[i.length-1],l=s.id.clock+s.length;for(let a=0,c=o[a];a<o.length&&c.clock<l;c=o[++a])bP(t,i,c.clock,c.len,n)}}),fne=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const r=Ki((n+o)/2),i=t[r],s=i.clock;if(s<=e){if(e<s+i.len)return r;n=r+1}else o=r-1}return null},Yu=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&fne(n,e.clock)!==null},s2=t=>{t.clients.forEach(e=>{e.sort((r,i)=>r.clock-i.clock);let n,o;for(n=1,o=1;n<e.length;n++){const r=e[o-1],i=e[n];r.clock+r.len>=i.clock?r.len=mr(r.len,i.clock+i.len-r.clock):(o<n&&(e[o]=i),o++)}e.length=o})},Ix=t=>{const e=new Zu;for(let n=0;n<t.length;n++)t[n].clients.forEach((o,r)=>{if(!e.clients.has(r)){const i=o.slice();for(let s=n+1;s<t.length;s++)qee(i,t[s].clients.get(r)||[]);e.clients.set(r,i)}});return s2(e),e},eh=(t,e,n,o)=>{ri(t.clients,e,()=>[]).push(new i2(n,o))},rP=()=>new Zu,iP=t=>{const e=rP();return t.clients.forEach((n,o)=>{const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.deleted){const l=s.id.clock;let a=s.length;if(i+1<n.length)for(let c=n[i+1];i+1<n.length&&c.deleted;c=n[++i+1])a+=c.length;r.push(new i2(l,a))}}r.length>0&&e.clients.set(o,r)}),e},Xu=(t,e)=>{Ce(t.restEncoder,e.clients.size),il(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),Ce(t.restEncoder,n);const r=o.length;Ce(t.restEncoder,r);for(let i=0;i<r;i++){const s=o[i];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},l2=t=>{const e=new Zu,n=be(t.restDecoder);for(let o=0;o<n;o++){t.resetDsCurVal();const r=be(t.restDecoder),i=be(t.restDecoder);if(i>0){const s=ri(e.clients,r,()=>[]);for(let l=0;l<i;l++)s.push(new i2(t.readDsClock(),t.readDsLen()))}}return e},eN=(t,e,n)=>{const o=new Zu,r=be(t.restDecoder);for(let i=0;i<r;i++){t.resetDsCurVal();const s=be(t.restDecoder),l=be(t.restDecoder),a=n.clients.get(s)||[],c=kt(n,s);for(let u=0;u<l;u++){const d=t.readDsClock(),f=d+t.readDsLen();if(d<c){c<f&&eh(o,s,c,f-c);let h=Ko(a,d),p=a[h];for(!p.deleted&&p.id.clock<d&&(a.splice(h+1,0,Hb(e,p,d-p.id.clock)),h++);h<a.length&&(p=a[h++],p.id.clock<f);)p.deleted||(f<p.id.clock+p.length&&a.splice(h,0,Hb(e,p,f-p.id.clock)),p.delete(e))}else eh(o,s,d,f-d)}}if(o.clients.size>0){const i=new Ea;return Ce(i.restEncoder,0),Xu(i,o),i.toUint8Array()}return null},sP=U8;class wl extends j8{constructor({guid:e=Ate(),collectionid:n=null,gc:o=!0,gcFilter:r=()=>!0,meta:i=null,autoLoad:s=!1,shouldLoad:l=!0}={}){super(),this.gc=o,this.gcFilter=r,this.clientID=sP(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new mP,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=s,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=XR(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const a=()=>XR(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=a()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=a()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Ve(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(il(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Ve(this,e,n)}get(e,n=Gt){const o=ri(this.share,e,()=>{const i=new n;return i._integrate(this,null),i}),r=o.constructor;if(n!==Gt&&r!==n)if(r===Gt){const i=new n;i._map=o._map,o._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=i}),i._start=o._start;for(let s=i._start;s!==null;s=s.right)s.parent=i;return i._length=o._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,Jc)}getText(e=""){return this.get(e,al)}getMap(e=""){return this.get(e,Au)}getXmlElement(e=""){return this.get(e,Sn)}getXmlFragment(e=""){return this.get(e,Ta)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,il(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new wl({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Ve(e.parent.doc,o=>{const r=n.doc;e.deleted||o.subdocsAdded.add(r),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class lP{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return be(this.restDecoder)}readDsLen(){return be(this.restDecoder)}}class aP extends lP{readLeftID(){return ce(be(this.restDecoder),be(this.restDecoder))}readRightID(){return ce(be(this.restDecoder),be(this.restDecoder))}readClient(){return be(this.restDecoder)}readInfo(){return Eu(this.restDecoder)}readString(){return Zc(this.restDecoder)}readParentInfo(){return be(this.restDecoder)===1}readTypeRef(){return be(this.restDecoder)}readLen(){return be(this.restDecoder)}readAny(){return Qf(this.restDecoder)}readBuf(){return Zte(no(this.restDecoder))}readJSON(){return JSON.parse(Zc(this.restDecoder))}readKey(){return Zc(this.restDecoder)}}class hne{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=be(this.restDecoder),this.dsCurrVal}readDsLen(){const e=be(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Mu extends hne{constructor(e){super(e),this.keys=[],be(e),this.keyClockDecoder=new Kv(no(e)),this.clientDecoder=new Zm(no(e)),this.leftClockDecoder=new Kv(no(e)),this.rightClockDecoder=new Kv(no(e)),this.infoDecoder=new YR(no(e),Eu),this.stringDecoder=new _te(no(e)),this.parentInfoDecoder=new YR(no(e),Eu),this.typeRefDecoder=new Zm(no(e)),this.lenDecoder=new Zm(no(e))}readLeftID(){return new Yc(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Yc(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Qf(this.restDecoder)}readBuf(){return no(this.restDecoder)}readJSON(){return Qf(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class cP{constructor(){this.restEncoder=Zh()}toUint8Array(){return lr(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Ce(this.restEncoder,e)}writeDsLen(e){Ce(this.restEncoder,e)}}class Yh extends cP{writeLeftID(e){Ce(this.restEncoder,e.client),Ce(this.restEncoder,e.clock)}writeRightID(e){Ce(this.restEncoder,e.client),Ce(this.restEncoder,e.clock)}writeClient(e){Ce(this.restEncoder,e)}writeInfo(e){Ox(this.restEncoder,e)}writeString(e){Kc(this.restEncoder,e)}writeParentInfo(e){Ce(this.restEncoder,e?1:0)}writeTypeRef(e){Ce(this.restEncoder,e)}writeLen(e){Ce(this.restEncoder,e)}writeAny(e){Su(this.restEncoder,e)}writeBuf(e){to(this.restEncoder,e)}writeJSON(e){Kc(this.restEncoder,JSON.stringify(e))}writeKey(e){Kc(this.restEncoder,e)}}class uP{constructor(){this.restEncoder=Zh(),this.dsCurrVal=0}toUint8Array(){return lr(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Ce(this.restEncoder,n)}writeDsLen(e){e===0&&vo(),Ce(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ea extends uP{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Wv,this.clientEncoder=new Km,this.leftClockEncoder=new Wv,this.rightClockEncoder=new Wv,this.infoEncoder=new WR(Ox),this.stringEncoder=new mte,this.parentInfoEncoder=new WR(Ox),this.typeRefEncoder=new Km,this.lenEncoder=new Km}toUint8Array(){const e=Zh();return Ce(e,0),to(e,this.keyClockEncoder.toUint8Array()),to(e,this.clientEncoder.toUint8Array()),to(e,this.leftClockEncoder.toUint8Array()),to(e,this.rightClockEncoder.toUint8Array()),to(e,lr(this.infoEncoder)),to(e,this.stringEncoder.toUint8Array()),to(e,lr(this.parentInfoEncoder)),to(e,this.typeRefEncoder.toUint8Array()),to(e,this.lenEncoder.toUint8Array()),E0(e,lr(this.restEncoder)),lr(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Su(this.restEncoder,e)}writeBuf(e){to(this.restEncoder,e)}writeJSON(e){Su(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const pne=(t,e,n,o)=>{o=mr(o,e[0].id.clock);const r=Ko(e,o);Ce(t.restEncoder,e.length-r),t.writeClient(n),Ce(t.restEncoder,o);const i=e[r];i.write(t,o-i.id.clock);for(let s=r+1;s<e.length;s++)e[s].write(t,0)},a2=(t,e,n)=>{const o=new Map;n.forEach((r,i)=>{kt(e,i)>r&&o.set(i,r)}),Xh(e).forEach((r,i)=>{n.has(i)||o.set(i,0)}),Ce(t.restEncoder,o.size),il(o.entries()).sort((r,i)=>i[0]-r[0]).forEach(([r,i])=>{pne(t,e.clients.get(r),r,i)})},mne=(t,e)=>{const n=Fo(),o=be(t.restDecoder);for(let r=0;r<o;r++){const i=be(t.restDecoder),s=new Array(i),l=t.readClient();let a=be(t.restDecoder);n.set(l,{i:0,refs:s});for(let c=0;c<i;c++){const u=t.readInfo();switch(S0&u){case 0:{const d=t.readLen();s[c]=new Po(ce(l,a),d),a+=d;break}case 10:{const d=be(t.restDecoder);s[c]=new jo(ce(l,a),d),a+=d;break}default:{const d=(u&(Hi|En))===0,f=new $e(ce(l,a),null,(u&En)===En?t.readLeftID():null,null,(u&Hi)===Hi?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&Xf)===Xf?t.readString():null,BP(t,u));s[c]=f,a+=f.length}}}}return n},gne=(t,e,n)=>{const o=[];let r=il(n.keys()).sort((h,p)=>h-p);if(r.length===0)return null;const i=()=>{if(r.length===0)return null;let h=n.get(r[r.length-1]);for(;h.refs.length===h.i;)if(r.pop(),r.length>0)h=n.get(r[r.length-1]);else return null;return h};let s=i();if(s===null)return null;const l=new mP,a=new Map,c=(h,p)=>{const m=a.get(h);(m==null||m>p)&&a.set(h,p)};let u=s.refs[s.i++];const d=new Map,f=()=>{for(const h of o){const p=h.id.client,m=n.get(p);m?(m.i--,l.clients.set(p,m.refs.slice(m.i)),n.delete(p),m.i=0,m.refs=[]):l.clients.set(p,[h]),r=r.filter(b=>b!==p)}o.length=0};for(;;){if(u.constructor!==jo){const p=ri(d,u.id.client,()=>kt(e,u.id.client))-u.id.clock;if(p<0)o.push(u),c(u.id.client,u.id.clock-1),f();else{const m=u.getMissing(t,e);if(m!==null){o.push(u);const b=n.get(m)||{refs:[],i:0};if(b.refs.length===b.i)c(m,kt(e,m)),f();else{u=b.refs[b.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(o.length>0)u=o.pop();else if(s!==null&&s.i<s.refs.length)u=s.refs[s.i++];else{if(s=i(),s===null)break;u=s.refs[s.i++]}}if(l.clients.size>0){const h=new Ea;return a2(h,l,new Map),Ce(h.restEncoder,0),{missing:a,update:h.toUint8Array()}}return null},bne=(t,e)=>a2(t,e.doc.store,e.beforeState),yne=(t,e,n,o=new Mu(t))=>Ve(e,r=>{r.local=!1;let i=!1;const s=r.doc,l=s.store,a=mne(o,s),c=gne(r,l,a),u=l.pendingStructs;if(u){for(const[f,h]of u.missing)if(h<kt(l,f)){i=!0;break}if(c){for(const[f,h]of c.missing){const p=u.missing.get(f);(p==null||p>h)&&u.missing.set(f,h)}u.update=$b([u.update,c.update])}}else l.pendingStructs=c;const d=eN(o,r,l);if(l.pendingDs){const f=new Mu(Ku(l.pendingDs));be(f.restDecoder);const h=eN(f,r,l);d&&h?l.pendingDs=$b([d,h]):l.pendingDs=d||h}else l.pendingDs=d;if(i){const f=l.pendingStructs.update;l.pendingStructs=null,Ib(r.doc,f)}},n,!1),Ib=(t,e,n,o=Mu)=>{const r=Ku(e);yne(r,t,n,new o(r))},tN=(t,e,n)=>Ib(t,e,n,aP),vne=(t,e,n=new Map)=>{a2(t,e.store,n),Xu(t,iP(e.store))},wne=(t,e=new Uint8Array([0]),n=new Ea)=>{const o=dP(e);vne(n,t,o);const r=[n.toUint8Array()];if(t.store.pendingDs&&r.push(t.store.pendingDs),t.store.pendingStructs&&r.push(Bne(t.store.pendingStructs.update,e)),r.length>1){if(n.constructor===Yh)return Pne(r.map((i,s)=>s===0?i:Hne(i)));if(n.constructor===Ea)return $b(r)}return r[0]},nN=(t,e)=>wne(t,e,new Yh),kne=t=>{const e=new Map,n=be(t.restDecoder);for(let o=0;o<n;o++){const r=be(t.restDecoder),i=be(t.restDecoder);e.set(r,i)}return e},dP=t=>kne(new lP(Ku(t))),fP=(t,e)=>(Ce(t.restEncoder,e.size),il(e.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{Ce(t.restEncoder,n),Ce(t.restEncoder,o)}),t),xne=(t,e)=>fP(t,Xh(e.store)),Cne=(t,e=new uP)=>(t instanceof Map?fP(e,t):xne(e,t),e.toUint8Array()),_ne=t=>Cne(t,new cP);class Sne{constructor(){this.l=[]}}const oN=()=>new Sne,rN=(t,e)=>t.l.push(e),iN=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(r=>e!==r),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},hP=(t,e,n)=>n2(t.l,[e,n]);class Yc{constructor(e,n){this.client=e,this.clock=n}}const Oc=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,ce=(t,e)=>new Yc(t,e),th=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw vo()},nh=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class oh{constructor(e,n,o,r=0){this.type=e,this.tname=n,this.item=o,this.assoc=r}}const yf=t=>new oh(t.type==null?null:ce(t.type.client,t.type.clock),t.tname??null,t.item==null?null:ce(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class Ene{constructor(e,n,o=0){this.type=e,this.index=n,this.assoc=o}}const Tne=(t,e,n=0)=>new Ene(t,e,n),lm=(t,e,n)=>{let o=null,r=null;return t._item===null?r=th(t):o=ce(t._item.id.client,t._item.id.clock),new oh(o,r,e,n)},Yv=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return lm(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return lm(t,ce(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return lm(t,o.lastId,n);o=o.right}return lm(t,null,n)},Mne=(t,e)=>{const n=Xc(t,e),o=e.clock-n.id.clock;return{item:n,diff:o}},Ane=(t,e,n=!0)=>{const o=e.store,r=t.item,i=t.type,s=t.tname,l=t.assoc;let a=null,c=0;if(r!==null){if(kt(o,r.client)<=r.clock)return null;const u=n?Bx(o,r):Mne(o,r),d=u.item;if(!(d instanceof $e))return null;if(a=d.parent,a._item===null||!a._item.deleted){c=d.deleted||!d.countable?0:u.diff+(l>=0?0:1);let f=d.left;for(;f!==null;)!f.deleted&&f.countable&&(c+=f.length),f=f.left}}else{if(s!==null)a=e.get(s);else if(i!==null){if(kt(o,i.client)<=i.clock)return null;const{item:u}=n?Bx(o,i):{item:Xc(o,i)};if(u instanceof $e&&u.content instanceof kr)a=u.content.type;else return null}else throw vo();l>=0?c=a._length:c=0}return Tne(a,c,t.assoc)},sN=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Oc(t.item,e.item)&&Oc(t.type,e.type)&&t.assoc===e.assoc;class c2{constructor(e,n){this.ds=e,this.sv=n}}const pP=(t,e)=>new c2(t,e),Xv=t=>pP(iP(t.store),Xh(t.store)),Bl=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Yu(e.ds,t.id),$x=(t,e)=>{const n=ri(t.meta,$x,Sa),o=t.doc.store;n.has(e)||(e.sv.forEach((r,i)=>{r<kt(o,i)&&zn(t,ce(i,r))}),ll(t,e.ds,r=>{}),n.add(e))};class mP{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Xh=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const r=n[n.length-1];e.set(o,r.id.clock+r.length)}),e},kt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},gP=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw vo()}n.push(e)},Ko=(t,e)=>{let n=0,o=t.length-1,r=t[o],i=r.id.clock;if(i===e)return o;let s=Ki(e/(i+r.length-1)*o);for(;n<=o;){if(r=t[s],i=r.id.clock,i<=e){if(e<i+r.length)return s;n=s+1}else o=s-1;s=Ki((n+o)/2)}throw vo()},Rne=(t,e)=>{const n=t.clients.get(e.client);return n[Ko(n,e.clock)]},Xc=Rne,Px=(t,e,n)=>{const o=Ko(e,n),r=e[o];return r.id.clock<n&&r instanceof $e?(e.splice(o+1,0,Hb(t,r,n-r.id.clock)),o+1):o},zn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Px(t,n,e.clock)]},lN=(t,e,n)=>{const o=e.clients.get(n.client),r=Ko(o,n.clock),i=o[r];return n.clock!==i.id.clock+i.length-1&&i.constructor!==Po&&o.splice(r+1,0,Hb(t,i,n.clock-i.id.clock+1)),i},Nne=(t,e,n)=>{const o=t.clients.get(e.id.client);o[Ko(o,e.id.clock)]=n},bP=(t,e,n,o,r)=>{if(o===0)return;const i=n+o;let s=Px(t,e,n),l;do l=e[s++],i<l.id.clock+l.length&&Px(t,e,i),r(l);while(s<e.length&&e[s].id.clock<i)};class One{constructor(e,n,o){this.doc=e,this.deleteSet=new Zu,this.beforeState=Xh(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const aN=(t,e)=>e.deleteSet.clients.size===0&&!Gee(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:(s2(e.deleteSet),bne(t,e),Xu(t,e.deleteSet),!0),cN=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&ri(t.changed,e,Sa).add(n)},Ym=(t,e)=>{let n=t[e],o=t[e-1],r=e;for(;r>0;n=o,o=t[--r-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof $e&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const i=e-r;return i&&t.splice(e+1-i,i),i},Lne=(t,e,n)=>{for(const[o,r]of t.clients.entries()){const i=e.clients.get(o);for(let s=r.length-1;s>=0;s--){const l=r[s],a=l.clock+l.len;for(let c=Ko(i,l.clock),u=i[c];c<i.length&&u.id.clock<a;u=i[++c]){const d=i[c];if(l.clock+l.len<=d.id.clock)break;d instanceof $e&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},Dne=(t,e)=>{t.clients.forEach((n,o)=>{const r=e.clients.get(o);for(let i=n.length-1;i>=0;i--){const s=n[i],l=zi(r.length-1,1+Ko(r,s.clock+s.len-1));for(let a=l,c=r[a];a>0&&c.id.clock>=s.clock;c=r[a])a-=1+Ym(r,a)}})},yP=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,r=o.store,i=n.deleteSet,s=n._mergeStructs;try{s2(i),n.afterState=Xh(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const l=[];n.changed.forEach((a,c)=>l.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,a)})),l.push(()=>{n.changedParentTypes.forEach((a,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(a=a.filter(u=>u.target._item===null||!u.target._item.deleted),a.forEach(u=>{u.currentTarget=c,u._path=null}),a.sort((u,d)=>u.path.length-d.path.length),hP(c._dEH,a,n))})}),l.push(()=>o.emit("afterTransaction",[n,o])),n2(l,[]),n._needFormattingCleanup&&toe(n)}finally{o.gc&&Lne(i,r,o.gcFilter),Dne(i,r),n.afterState.forEach((u,d)=>{const f=n.beforeState.get(d)||0;if(f!==u){const h=r.clients.get(d),p=mr(Ko(h,f),1);for(let m=h.length-1;m>=p;)m-=1+Ym(h,m)}});for(let u=s.length-1;u>=0;u--){const{client:d,clock:f}=s[u].id,h=r.clients.get(d),p=Ko(h,f);p+1<h.length&&Ym(h,p+1)>1||p>0&&Ym(h,p)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(une(r2,X8,"[yjs] ",J8,Q8,"Changed the client-id because another client seems to be using it."),o.clientID=sP()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const u=new Yh;aN(u,n)&&o.emit("update",[u.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const u=new Ea;aN(u,n)&&o.emit("updateV2",[u.toUint8Array(),n.origin,o,n])}const{subdocsAdded:l,subdocsLoaded:a,subdocsRemoved:c}=n;(l.size>0||c.size>0||a.size>0)&&(l.forEach(u=>{u.clientID=o.clientID,u.collectionid==null&&(u.collectionid=o.collectionid),o.subdocs.add(u)}),c.forEach(u=>o.subdocs.delete(u)),o.emit("subdocs",[{loaded:a,added:l,removed:c},o,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):yP(t,e+1)}}},Ve=(t,e,n=null,o=!0)=>{const r=t._transactionCleanups;let i=!1,s=null;t._transaction===null&&(i=!0,t._transaction=new One(t,n,o),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(i){const l=t._transaction===r[0];t._transaction=null,l&&yP(r,0)}}return s};class Ine{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const uN=(t,e,n)=>{ll(t,n.deletions,o=>{o instanceof $e&&e.scope.some(r=>r===t.doc||nh(r,o))&&b2(o,!1)})},dN=(t,e,n)=>{let o=null;const r=t.doc,i=t.scope;Ve(r,l=>{for(;e.length>0&&t.currStackItem===null;){const a=r.store,c=e.pop(),u=new Set,d=[];let f=!1;ll(l,c.insertions,h=>{if(h instanceof $e){if(h.redone!==null){let{item:p,diff:m}=Bx(a,h.id);m>0&&(p=zn(l,ce(p.id.client,p.id.clock+m))),h=p}!h.deleted&&i.some(p=>p===l.doc||nh(p,h))&&d.push(h)}}),ll(l,c.deletions,h=>{h instanceof $e&&i.some(p=>p===l.doc||nh(p,h))&&!Yu(c.insertions,h.id)&&u.add(h)}),u.forEach(h=>{f=jP(l,h,u,c.insertions,t.ignoreRemoteMapChanges,t)!==null||f});for(let h=d.length-1;h>=0;h--){const p=d[h];t.deleteFilter(p)&&(p.delete(l),f=!0)}t.currStackItem=f?c:null}l.changed.forEach((a,c)=>{a.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),o=l},t);const s=t.currStackItem;if(s!=null){const l=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:l,origin:t},t]),t.currStackItem=null}return s};class vP extends j8{constructor(e,{captureTimeout:n=500,captureTransaction:o=a=>!0,deleteFilter:r=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:s=!1,doc:l=Rx(e)?e[0].doc:e instanceof wl?e:e.doc}={}){super(),this.scope=[],this.doc=l,this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=s,this.captureTimeout=n,this.afterTransactionHandler=a=>{if(!this.captureTransaction(a)||!this.scope.some(b=>a.changedParentTypes.has(b)||b===this.doc)||!this.trackedOrigins.has(a.origin)&&(!a.origin||!this.trackedOrigins.has(a.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const f=new Zu;a.afterState.forEach((b,y)=>{const w=a.beforeState.get(y)||0,k=b-w;k>0&&eh(f,y,w,k)});const h=Rte();let p=!1;if(this.lastChange>0&&h-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const b=d[d.length-1];b.deletions=Ix([b.deletions,a.deleteSet]),b.insertions=Ix([b.insertions,f])}else d.push(new Ine(a.deleteSet,f)),p=!0;!c&&!u&&(this.lastChange=h),ll(a,a.deleteSet,b=>{b instanceof $e&&this.scope.some(y=>y===a.doc||nh(y,b))&&b2(b,!0)});const m=[{stackItem:d[d.length-1],origin:a.origin,type:c?"redo":"undo",changedParentTypes:a.changedParentTypes},this];p?this.emit("stack-item-added",m):this.emit("stack-item-updated",m)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=Rx(e)?e:[e],e.forEach(o=>{n.has(o)||(n.add(o),(o instanceof Gt?o.doc!==this.doc:o!==this.doc)&&tP("[yjs#509] Not same Y.Doc"),this.scope.push(o))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(o=>{e&&(this.undoStack.forEach(r=>uN(o,this,r)),this.undoStack=[]),n&&(this.redoStack.forEach(r=>uN(o,this,r)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=dN(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=dN(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*$ne(t){const e=be(t.restDecoder);for(let n=0;n<e;n++){const o=be(t.restDecoder),r=t.readClient();let i=be(t.restDecoder);for(let s=0;s<o;s++){const l=t.readInfo();if(l===10){const a=be(t.restDecoder);yield new jo(ce(r,i),a),i+=a}else if(S0&l){const a=(l&(Hi|En))===0,c=new $e(ce(r,i),null,(l&En)===En?t.readLeftID():null,null,(l&Hi)===Hi?t.readRightID():null,a?t.readParentInfo()?t.readString():t.readLeftID():null,a&&(l&Xf)===Xf?t.readString():null,BP(t,l));yield c,i+=c.length}else{const a=t.readLen();yield new Po(ce(r,i),a),i+=a}}}}class u2{constructor(e,n){this.gen=$ne(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===jo);return this.curr}}class d2{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const Pne=t=>$b(t,aP,Yh),jne=(t,e)=>{if(t.constructor===Po){const{client:n,clock:o}=t.id;return new Po(ce(n,o+e),t.length-e)}else if(t.constructor===jo){const{client:n,clock:o}=t.id;return new jo(ce(n,o+e),t.length-e)}else{const n=t,{client:o,clock:r}=n.id;return new $e(ce(o,r+e),null,ce(o,r+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},$b=(t,e=Mu,n=Ea)=>{if(t.length===1)return t[0];const o=t.map(u=>new e(Ku(u)));let r=o.map(u=>new u2(u,!0)),i=null;const s=new n,l=new d2(s);for(;r=r.filter(f=>f.curr!==null),r.sort((f,h)=>{if(f.curr.id.client===h.curr.id.client){const p=f.curr.id.clock-h.curr.id.clock;return p===0?f.curr.constructor===h.curr.constructor?0:f.curr.constructor===jo?1:-1:p}else return h.curr.id.client-f.curr.id.client}),r.length!==0;){const u=r[0],d=u.curr.id.client;if(i!==null){let f=u.curr,h=!1;for(;f!==null&&f.id.clock+f.length<=i.struct.id.clock+i.struct.length&&f.id.client>=i.struct.id.client;)f=u.next(),h=!0;if(f===null||f.id.client!==d||h&&f.id.clock>i.struct.id.clock+i.struct.length)continue;if(d!==i.struct.id.client)Es(l,i.struct,i.offset),i={struct:f,offset:0},u.next();else if(i.struct.id.clock+i.struct.length<f.id.clock)if(i.struct.constructor===jo)i.struct.length=f.id.clock+f.length-i.struct.id.clock;else{Es(l,i.struct,i.offset);const p=f.id.clock-i.struct.id.clock-i.struct.length;i={struct:new jo(ce(d,i.struct.id.clock+i.struct.length),p),offset:0}}else{const p=i.struct.id.clock+i.struct.length-f.id.clock;p>0&&(i.struct.constructor===jo?i.struct.length-=p:f=jne(f,p)),i.struct.mergeWith(f)||(Es(l,i.struct,i.offset),i={struct:f,offset:0},u.next())}}else i={struct:u.curr,offset:0},u.next();for(let f=u.curr;f!==null&&f.id.client===d&&f.id.clock===i.struct.id.clock+i.struct.length&&f.constructor!==jo;f=u.next())Es(l,i.struct,i.offset),i={struct:f,offset:0}}i!==null&&(Es(l,i.struct,i.offset),i=null),f2(l);const a=o.map(u=>l2(u)),c=Ix(a);return Xu(s,c),s.toUint8Array()},Bne=(t,e,n=Mu,o=Ea)=>{const r=dP(e),i=new o,s=new d2(i),l=new n(Ku(t)),a=new u2(l,!1);for(;a.curr;){const u=a.curr,d=u.id.client,f=r.get(d)||0;if(a.curr.constructor===jo){a.next();continue}if(u.id.clock+u.length>f)for(Es(s,u,mr(f-u.id.clock,0)),a.next();a.curr&&a.curr.id.client===d;)Es(s,a.curr,0),a.next();else for(;a.curr&&a.curr.id.client===d&&a.curr.id.clock+a.curr.length<=f;)a.next()}f2(s);const c=l2(l);return Xu(i,c),i.toUint8Array()},wP=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:lr(t.encoder.restEncoder)}),t.encoder.restEncoder=Zh(),t.written=0)},Es=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&wP(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Ce(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},f2=t=>{wP(t);const e=t.encoder.restEncoder;Ce(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const o=t.clientStructs[n];Ce(e,o.written),E0(e,o.restEncoder)}},zne=(t,e,n,o)=>{const r=new n(Ku(t)),i=new u2(r,!1),s=new o,l=new d2(s);for(let c=i.curr;c!==null;c=i.next())Es(l,e(c),0);f2(l);const a=l2(r);return Xu(s,a),s.toUint8Array()},Hne=t=>zne(t,zte,Mu,Yh),fN="You must not compute changes after the event-handler fired.";class M0{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Vne(this.currentTarget,this.target))}deletes(e){return Yu(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw sl(fN);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(r=>{if(r!==null){const i=n._map.get(r);let s,l;if(this.adds(i)){let a=i.left;for(;a!==null&&this.adds(a);)a=a.left;if(this.deletes(i))if(a!==null&&this.deletes(a))s="delete",l=Fv(a.content.getContent());else return;else a!==null&&this.deletes(a)?(s="update",l=Fv(a.content.getContent())):(s="add",l=void 0)}else if(this.deletes(i))s="delete",l=Fv(i.content.getContent());else return;e.set(r,{action:s,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw sl(fN);const n=this.target,o=Sa(),r=Sa(),i=[];if(e={added:o,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const a=()=>{l&&i.push(l)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((l===null||l.delete===void 0)&&(a(),l={delete:0}),l.delete+=c.length,r.add(c)):this.adds(c)?((l===null||l.insert===void 0)&&(a(),l={insert:[]}),l.insert=l.insert.concat(c.content.getContent()),o.add(c)):((l===null||l.retain===void 0)&&(a(),l={retain:0}),l.retain+=c.length);l!==null&&l.retain===void 0&&a()}this._changes=e}return e}}const Vne=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)!r.deleted&&r.countable&&(o+=r.length),r=r.right;n.unshift(o)}e=e._item.parent}return n},gn=()=>{tP("Invalid access: Add Yjs type to a document before reading data.")},kP=80;let h2=0;class Une{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=h2++}}const Fne=t=>{t.timestamp=h2++},xP=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=h2++},Gne=(t,e,n)=>{if(t.length>=kP){const o=t.reduce((r,i)=>r.timestamp<i.timestamp?r:i);return xP(o,e,n),o}else{const o=new Une(e,n);return t.push(o),o}},A0=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((i,s)=>Wm(e-i.index)<Wm(e-s.index)?i:s);let o=t._start,r=0;for(n!==null&&(o=n.p,r=n.index,Fne(n));o.right!==null&&r<e;){if(!o.deleted&&o.countable){if(e<r+o.length)break;r+=o.length}o=o.right}for(;o.left!==null&&r>e;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);return n!==null&&Wm(n.index-r)<o.parent.length/kP?(xP(n,o,r),n):Gne(t._searchMarker,o,r)},rh=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const r=t[o];if(n>0){let i=r.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(r.index-=i.length);if(i===null||i.marker===!0){t.splice(o,1);continue}r.p=i,i.marker=!0}(e<r.index||n>0&&e===r.index)&&(r.index=mr(e,r.index+n))}},R0=(t,e,n)=>{const o=t,r=e.changedParentTypes;for(;ri(r,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;hP(o._eH,n,e)};class Gt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=oN(),this._dEH=oN(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw ur()}clone(){throw ur()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){rN(this._eH,e)}observeDeep(e){rN(this._dEH,e)}unobserve(e){iN(this._eH,e)}unobserveDeep(e){iN(this._dEH,e)}toJSON(){}}const CP=(t,e,n)=>{t.doc??gn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const r=[];let i=t._start;for(;i!==null&&o>0;){if(i.countable&&!i.deleted){const s=i.content.getContent();if(s.length<=e)e-=s.length;else{for(let l=e;l<s.length&&o>0;l++)r.push(s[l]),o--;e=0}}i=i.right}return r},_P=t=>{t.doc??gn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e.push(o[r])}n=n.right}return e},SP=(t,e)=>{const n=[];let o=t._start;for(;o!==null;){if(o.countable&&Bl(o,e)){const r=o.content.getContent();for(let i=0;i<r.length;i++)n.push(r[i])}o=o.right}return n},ih=(t,e)=>{let n=0,o=t._start;for(t.doc??gn();o!==null;){if(o.countable&&!o.deleted){const r=o.content.getContent();for(let i=0;i<r.length;i++)e(r[i],n++,t)}o=o.right}},EP=(t,e)=>{const n=[];return ih(t,(o,r)=>{n.push(e(o,r,t))}),n},qne=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const r=n[o++];return n.length<=o&&(n=null),{done:!1,value:r}}}},TP=(t,e)=>{t.doc??gn();const n=A0(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},Pb=(t,e,n,o)=>{let r=n;const i=t.doc,s=i.clientID,l=i.store,a=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(r=new $e(ce(s,kt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new Ma(c)),r.integrate(t,0),c=[])};o.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:r=new $e(ce(s,kt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new Jh(new Uint8Array(d))),r.integrate(t,0);break;case wl:r=new $e(ce(s,kt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new Qh(d)),r.integrate(t,0);break;default:if(d instanceof Gt)r=new $e(ce(s,kt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new kr(d)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},MP=()=>sl("Length exceeded!"),AP=(t,e,n,o)=>{if(n>e._length)throw MP();if(n===0)return e._searchMarker&&rh(e._searchMarker,n,o.length),Pb(t,e,null,o);const r=n,i=A0(e,n);let s=e._start;for(i!==null&&(s=i.p,n-=i.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&zn(t,ce(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&rh(e._searchMarker,r,o.length),Pb(t,e,s,o)},Wne=(t,e,n)=>{let r=(e._searchMarker||[]).reduce((i,s)=>s.index>i.index?s:i,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return Pb(t,e,r,n)},RP=(t,e,n,o)=>{if(o===0)return;const r=n,i=o,s=A0(e,n);let l=e._start;for(s!==null&&(l=s.p,n-=s.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&zn(t,ce(l.id.client,l.id.clock+n)),n-=l.length);for(;o>0&&l!==null;)l.deleted||(o<l.length&&zn(t,ce(l.id.client,l.id.clock+o)),l.delete(t),o-=l.length),l=l.right;if(o>0)throw MP();e._searchMarker&&rh(e._searchMarker,r,-i+o)},jb=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},p2=(t,e,n,o)=>{const r=e._map.get(n)||null,i=t.doc,s=i.clientID;let l;if(o==null)l=new Ma([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:l=new Ma([o]);break;case Uint8Array:l=new Jh(o);break;case wl:l=new Qh(o);break;default:if(o instanceof Gt)l=new kr(o);else throw new Error("Unexpected content type")}new $e(ce(s,kt(i.store,s)),r,r&&r.lastId,null,null,e,n,l).integrate(t,0)},m2=(t,e)=>{t.doc??gn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},NP=t=>{const e={};return t.doc??gn(),t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},OP=(t,e)=>{t.doc??gn();const n=t._map.get(e);return n!==void 0&&!n.deleted},Kne=(t,e)=>{const n={};return t._map.forEach((o,r)=>{let i=o;for(;i!==null&&(!e.sv.has(i.id.client)||i.id.clock>=(e.sv.get(i.id.client)||0));)i=i.left;i!==null&&Bl(i,e)&&(n[r]=i.content.getContent()[i.length-1])}),n},am=t=>(t.doc??gn(),dne(t._map.entries(),e=>!e[1].deleted));class Zne extends M0{}class Jc extends Gt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Jc;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Jc}clone(){const e=new Jc;return e.insert(0,this.toArray().map(n=>n instanceof Gt?n.clone():n)),e}get length(){return this.doc??gn(),this._length}_callObserver(e,n){super._callObserver(e,n),R0(this,e,new Zne(this,e))}insert(e,n){this.doc!==null?Ve(this.doc,o=>{AP(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Ve(this.doc,n=>{Wne(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Ve(this.doc,o=>{RP(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return TP(this,e)}toArray(){return _P(this)}slice(e=0,n=this.length){return CP(this,e,n)}toJSON(){return this.map(e=>e instanceof Gt?e.toJSON():e)}map(e){return EP(this,e)}forEach(e){ih(this,e)}[Symbol.iterator](){return qne(this)}_write(e){e.writeTypeRef(woe)}}const Yne=t=>new Jc;class Xne extends M0{constructor(e,n,o){super(e,n),this.keysChanged=o}}class Au extends Gt{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,r)=>{this.set(r,o)}),this._prelimContent=null}_copy(){return new Au}clone(){const e=new Au;return this.forEach((n,o)=>{e.set(o,n instanceof Gt?n.clone():n)}),e}_callObserver(e,n){R0(this,e,new Xne(this,e,n))}toJSON(){this.doc??gn();const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const r=n.content.getContent()[n.length-1];e[o]=r instanceof Gt?r.toJSON():r}}),e}get size(){return[...am(this)].length}keys(){return Zv(am(this),e=>e[0])}values(){return Zv(am(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Zv(am(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??gn(),this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Ve(this.doc,n=>{jb(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Ve(this.doc,o=>{p2(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return m2(this,e)}has(e){return OP(this,e)}clear(){this.doc!==null?Ve(this.doc,e=>{this.forEach(function(n,o,r){jb(e,r,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(koe)}}const Jne=t=>new Au,Bs=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&jte(t,e);class jx{constructor(e,n,o,r){this.left=e,this.right=n,this.index=o,this.currentAttributes=r}forward(){switch(this.right===null&&vo(),this.right.content.constructor){case Rt:this.right.deleted||Ju(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const hN=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Rt:e.right.deleted||Ju(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&zn(t,ce(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},cm=(t,e,n,o)=>{const r=new Map,i=o?A0(e,n):null;if(i){const s=new jx(i.p.left,i.p,i.index,r);return hN(t,s,n-i.index)}else{const s=new jx(null,e._start,0,r);return hN(t,s,n)}},LP=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Rt&&Bs(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const r=t.doc,i=r.clientID;o.forEach((s,l)=>{const a=n.left,c=n.right,u=new $e(ce(i,kt(r.store,i)),a,a&&a.lastId,c,c&&c.id,e,null,new Rt(l,s));u.integrate(t,0),n.right=u,n.forward()})},Ju=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},DP=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Rt&&Bs(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},IP=(t,e,n,o)=>{const r=t.doc,i=r.clientID,s=new Map;for(const l in o){const a=o[l],c=n.currentAttributes.get(l)??null;if(!Bs(c,a)){s.set(l,c);const{left:u,right:d}=n;n.right=new $e(ce(i,kt(r.store,i)),u,u&&u.lastId,d,d&&d.id,e,null,new Rt(l,a)),n.right.integrate(t,0),n.forward()}}return s},Jv=(t,e,n,o,r)=>{n.currentAttributes.forEach((f,h)=>{r[h]===void 0&&(r[h]=null)});const i=t.doc,s=i.clientID;DP(n,r);const l=IP(t,e,n,r),a=o.constructor===String?new gr(o):o instanceof Gt?new kr(o):new Ua(o);let{left:c,right:u,index:d}=n;e._searchMarker&&rh(e._searchMarker,n.index,a.getLength()),u=new $e(ce(s,kt(i.store,s)),c,c&&c.lastId,u,u&&u.id,e,null,a),u.integrate(t,0),n.right=u,n.index=d,n.forward(),LP(t,e,n,l)},pN=(t,e,n,o,r)=>{const i=t.doc,s=i.clientID;DP(n,r);const l=IP(t,e,n,r);e:for(;n.right!==null&&(o>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Rt));){if(!n.right.deleted)switch(n.right.content.constructor){case Rt:{const{key:a,value:c}=n.right.content,u=r[a];if(u!==void 0){if(Bs(u,c))l.delete(a);else{if(o===0)break e;l.set(a,c)}n.right.delete(t)}else n.currentAttributes.set(a,c);break}default:o<n.right.length&&zn(t,ce(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let a="";for(;o>0;o--)a+=`
`;n.right=new $e(ce(s,kt(i.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new gr(a)),n.right.integrate(t,0),n.forward()}LP(t,e,n,l)},$P=(t,e,n,o,r)=>{let i=e;const s=Fo();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===Rt){const c=i.content;s.set(c.key,c)}i=i.right}let l=0,a=!1;for(;e!==i;){if(n===e&&(a=!0),!e.deleted){const c=e.content;switch(c.constructor){case Rt:{const{key:u,value:d}=c,f=o.get(u)??null;(s.get(u)!==c||f===d)&&(e.delete(t),l++,!a&&(r.get(u)??null)===d&&f!==d&&(f===null?r.delete(u):r.set(u,f))),!a&&!e.deleted&&Ju(r,c);break}}}e=e.right}return l},Qne=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Rt){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},eoe=t=>{let e=0;return Ve(t.doc,n=>{let o=t._start,r=t._start,i=Fo();const s=Ax(i);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case Rt:Ju(s,r.content);break;default:e+=$P(n,o,r,i,s),i=Ax(s),o=r;break}r=r.right}}),e},toe=t=>{const e=new Set,n=t.doc;for(const[o,r]of t.afterState.entries()){const i=t.beforeState.get(o)||0;r!==i&&bP(t,n.store.clients.get(o),i,r,s=>{!s.deleted&&s.content.constructor===Rt&&s.constructor!==Po&&e.add(s.parent)})}Ve(n,o=>{ll(t,t.deleteSet,r=>{if(r instanceof Po||!r.parent._hasFormatting||e.has(r.parent))return;const i=r.parent;r.content.constructor===Rt?e.add(i):Qne(o,r)});for(const r of e)eoe(r)})},mN=(t,e,n)=>{const o=n,r=Ax(e.currentAttributes),i=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case kr:case Ua:case gr:n<e.right.length&&zn(t,ce(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}i&&$P(t,i,e.right,r,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&rh(s._searchMarker,e.index,-o+n),e};class noe extends M0{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Ve(e,o=>{const r=new Map,i=new Map;let s=this.target._start,l=null;const a={};let c="",u=0,d=0;const f=()=>{if(l!==null){let h=null;switch(l){case"delete":d>0&&(h={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(h={insert:c},r.size>0&&(h.attributes={},r.forEach((p,m)=>{p!==null&&(h.attributes[m]=p)}))),c="";break;case"retain":u>0&&(h={retain:u},$te(a)||(h.attributes=Dte({},a))),u=0;break}h&&n.push(h),l=null}};for(;s!==null;){switch(s.content.constructor){case kr:case Ua:this.adds(s)?this.deletes(s)||(f(),l="insert",c=s.content.getContent()[0],f()):this.deletes(s)?(l!=="delete"&&(f(),l="delete"),d+=1):s.deleted||(l!=="retain"&&(f(),l="retain"),u+=1);break;case gr:this.adds(s)?this.deletes(s)||(l!=="insert"&&(f(),l="insert"),c+=s.content.str):this.deletes(s)?(l!=="delete"&&(f(),l="delete"),d+=s.length):s.deleted||(l!=="retain"&&(f(),l="retain"),u+=s.length);break;case Rt:{const{key:h,value:p}=s.content;if(this.adds(s)){if(!this.deletes(s)){const m=r.get(h)??null;Bs(m,p)?p!==null&&s.delete(o):(l==="retain"&&f(),Bs(p,i.get(h)??null)?delete a[h]:a[h]=p)}}else if(this.deletes(s)){i.set(h,p);const m=r.get(h)??null;Bs(m,p)||(l==="retain"&&f(),a[h]=m)}else if(!s.deleted){i.set(h,p);const m=a[h];m!==void 0&&(Bs(m,p)?m!==null&&s.delete(o):(l==="retain"&&f(),p===null?delete a[h]:a[h]=p))}s.deleted||(l==="insert"&&f(),Ju(r,s.content));break}}s=s.right}for(f();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class al extends Gt{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??gn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new al}clone(){const e=new al;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new noe(this,e,n);R0(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??gn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===gr&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Ve(this.doc,o=>{const r=new jx(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const s=e[i];if(s.insert!==void 0){const l=!n&&typeof s.insert=="string"&&i===e.length-1&&r.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof l!="string"||l.length>0)&&Jv(o,this,r,l,s.attributes||{})}else s.retain!==void 0?pN(o,this,r,s.retain,s.attributes||{}):s.delete!==void 0&&mN(o,r,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){this.doc??gn();const r=[],i=new Map,s=this.doc;let l="",a=this._start;function c(){if(l.length>0){const d={};let f=!1;i.forEach((p,m)=>{f=!0,d[m]=p});const h={insert:l};f&&(h.attributes=d),r.push(h),l=""}}const u=()=>{for(;a!==null;){if(Bl(a,e)||n!==void 0&&Bl(a,n))switch(a.content.constructor){case gr:{const d=i.get("ychange");e!==void 0&&!Bl(a,e)?(d===void 0||d.user!==a.id.client||d.type!=="removed")&&(c(),i.set("ychange",o?o("removed",a.id):{type:"removed"})):n!==void 0&&!Bl(a,n)?(d===void 0||d.user!==a.id.client||d.type!=="added")&&(c(),i.set("ychange",o?o("added",a.id):{type:"added"})):d!==void 0&&(c(),i.delete("ychange")),l+=a.content.str;break}case kr:case Ua:{c();const d={insert:a.content.getContent()[0]};if(i.size>0){const f={};d.attributes=f,i.forEach((h,p)=>{f[p]=h})}r.push(d);break}case Rt:Bl(a,e)&&(c(),Ju(i,a.content));break}a=a.right}c()};return e||n?Ve(s,d=>{e&&$x(d,e),n&&$x(d,n),u()},"cleanup"):u(),r}insert(e,n,o){if(n.length<=0)return;const r=this.doc;r!==null?Ve(r,i=>{const s=cm(i,this,e,!o);o||(o={},s.currentAttributes.forEach((l,a)=>{o[a]=l})),Jv(i,this,s,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const r=this.doc;r!==null?Ve(r,i=>{const s=cm(i,this,e,!o);Jv(i,this,s,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?Ve(o,r=>{mN(r,cm(r,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const r=this.doc;r!==null?Ve(r,i=>{const s=cm(i,this,e,!1);s.right!==null&&pN(i,this,s,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?Ve(this.doc,n=>{jb(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Ve(this.doc,o=>{p2(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return m2(this,e)}getAttributes(){return NP(this)}_write(e){e.writeTypeRef(xoe)}}const ooe=t=>new al;class Qv{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??gn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Sn||n.constructor===Ta)&&n._start!==null)e=n._start;else for(;e!==null;){const o=e.next;if(o!==null){e=o;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Ta extends Gt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ta}clone(){const e=new Ta;return e.insert(0,this.toArray().map(n=>n instanceof Gt?n.clone():n)),e}get length(){return this.doc??gn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Qv(this,e)}querySelector(e){e=e.toUpperCase();const o=new Qv(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),il(new Qv(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){R0(this,e,new soe(this,n,e))}toString(){return EP(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const r=e.createDocumentFragment();return o!==void 0&&o._createAssociation(r,this),ih(this,i=>{r.insertBefore(i.toDOM(e,n,o),null)}),r}insert(e,n){this.doc!==null?Ve(this.doc,o=>{AP(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Ve(this.doc,o=>{const r=e&&e instanceof Gt?e._item:e;Pb(o,this,r,n)});else{const o=this._prelimContent,r=e===null?0:o.findIndex(i=>i===e)+1;if(r===0&&e!==null)throw sl("Reference item not found");o.splice(r,0,...n)}}delete(e,n=1){this.doc!==null?Ve(this.doc,o=>{RP(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return _P(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return TP(this,e)}slice(e=0,n=this.length){return CP(this,e,n)}forEach(e){ih(this,e)}_write(e){e.writeTypeRef(_oe)}}const roe=t=>new Ta;class Sn extends Ta{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,r)=>{this.setAttribute(r,o)}),this._prelimAttrs=null}_copy(){return new Sn(this.nodeName)}clone(){const e=new Sn(this.nodeName),n=this.getAttributes();return Ite(n,(o,r)=>{typeof o=="string"&&e.setAttribute(r,o)}),e.insert(0,this.toArray().map(o=>o instanceof Gt?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const l in e)o.push(l);o.sort();const r=o.length;for(let l=0;l<r;l++){const a=o[l];n.push(a+'="'+e[a]+'"')}const i=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${i}${s}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?Ve(this.doc,n=>{jb(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Ve(this.doc,o=>{p2(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return m2(this,e)}hasAttribute(e){return OP(this,e)}getAttributes(e){return e?Kne(this,e):NP(this)}toDOM(e=document,n={},o){const r=e.createElement(this.nodeName),i=this.getAttributes();for(const s in i){const l=i[s];typeof l=="string"&&r.setAttribute(s,l)}return ih(this,s=>{r.appendChild(s.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(r,this),r}_write(e){e.writeTypeRef(Coe),e.writeKey(this.nodeName)}}const ioe=t=>new Sn(t.readKey());class soe extends M0{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class Bb extends Au{constructor(e){super(),this.hookName=e}_copy(){return new Bb(this.hookName)}clone(){const e=new Bb(this.hookName);return this.forEach((n,o)=>{e.set(o,n)}),e}toDOM(e=document,n={},o){const r=n[this.hookName];let i;return r!==void 0?i=r.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(i,this),i}_write(e){e.writeTypeRef(Soe),e.writeKey(this.hookName)}}const loe=t=>new Bb(t.readKey());class ho extends al{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new ho}clone(){const e=new ho;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const r=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const n=[];for(const r in e.attributes){const i=[];for(const s in e.attributes[r])i.push({key:s,value:e.attributes[r][s]});i.sort((s,l)=>s.key<l.key?-1:1),n.push({nodeName:r,attrs:i})}n.sort((r,i)=>r.nodeName<i.nodeName?-1:1);let o="";for(let r=0;r<n.length;r++){const i=n[r];o+=`<${i.nodeName}`;for(let s=0;s<i.attrs.length;s++){const l=i.attrs[s];o+=` ${l.key}="${l.value}"`}o+=">"}o+=e.insert;for(let r=n.length-1;r>=0;r--)o+=`</${n[r].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Eoe)}}const aoe=t=>new ho;class g2{constructor(e,n){this.id=e,this.length=n}get deleted(){throw ur()}mergeWith(e){return!1}write(e,n,o){throw ur()}integrate(e,n){throw ur()}}const coe=0;class Po extends g2{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),gP(e.doc.store,this)}write(e,n){e.writeInfo(coe),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Jh{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Jh(this.content)}splice(e){throw ur()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const uoe=t=>new Jh(t.readBuf());class sh{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new sh(this.len)}splice(e){const n=new sh(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){eh(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const doe=t=>new sh(t.readLen()),PP=(t,e)=>new wl({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Qh{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Qh(PP(this.doc.guid,this.opts))}splice(e){throw ur()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const foe=t=>new Qh(PP(t.readString(),t.readAny()));class Ua{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ua(this.embed)}splice(e){throw ur()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const hoe=t=>new Ua(t.readJSON());class Rt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Rt(this.key,this.value)}splice(e){throw ur()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const poe=t=>new Rt(t.readKey(),t.readJSON());class zb{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new zb(this.arr)}splice(e){const n=new zb(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const i=this.arr[r];e.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const moe=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++){const r=t.readString();r==="undefined"?n.push(void 0):n.push(JSON.parse(r))}return new zb(n)},goe=Db("node_env")==="development";class Ma{constructor(e){this.arr=e,goe&&W8(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ma(this.arr)}splice(e){const n=new Ma(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const i=this.arr[r];e.writeAny(i)}}getRef(){return 8}}const boe=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++)n.push(t.readAny());return new Ma(n)};class gr{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new gr(this.str)}splice(e){const n=new gr(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const yoe=t=>new gr(t.readString()),voe=[Yne,Jne,ooe,ioe,roe,loe,aoe],woe=0,koe=1,xoe=2,Coe=3,_oe=4,Soe=5,Eoe=6;class kr{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new kr(this.type._copy())}splice(e){throw ur()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Toe=t=>new kr(voe[t.readTypeRef()](t)),Bx=(t,e)=>{let n=e,o=0,r;do o>0&&(n=ce(n.client,n.clock+o)),r=Xc(t,n),o=n.clock-r.id.clock,n=r.redone;while(n!==null&&r instanceof $e);return{item:r,diff:o}},b2=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Hb=(t,e,n)=>{const{client:o,clock:r}=e.id,i=new $e(ce(o,r+n),e,ce(o,r+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=ce(e.redone.client,e.redone.clock+n)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=n,i},gN=(t,e)=>Wee(t,n=>Yu(n.deletions,e)),jP=(t,e,n,o,r,i)=>{const s=t.doc,l=s.store,a=s.clientID,c=e.redone;if(c!==null)return zn(t,c);let u=e.parent._item,d=null,f;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!n.has(u)||jP(t,u,n,o,r,i)===null))return null;for(;u.redone!==null;)u=zn(t,u.redone)}const h=u===null?e.parent:u.content.type;if(e.parentSub===null){for(d=e.left,f=e;d!==null;){let y=d;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:zn(t,y.redone);if(y!==null&&y.parent._item===u){d=y;break}d=d.left}for(;f!==null;){let y=f;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:zn(t,y.redone);if(y!==null&&y.parent._item===u){f=y;break}f=f.right}}else if(f=null,e.right&&!r){for(d=e;d!==null&&d.right!==null&&(d.right.redone||Yu(o,d.right.id)||gN(i.undoStack,d.right.id)||gN(i.redoStack,d.right.id));)for(d=d.right;d.redone;)d=zn(t,d.redone);if(d&&d.right!==null)return null}else d=h._map.get(e.parentSub)||null;const p=kt(l,a),m=ce(a,p),b=new $e(m,d,d&&d.lastId,f,f&&f.id,h,e.parentSub,e.content.copy());return e.redone=m,b2(b,!0),b.integrate(t,0),b};class $e extends g2{constructor(e,n,o,r,i,s,l,a){super(e,a.getLength()),this.origin=o,this.left=n,this.right=r,this.rightOrigin=i,this.parent=s,this.parentSub=l,this.redone=null,this.content=a,this.info=this.content.isCountable()?FR:0}set marker(e){(this.info&qv)>0!==e&&(this.info^=qv)}get marker(){return(this.info&qv)>0}get keep(){return(this.info&UR)>0}set keep(e){this.keep!==e&&(this.info^=UR)}get countable(){return(this.info&FR)>0}get deleted(){return(this.info&Gv)>0}set deleted(e){this.deleted!==e&&(this.info^=Gv)}markDeleted(){this.info|=Gv}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=kt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=kt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Yc&&this.id.client!==this.parent.client&&this.parent.clock>=kt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=lN(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=zn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Po||this.right&&this.right.constructor===Po)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===$e?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===$e&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Yc){const o=Xc(n,this.parent);o.constructor===Po?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=lN(e,e.doc.store,ce(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,r;if(o!==null)r=o.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const i=new Set,s=new Set;for(;r!==null&&r!==this.right;){if(s.add(r),i.add(r),Oc(this.origin,r.origin)){if(r.id.client<this.id.client)o=r,i.clear();else if(Oc(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&s.has(Xc(e.doc.store,r.origin)))i.has(Xc(e.doc.store,r.origin))||(o=r,i.clear());else break;r=r.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),gP(e.doc.store,this),this.content.integrate(e,this),cN(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Po(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:ce(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Oc(e.origin,this.lastId)&&this.right===e&&Oc(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),eh(e.deleteSet,this.id.client,this.id.clock,this.length),cN(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw vo();this.content.gc(e),n?Nne(e,this,new Po(this.id,this.length)):this.content=new sh(this.length)}write(e,n){const o=n>0?ce(this.id.client,this.id.clock+n-1):this.origin,r=this.rightOrigin,i=this.parentSub,s=this.content.getRef()&S0|(o===null?0:En)|(r===null?0:Hi)|(i===null?0:Xf);if(e.writeInfo(s),o!==null&&e.writeLeftID(o),r!==null&&e.writeRightID(r),o===null&&r===null){const l=this.parent;if(l._item!==void 0){const a=l._item;if(a===null){const c=th(l);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(a.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===Yc?(e.writeParentInfo(!1),e.writeLeftID(l)):vo();i!==null&&e.writeString(i)}this.content.write(e,n)}}const BP=(t,e)=>Moe[e&S0](t),Moe=[()=>{vo()},doe,moe,uoe,yoe,hoe,poe,Toe,boe,foe,()=>{vo()}],Aoe=10;class jo extends g2{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){vo()}write(e,n){e.writeInfo(Aoe),Ce(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const zP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},HP="__ $YJS$ __";zP[HP]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");zP[HP]=!0;const Roe=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},Noe=/[\uD800-\uDBFF]/,Ooe=/[\uDC00-\uDFFF]/,Loe=(t,e)=>{let n=0,o=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&Noe.test(t[n-1])&&n--;o+n<t.length&&o+n<e.length&&t[t.length-o-1]===e[e.length-o-1];)o++;return o>0&&Ooe.test(t[t.length-o])&&o--,{index:n,remove:t.length-n-o,insert:e.slice(n,e.length-o)}},Doe=Loe,Ne=new Te("y-sync"),Ho=new Te("y-undo"),zd=new Te("yjs-cursor"),Hr=(t,e)=>t>>>e|t<<32-e,Ioe=t=>Hr(t,2)^Hr(t,13)^Hr(t,22),$oe=t=>Hr(t,6)^Hr(t,11)^Hr(t,25),Poe=t=>Hr(t,7)^Hr(t,18)^t>>>3,joe=t=>Hr(t,17)^Hr(t,19)^t>>>10,Boe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zoe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class Hoe{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(zoe),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let d=16;d<64;d++)n[d]=joe(n[d-2])+n[d-7]+Poe(n[d-15])+n[d-16];let o=e[0],r=e[1],i=e[2],s=e[3],l=e[4],a=e[5],c=e[6],u=e[7];for(let d=0,f,h;d<64;d++)f=u+$oe(l)+(l&a^~l&c)+Boe[d]+n[d]>>>0,h=Ioe(o)+(o&r^o&i^r&i)>>>0,u=c,c=a,a=l,l=s+f>>>0,s=i,i=r,r=o,o=f+h>>>0;e[0]+=o,e[1]+=r,e[2]+=i,e[3]+=s,e[4]+=l,e[5]+=a,e[6]+=c,e[7]+=u}digest(e){let n=0;for(;n+56<=e.length;){let s=0;for(;s<16&&n+3<e.length;s++)this._W[s]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,s,16);n<e.length;)this._W[s]|=e[n]<<(3-n%4)*8,n++;this._W[s]|=En<<(3-n%4)*8}this._updateHash()}const o=n%64!==0;this._W.fill(0,0,16);let r=0;for(;n<e.length;r++)for(let s=3;s>=0&&n<e.length;s--)this._W[r]|=e[n++]<<s*8;o||(this._W[r-(n%4===0?0:1)]|=En<<(3-n%4)*8),this._W[14]=e.byteLength/Kee,this._W[15]=e.byteLength*8,this._updateHash();const i=new Uint8Array(32);for(let s=0;s<this._H.length;s++)for(let l=0;l<4;l++)i[s*4+l]=this._H[s]>>>(3-l)*8;return i}}const Voe=t=>new Hoe().digest(t),Uoe=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},Foe=t=>Kte(Uoe(Voe(Yte(t)))),Vb=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!Yu(e.ds,t.id),Goe=[{light:"#ecd44433",dark:"#ecd444"}],qoe=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const o=Sa();t.forEach(r=>o.add(r)),e=e.filter(r=>!o.has(r))}t.set(n,Tte(e))}return t.get(n)},Woe=(t,{colors:e=Goe,colorMapping:n=new Map,permanentUserData:o=null,onFirstRender:r=()=>{},mapping:i}={})=>{let s=!1;const l=new Zoe(t,i),a=new de({props:{editable:c=>{const u=Ne.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:Ne,state:{init:(c,u)=>({type:t,doc:t.doc,binding:l,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:o}),apply:(c,u)=>{const d=c.getMeta(Ne);if(d!==void 0){u=Object.assign({},u);for(const f in d)u[f]=d[f]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,l.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&o2(0,()=>{l.prosemirrorView!=null&&(d.restore==null?l._renderSnapshot(d.snapshot,d.prevSnapshot,u):(l._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,l.mux(()=>{l._prosemirrorChanged(l.prosemirrorView.state.doc)})))}),u}},view:c=>(l.initView(c),i==null&&l._forceRerender(),r(),{update:()=>{const u=a.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(s||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(s=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=Ho.getState(c.state),f=d&&d.undoManager;f&&f.stopCapturing()}l.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),l._prosemirrorChanged(c.state.doc)},Ne)})}},destroy:()=>{l.destroy()}})});return a},Koe=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new Fn(t.doc));else if(e.type==="node"){const o=ha(n.doc,n.type,e.anchor,n.mapping);t.setSelection(J.create(t.doc,o))}else{const o=ha(n.doc,n.type,e.anchor,n.mapping),r=ha(n.doc,n.type,e.head,n.mapping);if(o!==null&&r!==null){const i=Y.between(t.doc.resolve(o),t.doc.resolve(r));t.setSelection(i)}}},Ub=(t,e)=>({type:e.selection.jsonID,anchor:ah(e.selection.anchor,t.type,t.mapping),head:ah(e.selection.head,t.type,t.mapping)});class Zoe{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=Roe(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=Ub(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(Z8&&this._domSelectionInView===null&&(o2(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const r=n.getBoundingClientRect(),i=Jte.documentElement;return r.bottom>=0&&r.right>=0&&r.left<=(window.innerWidth||i.clientWidth||0)&&r.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(e,n){n||(n=pP(rP(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Ne,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(o=>Xm(o,this.prosemirrorView.state.schema,this)).filter(o=>o!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new q(L.from(e),0,0));n.setMeta(Ne,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(r=>Xm(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new q(L.from(n),0,0));if(e){const r=zi(mr(e.anchor,0),o.doc.content.size),i=zi(mr(e.head,0),o.doc.content.size);o.setSelection(Y.create(o.doc,r,i))}this.prosemirrorView.dispatch(o.setMeta(Ne,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,o){let r=this.doc,i=this.type;if(e||(e=Xv(this.doc)),e instanceof Uint8Array||n instanceof Uint8Array)if((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&vo(),r=new wl({gc:!1}),Ib(r,n),n=Xv(r),Ib(r,e),e=Xv(r),i._item===null){const s=Array.from(this.doc.share.keys()).find(l=>this.doc.share.get(l)===this.type);i=r.getXmlFragment(s)}else{const s=r.store.clients.get(i._item.id.client)??[],l=Ko(s,i._item.id.clock);i=s[l].content.type}this.mapping.clear(),this.mux(()=>{r.transact(s=>{const l=o.permanentUserData;l&&l.dss.forEach(d=>{ll(s,d,f=>{})});const a=(d,f)=>{const h=d==="added"?l.getUserByClientId(f.client):l.getUserByDeletedId(f);return{user:h,type:d,color:qoe(o.colorMapping,o.colors,h)}},c=SP(i,new c2(n.ds,e.sv)).map(d=>!d._item.deleted||Vb(d._item,e)||Vb(d._item,n)?Xm(d,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,a):null).filter(d=>d!==null),u=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new q(L.from(c),0,0));this.prosemirrorView.dispatch(u.setMeta(Ne,{isChangeOrigin:!0}))},Ne)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const o=Ne.getState(this.prosemirrorView.state);if(e.length===0||o.snapshot!=null||o.prevSnapshot!=null){this.renderSnapshot(o.snapshot,o.prevSnapshot);return}this.mux(()=>{const r=(l,a)=>this.mapping.delete(a);ll(n,n.deleteSet,l=>{if(l.constructor===$e){const a=l.content.type;a&&this.mapping.delete(a)}}),n.changed.forEach(r),n.changedParentTypes.forEach(r);const i=this.type.toArray().map(l=>VP(l,this.prosemirrorView.state.schema,this)).filter(l=>l!==null);let s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new q(L.from(i),0,0));Koe(s,this.beforeTransactionSelection,this),s=s.setMeta(Ne,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof vP}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&s.scrollIntoView(),this.prosemirrorView.dispatch(s)})}_prosemirrorChanged(e){this.doc.transact(()=>{Hx(this.doc,this.type,e,this),this.beforeTransactionSelection=Ub(this,this.prosemirrorView.state)},Ne)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const VP=(t,e,n,o,r,i)=>{const s=n.mapping.get(t);if(s===void 0){if(t instanceof Sn)return Xm(t,e,n,o,r,i);throw ur()}return s},Xm=(t,e,n,o,r,i)=>{const s=[],l=a=>{var c,u;if(a instanceof Sn){const d=VP(a,e,n,o,r,i);d!==null&&s.push(d)}else{const d=(u=(c=a._item.right)==null?void 0:c.content)==null?void 0:u.type;d instanceof al&&!d._item.deleted&&d._item.id.client===d.doc.clientID&&(a.applyDelta([{retain:a.length},...d.toDelta()]),d.doc.transact(h=>{d._item.delete(h)}));const f=Yoe(a,e,n,o,r,i);f!==null&&f.forEach(h=>{h!==null&&s.push(h)})}};o===void 0||r===void 0?t.toArray().forEach(l):SP(t,new c2(r.ds,o.sv)).forEach(l);try{const a=t.getAttributes(o);o!==void 0&&(Vb(t._item,o)?Vb(t._item,r)||(a.ychange=i?i("added",t._item.id):{type:"added"}):a.ychange=i?i("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,a,s);return n.mapping.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Ne),n.mapping.delete(t),null}},Yoe=(t,e,n,o,r,i)=>{const s=[],l=t.toDelta(o,r,i);try{for(let a=0;a<l.length;a++){const c=l[a];s.push(e.text(c.insert,nre(c.attributes,e)))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Ne),null}return s},Xoe=(t,e)=>{const n=new ho,o=t.map(r=>({insert:r.text,attributes:GP(r.marks,e)}));return n.applyDelta(o),e.mapping.set(n,t),n},Joe=(t,e)=>{const n=new Sn(t.type.name);for(const o in t.attrs){const r=t.attrs[o];r!==null&&o!=="ychange"&&n.setAttribute(o,r)}return n.insert(0,N0(t).map(o=>zx(o,e))),e.mapping.set(n,t),n},zx=(t,e)=>t instanceof Array?Xoe(t,e):Joe(t,e),bN=t=>typeof t=="object"&&t!==null,y2=(t,e)=>{const n=Object.keys(t).filter(r=>t[r]!==null);let o=n.length===(e==null?0:Object.keys(e).filter(r=>e[r]!==null).length);for(let r=0;r<n.length&&o;r++){const i=n[r],s=t[i],l=e[i];o=i==="ychange"||s===l||bN(s)&&bN(l)&&y2(s,l)}return o},N0=t=>{const e=t.content.content,n=[];for(let o=0;o<e.length;o++){const r=e[o];if(r.isText){const i=[];for(let s=e[o];o<e.length&&s.isText;s=e[++o])i.push(s);o--,n.push(i)}else n.push(r)}return n},UP=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((o,r)=>o.insert===e[r].text&&G8(o.attributes||{}).length===e[r].marks.length&&q8(o.attributes,(i,s)=>{var c;const l=FP(s),a=e[r].marks;return y2(i,(c=a.find(u=>u.type.name===l))==null?void 0:c.attrs)}))},lh=(t,e)=>{if(t instanceof Sn&&!(e instanceof Array)&&Vx(t,e)){const n=N0(e);return t._length===n.length&&y2(t.getAttributes(),e.attrs)&&t.toArray().every((o,r)=>lh(o,n[r]))}return t instanceof ho&&e instanceof Array&&UP(t,e)},Fb=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,o)=>e[o]===n),yN=(t,e,n)=>{const o=t.toArray(),r=N0(e),i=r.length,s=o.length,l=zi(s,i);let a=0,c=0,u=!1;for(;a<l;a++){const d=o[a],f=r[a];if(Fb(n.mapping.get(d),f))u=!0;else if(!lh(d,f))break}for(;a+c<l;c++){const d=o[s-c-1],f=r[i-c-1];if(Fb(n.mapping.get(d),f))u=!0;else if(!lh(d,f))break}return{equalityFactor:a+c,foundMappedChild:u}},Qoe=t=>{let e="",n=t._start;const o={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof gr?e+=n.content.str:n.content instanceof Rt&&(o[n.content.key]=null)),n=n.right;return{str:e,nAttrs:o}},ere=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:o,str:r}=Qoe(t),i=e.map(c=>({insert:c.text,attributes:Object.assign({},o,GP(c.marks,n))})),{insert:s,remove:l,index:a}=Doe(r,i.map(c=>c.insert).join(""));t.delete(a,l),t.insert(a,s),t.applyDelta(i.map(c=>({retain:c.insert.length,attributes:c.attributes})))},tre=/(.*)(--[a-zA-Z0-9+/=]{8})$/,FP=t=>{var e;return((e=tre.exec(t))==null?void 0:e[1])??t},nre=(t,e)=>{const n=[];for(const o in t)n.push(e.mark(FP(o),t[o]));return n},GP=(t,e)=>{const n={};return t.forEach(o=>{if(o.type.name!=="ychange"){const r=ri(e.isOMark,o.type,()=>!o.type.excludes(o.type));n[r?`${o.type.name}--${Foe(o.toJSON())}`:o.type.name]=o.attrs}}),n},Hx=(t,e,n,o)=>{if(e instanceof Sn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(o.mapping.set(e,n),e instanceof Sn){const d=e.getAttributes(),f=n.attrs;for(const h in f)f[h]!==null?d[h]!==f[h]&&h!=="ychange"&&e.setAttribute(h,f[h]):e.removeAttribute(h);for(const h in d)f[h]===void 0&&e.removeAttribute(h)}const r=N0(n),i=r.length,s=e.toArray(),l=s.length,a=zi(i,l);let c=0,u=0;for(;c<a;c++){const d=s[c],f=r[c];if(!Fb(o.mapping.get(d),f))if(lh(d,f))o.mapping.set(d,f);else break}for(;u+c<a;u++){const d=s[l-u-1],f=r[i-u-1];if(!Fb(o.mapping.get(d),f))if(lh(d,f))o.mapping.set(d,f);else break}t.transact(()=>{for(;l-c-u>0&&i-c-u>0;){const f=s[c],h=r[c],p=s[l-u-1],m=r[i-u-1];if(f instanceof ho&&h instanceof Array)UP(f,h)||ere(f,h,o),c+=1;else{let b=f instanceof Sn&&Vx(f,h),y=p instanceof Sn&&Vx(p,m);if(b&&y){const w=yN(f,h,o),k=yN(p,m,o);w.foundMappedChild&&!k.foundMappedChild?y=!1:!w.foundMappedChild&&k.foundMappedChild||w.equalityFactor<k.equalityFactor?b=!1:y=!1}b?(Hx(t,f,h,o),c+=1):y?(Hx(t,p,m,o),u+=1):(o.mapping.delete(e.get(c)),e.delete(c,1),e.insert(c,[zx(h,o)]),c+=1)}}const d=l-c-u;if(l===1&&i===0&&s[0]instanceof ho?(o.mapping.delete(s[0]),s[0].delete(0,s[0].length)):d>0&&(e.slice(c,c+d).forEach(f=>o.mapping.delete(f)),e.delete(c,d)),c+u<i){const f=[];for(let h=c;h<i-u;h++)f.push(zx(r[h],o));e.insert(c,f)}},Ne)},Vx=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let vf=null;const ore=()=>{const t=vf;vf=null,t.forEach((e,n)=>{const o=n.state.tr,r=Ne.getState(n.state);r&&r.binding&&!r.binding.isDestroyed&&(e.forEach((i,s)=>{o.setMeta(s,i)}),n.dispatch(o))})},rre=(t,e,n)=>{vf||(vf=new Map,o2(0,ore)),ri(vf,t,Fo).set(e,n)},ah=(t,e,n)=>{if(t===0)return Yv(e,0,e.length===0?-1:0);let o=e._first===null?null:e._first.content.type;for(;o!==null&&e!==o;){if(o instanceof ho){if(o._length>=t)return Yv(o,t,e.length===0?-1:0);if(t-=o._length,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{do o=o._item===null?null:o._item.parent,t--;while(o!==e&&o!==null&&o._item!==null&&o._item.next===null);o!==null&&o!==e&&(o=o._item===null?null:o._item.next.content.type)}}else{const r=(n.get(o)||{nodeSize:0}).nodeSize;if(o._first!==null&&t<r)o=o._first.content.type,t--;else{if(t===1&&o._length===0&&r>1)return new oh(o._item===null?null:o._item.id,o._item===null?th(o):null,null);if(t-=r,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{if(t===0)return o=o._item===null?o:o._item.parent,new oh(o._item===null?null:o._item.id,o._item===null?th(o):null,null);do o=o._item.parent,t--;while(o!==e&&o._item.next===null);o!==e&&(o=o._item.next.content.type)}}}if(o===null)throw vo();if(t===0&&o.constructor!==ho&&o!==e)return ire(o._item.parent,o._item)}return Yv(e,e._length,e.length===0?-1:0)},ire=(t,e)=>{let n=null,o=null;return t._item===null?o=th(t):n=ce(t._item.id.client,t._item.id.clock),new oh(n,o,e.id)},ha=(t,e,n,o)=>{const r=Ane(n,t);if(r===null||r.type!==e&&!nh(e,r.type._item))return null;let i=r.type,s=0;if(i.constructor===ho)s=r.index;else if(i._item===null||!i._item.deleted){let l=i._first,a=0;for(;a<i._length&&a<r.index&&l!==null;){if(!l.deleted){const c=l.content.type;a++,c instanceof ho?s+=c._length:s+=o.get(c).nodeSize}l=l.right}s+=1}for(;i!==e&&i._item!==null;){const l=i._item.parent;if(l._item===null||!l._item.deleted){s+=1;let a=l._first;for(;a!==null;){const c=a.content.type;if(c===i)break;a.deleted||(c instanceof ho?s+=c._length:s+=o.get(c).nodeSize),a=a.right}}i=l}return s-1},sre=(t,e,n)=>t!==e,lre=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const o=document.createTextNode("⁠"),r=document.createTextNode("⁠");return e.insertBefore(o,null),e.insertBefore(n,null),e.insertBefore(r,null),e},qP=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),are=/^#[0-9a-fA-F]{6}$/,vN=(t,e,n,o,r)=>{const i=Ne.getState(t),s=i.doc,l=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding.mapping.size===0?ye.create(t.doc,[]):(e.getStates().forEach((a,c)=>{if(n(s.clientID,c,a)&&a.cursor!=null){const u=a.user||{};u.color==null?u.color="#ffa500":are.test(u.color)||console.warn("A user uses an unsupported color format",u),u.name==null&&(u.name=`User: ${c}`);let d=ha(s,i.type,yf(a.cursor.anchor),i.binding.mapping),f=ha(s,i.type,yf(a.cursor.head),i.binding.mapping);if(d!==null&&f!==null){const h=mr(t.doc.content.size-1,0);d=zi(d,h),f=zi(f,h),l.push(Le.widget(f,()=>o(u,c),{key:c+"",side:10}));const p=zi(d,f),m=mr(d,f);l.push(Le.inline(p,m,r(u,c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),ye.create(t.doc,l))},cre=(t,{awarenessStateFilter:e=sre,cursorBuilder:n=lre,selectionBuilder:o=qP,getSelection:r=s=>s.selection}={},i="cursor")=>new de({key:zd,state:{init(s,l){return vN(l,t,e,n,o)},apply(s,l,a,c){const u=Ne.getState(c),d=s.getMeta(zd);return u&&u.isChangeOrigin||d&&d.awarenessUpdated?vN(c,t,e,n,o):l.map(s.mapping,s.doc)}},props:{decorations:s=>zd.getState(s)},view:s=>{const l=()=>{s.docView&&rre(s,zd,{awarenessUpdated:!0})},a=()=>{const c=Ne.getState(s.state),u=t.getLocalState()||{};if(s.hasFocus()){const d=r(s.state),f=ah(d.anchor,c.type,c.binding.mapping),h=ah(d.head,c.type,c.binding.mapping);(u.cursor==null||!sN(yf(u.cursor.anchor),f)||!sN(yf(u.cursor.head),h))&&t.setLocalStateField(i,{anchor:f,head:h})}else u.cursor!=null&&ha(c.doc,c.type,yf(u.cursor.anchor),c.binding.mapping)!==null&&t.setLocalStateField(i,null)};return t.on("change",l),s.dom.addEventListener("focusin",a),s.dom.addEventListener("focusout",a),{update:a,destroy:()=>{s.dom.removeEventListener("focusin",a),s.dom.removeEventListener("focusout",a),t.off("change",l),t.setLocalStateField(i,null)}}}}),ure=t=>{var e,n;return((n=(e=Ho.getState(t))==null?void 0:e.undoManager)==null?void 0:n.undo())!=null},dre=t=>{var e,n;return((n=(e=Ho.getState(t))==null?void 0:e.undoManager)==null?void 0:n.redo())!=null},fre=(t,e)=>{var n,o;return e==null?(o=(n=Ho.getState(t))==null?void 0:n.undoManager)==null?void 0:o.canUndo():ure(t)},hre=(t,e)=>{var n,o;return e==null?(o=(n=Ho.getState(t))==null?void 0:n.undoManager)==null?void 0:o.canRedo():dre(t)},pre=new Set(["paragraph"]),mre=(t,e)=>!(t instanceof $e)||!(t.content instanceof kr)||!(t.content.type instanceof al||t.content.type instanceof Sn&&e.has(t.content.type.nodeName))||t.content.type._length===0,gre=({protectedNodes:t=pre,trackedOrigins:e=[],undoManager:n=null}={})=>new de({key:Ho,state:{init:(o,r)=>{const i=Ne.getState(r),s=n||new vP(i.type,{trackedOrigins:new Set([Ne].concat(e)),deleteFilter:l=>mre(l,t),captureTransaction:l=>l.meta.get("addToHistory")!==!1});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(o,r,i,s)=>{const l=Ne.getState(s).binding,a=r.undoManager,c=a.undoStack.length>0,u=a.redoStack.length>0;return l?{undoManager:a,prevSel:Ub(l,i),hasUndoOps:c,hasRedoOps:u}:c!==r.hasUndoOps||u!==r.hasRedoOps?Object.assign({},r,{hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}):r}},view:o=>{const r=Ne.getState(o.state),i=Ho.getState(o.state).undoManager;return i.on("stack-item-added",({stackItem:s})=>{const l=r.binding;l&&s.meta.set(l,Ho.getState(o.state).prevSel)}),i.on("stack-item-popped",({stackItem:s})=>{const l=r.binding;l&&(l.beforeTransactionSelection=s.meta.get(l)||l.beforeTransactionSelection)}),{destroy:()=>{i.destroy()}}}});function bre(t={}){return new de({view(e){return new yre(e,t)}})}class yre{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o,r=this.editorView.dom,i=r.getBoundingClientRect(),s=i.width/r.offsetWidth,l=i.height/r.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let p=h.getBoundingClientRect(),m=d?p.bottom:p.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;o={left:p.left,right:p.right,top:m-b,bottom:m+b}}}}if(!o){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*s;o={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!a||a==document.body&&getComputedStyle(a).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=a.getBoundingClientRect(),f=d.width/a.offsetWidth,h=d.height/a.offsetHeight;c=d.left-a.scrollLeft*f,u=d.top-a.scrollTop*h}this.element.style.left=(o.left-c)/s+"px",this.element.style.top=(o.top-u)/l+"px",this.element.style.width=(o.right-o.left)/s+"px",this.element.style.height=(o.bottom-o.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=hS(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const v2={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},heading_4:{title:"Heading 4",subtext:"Minor subsection heading",aliases:["h4","heading4","subheading4"],group:"Subheadings"},heading_5:{title:"Heading 5",subtext:"Small subsection heading",aliases:["h5","heading5","subheading5"],group:"Subheadings"},heading_6:{title:"Heading 6",subtext:"Lowest-level heading",aliases:["h6","heading6","subheading6"],group:"Subheadings"},toggle_heading:{title:"Toggle Heading 1",subtext:"Toggleable top-level heading",aliases:["h","heading1","h1","collapsable"],group:"Subheadings"},toggle_heading_2:{title:"Toggle Heading 2",subtext:"Toggleable key section heading",aliases:["h2","heading2","subheading","collapsable"],group:"Subheadings"},toggle_heading_3:{title:"Toggle Heading 3",subtext:"Toggleable subsection and group heading",aliases:["h3","heading3","subheading","collapsable"],group:"Subheadings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},toggle_list:{title:"Toggle List",subtext:"List with hideable sub-items",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",toggleListItem:"Toggle",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{edited:"edited",save_button_text:"Save",cancel_button_text:"Cancel",actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:t=>`${t} more replies`}},generic:{ctrl_shortcut:"Ctrl"}};var vre=Object.defineProperty,wre=(t,e,n)=>e in t?vre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e,n)=>wre(t,typeof e!="symbol"?e+"":e,n);function kre(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function xre(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return kre(e)}const ep=He.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return m8()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>{const e={[`data-${this.options.attributeName}`]:t[this.options.attributeName]};return this.options.setIdAttribute?{...e,id:t[this.options.attributeName]}:e}}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new de({key:new Te("uniqueID"),appendTransaction:(n,o,r)=>{const i=n.some(h=>h.docChanged)&&!o.doc.eq(r.doc),s=this.options.filterTransaction&&n.some(h=>{let p,m;return!(!((m=(p=this.options).filterTransaction)===null||m===void 0)&&m.call(p,h))});if(!i||s)return;const{tr:l}=r,{types:a,attributeName:c,generateID:u}=this.options,d=DS(o.doc,n),{mapping:f}=d;if(s8(d).forEach(({newRange:h})=>{const p=r8(r.doc,h,y=>a.includes(y.type.name)),m=p.map(({node:y})=>y.attrs[c]).filter(y=>y!==null),b=xre(m);p.forEach(({node:y,pos:w})=>{let k;const x=(k=l.doc.nodeAt(w))===null||k===void 0?void 0:k.attrs[c];if(x===null){const E=o.doc.type.createAndFill().content;if(o.doc.content.findDiffStart(E)===null){const S=JSON.parse(JSON.stringify(r.doc.toJSON()));if(S.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(S.content)===JSON.stringify(E.toJSON())){l.setNodeMarkup(w,void 0,{...y.attrs,[c]:"initialBlockId"});return}}l.setNodeMarkup(w,void 0,{...y.attrs,[c]:u()});return}const{deleted:C}=f.invert().mapResult(w);C&&b.includes(x)&&l.setNodeMarkup(w,void 0,{...y.attrs,[c]:u()})})}),!!l.steps.length)return l},view(n){const o=r=>{let i;t=!((i=n.dom.parentElement)===null||i===void 0)&&i.contains(r.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",o),{destroy(){window.removeEventListener("dragstart",o)}}},props:{handleDOMEvents:{drop:(n,o)=>{let r;return t!==n.dom.parentElement||((r=o.dataTransfer)===null||r===void 0?void 0:r.effectAllowed)==="copy"?e=!0:e=!1,t=null,!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:o,attributeName:r}=this.options,i=s=>{const l=[];return s.forEach(a=>{if(a.isText){l.push(a);return}if(!o.includes(a.type.name)){l.push(a.copy(i(a.content)));return}const c=a.type.create({...a.attrs,[r]:null},i(a.content),a.marks);l.push(c)}),L.from(l)};return e=!1,new q(i(n.content),n.openStart,n.openEnd)}}})]}});function wN(t){return t.type==="link"}function WP(t){return typeof t!="string"&&t.type==="link"}function Aa(t){return typeof t!="string"&&t.type==="text"}function cl(t){var e,n,o,r,i;return ul(t)?{...t}:ch(t)?{type:"tableCell",content:[].concat(t.content),props:{backgroundColor:((e=t.props)==null?void 0:e.backgroundColor)??"default",textColor:((n=t.props)==null?void 0:n.textColor)??"default",textAlignment:((o=t.props)==null?void 0:o.textAlignment)??"left",colspan:((r=t.props)==null?void 0:r.colspan)??1,rowspan:((i=t.props)==null?void 0:i.rowspan)??1}}:{type:"tableCell",content:[].concat(t),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function ch(t){return t!=null&&typeof t!="string"&&!Array.isArray(t)&&t.type==="tableCell"}function ul(t){return ch(t)&&t.props!==void 0&&t.content!==void 0}function Ra(t){return ul(t)?t.props.colspan??1:1}function uh(t){return ul(t)?t.props.rowspan??1:1}let qr=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};function he(t,e=!0){const{"data-test":n,...o}=t;if(Object.keys(o).length>0&&e)throw new Error("Object must be empty "+JSON.stringify(t))}const Cre=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function oo(t,e="Ctrl"){return Cre()?t.replace("Mod","⌘"):t.replace("Mod",e)}function Xe(...t){return[...new Set(t.filter(e=>e).join(" ").split(" "))].join(" ")}const Ux=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function wo(t,e,n,o){const r=document.createElement("div");r.className=Xe("bn-block-content",n.class),r.setAttribute("data-content-type",t);for(const[s,l]of Object.entries(n))s!=="class"&&r.setAttribute(s,l);const i=document.createElement(e);i.className=Xe("bn-inline-content",o.class);for(const[s,l]of Object.entries(o))s!=="class"&&i.setAttribute(s,l);return r.appendChild(i),{dom:r,contentDOM:i}}const kN=(t,e)=>{let n=Fa(t,e.pmSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const o=e.pmSchema.nodes[n.type.name].spec.toDOM;if(o===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const r=o(n);if(typeof r!="object"||!("dom"in r))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return r};function _re(t){const e=t.querySelectorAll("p");if(e.length>1){const n=e[0];for(let o=1;o<e.length;o++){const r=e[o];n.innerHTML+="<br>"+r.innerHTML,r.remove()}}}const ut={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},w2=["backgroundColor","textColor"];function Gb(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xN(t){const e=t.split("/");return!e.length||e[e.length-1]===""?t:e[e.length-1]}function tp(t){const e={};return Object.entries(t).filter(([n,o])=>!w2.includes(n)).forEach(([n,o])=>{e[n]={default:o.default,keepOnSplit:!0,parseHTML:r=>{const i=r.getAttribute(Gb(n));if(i===null)return null;if(o.default===void 0&&o.type==="boolean"||o.default!==void 0&&typeof o.default=="boolean")return i==="true"?!0:i==="false"?!1:null;if(o.default===void 0&&o.type==="number"||o.default!==void 0&&typeof o.default=="number"){const s=parseFloat(i);return!Number.isNaN(s)&&Number.isFinite(s)?s:null}return i},renderHTML:r=>r[n]!==o.default?{[Gb(n)]:r[n]}:{}}}),e}function O0(t,e,n,o){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const r=t(),i=n.state.doc.resolve(r).node().attrs.id;if(!i)throw new Error("Block doesn't have id");const s=e.getBlock(i);if(s.type!==o)throw new Error("Block type does not match");return s}function Hd(t,e,n,o,r=!1,i){const s=document.createElement("div");if(i!==void 0)for(const[l,a]of Object.entries(i))l!=="class"&&s.setAttribute(l,a);s.className=Xe("bn-block-content",(i==null?void 0:i.class)||""),s.setAttribute("data-content-type",e);for(const[l,a]of Object.entries(n)){const c=o[l].default;!w2.includes(l)&&a!==c&&s.setAttribute(Gb(l),a)}return r&&s.setAttribute("data-file-block",""),s.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=Xe("bn-inline-content",t.contentDOM.className)),{...t,dom:s}}function Ln(t){return ti.create(t)}function k2(t,e){return{config:t,implementation:e}}function Yo(t,e,n){return k2({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:n,toInternalHTML:kN,toExternalHTML:kN})}function KP(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function ZP(t,e){t.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{e.view.dom.blur()},10),!0)}function YP(t,e){const n=[{tag:"[data-content-type="+t.type+"]",contentElement:".bn-inline-content"}];return e&&n.push({tag:"*",getAttrs(o){if(typeof o=="string")return!1;const r=e==null?void 0:e(o);return r===void 0?!1:r}}),n}function Qu(t,e){const n=Ln({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return tp(t.propSchema)},parseHTML(){return YP(t,e.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Hd({dom:r,contentDOM:t.content==="inline"?r:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return({getPos:o})=>{var r;const i=this.options.editor,s=O0(o,i,this.editor,t.type),l=((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},a=e.render(s,i),c=Hd(a,s.type,s.props,t.propSchema,t.isFileBlock,l);return t.isSelectable===!1&&ZP(c,this.editor),c}}});if(n.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return k2(t,{node:n,toInternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render(o,r);return Hd(l,o.type,o.props,t.propSchema,t.isFileBlock,s)},toExternalHTML:(o,r)=>{var i,s;const l=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{};let a=(s=e.toExternalHTML)==null?void 0:s.call(e,o,r);return a===void 0&&(a=e.render(o,r)),Hd(a,o.type,o.props,t.propSchema,l)}})}function Wr(t,e){const n=t.resolve(e);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let o=n.depth,r=n.node(o);for(;o>0;){if(r.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(o),node:r};o--,r=n.node(o)}const i=[];t.descendants((l,a)=>{l.type.isInGroup("bnBlock")&&i.push(a)}),console.warn(`Position ${e} is not within a blockContainer node.`);const s=t.resolve(i.find(l=>l>=e)||i[i.length-1]);return{posBeforeNode:s.pos,node:s.nodeAfter}}function x2(t,e){if(!t.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${t.type.name}`);const n=t,o=e,r=o+n.nodeSize,i={node:n,beforePos:o,afterPos:r};if(n.type.name==="blockContainer"){let s,l;if(n.forEach((a,c)=>{if(a.type.spec.group==="blockContent"){const u=a,d=o+c+1,f=d+a.nodeSize;s={node:u,beforePos:d,afterPos:f}}else if(a.type.name==="blockGroup"){const u=a,d=o+c+1,f=d+a.nodeSize;l={node:u,beforePos:d,afterPos:f}}}),!s)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:i,blockContent:s,childContainer:l,blockNoteType:s.node.type.name}}else{if(!i.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${i.node}`);return{isBlockContainer:!1,bnBlock:i,childContainer:i,blockNoteType:i.node.type.name}}}function Zi(t){return x2(t.node,t.posBeforeNode)}function np(t){if(!t.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${t.pos} but a node at this position does not exist`);return x2(t.nodeAfter,t.pos)}function nt(t){const e=Wr(t.doc,t.selection.anchor);return Zi(e)}function L0(t){const e=Wr(t.doc,t.selection.anchor);return Zi(e)}function Kt(t){return"doc"in t?t.doc.type.schema:t.type.schema}function XP(t){return t.cached.blockNoteEditor}function op(t){return XP(t).schema}function C2(t){return op(t).blockSchema}function _2(t){return op(t).inlineContentSchema}function ed(t){return op(t).styleSchema}function S2(t){return XP(t).blockCache}function JP(t,e,n){var o,r;const i={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},s=[];t.content.forEach((l,a,c)=>{const u={cells:[]};c===0&&l.content.forEach(d=>{let f=d.attrs.colwidth;f==null&&(f=new Array(d.attrs.colspan??1).fill(void 0)),i.columnWidths.push(...f)}),u.cells=l.content.content.map((d,f)=>(s[c]||(s[c]=[]),s[c][f]=d.type.name==="tableHeader",{type:"tableCell",content:d.content.content.map(h=>D0(h,e,n)).reduce((h,p)=>{if(!h.length)return p;const m=h[h.length-1],b=p[0];return b&&Aa(m)&&Aa(b)&&JSON.stringify(m.styles)===JSON.stringify(b.styles)?(m.text+=`
`+b.text,h.push(...p.slice(1)),h):(h.push(...p),h)},[]),props:{colspan:d.attrs.colspan,rowspan:d.attrs.rowspan,backgroundColor:d.attrs.backgroundColor,textColor:d.attrs.textColor,textAlignment:d.attrs.textAlignment}})),i.rows.push(u)});for(let l=0;l<s.length;l++)(o=s[l])!=null&&o.every(a=>a)&&(i.headerRows=(i.headerRows??0)+1);for(let l=0;l<((r=s[0])==null?void 0:r.length);l++)s!=null&&s.every(a=>a[l])&&(i.headerCols=(i.headerCols??0)+1);return i}function D0(t,e,n){const o=[];let r;return t.content.forEach(i=>{if(i.type.name==="hardBreak"){if(r)if(Aa(r))r.text+=`
`;else if(wN(r))r.content[r.content.length-1].text+=`
`;else throw new Error("unexpected");else r={type:"text",text:`
`,styles:{}};return}if(i.type.name!=="link"&&i.type.name!=="text"){if(!e[i.type.name]){console.warn("unrecognized inline content type",i.type.name);return}r&&(o.push(r),r=void 0),o.push(Sre(i,e,n));return}const s={};let l;for(const a of i.marks)if(a.type.name==="link")l=a;else{const c=n[a.type.name];if(!c){if(a.type.spec.blocknoteIgnore)continue;throw new Error(`style ${a.type.name} not found in styleSchema`)}if(c.propSchema==="boolean")s[c.type]=!0;else if(c.propSchema==="string")s[c.type]=a.attrs.stringValue;else throw new qr(c.propSchema)}r?Aa(r)?l?(o.push(r),r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):JSON.stringify(r.styles)===JSON.stringify(s)?r.text+=i.textContent:(o.push(r),r={type:"text",text:i.textContent,styles:s}):wN(r)&&(l?r.href===l.attrs.href?JSON.stringify(r.content[r.content.length-1].styles)===JSON.stringify(s)?r.content[r.content.length-1].text+=i.textContent:r.content.push({type:"text",text:i.textContent,styles:s}):(o.push(r),r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):(o.push(r),r={type:"text",text:i.textContent,styles:s})):l?r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}:r={type:"text",text:i.textContent,styles:s}}),r&&o.push(r),o}function Sre(t,e,n){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const o={},r=e[t.type.name];for(const[s,l]of Object.entries(t.attrs)){if(!r)throw Error("ic node is of an unrecognized type: "+t.type.name);const a=r.propSchema;s in a&&(o[s]=l)}let i;return r.content==="styled"?i=D0(t,e,n):i=void 0,{type:t.type.name,props:o,content:i}}function Je(t,e,n=C2(e),o=_2(e),r=ed(e),i=S2(e)){var s;if(!t.type.isInGroup("bnBlock"))throw Error("Node should be a bnBlock, but is instead: "+t.type.name);const l=i==null?void 0:i.get(t);if(l)return l;const a=x2(t,0);let c=a.bnBlock.node.attrs.id;c===null&&(c=ep.options.generateID());const u=n[a.blockNoteType];if(!u)throw Error("Block is of an unrecognized type: "+a.blockNoteType);const d={};for(const[b,y]of Object.entries({...t.attrs,...a.isBlockContainer?a.blockContent.node.attrs:{}})){const w=u.propSchema;b in w&&!(w[b].default===void 0&&y===void 0)&&(d[b]=y)}const f=n[a.blockNoteType],h=[];(s=a.childContainer)==null||s.node.forEach(b=>{h.push(Je(b,e,n,o,r,i))});let p;if(f.content==="inline"){if(!a.isBlockContainer)throw new Error("impossible");p=D0(a.blockContent.node,o,r)}else if(f.content==="table"){if(!a.isBlockContainer)throw new Error("impossible");p=JP(a.blockContent.node,o,r)}else if(f.content==="none")p=void 0;else throw new qr(f.content);const m={id:c,type:f.type,props:d,content:p,children:h};return i==null||i.set(t,m),m}function Ere(t,e,n=C2(e),o=_2(e),r=ed(e),i=S2(e)){const s=[];return t.firstChild.descendants(l=>(s.push(Je(l,e,n,o,r,i)),!1)),s}function Tre(t,e,n=C2(e),o=_2(e),r=ed(e),i=S2(e)){function s(l,a,c){if(l.type.name!=="blockGroup")throw new Error("unexpected");const u=[];let d,f;return l.forEach((h,p,m)=>{if(h.type.name!=="blockContainer")throw new Error("unexpected");if(h.childCount===0)return;if(h.childCount===0||h.childCount>2)throw new Error("unexpected, blockContainer.childCount: "+h.childCount);const b=m===0,y=m===l.childCount-1;if(h.firstChild.type.name==="blockGroup"){if(!b)throw new Error("unexpected");const C=s(h.firstChild,Math.max(0,a-1),y?Math.max(0,c-1):0);d=C.blockCutAtStart,y&&(f=C.blockCutAtEnd),u.push(...C.blocks);return}const w=Je(h,e,n,o,r,i),k=h.childCount>1?h.child(1):void 0;let x=[];if(k){const C=s(k,0,y?Math.max(0,c-1):0);x=C.blocks,y&&(f=C.blockCutAtEnd)}y&&!k&&c>1&&(f=w.id),b&&a>1&&(d=w.id),u.push({...w,children:x})}),{blocks:u,blockCutAtStart:d,blockCutAtEnd:f}}if(t.content.childCount===0)return{blocks:[],blockCutAtStart:void 0,blockCutAtEnd:void 0};if(t.content.childCount!==1)throw new Error("slice must be a single block, did you forget includeParents=true?");return s(t.content.firstChild,Math.max(t.openStart-1,0),Math.max(t.openEnd-1,0))}function QP(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function Mre(t,e){return{config:t,implementation:e}}function zl(t,e){return Mre({type:t.name,propSchema:e},{mark:t})}function ej(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function kl(t){const{height:e,width:n}=E2(t),o=new Array(e).fill(!1).map(()=>new Array(n).fill(null)),r=(i,s)=>{for(let l=i;l<e;l++)for(let a=s;a<n;a++)if(!o[l][a])return{row:l,col:a};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let i=0;i<t.content.rows.length;i++)for(let s=0;s<t.content.rows[i].cells.length;s++){const l=cl(t.content.rows[i].cells[s]),a=uh(l),c=Ra(l),{row:u,col:d}=r(i,s);for(let f=u;f<u+a;f++)for(let h=d;h<d+c;h++){if(o[f][h])throw new Error(`Unable to create occupancy grid for table, cell at ${f},${h} is already occupied`);o[f][h]={row:i,col:s,rowspan:a,colspan:c,cell:l}}}return o}function dh(t){const e=new Set;return t.map(n=>({cells:n.map(o=>e.has(o.row+":"+o.col)?!1:(e.add(o.row+":"+o.col),o.cell)).filter(o=>o!==!1)}))}function Na(t,e,n=kl(e)){for(let o=0;o<n.length;o++)for(let r=0;r<n[o].length;r++){const i=n[o][r];if(i.row===t.row&&i.col===t.col)return{row:o,col:r,cell:i.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${t.row},${t.col} is not occupied`)}function E2(t){const e=t.content.rows.length;let n=0;return t.content.rows.forEach(o=>{let r=0;o.cells.forEach(i=>{r+=Ra(i)}),n=Math.max(n,r)}),{height:e,width:n}}function tj(t,e,n=kl(e)){var o;const r=(o=n[t.row])==null?void 0:o[t.col];if(r)return{row:r.row,col:r.col,cell:r.cell}}function Fx(t,e){var n;const o=kl(t);if(e<0||e>=o.length)return[];let r=0;for(let s=0;s<e;s++){const l=(n=o[r])==null?void 0:n[0];if(!l)return[];r+=l.rowspan}const i=new Array(o[0].length).fill(!1).map((s,l)=>tj({row:r,col:l},t,o)).filter(s=>s!==void 0);return i.filter((s,l)=>i.findIndex(a=>a.row===s.row&&a.col===s.col)===l)}function Gx(t,e){var n;const o=kl(t);if(e<0||e>=o[0].length)return[];let r=0;for(let s=0;s<e;s++){const l=(n=o[0])==null?void 0:n[r];if(!l)return[];r+=l.colspan}const i=new Array(o.length).fill(!1).map((s,l)=>tj({row:l,col:r},t,o)).filter(s=>s!==void 0);return i.filter((s,l)=>i.findIndex(a=>a.row===s.row&&a.col===s.col)===l)}function Are(t,e,n,o=kl(t)){const{col:r}=Na({row:0,col:e},t,o),{col:i}=Na({row:0,col:n},t,o);return o.forEach(s=>{const[l]=s.splice(r,1);s.splice(i,0,l)}),dh(o)}function Rre(t,e,n,o=kl(t)){const{row:r}=Na({row:e,col:0},t,o),{row:i}=Na({row:n,col:0},t,o),[s]=o.splice(r,1);return o.splice(i,0,s),dh(o)}function qx(t){return t?ch(t)?qx(t.content):typeof t=="string"?t.length===0:Array.isArray(t)?t.every(e=>typeof e=="string"?e.length===0:Aa(e)?e.text.length===0:WP(e)?typeof e.content=="string"?e.content.length===0:e.content.every(n=>n.text.length===0):!1):!1:!0}function Nre(t,e,n=kl(t)){if(e==="columns"){let i=0;for(let s=n[0].length-1;s>=0&&n.every(l=>qx(l[s].cell)&&l[s].colspan===1);s--)i++;for(let s=n.length-1;s>=0;s--){const l=Math.max(n[s].length-i,1);n[s]=n[s].slice(0,l)}return dh(n)}let o=0;for(let i=n.length-1;i>=0&&n[i].every(s=>qx(s.cell)&&s.rowspan===1);i--)o++;const r=Math.min(o,n.length-1);return n.splice(n.length-r,r),dh(n)}function Ore(t,e,n,o=kl(t)){const{width:r,height:i}=E2(t);if(e==="columns")o.forEach((s,l)=>{if(n>=0)for(let a=0;a<n;a++)s.push({row:l,col:Math.max(...s.map(c=>c.col))+1,rowspan:1,colspan:1,cell:cl("")});else s.splice(r+n,-1*n)});else if(n>0)for(let s=0;s<n;s++){const l=new Array(r).fill(null).map((a,c)=>({row:i+s,col:c,rowspan:1,colspan:1,cell:cl("")}));o.push(l)}else n<0&&o.splice(i+n,-1*n);return dh(o)}function nj(t,e,n){const o=Fx(t,n);if(!o.some(s=>uh(s.cell)>1))return!0;let r=n,i=n;return o.forEach(s=>{const l=uh(s.cell);r=Math.max(r,s.row+l-1),i=Math.min(i,s.row)}),e<n?n===r:n===i}function oj(t,e,n){const o=Gx(t,n);if(!o.some(s=>Ra(s.cell)>1))return!0;let r=n,i=n;return o.forEach(s=>{const l=Ra(s.cell);r=Math.max(r,s.col+l-1),i=Math.min(i,s.col)}),e<n?n===r:n===i}function Lre(t,e,n){const o=Na(t,n),r=Na(e,n);return o.col===r.col}function CN(t,e,n,o){const r=[];for(const[i,s]of Object.entries(t.styles||{})){const l=n[i];if(!l)throw new Error(`style ${i} not found in styleSchema`);if(l.propSchema==="boolean")s&&r.push(e.mark(i));else if(l.propSchema==="string")s&&r.push(e.mark(i,{stringValue:s}));else throw new qr(l.propSchema)}return!o||!e.nodes[o].spec.code?t.text.split(/(\n)/g).filter(i=>i.length>0).map(i=>i===`
`?e.nodes.hardBreak.createChecked():e.text(i,r)):t.text.length>0?[e.text(t.text,r)]:[]}function Dre(t,e,n){const o=e.marks.link.create({href:t.href});return Wx(t.content,e,n).map(r=>{if(r.type.name==="text")return r.mark([...r.marks,o]);if(r.type.name==="hardBreak")return r;throw new Error("unexpected node type")})}function Wx(t,e,n,o){const r=[];if(typeof t=="string")return r.push(...CN({text:t,styles:{}},e,n,o)),r;for(const i of t)r.push(...CN(i,e,n,o));return r}function br(t,e,n,o=ed(e)){const r=[];for(const i of t)typeof i=="string"?r.push(...Wx(i,e,o,n)):WP(i)?r.push(...Dre(i,e,o)):Aa(i)?r.push(...Wx([i],e,o,n)):r.push(rj(i,e,o));return r}function I0(t,e,n=ed(e)){const o=[],r=new Array(t.headerRows??0).fill(!0),i=new Array(t.headerCols??0).fill(!0),s=t.columnWidths??[];for(let l=0;l<t.rows.length;l++){const a=t.rows[l],c=[],u=r[l];for(let f=0;f<a.cells.length;f++){const h=a.cells[f],p=i[f],m=void 0;let b=null;const y=Na({row:l,col:f},{content:t});let w=s[y.col]?[s[y.col]]:null;if(h)if(typeof h=="string")b=e.text(h);else if(ch(h)){h.content&&(b=br(h.content,e,"tableParagraph",n));const x=Ra(h);x>1&&(w=new Array(x).fill(!1).map((C,E)=>s[y.col+E]??void 0))}else b=br(h,e,"tableParagraph",n);const k=e.nodes[p||u?"tableHeader":"tableCell"].createChecked({...ch(h)?h.props:{},colwidth:w},e.nodes.tableParagraph.createChecked(m,b));c.push(k)}const d=e.nodes.tableRow.createChecked({},c);o.push(d)}return o}function rj(t,e,n){let o,r=t.type;if(r===void 0&&(r="paragraph"),!e.nodes[r])throw new Error(`node type ${r} not found in schema`);if(!t.content)o=e.nodes[r].createChecked(t.props);else if(typeof t.content=="string"){const i=br([t.content],e,r,n);o=e.nodes[r].createChecked(t.props,i)}else if(Array.isArray(t.content)){const i=br(t.content,e,r,n);o=e.nodes[r].createChecked(t.props,i)}else if(t.content.type==="tableContent"){const i=I0(t.content,e,n);o=e.nodes[r].createChecked(t.props,i)}else throw new qr(t.content.type);return o}function Fa(t,e,n=ed(e)){let o=t.id;o===void 0&&(o=ep.options.generateID());const r=[];if(t.children)for(const i of t.children)r.push(Fa(i,e,n));if(!t.type||e.nodes[t.type].isInGroup("blockContent")){const i=rj(t,e,n),s=r.length>0?e.nodes.blockGroup.createChecked({},r):void 0;return e.nodes.blockContainer.createChecked({id:o,...t.props},s?[i,s]:i)}else{if(e.nodes[t.type].isInGroup("bnBlock"))return e.nodes[t.type].createChecked({id:o,...t.props},r);throw new Error(`block type ${t.type} doesn't match blockContent or bnBlock group`)}}function Ire(t,e){if(e===0)return;const n=t.resolve(e);for(let o=n.depth;o>0;o--){const r=n.node(o);if(T2(r))return r.attrs.id}}function Rn(t,e){let n,o;if(e.firstChild.descendants((r,i)=>n?!1:!T2(r)||r.attrs.id!==t?!0:(n=r,o=i+1,!1)),!(n===void 0||o===void 0))return{node:n,posBeforeNode:o}}function T2(t){return t.type.isInGroup("bnBlock")}function $re(t,e){return t.id!==e.id||t.type!==e.type||JSON.stringify(t.props)!==JSON.stringify(e.props)||JSON.stringify(t.content)!==JSON.stringify(e.content)}function Pre(t){return t.getMeta("paste")?{type:"paste"}:t.getMeta("uiEvent")==="drop"?{type:"drop"}:t.getMeta("history$")?{type:t.getMeta("history$").redo?"redo":"undo"}:t.getMeta("y-sync$")?t.getMeta("y-sync$").isUndoRedoOperation?{type:"undo-redo"}:{type:"yjs-remote"}:{type:"local"}}function _N(t){const e={},n=Kt(t);return t.descendants((o,r)=>{if(T2(o)){const i=Ire(t,r);e[o.attrs.id]={block:Je(o,n),parentId:i}}return!0}),e}function ij(t,e=[]){const n=Pre(t),o=DS(t.before,[t,...e]),r=_N(o.before),i=_N(o.doc),s=[];return Object.keys(i).filter(l=>!(l in r)).forEach(l=>{s.push({type:"insert",block:i[l].block,source:n,prevBlock:void 0})}),Object.keys(r).filter(l=>!(l in i)).forEach(l=>{s.push({type:"delete",block:r[l].block,source:n,prevBlock:void 0})}),Object.keys(i).filter(l=>l in r).forEach(l=>{var a,c;const u=r[l],d=i[l];u.parentId!==d.parentId?s.push({type:"move",block:d.block,prevBlock:u.block,source:n,prevParent:u.parentId?(a=r[u.parentId])==null?void 0:a.block:void 0,currentParent:d.parentId?(c=i[d.parentId])==null?void 0:c.block:void 0}):$re(u.block,d.block)&&s.push({type:"update",block:d.block,prevBlock:u.block,source:n})}),s}function jre(t,e,n,o="before"){const r=typeof n=="string"?n:n.id,i=Kt(t),s=e.map(c=>Fa(c,i)),l=Rn(r,t.doc);if(!l)throw new Error(`Block with ID ${r} not found`);let a=l.posBeforeNode;return o==="after"&&(a+=l.node.nodeSize),t.step(new Et(a,a,new q(L.from(s),0,0))),s.map(c=>Je(c,i))}function SN(t,e,n){const o=Kt(t),r=n.map(c=>Fa(c,o)),i=new Set(e.map(c=>typeof c=="string"?c:c.id)),s=[],l=typeof e[0]=="string"?e[0]:e[0].id;let a=0;if(t.doc.descendants((c,u)=>{if(i.size===0)return!1;if(!c.type.isInGroup("bnBlock")||!i.has(c.attrs.id))return!0;if(s.push(Je(c,o)),i.delete(c.attrs.id),n.length>0&&c.attrs.id===l){const p=t.doc.nodeSize;t.insert(u,r);const m=t.doc.nodeSize;a+=p-m}const d=t.doc.nodeSize,f=t.doc.resolve(u-a);f.node().type.name==="blockGroup"&&f.node(f.depth-1).type.name!=="doc"&&f.node().childCount===1?t.delete(f.before(),f.after()):t.delete(u-a,u-a+c.nodeSize);const h=t.doc.nodeSize;return a+=d-h,!1}),i.size>0){const c=[...i].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+c)}return{insertedBlocks:r.map(c=>Je(c,o)),removedBlocks:s}}const pn=(t,e)=>({tr:n,dispatch:o})=>(o&&sj(n,t,e),!0);function sj(t,e,n,o,r){const i=np(t.doc.resolve(e)),s=Kt(t),l=s.nodes[i.blockNoteType],a=s.nodes[n.type||i.blockNoteType],c=a.isInGroup("bnBlock")?a:s.nodes.blockContainer;if(i.isBlockContainer&&a.isInGroup("blockContent"))EN(n,t,i),Bre(n,t,l,a,i);else if(!i.isBlockContainer&&a.isInGroup("bnBlock"))EN(n,t,i);else{const u=Je(i.bnBlock.node,s);t.replaceWith(i.bnBlock.beforePos,i.bnBlock.afterPos,Fa({children:u.children,...n},s));return}t.setNodeMarkup(i.bnBlock.beforePos,c,{...i.bnBlock.node.attrs,...n.props})}function Bre(t,e,n,o,r,i,s){const l=Kt(e);let a="keep";if(t.content)if(typeof t.content=="string")a=br([t.content],l,o.name);else if(Array.isArray(t.content))a=br(t.content,l,o.name);else if(t.content.type==="tableContent")a=I0(t.content,l);else throw new qr(t.content.type);else n.spec.content===""||o.spec.content!==n.spec.content&&(a=[]);a==="keep"?e.setNodeMarkup(r.blockContent.beforePos,o,{...r.blockContent.node.attrs,...t.props}):e.replaceWith(r.blockContent.beforePos,r.blockContent.afterPos,o.createChecked({...r.blockContent.node.attrs,...t.props},a))}function EN(t,e,n){const o=Kt(e);if(t.children!==void 0&&t.children.length>0){const r=t.children.map(i=>Fa(i,o));if(n.childContainer)e.step(new Et(n.childContainer.beforePos+1,n.childContainer.afterPos-1,new q(L.from(r),0,0)));else{if(!n.isBlockContainer)throw new Error("impossible");e.insert(n.blockContent.afterPos,o.nodes.blockGroup.createChecked({},r))}}}function zre(t,e,n,o,r){const i=typeof e=="string"?e:e.id,s=Rn(i,t.doc);if(!s)throw new Error(`Block with ID ${i} not found`);sj(t,s.posBeforeNode,n);const l=t.doc.resolve(s.posBeforeNode+1).node(),a=Kt(t);return Je(l,a)}function lj(t){const e=Array.from(t.classList).filter(n=>!n.startsWith("bn-"))||[];e.length>0?t.className=e.join(" "):t.removeAttribute("class")}function aj(t,e,n,o){let r;if(e)if(typeof e=="string")r=br([e],t.pmSchema);else if(Array.isArray(e))r=br(e,t.pmSchema);else if(e.type==="tableContent")r=I0(e,t.pmSchema);else throw new qr(e.type);else throw new Error("blockContent is required");const i=n.serializeFragment(L.from(r),o);return i.nodeType===1&&lj(i),i}function Hre(t,e,n,o,r,i,s){var l,a,c,u,d,f,h,p;const m=(s==null?void 0:s.document)??document,b=e.pmSchema.nodes.blockContainer;let y=n.props;if(!n.props){y={};for(const[S,_]of Object.entries(e.schema.blockSchema[n.type].propSchema))_.default!==void 0&&(y[S]=_.default)}const w=(a=(l=b.spec)==null?void 0:l.toDOM)==null?void 0:a.call(l,b.create({id:n.id,...y})),k=Array.from(w.dom.attributes),x=e.blockImplementations[n.type].implementation.toExternalHTML({...n,props:y},e),C=m.createDocumentFragment();if(x.dom.classList.contains("bn-block-content")){const S=[...k,...Array.from(x.dom.attributes)].filter(_=>_.name.startsWith("data")&&_.name!=="data-content-type"&&_.name!=="data-file-block"&&_.name!=="data-node-view-wrapper"&&_.name!=="data-node-type"&&_.name!=="data-id"&&_.name!=="data-index"&&_.name!=="data-editable");for(const _ of S)x.dom.firstChild.setAttribute(_.name,_.value);lj(x.dom.firstChild),C.append(...Array.from(x.dom.childNodes))}else C.append(x.dom);if(x.contentDOM&&n.content){const S=aj(e,n.content,o,s);x.contentDOM.appendChild(S)}let E;if(r.has(n.type)?E="OL":i.has(n.type)&&(E="UL"),E){if(((c=t.lastChild)==null?void 0:c.nodeName)!==E){const _=m.createElement(E);E==="OL"&&y!=null&&y.start&&(y==null?void 0:y.start)!==1&&_.setAttribute("start",y.start+""),t.append(_)}const S=m.createElement("li");S.append(C),t.lastChild.appendChild(S)}else t.append(C);if(n.children&&n.children.length>0){const S=m.createDocumentFragment();if(cj(S,e,n.children,o,r,i,s),((u=t.lastChild)==null?void 0:u.nodeName)==="UL"||((d=t.lastChild)==null?void 0:d.nodeName)==="OL")for(;((f=S.firstChild)==null?void 0:f.nodeName)==="UL"||((h=S.firstChild)==null?void 0:h.nodeName)==="OL";)t.lastChild.lastChild.appendChild(S.firstChild);e.pmSchema.nodes[n.type].isInGroup("blockContent")?t.append(S):(p=x.contentDOM)==null||p.append(S)}}const cj=(t,e,n,o,r,i,s)=>{for(const l of n)Hre(t,e,l,o,r,i,s)},Vre=(t,e,n,o,r,i)=>{const s=((i==null?void 0:i.document)??document).createDocumentFragment();return cj(s,t,e,n,o,r,i),s},$0=(t,e)=>{const n=Qi.fromSchema(t);return{exportBlocks:(o,r)=>{const i=Vre(e,o,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),r),s=document.createElement("div");return s.append(i),s.innerHTML},exportInlineContent:(o,r)=>{const i=aj(e,o,n,r),s=document.createElement("div");return s.append(i.cloneNode(!0)),s.innerHTML}}};function Ure(t,e,n,o,r){let i;if(e)if(typeof e=="string")i=br([e],t.pmSchema,o);else if(Array.isArray(e))i=br(e,t.pmSchema,o);else if(e.type==="tableContent")i=I0(e,t.pmSchema);else throw new qr(e.type);else throw new Error("blockContent is required");return n.serializeFragment(L.from(i),r)}function Fre(t,e,n,o,r){var i,s,l,a,c;const u=t.pmSchema.nodes.blockContainer;let d=e.props;if(!e.props){d={};for(const[p,m]of Object.entries(t.schema.blockSchema[e.type].propSchema))m.default!==void 0&&(d[p]=m.default)}const f=t.blockImplementations[e.type].implementation.toInternalHTML({...e,props:d},t);if(e.type==="numberedListItem"&&f.dom.setAttribute("data-index",o.toString()),f.contentDOM&&e.content){const p=Ure(t,e.content,n,e.type,r);f.contentDOM.appendChild(p)}if(t.pmSchema.nodes[e.type].isInGroup("bnBlock")){if(e.children&&e.children.length>0){const p=uj(t,e.children,n,r);(i=f.contentDOM)==null||i.append(p)}return f.dom}const h=(l=(s=u.spec)==null?void 0:s.toDOM)==null?void 0:l.call(s,u.create({id:e.id,...d}));return(a=h.contentDOM)==null||a.appendChild(f.dom),e.children&&e.children.length>0&&((c=h.contentDOM)==null||c.appendChild(dj(t,e.children,n,r))),h.dom}function uj(t,e,n,o){const r=((o==null?void 0:o.document)??document).createDocumentFragment();let i=0;for(const s of e){s.type==="numberedListItem"?i++:i=0;const l=Fre(t,s,n,i,o);r.appendChild(l)}return r}const dj=(t,e,n,o)=>{var r;const i=t.pmSchema.nodes.blockGroup,s=i.spec.toDOM(i.create({})),l=uj(t,e,n,o);return(r=s.contentDOM)==null||r.appendChild(l),s.dom},Gre=(t,e)=>{const n=Qi.fromSchema(t);return{serializeBlocks:(o,r)=>dj(e,o,n,r).outerHTML}},P0=(t,e)=>{const n=t.querySelector(e);if(!n)return;const o=t.querySelector("figcaption"),r=(o==null?void 0:o.textContent)??void 0;return{targetElement:n,caption:r}},qre=(t,e,n,o)=>{const r=document.createElement("div");r.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",o?i.appendChild(o):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(i);const s=document.createElement("p");s.className="bn-add-file-button-text",s.innerHTML=n||e.dictionary.file_blocks.file.add_button_text,r.appendChild(s);const l=c=>{c.preventDefault()},a=()=>{e.transact(c=>c.setMeta(e.filePanel.plugins[0],{block:t}))};return r.addEventListener("mousedown",l,!0),r.addEventListener("click",a,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",l,!0),r.removeEventListener("click",a,!0)}}},Wre='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',Kre=t=>{const e=document.createElement("div");e.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=Wre,e.appendChild(n);const o=document.createElement("p");return o.className="bn-file-name",o.textContent=t.props.name,e.appendChild(o),{dom:e}},M2=(t,e,n,o,r)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",t.props.url===""){const l=qre(t,e,o,r);i.appendChild(l.dom);const a=e.onUploadStart(c=>{if(c===t.id){i.removeChild(l.dom);const u=document.createElement("div");u.className="bn-file-loading-preview",u.textContent="Loading...",i.appendChild(u)}});return{dom:i,destroy:()=>{a(),l.destroy()}}}const s={dom:i};if(t.props.showPreview===!1||!n){const l=Kre(t);i.appendChild(l.dom),s.destroy=()=>{var a;(a=l.destroy)==null||a.call(l)}}else i.appendChild(n.dom);if(t.props.caption){const l=document.createElement("p");l.className="bn-file-caption",l.textContent=t.props.caption,i.appendChild(l)}return s},A2=(t,e)=>{const n=document.createElement("figure"),o=document.createElement("figcaption");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},j0=(t,e)=>{const n=document.createElement("div"),o=document.createElement("p");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},TN=t=>({url:t.src||void 0}),Zre='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',Yre={backgroundColor:ut.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},fj={type:"audio",propSchema:Yre,content:"none",isFileBlock:!0,fileBlockAccept:["audio/*"]},Xre=(t,e)=>{const n=document.createElement("div");n.innerHTML=Zre;const o=document.createElement("audio");return o.className="bn-audio",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(r=>{o.src=r}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,M2(t,e,{dom:o},e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild)},hj=t=>{if(t.tagName==="AUDIO")return t.closest("figure")?void 0:TN(t);if(t.tagName==="FIGURE"){const e=P0(t,"audio");if(!e)return;const{targetElement:n,caption:o}=e;return{...TN(n),caption:o}}},Jre=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add audio",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?A2(e,t.props.caption):j0(e,t.props.caption):{dom:e}},Qre=Qu(fj,{render:Xre,parse:hj,toExternalHTML:Jre}),MN=Symbol.for("blocknote.shikiParser"),ew=Symbol.for("blocknote.shikiHighlighterPromise"),eie={language:{default:"text"}},tie=Ln({name:"codeBlock",content:"inline*",group:"blockContent",marks:"insertion deletion modification",code:!0,defining:!0,addOptions(){return{defaultLanguage:"text",indentLineWithTab:!0,supportedLanguages:{}}},addAttributes(){const t=this.options;return{language:{default:t.editor.settings.codeBlock.defaultLanguage,parseHTML:e=>{let n=e,o=null;(n==null?void 0:n.tagName)==="DIV"&&(n==null?void 0:n.dataset.contentType)==="codeBlock"&&(n=n.children[0]),(n==null?void 0:n.tagName)==="PRE"&&(n=n==null?void 0:n.children[0]);const r=n==null?void 0:n.getAttribute("data-language");if(r)o=r.toLowerCase();else{const i=[...(n==null?void 0:n.className.split(" "))||[]].filter(s=>s.startsWith("language-")).map(s=>s.replace("language-",""));i.length>0&&(o=i[0].toLowerCase())}return o?tw(t.editor.settings.codeBlock,o)??o:null},renderHTML:e=>e.language?{class:`language-${e.language}`,"data-language":e.language}:{}}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"pre",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){var e,n;const o=document.createElement("pre"),{dom:r,contentDOM:i}=wo(this.name,"code",((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},{...((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{},...t});return r.removeChild(i),r.appendChild(o),o.appendChild(i),{dom:r,contentDOM:i}},addNodeView(){const t=this.options;return({editor:e,node:n,getPos:o,HTMLAttributes:r})=>{var i,s;const l=document.createElement("pre"),a=document.createElement("select"),c=document.createElement("div"),{dom:u,contentDOM:d}=wo(this.name,"code",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...r},((s=this.options.domAttributes)==null?void 0:s.inlineContent)||{}),f=h=>{const p=h.target.value;e.commands.command(({tr:m})=>(m.setNodeAttribute(o(),"language",p),!0))};return Object.entries(t.editor.settings.codeBlock.supportedLanguages).forEach(([h,{name:p}])=>{const m=document.createElement("option");m.value=h,m.text=p,a.appendChild(m)}),c.contentEditable="false",a.value=n.attrs.language||t.editor.settings.codeBlock.defaultLanguage,u.removeChild(d),u.appendChild(c),u.appendChild(l),l.appendChild(d),c.appendChild(a),a.addEventListener("change",f),{dom:u,contentDOM:d,update:h=>h.type===this.type,destroy:()=>{a.removeEventListener("change",f)}}}},addProseMirrorPlugins(){const t=this.options,e=globalThis;let n,o;return[$J({parser:r=>{if(!t.editor.settings.codeBlock.createHighlighter)return[];if(!n)return e[ew]=e[ew]||t.editor.settings.codeBlock.createHighlighter(),e[ew].then(s=>{n=s});const i=tw(t.editor.settings.codeBlock,r.language);return!i||i==="text"||i==="none"||i==="plaintext"||i==="txt"?[]:n.getLoadedLanguages().includes(i)?(o||(o=e[MN]||PJ(n),e[MN]=o),o(r)):n.loadLanguage(i)},languageExtractor:r=>r.attrs.language,nodeTypes:[this.name]})]},addInputRules(){const t=this.options;return[new rl({find:/^```(.*?)\s$/,handler:({state:e,range:n,match:o})=>{const r=e.doc.resolve(n.from),i=o[1].trim(),s={language:tw(t.editor.settings.codeBlock,i)??i};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),this.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,this.type,s).setSelection(Y.create(e.tr.doc,n.from))}})]},addKeyboardShortcuts(){return{Delete:({editor:t})=>{const{selection:e}=t.state,{$from:n}=e;if(t.isActive(this.name)&&!n.parent.textContent&&w0(e)){const o=n.pos-n.parentOffset-2;return t.chain().setNodeSelection(o).deleteSelection().run(),!0}return!1},Tab:({editor:t})=>this.options.indentLineWithTab&&t.isActive(this.name)?(t.commands.insertContent("  "),!0):!1,Enter:({editor:t})=>{const{$from:e}=t.state.selection;if(!t.isActive(this.name))return!1;const n=e.parentOffset===e.parent.nodeSize-2,o=e.parent.textContent.endsWith(`

`);return!n||!o?(t.commands.insertContent(`
`),!0):t.chain().command(({tr:r})=>(r.delete(e.pos-2,e.pos),!0)).exitCode().run()},"Shift-Enter":({editor:t})=>{const{$from:e}=t.state.selection;return t.isActive(this.name)?(t.chain().insertContentAt(e.pos-e.parentOffset+e.parent.nodeSize,{type:"paragraph"}).run(),!0):!1}}}}),nie=Yo(tie,eie);function tw(t,e){var n;return(n=Object.entries(t.supportedLanguages).find(([o,{aliases:r}])=>(r==null?void 0:r.includes(e))||o===e))==null?void 0:n[0]}const oie=rn.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),rie=zl(oie,"string"),iie=rn.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),sie=zl(iie,"string"),AN=t=>({url:t.src||void 0}),lie={backgroundColor:ut.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},pj={type:"file",propSchema:lie,content:"none",isFileBlock:!0},aie=(t,e)=>M2(t,e),mj=t=>{if(t.tagName==="EMBED")return t.closest("figure")?void 0:AN(t);if(t.tagName==="FIGURE"){const e=P0(t,"embed");if(!e)return;const{targetElement:n,caption:o}=e;return{...AN(n),caption:o}}},cie=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?j0(e,t.props.caption):{dom:e}},uie=Qu(pj,{render:aie,parse:mj,toExternalHTML:cie}),die={set:(t,e)=>window.localStorage.setItem(`toggle-${t.id}`,e?"true":"false"),get:t=>window.localStorage.getItem(`toggle-${t.id}`)==="true"},gj=(t,e,n,o=die)=>{if("isToggleable"in t.props&&!t.props.isToggleable)return{dom:n};const r=document.createElement("div"),i=document.createElement("div");i.className="bn-toggle-wrapper";const s=document.createElement("button");s.className="bn-toggle-button",s.type="button",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CURRENTCOLOR"><path d="M320-200v-560l440 280-440 280Z"/></svg>';const l=p=>p.preventDefault();s.addEventListener("mousedown",l);const a=()=>{var p;i.getAttribute("data-show-children")==="true"?(i.setAttribute("data-show-children","false"),o.set(e.getBlock(t),!1),r.contains(c)&&r.removeChild(c)):(i.setAttribute("data-show-children","true"),o.set(e.getBlock(t),!0),((p=e.getBlock(t))==null?void 0:p.children.length)===0&&!r.contains(c)&&r.appendChild(c))};s.addEventListener("click",a),i.appendChild(s),i.appendChild(n);const c=document.createElement("button");c.className="bn-toggle-add-block-button",c.type="button",c.textContent="Empty toggle. Click to add a block.";const u=p=>p.preventDefault();c.addEventListener("mousedown",u);const d=()=>{e.transact(()=>{const p=e.updateBlock(t,{children:[{}]});e.setTextCursorPosition(p.children[0].id,"end"),e.focus()})};c.addEventListener("click",d),r.appendChild(i);let f=t.children.length;const h=e.onChange(()=>{var p;const m=((p=e.getBlock(t))==null?void 0:p.children.length)??0;m>f?(i.getAttribute("data-show-children")==="false"&&(i.setAttribute("data-show-children","true"),o.set(e.getBlock(t),!0)),r.contains(c)&&r.removeChild(c)):m===0&&m<f&&(i.getAttribute("data-show-children")==="true"&&(i.setAttribute("data-show-children","false"),o.set(e.getBlock(t),!1)),r.contains(c)&&r.removeChild(c)),f=m});return o.get(t)?(i.setAttribute("data-show-children","true"),t.children.length===0&&r.appendChild(c)):i.setAttribute("data-show-children","false"),{dom:r,ignoreMutation:p=>p instanceof MutationRecord&&(p.type==="attributes"&&p.target===i&&p.attributeName==="data-show-children"||p.type==="childList"&&(p.addedNodes[0]===c||p.removedNodes[0]===c)),destroy:()=>{s.removeEventListener("mousedown",l),s.removeEventListener("click",a),c.removeEventListener("mousedown",u),c.removeEventListener("click",d),h==null||h()}}},fie=[1,2,3,4,5,6],bj={...ut,level:{default:1,values:fie},isToggleable:{default:!1}},hie=Ln({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return tp(bj)},addInputRules(){return[...this.options.editor.settings.heading.levels.map(t=>new rl({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:n,range:o})=>{const r=nt(e);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||n().command(pn(r.bnBlock.beforePos,{type:"heading",props:{level:t}})).deleteRange({from:o.from,to:o.to}).run()}}))]},addKeyboardShortcuts(){const t=this.options.editor;return Object.fromEntries(t.settings.heading.levels.map(e=>[`Mod-Alt-${e}`,()=>{const n=nt(this.editor.state);return!n.isBlockContainer||n.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(n.bnBlock.beforePos,{type:"heading",props:{level:e}}))}]))},parseHTML(){const t=this.options.editor;return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},...t.settings.heading.levels.map(e=>({tag:`h${e}`,attrs:{level:e},node:"heading"}))]},renderHTML({node:t,HTMLAttributes:e}){var n,o;return wo(this.name,`h${t.attrs.level}`,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n})=>{var o,r;const{dom:i,contentDOM:s}=wo(this.name,`h${t.attrs.level}`,{...((o=this.options.domAttributes)==null?void 0:o.blockContent)||{},...e},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{});i.removeChild(s);const l=this.options.editor,a=O0(n,l,this.editor,this.name),c=gj(a,l,s);return i.appendChild(c.dom),{dom:i,contentDOM:s,ignoreMutation:c.ignoreMutation,destroy:c.destroy}}}}),pie=Yo(hie,bj),yj=(t,e,n,o,r,i)=>{const{dom:s,destroy:l}=M2(t,e,n,r,i),a=s;t.props.url&&t.props.showPreview&&(t.props.previewWidth?a.style.width=`${t.props.previewWidth}px`:a.style.width="fit-content");const c=document.createElement("div");c.className="bn-resize-handle",c.style.left="4px";const u=document.createElement("div");u.className="bn-resize-handle",u.style.right="4px";let d,f=t.props.previewWidth;const h=k=>{var x,C;if(!d){!e.isEditable&&o.contains(c)&&o.contains(u)&&(o.removeChild(c),o.removeChild(u));return}let E;t.props.textAlignment==="center"?d.handleUsed==="left"?E=d.initialWidth+(d.initialClientX-k.clientX)*2:E=d.initialWidth+(k.clientX-d.initialClientX)*2:d.handleUsed==="left"?E=d.initialWidth+d.initialClientX-k.clientX:E=d.initialWidth+k.clientX-d.initialClientX,f=Math.min(Math.max(E,64),((C=(x=e.domElement)==null?void 0:x.firstElementChild)==null?void 0:C.clientWidth)||Number.MAX_VALUE),a.style.width=`${f}px`},p=k=>{(!k.target||!a.contains(k.target)||!e.isEditable)&&o.contains(c)&&o.contains(u)&&(o.removeChild(c),o.removeChild(u)),d&&(d=void 0,e.updateBlock(t,{props:{previewWidth:f}}))},m=()=>{e.isEditable&&(o.appendChild(c),o.appendChild(u))},b=k=>{k.relatedTarget===c||k.relatedTarget===u||d||e.isEditable&&o.contains(c)&&o.contains(u)&&(o.removeChild(c),o.removeChild(u))},y=k=>{k.preventDefault(),d={handleUsed:"left",initialWidth:a.clientWidth,initialClientX:k.clientX}},w=k=>{k.preventDefault(),d={handleUsed:"right",initialWidth:a.clientWidth,initialClientX:k.clientX}};return window.addEventListener("mousemove",h),window.addEventListener("mouseup",p),a.addEventListener("mouseenter",m),a.addEventListener("mouseleave",b),c.addEventListener("mousedown",y),u.addEventListener("mousedown",w),{dom:a,destroy:()=>{l==null||l(),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p),a.removeEventListener("mouseenter",m),a.removeEventListener("mouseleave",b),c.removeEventListener("mousedown",y),u.removeEventListener("mousedown",w)}}},RN=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},mie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',gie={textAlignment:ut.textAlignment,backgroundColor:ut.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},vj={type:"image",propSchema:gie,content:"none",isFileBlock:!0,fileBlockAccept:["image/*"]},bie=(t,e)=>{const n=document.createElement("div");n.innerHTML=mie;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const r=document.createElement("img");return r.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",r.contentEditable="false",r.draggable=!1,o.appendChild(r),yj(t,e,{dom:o},o,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild)},wj=t=>{if(t.tagName==="IMG")return t.closest("figure")?void 0:RN(t);if(t.tagName==="FIGURE"){const e=P0(t,"img");if(!e)return;const{targetElement:n,caption:o}=e;return{...RN(n),caption:o}}},yie=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add image",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",t.props.previewWidth&&(e.width=t.props.previewWidth)):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?A2(e,t.props.caption):j0(e,t.props.caption):{dom:e}},vie=Qu(vj,{render:bie,parse:wj,toExternalHTML:yie}),kj=(t,e,n)=>({state:o,dispatch:r})=>{const i=Wr(o.doc,t),s=Zi(i);if(!s.isBlockContainer)throw new Error(`BlockContainer expected when calling splitBlock, position ${t}`);const l=[{type:s.bnBlock.node.type,attrs:n?{...s.bnBlock.node.attrs,id:void 0}:{}},{type:e?s.blockContent.node.type:o.schema.nodes.paragraph,attrs:n?{...s.blockContent.node.attrs}:{}}];return r&&o.tr.split(t,2,l),!0},B0=t=>{const{blockInfo:e,selectionEmpty:n}=t.transact(i=>({blockInfo:L0(i),selectionEmpty:i.selection.anchor===i.selection.head}));if(!e.isBlockContainer)return!1;const{bnBlock:o,blockContent:r}=e;return!(r.node.type.name==="toggleListItem"||r.node.type.name==="bulletListItem"||r.node.type.name==="numberedListItem"||r.node.type.name==="checkListItem")||!n?!1:t._tiptapEditor.commands.first(({state:i,chain:s,commands:l})=>[()=>l.command(()=>r.node.childCount===0?l.command(pn(o.beforePos,{type:"paragraph",props:{}})):!1),()=>l.command(()=>r.node.childCount>0?(s().deleteSelection().command(kj(i.selection.from,!0)).run(),!0):!1)])},wie={...ut},kie=Ln({name:"toggleListItem",content:"inline*",group:"blockContent",priority:90,addKeyboardShortcuts(){return{Enter:()=>B0(this.options.editor),"Mod-Shift-6":()=>{const t=nt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(t.bnBlock.beforePos,{type:"toggleListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"}]},renderHTML({HTMLAttributes:t}){var e,n;return wo(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({HTMLAttributes:t,getPos:e})=>{var n,o;const{dom:r,contentDOM:i}=wo(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{}),s=this.options.editor,l=O0(e,s,this.editor,this.name),a=gj(l,s,i);return r.appendChild(a.dom),{dom:r,contentDOM:i,ignoreMutation:a.ignoreMutation,destroy:a.destroy}}}}),xie=Yo(kie,wie);function R2(t,e,n){var o,r,i;const s=zr.fromSchema(e),l=t,a=document.createElement("div");a.setAttribute("data-node-type","blockGroup");for(const h of Array.from(l.childNodes))a.appendChild(h.cloneNode(!0));let c=s.parse(a,{topNode:e.nodes.blockGroup.create()});((r=(o=c.firstChild)==null?void 0:o.firstChild)==null?void 0:r.type.name)==="checkListItem"&&(c=c.copy(c.content.cut(c.firstChild.firstChild.nodeSize+2)));const u=(i=c.firstChild)==null?void 0:i.firstChild;if(!(u!=null&&u.isTextblock))return L.from(c);const d=e.nodes[n].create({},u.content),f=c.content.cut(u.nodeSize+2);if(f.size>0){const h=c.copy(f);return d.content.addToEnd(h)}return d.content}const Cie={...ut},_ie=Ln({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new rl({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=nt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||o.blockNoteType==="heading"||e().command(pn(o.bnBlock.beforePos,{type:"bulletListItem",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>B0(this.options.editor),"Mod-Shift-8":()=>{const t=nt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(t.bnBlock.beforePos,{type:"bulletListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"li",getAttrs:t=>{var e;if(typeof t=="string")return!1;const n=t.parentElement;return n===null?!1:n.tagName==="UL"||n.tagName==="DIV"&&((e=n.parentElement)==null?void 0:e.tagName)==="UL"?{}:!1},getContent:(t,e)=>R2(t,e,this.name),node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return wo(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Sie=Yo(_ie,Cie),xj={...ut,checked:{default:!1}},Eie=Ln({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return tp(xj)},addInputRules(){return[new rl({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=nt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(pn(o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!1}})).deleteRange({from:n.from,to:n.to})}}),new rl({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=nt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(pn(o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!0}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>B0(this.options.editor),"Mod-Shift-9":()=>{const t=nt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(t.bnBlock.beforePos,{type:"checkListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"input",getAttrs:t=>typeof t=="string"||t.closest("[data-content-type]")||t.closest("li")?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{var e;if(typeof t=="string")return!1;const n=t.parentElement;if(n===null)return!1;if(n.tagName==="UL"||n.tagName==="DIV"&&((e=n.parentElement)==null?void 0:e.tagName)==="UL"){const o=t.querySelector("input[type=checkbox]")||null;return o===null?!1:{checked:o.checked}}return!1},getContent:(t,e)=>R2(t,e,this.name),node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var n,o;const r=document.createElement("input");r.type="checkbox",r.checked=t.attrs.checked,t.attrs.checked&&r.setAttribute("checked","");const{dom:i,contentDOM:s}=wo(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{});return i.insertBefore(r,s),{dom:i,contentDOM:s}},addNodeView(){return({node:t,getPos:e,editor:n,HTMLAttributes:o})=>{var r,i;const s=document.createElement("div"),l=document.createElement("div");l.contentEditable="false";const a=document.createElement("input");a.type="checkbox",a.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","");const c=()=>{if(!n.isEditable){a.checked=!a.checked;return}if(typeof e!="boolean"){const f=Wr(n.state.doc,e());if(f.node.type.name!=="blockContainer")throw new Error(`Expected blockContainer node, got ${f.node.type.name}`);this.editor.commands.command(pn(f.posBeforeNode,{type:"checkListItem",props:{checked:a.checked}}))}};a.addEventListener("change",c);const{dom:u,contentDOM:d}=wo(this.name,"p",{...((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},...o},((i=this.options.domAttributes)==null?void 0:i.inlineContent)||{});if(typeof e!="boolean"){const f="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;a.setAttribute("aria-labelledby",f),d.id=f}return u.removeChild(d),u.appendChild(s),s.appendChild(l),s.appendChild(d),l.appendChild(a),{dom:u,contentDOM:d,destroy:()=>{a.removeEventListener("change",c)}}}}}),Tie=Yo(Eie,xj),Mie=new Te("numbered-list-indexing"),Aie=()=>new de({key:Mie,appendTransaction:(t,e,n)=>{const o=n.tr;o.setMeta("numberedListIndexing",!0);let r=!1;return n.doc.descendants((i,s)=>{var l;if(i.type.name==="blockContainer"&&i.firstChild.type.name==="numberedListItem"){let a=`${i.firstChild.attrs.start||1}`;const c=Zi({posBeforeNode:s,node:i});if(!c.isBlockContainer)throw new Error("impossible");const u=o.doc.resolve(c.bnBlock.beforePos).nodeBefore;if(u){const p=Zi({posBeforeNode:c.bnBlock.beforePos-u.nodeSize,node:u});if(p.blockNoteType==="numberedListItem"){if(!p.isBlockContainer)throw new Error("impossible");const m=p.blockContent.node.attrs.index;a=(parseInt(m)+1).toString()}}const d=c.blockContent.node,f=d.attrs.index,h=((l=u==null?void 0:u.firstChild)==null?void 0:l.type.name)!=="numberedListItem";if(f!==a||d.attrs.start&&!h){r=!0;const{start:p,...m}=d.attrs;o.setNodeMarkup(c.blockContent.beforePos,void 0,{...m,index:a,...typeof p=="number"&&h&&{start:p}})}}}),r?o:null}}),Cj={...ut,start:{default:void 0,type:"number"}},Rie=Ln({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{...tp(Cj),index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new rl({find:new RegExp("^(\\d+)\\.\\s$"),handler:({state:t,chain:e,range:n,match:o})=>{const r=nt(t);if(!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||r.blockNoteType==="numberedListItem"||r.blockNoteType==="heading")return;const i=parseInt(o[1]);e().command(pn(r.bnBlock.beforePos,{type:"numberedListItem",props:i===1&&{}||{start:i}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>B0(this.options.editor),"Mod-Shift-7":()=>{const t=nt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(t.bnBlock.beforePos,{type:"numberedListItem",props:{}}))}}},addProseMirrorPlugins(){return[Aie()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"li",getAttrs:t=>{var e;if(typeof t=="string")return!1;const n=t.parentElement;if(n===null)return!1;if(n.tagName==="OL"||n.tagName==="DIV"&&((e=n.parentElement)==null?void 0:e.tagName)==="OL"){const o=parseInt(n.getAttribute("start")||"1")||1;return t.previousSibling||o===1?{}:{start:o}}return!1},getContent:(t,e)=>R2(t,e,this.name),priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return wo(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Nie=Yo(Rie,Cj),Oie={...ut},Lie=Ln({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>{const t=nt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(t.bnBlock.beforePos,{type:"paragraph",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"p",getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,n;return wo(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Die=Yo(Lie,Oie),Iie={...ut},$ie=Ln({name:"quote",content:"inline*",group:"blockContent",addInputRules(){return[new rl({find:new RegExp("^>\\s$"),handler:({state:t,chain:e,range:n})=>{const o=nt(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(pn(o.bnBlock.beforePos,{type:"quote",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{"Mod-Alt-q":()=>{const t=nt(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(pn(t.bnBlock.beforePos,{type:"quote"}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"blockquote",node:"quote",getContent:(t,e)=>{const n=t.cloneNode(!0);return _re(n),zr.fromSchema(e).parse(n,{topNode:e.nodes.paragraph.create()}).content}}]},renderHTML({HTMLAttributes:t}){var e,n;return wo(this.name,"blockquote",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Pie=Yo($ie,Iie),jie=35,N2=120,Bie=31,zie=He.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[UQ({cellMinWidth:jie,defaultCellMinWidth:N2,View:null}),QQ()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,n=t.$head.parentOffset===0,o=t.$head.node().type.name==="tableParagraph";return e&&n&&o},Tab:()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>ER(1)(t,e,n)),"Shift-Tab":()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>ER(-1)(t,e,n))}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:we(X(t,"tableRole",e))}}}),Hie={textColor:ut.textColor},Vie=Ln({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",marks:"deletion insertion modification",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,n;return wo(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e})=>{var n;class o extends _8{constructor(i,s,l){super(i,s),this.node=i,this.cellMinWidth=s,this.blockContentHTMLAttributes=l;const a=document.createElement("div");a.className=Xe("bn-block-content",l.class),a.setAttribute("data-content-type","table");for(const[f,h]of Object.entries(l))f!=="class"&&a.setAttribute(f,h);const c=this.dom,u=document.createElement("div");u.className="tableWrapper-inner",u.appendChild(c.firstChild),c.appendChild(u),a.appendChild(c);const d=document.createElement("div");d.className="table-widgets-container",d.style.position="relative",c.appendChild(d),this.dom=a}ignoreMutation(i){return!i.target.closest(".tableWrapper-inner")||super.ignoreMutation(i)}}return new o(t,N2,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e})}}}),Uie=Ln({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent||!t.closest("[data-content-type]"))return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"||e.tagName==="TH"?{}:!1},node:"tableParagraph"}]},renderHTML({HTMLAttributes:t}){return["p",t,0]}}),Fie=ti.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)+",tableRole:"row",marks:"deletion insertion modification",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",yo(this.options.HTMLAttributes,t),0]}});function NN(t,e){const n=zr.fromSchema(e).parse(t,{topNode:e.nodes.blockGroup.create()}),o=[];return n.content.descendants(r=>{if(r.isInline)return o.push(r),!1}),L.fromArray(o)}const Gie=Yo(Vie,Hie,[zie,Uie,oQ.extend({content:"tableContent+",parseHTML(){return[{tag:"th",getContent:(t,e)=>NN(t,e)}]}}),nQ.extend({content:"tableContent+",parseHTML(){return[{tag:"td",getContent:(t,e)=>NN(t,e)}]}}),Fie]),ON=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},qie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',Wie={textAlignment:ut.textAlignment,backgroundColor:ut.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},_j={type:"video",propSchema:Wie,content:"none",isFileBlock:!0,fileBlockAccept:["video/*"]},Kie=(t,e)=>{const n=document.createElement("div");n.innerHTML=qie;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const r=document.createElement("video");return r.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.controls=!0,r.contentEditable="false",r.draggable=!1,r.width=t.props.previewWidth,o.appendChild(r),yj(t,e,{dom:o},o,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild)},Sj=t=>{if(t.tagName==="VIDEO")return t.closest("figure")?void 0:ON(t);if(t.tagName==="FIGURE"){const e=P0(t,"video");if(!e)return;const{targetElement:n,caption:o}=e;return{...ON(n),caption:o}}},Zie=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add video",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,t.props.previewWidth&&(e.width=t.props.previewWidth)):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?A2(e,t.props.caption):j0(e,t.props.caption):{dom:e}},Yie=Qu(_j,{render:Kie,parse:Sj,toExternalHTML:Zie}),fh={paragraph:Die,heading:pie,quote:Pie,codeBlock:nie,toggleListItem:xie,bulletListItem:Sie,numberedListItem:Nie,checkListItem:Tie,table:Gie,file:uie,image:vie,video:Yie,audio:Qre},Xie=KP(fh),hh={bold:zl(UJ,"boolean"),italic:zl(XJ,"boolean"),underline:zl(tQ,"boolean"),strike:zl(eQ,"boolean"),code:zl(qJ,"boolean"),textColor:sie,backgroundColor:rie};ej(hh);const qb={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},Jie=QP(qb);function ln(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===Xie[t]}function Qie(t,e){return t in e.schema.inlineContentSchema&&e.schema.inlineContentSchema[t]===Jie[t]}function ese(t,e,n){return e.type===t&&e.type in n.schema.blockSchema&&ln(e.type,n)}function rp(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function tse(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock&&"showPreview"in e.schema.blockSchema[t.type].propSchema||!1}function ip(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function Lc(t,e,n){return e in n.schema.blockSchema&&t in n.schema.blockSchema[e].propSchema&&n.schema.blockSchema[e].propSchema[t]===ut[t]}function Kx(t,e,n){return Lc(t,e.type,n)}function Zx(t){return t instanceof ze}function nse(t){let e=t.getTextCursorPosition().block,n=t.schema.blockSchema[e.type].content;for(;n==="none";){if(e=t.getTextCursorPosition().nextBlock,e===void 0)return;n=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}}function ht(t,e){const n=t.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let o;return Array.isArray(n.content)&&(n.content.length===1&&Aa(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(o=t.updateBlock(n,e),t.setTextCursorPosition(o)):(o=t.insertBlocks([e],n,"after")[0],t.setTextCursorPosition(t.getTextCursorPosition().nextBlock)),nse(t),o}function ose(t){const e=[];return ln("heading",t)&&e.push({onItemClick:()=>{ht(t,{type:"heading",props:{level:1}})},badge:oo("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{ht(t,{type:"heading",props:{level:2}})},badge:oo("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{ht(t,{type:"heading",props:{level:3}})},badge:oo("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),ln("quote",t)&&e.push({onItemClick:()=>{ht(t,{type:"quote"})},key:"quote",...t.dictionary.slash_menu.quote}),ln("toggleListItem",t)&&e.push({onItemClick:()=>{ht(t,{type:"toggleListItem"})},badge:oo("Mod-Shift-6"),key:"toggle_list",...t.dictionary.slash_menu.toggle_list}),ln("numberedListItem",t)&&e.push({onItemClick:()=>{ht(t,{type:"numberedListItem"})},badge:oo("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),ln("bulletListItem",t)&&e.push({onItemClick:()=>{ht(t,{type:"bulletListItem"})},badge:oo("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),ln("checkListItem",t)&&e.push({onItemClick:()=>{ht(t,{type:"checkListItem"})},badge:oo("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),ln("paragraph",t)&&e.push({onItemClick:()=>{ht(t,{type:"paragraph"})},badge:oo("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),ln("codeBlock",t)&&e.push({onItemClick:()=>{ht(t,{type:"codeBlock"})},badge:oo("Mod-Alt-c"),key:"code_block",...t.dictionary.slash_menu.code_block}),ln("table",t)&&e.push({onItemClick:()=>{ht(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),ln("image",t)&&e.push({onItemClick:()=>{const n=ht(t,{type:"image"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"image",...t.dictionary.slash_menu.image}),ln("video",t)&&e.push({onItemClick:()=>{const n=ht(t,{type:"video"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"video",...t.dictionary.slash_menu.video}),ln("audio",t)&&e.push({onItemClick:()=>{const n=ht(t,{type:"audio"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"audio",...t.dictionary.slash_menu.audio}),ln("file",t)&&e.push({onItemClick:()=>{const n=ht(t,{type:"file"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"file",...t.dictionary.slash_menu.file}),ln("heading",t)&&(e.push({onItemClick:()=>{ht(t,{type:"heading",props:{level:1,isToggleable:!0}})},key:"toggle_heading",...t.dictionary.slash_menu.toggle_heading},{onItemClick:()=>{ht(t,{type:"heading",props:{level:2,isToggleable:!0}})},key:"toggle_heading_2",...t.dictionary.slash_menu.toggle_heading_2},{onItemClick:()=>{ht(t,{type:"heading",props:{level:3,isToggleable:!0}})},key:"toggle_heading_3",...t.dictionary.slash_menu.toggle_heading_3}),t.settings.heading.levels.filter(n=>n>3).forEach(n=>{e.push({onItemClick:()=>{ht(t,{type:"heading",props:{level:n}})},key:`heading_${n}`,...t.dictionary.slash_menu[`heading_${n}`]})})),e.push({onItemClick:()=>{t.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...t.dictionary.slash_menu.emoji}),e}function Ej(t,e){return t.filter(({title:n,aliases:o})=>n.toLowerCase().includes(e.toLowerCase())||o&&o.filter(r=>r.toLowerCase().includes(e.toLowerCase())).length!==0)}function nw(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}let td=class Tj{constructor(e){A(this,"blockSpecs"),A(this,"inlineContentSpecs"),A(this,"styleSpecs"),A(this,"blockSchema"),A(this,"inlineContentSchema"),A(this,"styleSchema"),A(this,"BlockNoteEditor","only for types"),A(this,"Block","only for types"),A(this,"PartialBlock","only for types"),this.blockSpecs=nw(e==null?void 0:e.blockSpecs)||fh,this.inlineContentSpecs=nw(e==null?void 0:e.inlineContentSpecs)||qb,this.styleSpecs=nw(e==null?void 0:e.styleSpecs)||hh,this.blockSchema=KP(this.blockSpecs),this.inlineContentSchema=QP(this.inlineContentSpecs),this.styleSchema=ej(this.styleSpecs)}static create(e){return new Tj(e)}};const rse={type:"pageBreak",propSchema:{},content:"none",isFileBlock:!1,isSelectable:!1},ise=()=>{const t=document.createElement("div");return t.className="bn-page-break",t.setAttribute("data-page-break",""),{dom:t}},sse=t=>{if(t.tagName==="DIV"&&t.hasAttribute("data-page-break"))return{type:"pageBreak"}},lse=()=>{const t=document.createElement("div");return t.setAttribute("data-page-break",""),{dom:t}},ase=Qu(rse,{render:ise,parse:sse,toExternalHTML:lse});td.create({blockSpecs:{pageBreak:ase}});function cse(t){return t.transact(e=>{const n=Wr(e.doc,e.selection.anchor);if(e.selection instanceof ze)return{type:"cell",anchorBlockId:n.node.attrs.id,anchorCellOffset:e.selection.$anchorCell.pos-n.posBeforeNode,headCellOffset:e.selection.$headCell.pos-n.posBeforeNode};if(e.selection instanceof J)return{type:"node",anchorBlockId:n.node.attrs.id};{const o=Wr(e.doc,e.selection.head);return{type:"text",anchorBlockId:n.node.attrs.id,headBlockId:o.node.attrs.id,anchorOffset:e.selection.anchor-n.posBeforeNode,headOffset:e.selection.head-o.posBeforeNode}}})}function use(t,e){var n,o;const r=(n=Rn(e.anchorBlockId,t.doc))==null?void 0:n.posBeforeNode;if(r===void 0)throw new Error(`Could not find block with ID ${e.anchorBlockId} to update selection`);let i;if(e.type==="cell")i=ze.create(t.doc,r+e.anchorCellOffset,r+e.headCellOffset);else if(e.type==="node")i=J.create(t.doc,r+1);else{const s=(o=Rn(e.headBlockId,t.doc))==null?void 0:o.posBeforeNode;if(s===void 0)throw new Error(`Could not find block with ID ${e.headBlockId} to update selection`);i=Y.create(t.doc,r+e.anchorOffset,s+e.headOffset)}t.setSelection(i)}function Yx(t){return t.map(e=>e.type==="columnList"?e.children.map(n=>Yx(n.children)).flat():{...e,children:Yx(e.children)}).flat()}function Mj(t,e,n){t.transact(o=>{var r;const i=((r=t.getSelection())==null?void 0:r.blocks)||[t.getTextCursorPosition().block],s=cse(t);t.removeBlocks(i),t.insertBlocks(Yx(i),e,n),use(o,s)})}function Aj(t){return!t||t.type!=="columnList"}function Rj(t,e,n){let o,r;if(e?e.children.length>0?(o=e.children[e.children.length-1],r="after"):(o=e,r="before"):n&&(o=n,r="before"),!o||!r)return;const i=t.getParentBlock(o);return Aj(i)?{referenceBlock:o,placement:r}:Rj(t,r==="after"?o:t.getPrevBlock(o),i)}function Nj(t,e,n){let o,r;if(e?e.children.length>0?(o=e.children[0],r="before"):(o=e,r="after"):n&&(o=n,r="after"),!o||!r)return;const i=t.getParentBlock(o);return Aj(i)?{referenceBlock:o,placement:r}:Nj(t,r==="before"?o:t.getNextBlock(o),i)}function dse(t){t.transact(()=>{const e=t.getSelection(),n=(e==null?void 0:e.blocks[0])||t.getTextCursorPosition().block,o=Rj(t,t.getPrevBlock(n),t.getParentBlock(n));o&&Mj(t,o.referenceBlock,o.placement)})}function fse(t){t.transact(()=>{const e=t.getSelection(),n=(e==null?void 0:e.blocks[(e==null?void 0:e.blocks.length)-1])||t.getTextCursorPosition().block,o=Nj(t,t.getNextBlock(n),t.getParentBlock(n));o&&Mj(t,o.referenceBlock,o.placement)})}function hse(t,e,n){const{$from:o,$to:r}=t.selection,i=o.blockRange(r,h=>h.childCount>0&&(h.type.name==="blockGroup"||h.type.name==="column"));if(!i)return!1;const s=i.startIndex;if(s===0)return!1;const l=i.parent.child(s-1);if(l.type!==e)return!1;const a=l.lastChild&&l.lastChild.type===n,c=L.from(a?e.create():null),u=new q(L.from(e.create(null,L.from(n.create(null,c)))),a?3:1,0),d=i.start,f=i.end;return t.step(new xt(d-(a?3:1),f,d,f,u,1,!0)).scrollIntoView(),!0}function Oj(t){return t.transact(e=>hse(e,t.pmSchema.nodes.blockContainer,t.pmSchema.nodes.blockGroup))}function pse(t){t._tiptapEditor.commands.liftListItem("blockContainer")}function mse(t){return t.transact(e=>{const{bnBlock:n}=L0(e);return e.doc.resolve(n.beforePos).nodeBefore!==null})}function gse(t){return t.transact(e=>{const{bnBlock:n}=L0(e);return e.doc.resolve(n.beforePos).depth>1})}function bse(t,e){const n=typeof e=="string"?e:e.id,o=Kt(t),r=Rn(n,t);if(r)return Je(r.node,o)}function yse(t,e){const n=typeof e=="string"?e:e.id,o=Rn(n,t),r=Kt(t);if(!o)return;const i=t.resolve(o.posBeforeNode).nodeBefore;if(i)return Je(i,r)}function vse(t,e){const n=typeof e=="string"?e:e.id,o=Rn(n,t),r=Kt(t);if(!o)return;const i=t.resolve(o.posBeforeNode+o.node.nodeSize).nodeAfter;if(i)return Je(i,r)}function wse(t,e){const n=typeof e=="string"?e:e.id,o=Kt(t),r=Rn(n,t);if(!r)return;const i=t.resolve(r.posBeforeNode),s=i.node(),l=i.node(-1),a=l.type.name!=="doc"?s.type.name==="blockGroup"?l:s:void 0;if(a)return Je(a,o)}function kse(t,e,n,o={updateSelection:!0}){let{from:r,to:i}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},s=!0,l=!0,a="";if(n.forEach(c=>{c.check(),s&&c.isText&&c.marks.length===0?a+=c.text:s=!1,l=l?c.isBlock:!1}),r===i&&l){const{parent:c}=t.doc.resolve(r);c.isTextblock&&!c.type.spec.code&&!c.childCount&&(r-=1,i+=1)}return s?t.insertText(a,r,i):t.replaceWith(r,i,n),o.updateSelection&&t8(t,t.steps.length-1,-1),!0}function xse(t){const e=Kt(t);if(t.selection.empty||"node"in t.selection)return;const n=t.doc.resolve(Wr(t.doc,t.selection.from).posBeforeNode),o=t.doc.resolve(Wr(t.doc,t.selection.to).posBeforeNode),r=(c,u)=>{const d=n.posAtIndex(c,u),f=t.doc.resolve(d).nodeAfter;if(!f)throw new Error(`Error getting selection - node not found at position ${d}`);return Je(f,e)},i=[],s=n.sharedDepth(o.pos),l=n.index(s),a=o.index(s);if(n.depth>s){i.push(Je(n.nodeAfter,e));for(let c=n.depth;c>s;c--)if(n.node(c).type.isInGroup("childContainer")){const u=n.index(c)+1,d=n.node(c).childCount;for(let f=u;f<d;f++)i.push(r(f,c))}}else i.push(r(l,s));for(let c=l+1;c<=a;c++)i.push(r(c,s));if(i.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${t.selection})`);return{blocks:i}}function Cse(t,e,n){const o=typeof e=="string"?e:e.id,r=typeof n=="string"?n:n.id,i=Kt(t),s=op(i);if(o===r)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${o})`);const l=Rn(o,t.doc);if(!l)throw new Error(`Block with ID ${o} not found`);const a=Rn(r,t.doc);if(!a)throw new Error(`Block with ID ${r} not found`);const c=Zi(l),u=Zi(a),d=s.blockSchema[c.blockNoteType],f=s.blockSchema[u.blockNoteType];if(!c.isBlockContainer||d.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${o})`);if(!u.isBlockContainer||f.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);let h,p;if(d.content==="table"){const m=it.get(c.blockContent.node);h=c.blockContent.beforePos+m.positionAt(0,0,c.blockContent.node)+1+2}else h=c.blockContent.beforePos+1;if(f.content==="table"){const m=it.get(u.blockContent.node),b=u.blockContent.beforePos+m.positionAt(m.height-1,m.width-1,u.blockContent.node)+1,y=t.doc.resolve(b).nodeAfter.nodeSize;p=b+y-2}else p=u.blockContent.afterPos-1;t.setSelection(Y.create(t.doc,h,p))}function _se(t){const e=Kt(t);let n=t.selection.$from,o=t.selection.$to;for(;o.parentOffset>=o.parent.nodeSize-2&&o.depth>0;)o=t.doc.resolve(o.pos+1);for(;o.parentOffset===0&&o.depth>0;)o=t.doc.resolve(o.pos-1);for(;n.parentOffset===0&&n.depth>0;)n=t.doc.resolve(n.pos-1);for(;n.parentOffset>=n.parent.nodeSize-2&&n.depth>0;)n=t.doc.resolve(n.pos+1);const r=Tre(t.doc.slice(n.pos,o.pos,!0),e);return{_meta:{startPos:n.pos,endPos:o.pos},...r}}function Sse(t){const{bnBlock:e}=L0(t),n=Kt(t.doc),o=t.doc.resolve(e.beforePos),r=o.nodeBefore,i=t.doc.resolve(e.afterPos).nodeAfter;let s;return o.depth>1&&(s=o.node(),s.type.isInGroup("bnBlock")||(s=o.node(o.depth-1))),{block:Je(e.node,n),prevBlock:r===null?void 0:Je(r,n),nextBlock:i===null?void 0:Je(i,n),parentBlock:s===void 0?void 0:Je(s,n)}}function Lj(t,e,n="start"){const o=typeof e=="string"?e:e.id,r=Kt(t.doc),i=op(r),s=Rn(o,t.doc);if(!s)throw new Error(`Block with ID ${o} not found`);const l=Zi(s),a=i.blockSchema[l.blockNoteType].content;if(l.isBlockContainer){const c=l.blockContent;if(a==="none"){t.setSelection(J.create(t.doc,c.beforePos));return}if(a==="inline")n==="start"?t.setSelection(Y.create(t.doc,c.beforePos+1)):t.setSelection(Y.create(t.doc,c.afterPos-1));else if(a==="table")n==="start"?t.setSelection(Y.create(t.doc,c.beforePos+4)):t.setSelection(Y.create(t.doc,c.afterPos-4));else throw new qr(a)}else{const c=n==="start"?l.childContainer.node.firstChild:l.childContainer.node.lastChild;Lj(t,c.attrs.id,n)}}let Dc;async function O2(){if(Dc)return Dc;const t=await Promise.all([W(()=>import("./index-DfHtJJ4O.js"),__vite__mapDeps([0,1,2,3,4])),W(()=>import("./index-Dns_CctH.js"),[]),W(()=>import("./index-DGKXm-wk.js"),__vite__mapDeps([5,1,2])),W(()=>import("./index-C3hvpX0Z.js"),__vite__mapDeps([6,4])),W(()=>import("./index-tm_hn6Br.js"),__vite__mapDeps([7,8,9,10,11,12,13])),W(()=>import("./index-DLq9AFo8.js"),__vite__mapDeps([14,15,16,17,3,10,18,12,13,11])),W(()=>import("./index-BdpePZea.js"),__vite__mapDeps([19,18,17,16,12,10,13,11,20])),W(()=>import("./index-BxE2facF.js"),__vite__mapDeps([21,20,15,16,17,2,13])),W(()=>import("./index-DoJwJBw7.js"),__vite__mapDeps([22,8,16,12,10])),W(()=>import("./index-BEuDYSyX.js"),__vite__mapDeps([23,9,10]))]);return Dc={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},Dc}function Ese(){const t=e=>{let n=e.children.length;for(let o=0;o<n;o++){const r=e.children[o];if(r.type==="element"&&(t(r),r.tagName==="u"))if(r.children.length>0){e.children.splice(o,1,...r.children);const i=r.children.length-1;n+=i,o+=i}else e.children.splice(o,1),n--,o--}};return t}function Tse(){const t=Dc;if(!t)throw new Error("addSpacesToCheckboxes requires ESM dependencies to be initialized");const e=n=>{var o;if(n.children&&"length"in n.children&&n.children.length)for(let r=n.children.length-1;r>=0;r--){const i=n.children[r],s=r+1<n.children.length?n.children[r+1]:void 0;i.type==="element"&&i.tagName==="input"&&((o=i.properties)==null?void 0:o.type)==="checkbox"&&(s==null?void 0:s.type)==="element"&&s.tagName==="p"?(s.tagName="span",s.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(i)}};return e}function L2(t){const e=Dc;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(Ese).use(Tse).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:n=>n.value}}).processSync(t).value}async function Mse(t,e,n,o){await O2();const r=$0(e,n).exportBlocks(t,o);return L2(r)}function Ase(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function Rse(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function Nse(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const n=Ase(e),o=e.parentElement,r=Array.from(o.childNodes).slice(n+1);e.remove(),r.forEach(i=>{i.remove()}),o.insertAdjacentElement("afterend",e),r.reverse().forEach(i=>{if(Rse(i))return;const s=document.createElement("li");s.append(i),e.insertAdjacentElement("afterend",s)}),o.childNodes.length===0&&o.remove()})}function Ose(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var n,o;const r=e.previousElementSibling,i=document.createElement("div");r.insertAdjacentElement("afterend",i),i.append(r);const s=document.createElement("div");for(s.setAttribute("data-node-type","blockGroup"),i.append(s);((n=i.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((o=i.nextElementSibling)==null?void 0:o.nodeName)==="OL";)s.append(i.nextElementSibling)})}let LN=null;function Lse(){return LN||(LN=document.implementation.createHTMLDocument("title"))}function Dj(t){if(typeof t=="string"){const e=Lse().createElement("div");e.innerHTML=t,t=e}return Nse(t),Ose(t),t}async function Ij(t,e){const n=Dj(t),o=zr.fromSchema(e).parse(n,{topNode:e.nodes.blockGroup.create()}),r=[];for(let i=0;i<o.childCount;i++)r.push(Je(o.child(i),e));return r}function Dse(t,e){const n=e.value?e.value:"",o={};e.lang&&(o["data-language"]=e.lang);let r={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}async function $j(t){const e=await O2();return e.unified.unified().use(e.remarkParse.default).use(e.remarkGfm.default).use(e.remarkRehype.default,{handlers:{...e.remarkRehype.defaultHandlers,code:Dse}}).use(e.rehypeStringify.default).processSync(t).value}async function Ise(t,e){const n=await $j(t);return Ij(n,e)}const D2=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function $se(t,e){if(!t.startsWith(".")||!e.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return t===e}function Pse(t,e){const n=t.split("/"),o=e.split("/");if(n.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(o.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return n[1]==="*"||o[1]==="*"?n[0]===o[0]:(n[0]==="*"||o[0]==="*"||n[0]===o[0])&&n[1]===o[1]}function DN(t,e,n,o="after"){let r;return Array.isArray(e.content)&&e.content.length===0?r=t.updateBlock(e,n).id:r=t.insertBlocks([n],e,o)[0].id,r}async function Pj(t,e){var n;if(!e.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const o="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(o===null)return;let r=null;for(const l of D2)if(o.types.includes(l)){r=l;break}if(r!=="Files")return;const i=o.items;if(!i)return;t.preventDefault();const s=Object.values(e.schema.blockSchema).filter(l=>l.isFileBlock);for(let l=0;l<i.length;l++){let a="file";for(const u of s)for(const d of u.fileBlockAccept||[]){const f=d.startsWith("."),h=i[l].getAsFile();if(h&&(!f&&h.type&&Pse(i[l].type,d)||f&&$se("."+h.name.split(".").pop(),d))){a=u.type;break}}const c=i[l].getAsFile();if(c){const u={type:a,props:{name:c.name}};let d;if(t.type==="paste"){const p=e.getTextCursorPosition().block;d=DN(e,p,u)}else if(t.type==="drop"){const p={left:t.clientX,top:t.clientY},m=(n=e.prosemirrorView)==null?void 0:n.posAtCoords(p);if(!m)return;d=e.transact(b=>{var y;const w=Wr(b.doc,m.pos),k=(y=e.prosemirrorView)==null?void 0:y.dom.querySelector(`[data-id="${w.node.attrs.id}"]`),x=k==null?void 0:k.getBoundingClientRect();return DN(e,e.getBlock(w.node.attrs.id),u,x&&(x.top+x.bottom)/2>p.top?"before":"after")})}else return;const f=await e.uploadFile(c,d),h=typeof f=="string"?{props:{url:f}}:{...f};e.updateBlock(d,h)}}}const jse=t=>He.create({name:"dropFile",addProseMirrorPlugins(){return[new de({props:{handleDOMEvents:{drop(e,n){if(!t.isEditable)return;let o=null;for(const r of D2)if(n.dataTransfer.types.includes(r)){o=r;break}return o===null?!0:o==="Files"?(Pj(n,t),!0):!1}}}})]}}),Bse=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,zse=/(_|__|\*|\*\*|~~|==|\+\+)(?!\s)(?:[^\s](?:.{0,62}[^\s])?|\S)(?=\1)/,Hse=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,Vse=/(?:\s|^)`(?!\s)(?:[^\s`](?:[^`]{0,46}[^\s`])?|[^\s`])`([^\w]|$)/,Use=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,Fse=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,Gse=/\n{2} {0,3}-{2,48}\n{2}/,qse=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,Wse=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,Kse=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,Zse=/^\s*\|(.+\|)+\s*$/m,Yse=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,Xse=/^\s*\|(.+\|)+\s*$/m,Jse=t=>Bse.test(t)||zse.test(t)||Hse.test(t)||Vse.test(t)||Use.test(t)||Fse.test(t)||Gse.test(t)||qse.test(t)||Wse.test(t)||Kse.test(t)||Zse.test(t)||Yse.test(t)||Xse.test(t);async function Qse(t,e){const{schema:n}=e.state;if(!t.clipboardData)return!1;const o=t.clipboardData.getData("text/plain");if(!o)return!1;if(!n.nodes.codeBlock)return e.pasteText(o),!0;const r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;return s?(e.pasteHTML(`<pre><code class="language-${s}">${o.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}function ele({event:t,editor:e,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:o}){var r;if(e.transact(l=>l.selection.$from.parent.type.spec.code&&l.selection.$to.parent.type.spec.code)){const l=(r=t.clipboardData)==null?void 0:r.getData("text/plain");if(l)return e.pasteText(l),!0}let i;for(const l of D2)if(t.clipboardData.types.includes(l)){i=l;break}if(!i)return!0;if(i==="vscode-editor-data")return Qse(t,e.prosemirrorView),!0;if(i==="Files")return Pj(t,e),!0;const s=t.clipboardData.getData(i);if(i==="blocknote/html")return e.pasteHTML(s,!0),!0;if(i==="text/markdown")return e.pasteMarkdown(s),!0;if(n){const l=t.clipboardData.getData("text/plain");if(Jse(l))return e.pasteMarkdown(l),!0}return i==="text/html"?(e.pasteHTML(s),!0):o?(e.pasteMarkdown(s),!0):(e.pasteText(s),!0)}const tle=(t,e)=>He.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new de({props:{handleDOMEvents:{paste(n,o){if(o.preventDefault(),!!t.isEditable)return e({event:o,editor:t,defaultPasteHandler:({prioritizeMarkdownOverHTML:r=!0,plainTextAsMarkdown:i=!0}={})=>ele({event:o,editor:t,prioritizeMarkdownOverHTML:r,plainTextAsMarkdown:i})})}}}})]}});function jj(t){const e=[];return t.descendants(n=>{var o,r;const i=Kt(n);return n.type.name==="blockContainer"&&((o=n.firstChild)==null?void 0:o.type.name)==="blockGroup"?!0:n.type.name==="columnList"&&n.childCount===1?((r=n.firstChild)==null||r.forEach(s=>{e.push(Je(s,i))}),!1):n.type.isInGroup("bnBlock")?(e.push(Je(n,i)),!1):!0}),e}function nle(t,e,n){var o;let r=!1;const i=t.state.selection instanceof ze;if(!i){const a=t.state.doc.slice(t.state.selection.from,t.state.selection.to,!1).content,c=[];for(let u=0;u<a.childCount;u++)c.push(a.child(u));r=c.find(u=>u.type.isInGroup("bnBlock")||u.type.name==="blockGroup"||u.type.spec.group==="blockContent")===void 0,r&&(e=a)}let s;const l=$0(t.state.schema,n);if(i){((o=e.firstChild)==null?void 0:o.type.name)==="table"&&(e=e.firstChild.content);const a=JP(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=`<table>${l.exportInlineContent(a,{})}</table>`}else if(r){const a=D0(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=l.exportInlineContent(a,{})}else{const a=jj(e);s=l.exportBlocks(a,{})}return s}function Bj(t,e){"node"in t.state.selection&&t.state.selection.node.type.spec.group==="blockContent"&&e.transact(s=>s.setSelection(new J(s.doc.resolve(t.state.selection.from-1))));const n=t.serializeForClipboard(t.state.selection.content()).dom.innerHTML,o=t.state.selection.content().content,r=nle(t,o,e),i=L2(r);return{clipboardHTML:n,externalHTML:r,markdown:i}}const IN=()=>{const t=window.getSelection();if(!t||t.isCollapsed)return!0;let e=t.focusNode;for(;e;){if(e instanceof HTMLElement&&e.getAttribute("contenteditable")==="false")return!0;e=e.parentElement}return!1},$N=(t,e,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:o,externalHTML:r,markdown:i}=Bj(e,t);n.clipboardData.setData("blocknote/html",o),n.clipboardData.setData("text/html",r),n.clipboardData.setData("text/plain",i)},ole=t=>He.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new de({props:{handleDOMEvents:{copy(e,n){return IN()||$N(t,e,n),!0},cut(e,n){return IN()||($N(t,e,n),e.editable&&e.dispatch(e.state.tr.deleteSelection())),!0},dragstart(e,n){if(!("node"in e.state.selection)||e.state.selection.node.type.spec.group!=="blockContent")return;t.transact(s=>s.setSelection(new J(s.doc.resolve(e.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:o,externalHTML:r,markdown:i}=Bj(e,t);return n.dataTransfer.setData("blocknote/html",o),n.dataTransfer.setData("text/html",r),n.dataTransfer.setData("text/plain",i),!0}}}})]}}),rle=He.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{backgroundColor:{default:ut.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):ut.backgroundColor.default,renderHTML:t=>t.backgroundColor===ut.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}});let I2=class{constructor(){A(this,"callbacks",{})}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>this.off(e,n)}emit(e,...n){const o=this.callbacks[e];o&&o.forEach(r=>r.apply(this,n))}off(e,n){const o=this.callbacks[e];o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}},Wt=class extends I2{constructor(...e){super(),A(this,"plugins",[])}static key(){throw new Error("You must implement the key method in your extension")}addProsemirrorPlugin(e){this.plugins.push(e)}get priority(){}};class ile extends Wt{constructor(){super(),A(this,"beforeChangeCallbacks",[]),this.addProsemirrorPlugin(new de({filterTransaction:e=>{let n;return this.beforeChangeCallbacks.reduce((o,r)=>o===!1?o:r({getChanges(){return n||(n=ij(e),n)},tr:e})!==!1,!0)}}))}static key(){return"blockChange"}subscribe(e){return this.beforeChangeCallbacks.push(e),()=>{this.beforeChangeCallbacks=this.beforeChangeCallbacks.filter(n=>n!==e)}}}const Jm=class zj extends Wt{constructor(e){super(),A(this,"provider"),A(this,"recentlyUpdatedCursors"),A(this,"renderCursor",(n,o)=>{let r=this.recentlyUpdatedCursors.get(o);if(!r){const i=(this.collaboration.renderCursor??zj.defaultCursorRender)(n);this.collaboration.showCursorLabels!=="always"&&(i.addEventListener("mouseenter",()=>{const s=this.recentlyUpdatedCursors.get(o);s.element.setAttribute("data-active",""),s.hideTimeout&&(clearTimeout(s.hideTimeout),this.recentlyUpdatedCursors.set(o,{element:s.element,hideTimeout:void 0}))}),i.addEventListener("mouseleave",()=>{const s=this.recentlyUpdatedCursors.get(o);this.recentlyUpdatedCursors.set(o,{element:s.element,hideTimeout:setTimeout(()=>{s.element.removeAttribute("data-active")},2e3)})})),r={element:i,hideTimeout:void 0},this.recentlyUpdatedCursors.set(o,r)}return r.element}),A(this,"updateUser",n=>{this.provider.awareness.setLocalStateField("user",n)}),this.collaboration=e,this.provider=e.provider,this.recentlyUpdatedCursors=new Map,this.provider.awareness.setLocalStateField("user",e.user),e.showCursorLabels!=="always"&&this.provider.awareness.on("change",({updated:n})=>{for(const o of n){const r=this.recentlyUpdatedCursors.get(o);r&&(r.element.setAttribute("data-active",""),r.hideTimeout&&clearTimeout(r.hideTimeout),this.recentlyUpdatedCursors.set(o,{element:r.element,hideTimeout:setTimeout(()=>{r.element.removeAttribute("data-active")},2e3)}))}}),this.addProsemirrorPlugin(cre(this.provider.awareness,{selectionBuilder:qP,cursorBuilder:this.renderCursor}))}static key(){return"yCursorPlugin"}get priority(){return 999}static isDarkColor(e){const n=e.charAt(0)==="#"?e.substring(1,7):e,o=parseInt(n.substring(0,2),16),r=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16),s=[o/255,r/255,i/255].map(l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4));return .2126*s[0]+.7152*s[1]+.0722*s[2]<=.179}};A(Jm,"defaultCursorRender",t=>{const e=document.createElement("span");e.classList.add("bn-collaboration-cursor__base");const n=document.createElement("span");n.setAttribute("contentedEditable","false"),n.classList.add("bn-collaboration-cursor__caret"),n.setAttribute("style",`background-color: ${t.color}; color: ${Jm.isDarkColor(t.color)?"white":"black"}`);const o=document.createElement("span");return o.classList.add("bn-collaboration-cursor__label"),o.setAttribute("style",`background-color: ${t.color}; color: ${Jm.isDarkColor(t.color)?"white":"black"}`),o.insertBefore(document.createTextNode(t.name),null),n.insertBefore(o,null),e.insertBefore(document.createTextNode("⁠"),null),e.insertBefore(n,null),e.insertBefore(document.createTextNode("⁠"),null),e});let Hj=Jm,Xx=class extends Wt{static key(){return"ySyncPlugin"}constructor(e){super(),this.addProsemirrorPlugin(Woe(e))}get priority(){return 1001}},Jx=class extends Wt{static key(){return"yUndoPlugin"}constructor({editor:e}){super(),this.addProsemirrorPlugin(gre({trackedOrigins:[e]}))}get priority(){return 1e3}};const Vj=rn.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:t=>!!t.getAttribute("data-orphan"),renderHTML:t=>t.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:t=>t.getAttribute("data-bn-thread-id"),renderHTML:t=>({"data-bn-thread-id":t.threadId}),default:""}}},renderHTML({HTMLAttributes:t}){return["span",yo(t,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(t){return t.name==="comment"?{blocknoteIgnore:!0}:{}}});class sle extends I2{constructor(e){super(),A(this,"userCache",new Map),A(this,"loadingUsers",new Set),this.resolveUsers=e}async loadUsers(e){const n=e.filter(o=>!this.userCache.has(o)&&!this.loadingUsers.has(o));if(n.length!==0){for(const o of n)this.loadingUsers.add(o);try{const o=await this.resolveUsers(n);for(const r of o)this.userCache.set(r.id,r);this.emit("update",this.userCache)}finally{for(const o of n)this.loadingUsers.delete(o)}}}getUser(e){return this.userCache.get(e)}subscribe(e){return this.on("update",e)}}const um=new Te("blocknote-comments"),lle="SET_SELECTED_THREAD_ID";function ale(t,e){const n=new Map;return t.descendants((o,r)=>{o.marks.forEach(i=>{if(i.type.name===e){const s=i.attrs.threadId;if(!s)return;const l=r,a=l+o.nodeSize,c=n.get(s)??{from:1/0,to:0};n.set(s,{from:Math.min(l,c.from),to:Math.max(a,c.to)})}})}),n}class cle extends Wt{constructor(e,n,o){if(super(),A(this,"userStore"),A(this,"pendingComment",!1),A(this,"selectedThreadId"),A(this,"threadPositions",new Map),A(this,"updateMarksFromThreads",i=>{this.editor.transact(s=>{s.doc.descendants((l,a)=>{l.marks.forEach(c=>{if(c.type.name===this.markType){const u=c.type,d=c.attrs.threadId,f=i.get(d),h=!!(!f||f.resolved||f.deletedAt);if(h!==c.attrs.orphan){const p=Math.max(a,0),m=Math.min(a+l.nodeSize,s.doc.content.size-1,s.doc.content.size-1);s.removeMark(p,m,c),s.addMark(p,m,u.create({...c.attrs,orphan:h})),h&&this.selectedThreadId===d&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})})}),this.editor=e,this.threadStore=n,this.markType=o,!e.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new sle(e.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),e.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),e.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const r=this;this.addProsemirrorPlugin(new de({key:um,state:{init(){return{decorations:ye.empty}},apply(i,s){const l=i.getMeta(um);if(!i.docChanged&&!l)return s;const a=i.docChanged?ale(i.doc,r.markType):r.threadPositions;(a.size>0||r.threadPositions.size>0)&&(r.threadPositions=a,r.emitStateUpdate());const c=[];if(r.selectedThreadId){const u=a.get(r.selectedThreadId);u&&c.push(Le.inline(u.from,u.to,{class:"bn-thread-mark-selected"}))}return{decorations:ye.create(i.doc,c)}}},props:{decorations(i){var s;return((s=um.getState(i))==null?void 0:s.decorations)??ye.empty},handleClick:(i,s,l)=>{if(l.button!==0)return;const a=i.state.doc.nodeAt(s);if(!a){r.selectThread(void 0);return}const c=a.marks.find(d=>d.type.name===o&&d.attrs.orphan!==!0),u=c==null?void 0:c.attrs.threadId;r.selectThread(u,!1)}}}))}static key(){return"comments"}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(e){return this.on("update",e)}selectThread(e,n=!0){var o,r;if(this.selectedThreadId!==e&&(this.selectedThreadId=e,this.emitStateUpdate(),this.editor.transact(i=>i.setMeta(um,{name:lle})),e&&n)){const i=this.threadPositions.get(e);if(!i)return;(r=(o=this.editor.prosemirrorView)==null?void 0:o.domAtPos(i.from).node)==null||r.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(e){const n=await this.threadStore.createThread(e);if(this.threadStore.addThreadToDocument){const o=this.editor.prosemirrorView,r=o.state.selection,i=Ne.getState(o.state),s={prosemirror:{head:r.head,anchor:r.anchor},yjs:i?Ub(i.binding,o.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:s})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class ule{constructor(e,n,o,r){A(this,"state"),A(this,"emitUpdate"),A(this,"mouseDownHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"dragstartHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"scrollHandler",()=>{var i;if((i=this.state)!=null&&i.show){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate()}}),A(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=n,this.pmView=o,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");r(this.state)},o.dom.addEventListener("mousedown",this.mouseDownHandler),o.dom.addEventListener("dragstart",this.dragstartHandler),o.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o,r;const i=this.pluginKey.getState(e.state),s=this.pluginKey.getState(n);if(!((o=this.state)!=null&&o.show)&&i!=null&&i.block&&this.editor.isEditable){const c=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${i.block.id}"]`);if(!c)return;this.state={show:!0,referencePos:c.getBoundingClientRect(),block:i.block},this.emitUpdate();return}const l=(i==null?void 0:i.block)&&!(s!=null&&s.block),a=!(i!=null&&i.block)&&(s==null?void 0:s.block);l&&this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate()),a&&(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const ow=new Te("FilePanelPlugin");class dle extends Wt{constructor(e){super(),A(this,"view"),A(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.addProsemirrorPlugin(new de({key:ow,view:n=>(this.view=new ule(e,ow,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>{var r;return o.key==="Escape"&&this.shown?((r=this.view)==null||r.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:(n,o)=>n.getMeta(ow)||(!n.getMeta(Ne)&&(n.selectionSet||n.docChanged)?{block:void 0}:o)}}))}static key(){return"filePanel"}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}class fle{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"preventHide",!1),A(this,"preventShow",!1),A(this,"shouldShow",({view:r,state:i,from:s,to:l})=>{const{doc:a,selection:c}=i,{empty:u}=c,d=!a.textBetween(s,l).length&&w0(i.selection);if(c.$from.parent.type.spec.code||px(c)&&c.node.type.spec.code||u||d)return!1;const f=document.activeElement;return!(!this.isElementWithinEditorWrapper(f)&&r.editable)}),A(this,"blurHandler",r=>{var i;if(this.preventHide){this.preventHide=!1;return}const s=this.pmView.dom.parentElement;r&&r.relatedTarget&&(s===r.relatedTarget||s.contains(r.relatedTarget)||r.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"isElementWithinEditorWrapper",r=>{if(!r)return!1;const i=this.pmView.dom.parentElement;return i?i.contains(r):!1}),A(this,"viewMousedownHandler",r=>{(!this.isElementWithinEditorWrapper(r.target)||r.button===0)&&(this.preventShow=!0)}),A(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),A(this,"dragHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"scrollHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),A(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");o(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o,r,i;const{state:s,composing:l}=e,{doc:a,selection:c}=s,u=n&&n.doc.eq(a)&&n.selection.eq(c);if(l||u)return;const{ranges:d}=c,f=Math.min(...d.map(b=>b.$from.pos)),h=Math.max(...d.map(b=>b.$to.pos)),p=this.shouldShow({view:e,state:s,from:f,to:h}),m=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(p||this.preventHide)&&!m){const b={show:!0,referencePos:this.getSelectionBoundingBox()};(b.show!==((o=this.state)==null?void 0:o.show)||b.referencePos.toJSON()!==((r=this.state)==null?void 0:r.referencePos.toJSON()))&&(this.state=b,this.emitUpdate());return}if((i=this.state)!=null&&i.show&&!this.preventHide&&(!p||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:n}=e,{ranges:o}=n,r=Math.min(...o.map(s=>s.$from.pos)),i=Math.max(...o.map(s=>s.$to.pos));if(px(n)){const s=this.pmView.nodeDOM(r);if(s)return s.getBoundingClientRect()}return ib(this.pmView,r,i)}}const hle=new Te("FormattingToolbarPlugin");class ple extends Wt{constructor(e){super(),A(this,"view"),A(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new de({key:hle,view:n=>(this.view=new fle(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"formattingToolbar"}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}const mle=ti.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",yo(this.options.HTMLAttributes,t)]},renderText(){return`
`}}),PN=(t,e)=>{const n=t.resolve(e);if(n.depth<=1)return;const o=n.posAtIndex(n.index(n.depth-1),n.depth-1);return np(t.resolve(o))},Qm=(t,e)=>{const n=t.resolve(e),o=n.index();if(o===0)return;const r=n.posAtIndex(o-1);return np(t.resolve(r))},Uj=(t,e)=>{for(;e.childContainer;){const n=e.childContainer.node,o=t.resolve(e.childContainer.beforePos+1).posAtIndex(n.childCount-1);e=np(t.resolve(o))}return e},gle=(t,e)=>t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*"&&t.blockContent.node.childCount>0&&e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*",ble=(t,e,n,o)=>{if(!o.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(o.childContainer){const r=t.doc.resolve(o.childContainer.beforePos+1),i=t.doc.resolve(o.childContainer.afterPos-1),s=r.blockRange(i);if(e){const l=t.doc.resolve(o.bnBlock.beforePos);t.tr.lift(s,l.depth)}}if(e){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);e(t.tr.delete(n.blockContent.afterPos-1,o.blockContent.beforePos+1))}return!0},jN=t=>({state:e,dispatch:n})=>{const o=e.doc.resolve(t),r=np(o),i=Qm(e.doc,r.bnBlock.beforePos);if(!i)return!1;const s=Uj(e.doc,i);return gle(s,r)?ble(e,n,s,r):!1},yle=He.create({priority:50,addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({chain:o,commands:r})=>[()=>r.deleteSelection(),()=>r.undoInputRule(),()=>r.command(({state:i})=>{const s=nt(i);if(!s.isBlockContainer)return!1;const l=i.selection.from===s.blockContent.beforePos+1,a=s.blockContent.node.type.name==="paragraph";return l&&!a?r.command(pn(s.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>r.command(({state:i})=>{const s=nt(i);if(!s.isBlockContainer)return!1;const{blockContent:l}=s;return i.selection.from===l.beforePos+1?r.liftListItem("blockContainer"):!1}),()=>r.command(({state:i})=>{const s=nt(i);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:a}=s,c=i.selection.from===a.beforePos+1,u=i.selection.empty,d=l.beforePos;return c&&u?o().command(jN(d)).scrollIntoView().run():!1}),()=>r.command(({state:i,dispatch:s})=>{const l=nt(i);if(!l.isBlockContainer||i.selection.from!==l.blockContent.beforePos+1||Qm(i.doc,l.bnBlock.beforePos))return!1;const a=PN(i.doc,l.bnBlock.beforePos);if((a==null?void 0:a.blockNoteType)!=="column")return!1;const c=a,u=PN(i.doc,c.bnBlock.beforePos);if((u==null?void 0:u.blockNoteType)!=="columnList")throw new Error("parent of column is not a column list");const d=c.childContainer.node.childCount===1,f=d&&u.childContainer.node.childCount===2,h=u.childContainer.node.firstChild===c.bnBlock.node;if(s){const p=i.doc.slice(l.bnBlock.beforePos,l.bnBlock.afterPos,!1);if(f)if(h){i.tr.step(new xt(u.bnBlock.beforePos,u.bnBlock.afterPos,c.bnBlock.afterPos+1,u.bnBlock.afterPos-2,p,p.size,!1));const m=i.tr.doc.resolve(c.bnBlock.beforePos);i.tr.setSelection(Y.between(m,m))}else{i.tr.step(new xt(u.bnBlock.beforePos,u.bnBlock.afterPos,u.bnBlock.beforePos+2,c.bnBlock.beforePos-1,p,0,!1));const m=i.tr.doc.resolve(i.tr.mapping.map(c.bnBlock.beforePos-1));i.tr.setSelection(Y.between(m,m))}else if(d)if(h){i.tr.delete(c.bnBlock.beforePos,c.bnBlock.afterPos),i.tr.insert(u.bnBlock.beforePos,p.content);const m=i.tr.doc.resolve(u.bnBlock.beforePos);i.tr.setSelection(Y.between(m,m))}else i.tr.delete(c.bnBlock.beforePos-1,c.bnBlock.beforePos+1);else{i.tr.delete(l.bnBlock.beforePos,l.bnBlock.afterPos),h?i.tr.insert(u.bnBlock.beforePos-1,p.content):i.tr.insert(c.bnBlock.beforePos-1,p.content);const m=i.tr.doc.resolve(c.bnBlock.beforePos-1);i.tr.setSelection(Y.between(m,m))}}return!0}),()=>r.command(({state:i})=>{const s=nt(i);if(!s.isBlockContainer)return!1;if(s.blockContent.node.childCount===0&&s.blockContent.node.type.spec.content==="inline*"){const l=Qm(i.doc,s.bnBlock.beforePos);if(!l||!l.isBlockContainer)return!1;let a=o();if(l.blockContent.node.type.spec.content==="tableRow+"){const c=s.bnBlock.beforePos-1-1-1-1-1;a=a.setTextSelection(c)}else if(l.blockContent.node.type.spec.content===""){const c=l.blockContent.afterPos-l.blockContent.node.nodeSize;a=a.setNodeSelection(c)}else{const c=l.blockContent.afterPos-l.blockContent.node.nodeSize;a=a.setTextSelection(c)}return a.deleteRange({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>r.command(({state:i})=>{const s=nt(i);if(!s.isBlockContainer)throw new Error("todo");const l=i.selection.from===s.blockContent.beforePos+1,a=i.selection.empty,c=Qm(i.doc,s.bnBlock.beforePos);if(c&&l&&a){const u=Uj(i.doc,c);if(!u.isBlockContainer)throw new Error("todo");if(u.blockContent.node.type.spec.content===""||u.blockContent.node.type.spec.content==="inline*"&&u.blockContent.node.childCount===0)return o().cut({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos},u.bnBlock.afterPos).deleteRange({from:u.bnBlock.beforePos,to:u.bnBlock.afterPos}).run()}return!1})]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.command(({state:r})=>{const i=nt(r);if(!i.isBlockContainer)return!1;const{bnBlock:s,blockContent:l,childContainer:a}=i,{depth:c}=r.doc.resolve(s.beforePos),u=s.afterPos===r.doc.nodeSize-3,d=r.selection.from===l.afterPos-1,f=r.selection.empty;if(!u&&d&&f&&a===void 0){let h=c,p=s.afterPos+1,m=r.doc.resolve(p).depth;for(;m<h;)h=m,p+=2,m=r.doc.resolve(p).depth;return o.command(jN(p-1))}return!1})]),n=(o=!1)=>this.editor.commands.first(({commands:r,tr:i})=>[()=>r.command(({state:s})=>{const l=nt(s);if(!l.isBlockContainer)return!1;const{bnBlock:a,blockContent:c}=l,{depth:u}=s.doc.resolve(a.beforePos),d=s.selection.$anchor.parentOffset===0,f=s.selection.anchor===s.selection.head,h=c.node.childCount===0,p=u>1;return d&&f&&h&&p?r.liftListItem("blockContainer"):!1}),()=>r.command(({state:s})=>{const l=nt(s),a=this.options.editor.schema.blockSchema[l.blockNoteType].hardBreakShortcut??"shift+enter";if(a==="none")return!1;if(a==="shift+enter"&&o||a==="enter"){const c=i.storedMarks||i.selection.$head.marks().filter(u=>this.editor.extensionManager.splittableMarks.includes(u.type.name));return i.insert(i.selection.head,i.doc.type.schema.nodes.hardBreak.create()).ensureMarks(c),!0}return!1}),()=>r.command(({state:s,dispatch:l})=>{const a=nt(s);if(!a.isBlockContainer)return!1;const{bnBlock:c,blockContent:u}=a,d=s.selection.$anchor.parentOffset===0,f=s.selection.anchor===s.selection.head,h=u.node.childCount===0;if(d&&f&&h){const p=c.afterPos,m=p+2;if(l){const b=s.schema.nodes.blockContainer.createAndFill();s.tr.insert(p,b).scrollIntoView(),s.tr.setSelection(new Y(s.doc.resolve(m)))}return!0}return!1}),()=>r.command(({state:s,chain:l})=>{const a=nt(s);if(!a.isBlockContainer)return!1;const{blockContent:c}=a,u=s.selection.$anchor.parentOffset===0;return c.node.childCount===0?!1:(l().deleteSelection().command(kj(s.selection.from,u,u)).run(),!0)})]);return{Backspace:t,Delete:e,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var o,r,i;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(r=this.options.editor.linkToolbar)!=null&&r.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:Oj(this.options.editor)},"Shift-Tab":()=>{var o,r,i;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(r=this.options.editor.linkToolbar)!=null&&r.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0),"Mod-z":()=>this.options.editor.undo(),"Mod-y":()=>this.options.editor.redo(),"Shift-Mod-z":()=>this.options.editor.redo()}}});class vle{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"menuUpdateTimer"),A(this,"startMenuUpdateTimer"),A(this,"stopMenuUpdateTimer"),A(this,"mouseHoveredLinkMark"),A(this,"mouseHoveredLinkMarkRange"),A(this,"keyboardHoveredLinkMark"),A(this,"keyboardHoveredLinkMarkRange"),A(this,"linkMark"),A(this,"linkMarkRange"),A(this,"mouseOverHandler",r=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),r.target instanceof HTMLAnchorElement&&r.target.nodeName==="A"){const i=r.target,s=this.pmView.posAtDOM(i,0)+1,l=this.pmView.state.doc.resolve(s),a=l.marks();for(const c of a)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=qf(l,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),A(this,"clickHandler",r=>{var i;const s=this.pmView.dom.parentElement;this.linkMark&&r&&r.target&&!(s===r.target||s.contains(r.target))&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"scrollHandler",()=>{var r;this.linkMark!==void 0&&(r=this.state)!=null&&r.show&&(this.state.referencePos=ib(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),A(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");o(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,n){var o;this.editor.transact(r=>{const i=Kt(r);r.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to),r.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,i.mark("link",{href:e}))}),this.pmView.focus(),(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.transact(n=>n.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(e,n,o=!1){var r;const{state:i}=e;if(n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to||!this.pmView.hasFocus())return;const s=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const l=this.pmView.state.selection.$from.marks();for(const a of l)if(a.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=a,this.keyboardHoveredLinkMarkRange=qf(this.pmView.state.selection.$from,a.type,a.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&o&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:ib(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((r=this.state)!=null&&r.show&&s&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const wle=new Te("LinkToolbarPlugin");class kle extends Wt{constructor(e){super(),A(this,"view"),A(this,"editLink",(n,o)=>{this.view.editLink(n,o)}),A(this,"deleteLink",()=>{this.view.deleteLink()}),A(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),A(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),A(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new de({key:wle,view:n=>(this.view=new vle(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"linkToolbar"}onUpdate(e){return this.on("update",e)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const Fj=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],Gj="https",xle=new Te("node-selection-keyboard");class Cle extends Wt{static key(){return"nodeSelectionKeyboard"}constructor(){super(),this.addProsemirrorPlugin(new de({key:xle,props:{handleKeyDown:(e,n)=>{if("node"in e.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const o=e.state.tr;return e.dispatch(o.insert(e.state.tr.selection.$to.after(),e.state.schema.nodes.paragraph.createChecked()).setSelection(new Y(o.doc.resolve(e.state.tr.selection.$to.after()+1)))),!0}}return!1}}}))}}const _le=new Te("blocknote-placeholder");class Sle extends Wt{static key(){return"placeholder"}constructor(e,n){super(),this.addProsemirrorPlugin(new de({key:_le,view:o=>{var r,i;const s=`placeholder-selector-${m8()}`;o.dom.classList.add(s);const l=document.createElement("style"),a=e._tiptapEditor.options.injectNonce;a&&l.setAttribute("nonce",a),((r=e.prosemirrorView)==null?void 0:r.root)instanceof ShadowRoot?e.prosemirrorView.root.append(l):(i=e.prosemirrorView)==null||i.root.head.appendChild(l);const c=l.sheet,u=(d="")=>`.${s} .bn-block-content${d} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:d,emptyDocument:f,...h}=n;for(const[b,y]of Object.entries(h)){const w=`[data-content-type="${b}"]`;c.insertRule(`${u(w)} { content: ${JSON.stringify(y)}; }`)}c.insertRule(`${u("[data-is-only-empty-block]")} { content: ${JSON.stringify(f)}; }`),c.insertRule(`${u("[data-is-empty-and-focused]")} { content: ${JSON.stringify(d)}; }`)}catch(d){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",d)}return{destroy:()=>{var d,f;((d=e.prosemirrorView)==null?void 0:d.root)instanceof ShadowRoot?e.prosemirrorView.root.removeChild(l):(f=e.prosemirrorView)==null||f.root.head.removeChild(l)}}},props:{decorations:o=>{const{doc:r,selection:i}=o;if(!e.isEditable||!i.empty||i.$from.parent.type.spec.code)return;const s=[];o.doc.content.size===6&&s.push(Le.node(2,4,{"data-is-only-empty-block":"true"}));const l=i.$anchor,a=l.parent;if(a.content.size===0){const c=l.before();s.push(Le.node(c,c+a.nodeSize,{"data-is-empty-and-focused":"true"}))}return ye.create(r,s)}}}))}}const BN=new Te("previous-blocks"),Ele={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class Tle extends Wt{static key(){return"previousBlockType"}constructor(){super();let e;this.addProsemirrorPlugin(new de({key:BN,view(n){return{update:async(o,r)=>{var i;((i=this.key)==null?void 0:i.getState(o.state).updatedBlocks.size)>0&&(e=setTimeout(()=>{o.dispatch(o.state.tr.setMeta(BN,{clearUpdate:!0}))},0))},destroy:()=>{e&&clearTimeout(e)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,o,r,i){if(o.currentTransactionOldBlockAttrs={},o.updatedBlocks.clear(),!n.docChanged||r.doc.eq(i.doc))return o;const s={},l=wR(r.doc,u=>u.attrs.id),a=new Map(l.map(u=>[u.node.attrs.id,u])),c=wR(i.doc,u=>u.attrs.id);for(const u of c){const d=a.get(u.node.attrs.id),f=d==null?void 0:d.node.firstChild,h=u.node.firstChild;if(d&&f&&h){const p={index:h.attrs.index,level:h.attrs.level,type:h.type.name,depth:i.doc.resolve(u.pos).depth};let m={index:f.attrs.index,level:f.attrs.level,type:f.type.name,depth:r.doc.resolve(d.pos).depth};s[u.node.attrs.id]=m,n.getMeta("numberedListIndexing")&&(u.node.attrs.id in o.prevTransactionOldBlockAttrs&&(m=o.prevTransactionOldBlockAttrs[u.node.attrs.id]),p.type==="numberedListItem"&&(m.index=p.index)),o.currentTransactionOldBlockAttrs[u.node.attrs.id]=m,JSON.stringify(m)!==JSON.stringify(p)&&(m["depth-change"]=m.depth-p.depth,o.updatedBlocks.add(u.node.attrs.id))}}return o.prevTransactionOldBlockAttrs=s,o}},props:{decorations(n){const o=this.getState(n);if(o.updatedBlocks.size===0)return;const r=[];return n.doc.descendants((i,s)=>{if(!i.attrs.id||!o.updatedBlocks.has(i.attrs.id))return;const l=o.currentTransactionOldBlockAttrs[i.attrs.id],a={};for(const[u,d]of Object.entries(l))a["data-prev-"+Ele[u]]=d||"none";const c=Le.node(s,s+i.nodeSize,{...a});r.push(c)}),ye.create(n.doc,r)}}}))}}const zN=new Te("blocknote-show-selection");class Mle extends Wt{constructor(e){super(),A(this,"enabled",!1),this.editor=e,this.addProsemirrorPlugin(new de({key:zN,props:{decorations:n=>{const{doc:o,selection:r}=n;if(!this.enabled)return ye.empty;const i=Le.inline(r.from,r.to,{"data-show-selection":"true"});return ye.create(o,[i])}}}))}static key(){return"showSelection"}setEnabled(e){this.enabled!==e&&(this.enabled=e,this.editor.transact(n=>n.setMeta(zN,{})))}getEnabled(){return this.enabled}}function qj(t,e){for(var n,o;t&&t.parentElement&&t.parentElement!==e.dom&&((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((o=t.getAttribute)==null?void 0:o.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}let Qx=class eg extends ne{constructor(e,n){super(e,n),A(this,"nodes");const o=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,n.pos,(r,i,s)=>{if(s!==null&&s.eq(o))return this.nodes.push(r),!1})}static create(e,n,o=n){return new eg(e.resolve(n),e.resolve(o))}content(){return new q(L.from(this.nodes),0,0)}eq(e){if(!(e instanceof eg)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(e.nodes[n]))return!1;return!0}map(e,n){const o=n.mapResult(this.from),r=n.mapResult(this.to);return r.deleted?ne.near(e.resolve(o.pos)):o.deleted?ne.near(e.resolve(r.pos)):new eg(e.resolve(o.pos),e.resolve(r.pos))}toJSON(){return{type:"multiple-node",anchor:this.anchor,head:this.head}}};ne.jsonID("multiple-node",Qx);let nr;function Ale(t,e){let n,o;const r=e.resolve(t.from).node().type.spec.group==="blockContent",i=e.resolve(t.to).node().type.spec.group==="blockContent",s=Math.min(t.$anchor.depth,t.$head.depth);if(r&&i){const l=t.$from.start(s-1),a=t.$to.end(s-1);n=e.resolve(l-1).pos,o=e.resolve(a+1).pos}else n=t.from,o=t.to;return{from:n,to:o}}function HN(t,e,n=e){e===n&&(n+=t.state.doc.resolve(e+1).node().nodeSize);const o=t.domAtPos(e).node.cloneNode(!0),r=t.domAtPos(e).node,i=(u,d)=>Array.prototype.indexOf.call(u.children,d),s=i(r,t.domAtPos(e+1).node.parentElement),l=i(r,t.domAtPos(n-1).node.parentElement);for(let u=r.childElementCount-1;u>=0;u--)(u>l||u<s)&&o.removeChild(o.children[u]);Wj(t.root),nr=o;const a=nr.getElementsByTagName("iframe");for(let u=0;u<a.length;u++){const d=a[u],f=d.parentElement;f&&f.removeChild(d)}const c=t.dom.className.split(" ").filter(u=>u!=="ProseMirror"&&u!=="bn-root"&&u!=="bn-editor").join(" ");nr.className=nr.className+" bn-drag-preview "+c,t.root instanceof ShadowRoot?t.root.appendChild(nr):t.root.body.appendChild(nr)}function Wj(t){nr!==void 0&&(t instanceof ShadowRoot?t.removeChild(nr):t.body.removeChild(nr),nr=void 0)}function Rle(t,e,n){if(!t.dataTransfer)return;const o=n.prosemirrorView;if(!o)return;const r=Rn(e.id,o.state.doc);if(!r)throw new Error(`Block with ID ${e.id} not found`);const i=r.posBeforeNode;if(i!=null){const s=o.state.selection,l=o.state.doc,{from:a,to:c}=Ale(s,l),u=a<=i&&i<c,d=s.$anchor.node()!==s.$head.node()||s instanceof Qx;u&&d?(o.dispatch(o.state.tr.setSelection(Qx.create(l,a,c))),HN(o,a,c)):(o.dispatch(o.state.tr.setSelection(J.create(o.state.doc,i))),HN(o,i));const f=o.state.selection.content(),h=n.pmSchema,p=o.serializeForClipboard(f).dom.innerHTML,m=$0(h,n),b=jj(f.content),y=m.exportBlocks(b,{}),w=L2(y);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",p),t.dataTransfer.setData("text/html",y),t.dataTransfer.setData("text/plain",w),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(nr,0,0)}}const VN=250;function eC(t,e,n=!0){const o=t.root.elementsFromPoint(e.left,e.top);for(const r of o)if(t.dom.contains(r))return n&&r.closest("[data-node-type=columnList]")?eC(t,{left:e.left+50,top:e.top},!1):qj(r,t)}function Nle(t,e){if(!e.dom.firstChild)return;const n=e.dom.firstChild.getBoundingClientRect(),o={left:Math.min(Math.max(n.left+10,t.x),n.right-10),top:t.y},r=eC(e,o);if(!r)return;const i=r.node.getBoundingClientRect();return eC(e,{left:i.right-10,top:t.y},!1)}class Ole{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"mousePos"),A(this,"hoveredBlock"),A(this,"menuFrozen",!1),A(this,"isDragOrigin",!1),A(this,"updateState",r=>{this.state=r,this.emitUpdate(this.state)}),A(this,"updateStateFromMousePos",()=>{var r,i,s,l,a;if(this.menuFrozen||!this.mousePos)return;const c=this.findClosestEditorElement({clientX:this.mousePos.x,clientY:this.mousePos.y});if((c==null?void 0:c.element)!==this.pmView.dom||c.distance>VN){(r=this.state)!=null&&r.show&&(this.state.show=!1,this.updateState(this.state));return}const u=Nle(this.mousePos,this.pmView);if(!u||!this.editor.isEditable){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}if((s=this.state)!=null&&s.show&&(l=this.hoveredBlock)!=null&&l.hasAttribute("data-id")&&((a=this.hoveredBlock)==null?void 0:a.getAttribute("data-id"))===u.id)return;this.hoveredBlock=u.node;const d=u.node.firstChild;if(d&&this.editor.isEditable){const f=d.getBoundingClientRect(),h=u.node.closest("[data-node-type=column]");this.updateState({show:!0,referencePos:new DOMRect(h?h.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,f.y,f.width,f.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))})}}),A(this,"onDragStart",r=>{var i;const s=(i=r.dataTransfer)==null?void 0:i.getData("blocknote/html");if(!s||this.pmView.dragging)return;const l=document.createElement("div");l.innerHTML=s;const a=zr.fromSchema(this.pmView.state.schema).parse(l,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new q(a.content,0,0),move:!0}}),A(this,"findClosestEditorElement",r=>{const i=Array.from(this.pmView.root.querySelectorAll(".bn-editor"));if(i.length===0)return null;let s=i[0],l=Number.MAX_VALUE;return i.forEach(a=>{const c=a.querySelector(".bn-block-group").getBoundingClientRect(),u=r.clientX<c.left?c.left-r.clientX:r.clientX>c.right?r.clientX-c.right:0,d=r.clientY<c.top?c.top-r.clientY:r.clientY>c.bottom?r.clientY-c.bottom:0,f=Math.sqrt(Math.pow(u,2)+Math.pow(d,2));f<l&&(l=f,s=a)}),{element:s,distance:l}}),A(this,"onDragOver",r=>{if(r.synthetic)return;const i=this.getDragEventContext(r);if(!i||!i.isDropPoint){this.closeDropCursor();return}i.isDropPoint&&!i.isDropWithinEditorBounds&&this.dispatchSyntheticEvent(r)}),A(this,"closeDropCursor",()=>{const r=new Event("dragleave",{bubbles:!1});r.synthetic=!0,this.pmView.dom.dispatchEvent(r)}),A(this,"getDragEventContext",r=>{var i;const s=!((i=r.dataTransfer)!=null&&i.types.includes("blocknote/html"))&&!!this.pmView.dragging,l=!!this.isDragOrigin,a=s||l,c=this.findClosestEditorElement(r);if(!c||c.distance>VN)return;const u=c.element===this.pmView.dom,d=u&&c.distance===0;if(!(!u&&!a))return{isDropPoint:u,isDropWithinEditorBounds:d,isDragOrigin:a}}),A(this,"onDrop",r=>{if(r.synthetic)return;const i=this.getDragEventContext(r);if(!i){this.closeDropCursor();return}const{isDropPoint:s,isDropWithinEditorBounds:l,isDragOrigin:a}=i;if(!l&&s&&this.dispatchSyntheticEvent(r),s){if(this.pmView.dragging)return;this.pmView.dispatch(this.pmView.state.tr.setSelection(Y.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.anchor)));return}else if(a){setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0);return}}),A(this,"onDragEnd",r=>{r.synthetic||(this.pmView.dragging=null)}),A(this,"onKeyDown",r=>{var i;(i=this.state)!=null&&i.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),A(this,"onMouseMove",r=>{var i;if(this.menuFrozen)return;this.mousePos={x:r.clientX,y:r.clientY};const s=this.pmView.dom.getBoundingClientRect(),l=this.mousePos.x>s.left&&this.mousePos.x<s.right&&this.mousePos.y>s.top&&this.mousePos.y<s.bottom,a=this.pmView.dom.parentElement;if(l&&r&&r.target&&!(a===r.target||a.contains(r.target))){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),A(this,"onScroll",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state)),this.updateStateFromMousePos()}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");o(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),O2(),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),n.root.addEventListener("scroll",this.onScroll,!0)}dispatchSyntheticEvent(e){const n=new Event(e.type,e),o=this.pmView.dom.firstChild.getBoundingClientRect();n.clientX=e.clientX,n.clientY=e.clientY,n.clientX=Math.min(Math.max(e.clientX,o.left),o.left+o.width),n.clientY=Math.min(Math.max(e.clientY,o.top),o.top+o.height),n.dataTransfer=e.dataTransfer,n.preventDefault=()=>e.preventDefault(),n.synthetic=!0,this.pmView.dom.dispatchEvent(n)}update(e,n){var o;!n.doc.eq(this.pmView.state.doc)&&(o=this.state)!=null&&o.show&&this.updateStateFromMousePos()}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}}const Lle=new Te("SideMenuPlugin");class Dle extends Wt{constructor(e){super(),A(this,"view"),A(this,"blockDragStart",(n,o)=>{this.view&&(this.view.isDragOrigin=!0),Rle(n,o,this.editor)}),A(this,"blockDragEnd",()=>{this.editor.prosemirrorView&&Wj(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),A(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),A(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.addProsemirrorPlugin(new de({key:Lle,view:n=>(this.view=new Ole(e,n,o=>{this.emit("update",o)}),this.view)}))}static key(){return"sideMenu"}onUpdate(e){return this.on("update",e)}}const dm=new Map;function Ile(t){if(dm.has(t))return dm.get(t);const e=new vu;return t._tiptapEditor.on("transaction",({transaction:n})=>{e.appendMapping(n.mapping)}),t._tiptapEditor.on("destroy",()=>{dm.delete(t)}),dm.set(t,e),e}function $le(t,e,n="left"){const o=Ne.getState(t._tiptapEditor.state);if(!o){const i=Ile(t),s=i.maps.length;return()=>i.slice(s).map(e,n==="left"?-1:1)}const r=ah(e+(n==="right"?1:0),o.binding.type,o.binding.mapping);return()=>{const i=Ne.getState(t._tiptapEditor.state),s=ha(i.doc,i.binding.type,r,i.binding.mapping);if(s===null)throw new Error("Position not found, cannot track positions");return s+(n==="right"?-1:0)}}const Ple=C0(t=>t.type.name==="blockContainer");class jle{constructor(e,n){A(this,"state"),A(this,"emitUpdate"),A(this,"rootEl"),A(this,"pluginState"),A(this,"handleScroll",()=>{var i,s;if((i=this.state)!=null&&i.show){const l=(s=this.rootEl)==null?void 0:s.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!l)return;this.state.referencePos=l.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),A(this,"closeMenu",()=>{this.editor.transact(i=>i.setMeta(Qc,null))}),A(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor.transact(i=>i.selection.from)}).run()});var o,r;this.editor=e,this.pluginState=void 0,this.emitUpdate=i=>{var s;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(i,{...this.state,ignoreQueryLength:(s=this.pluginState)==null?void 0:s.ignoreQueryLength})},this.rootEl=(o=this.editor.prosemirrorView)==null?void 0:o.root,(r=this.rootEl)==null||r.addEventListener("scroll",this.handleScroll,!0)}update(e,n){var o;const r=Qc.getState(n),i=Qc.getState(e.state),s=r===void 0&&i!==void 0,l=r!==void 0&&i===void 0;if(!s&&!(r!==void 0&&i!==void 0)&&!l)return;if(this.pluginState=l?r:i,l||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const a=(o=this.rootEl)==null?void 0:o.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&a&&(this.state={show:!0,referencePos:a.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const Qc=new Te("SuggestionMenuPlugin");class Ble extends Wt{constructor(e){super(),A(this,"view"),A(this,"triggerCharacters",[]),A(this,"addTriggerCharacter",o=>{this.triggerCharacters.push(o)}),A(this,"removeTriggerCharacter",o=>{this.triggerCharacters=this.triggerCharacters.filter(r=>r!==o)}),A(this,"closeMenu",()=>this.view.closeMenu()),A(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.addProsemirrorPlugin(new de({key:Qc,view:()=>(this.view=new jle(e,(o,r)=>{this.emit(`update ${o}`,r)}),this.view),state:{init(){},apply:(o,r,i,s)=>{if(o.getMeta("orderedListIndexing")!==void 0||o.selection.$from.parent.type.spec.code)return r;const l=o.getMeta(Qc);if(typeof l=="object"&&l!==null){r&&this.closeMenu();const c=$le(e,s.selection.from-l.triggerCharacter.length);return{triggerCharacter:l.triggerCharacter,deleteTriggerCharacter:l.deleteTriggerCharacter!==!1,queryStartPos:()=>c()+l.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:l==null?void 0:l.ignoreQueryLength}}if(r===void 0)return r;if(s.selection.from!==s.selection.to||l===null||o.getMeta("focus")||o.getMeta("blur")||o.getMeta("pointer")||r.triggerCharacter!==void 0&&s.selection.from<r.queryStartPos()||!s.selection.$from.sameParent(s.doc.resolve(r.queryStartPos())))return;const a={...r};return a.query=s.doc.textBetween(r.queryStartPos(),s.selection.from),a}},props:{handleTextInput(o,r,i,s){if(r===i){const l=o.state.doc;for(const a of n){const c=a.length>1?l.textBetween(r-a.length,r)+s:s;if(a===c)return o.dispatch(o.state.tr.insertText(s)),o.dispatch(o.state.tr.setMeta(Qc,{triggerCharacter:c}).scrollIntoView()),!0}}return!1},decorations(o){const r=this.getState(o);if(r===void 0)return null;if(!r.deleteTriggerCharacter){const i=Ple(o.selection);if(i)return ye.create(o.doc,[Le.node(i.pos,i.pos+i.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":r.decorationId})])}return ye.create(o.doc,[Le.inline(r.queryStartPos()-r.triggerCharacter.length,r.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":r.decorationId})])}}}))}static key(){return"suggestionMenu"}onUpdate(e,n){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,n)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const zle=rn.create({name:"insertion",inclusive:!1,excludes:"deletion modification insertion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(t){return t.name!=="insertion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(e,n){return["ins",{"data-id":String(e.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"ins",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10)}:!1}}]}}}),Hle=rn.create({name:"deletion",inclusive:!1,excludes:"insertion modification deletion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(t){return t.name!=="deletion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(e,n){return["del",{"data-id":String(e.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"del",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10)}:!1}}]}}}),Vle=rn.create({name:"modification",inclusive:!1,excludes:"deletion insertion",addAttributes(){return{id:{default:null,validate:"number"},type:{validate:"string"},attrName:{default:null,validate:"string|null"},previousValue:{default:null},newValue:{default:null}}},extendMarkSchema(t){return t.name!=="modification"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(e,n){return[n?"span":"div",{"data-type":"modification","data-id":String(e.attrs.id),"data-mod-type":e.attrs.type,"data-mod-prev-val":JSON.stringify(e.attrs.previousValue),"data-mod-new-val":JSON.stringify(e.attrs.newValue)},0]},parseDOM:[{tag:"span[data-type='modification']",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10),type:e.dataset.modType,previousValue:e.dataset.modPrevVal,newValue:e.dataset.modNewVal}:!1}},{tag:"div[data-type='modification']",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10),type:e.dataset.modType,previousValue:e.dataset.modPrevVal}:!1}}]}}});let jn;function UN(t){jn||(jn=document.createElement("div"),jn.innerHTML="_",jn.style.opacity="0",jn.style.height="1px",jn.style.width="1px",t instanceof Document?t.body.appendChild(jn):t.appendChild(jn))}function Ule(t){jn&&(t instanceof Document?t.body.removeChild(jn):t.removeChild(jn),jn=void 0)}function fm(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function Fle(t){let e=t;for(;e&&e.nodeName!=="TD"&&e.nodeName!=="TH"&&!e.classList.contains("tableWrapper");){if(e.classList.contains("ProseMirror"))return;const n=e.parentNode;if(!n||!(n instanceof Element))return;e=n}return e.nodeName==="TD"||e.nodeName==="TH"?{type:"cell",domNode:e,tbodyNode:e.closest("tbody")}:{type:"wrapper",domNode:e,tbodyNode:e.querySelector("tbody")}}function Gle(t,e){const n=e.querySelectorAll(t);for(let o=0;o<n.length;o++)n[o].style.visibility="hidden"}class qle{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"tableId"),A(this,"tablePos"),A(this,"tableElement"),A(this,"menuFrozen",!1),A(this,"mouseState","up"),A(this,"prevWasEditable",null),A(this,"viewMousedownHandler",()=>{this.mouseState="down"}),A(this,"mouseUpHandler",r=>{this.mouseState="up",this.mouseMoveHandler(r)}),A(this,"mouseMoveHandler",r=>{var i,s,l,a,c,u,d;if(this.menuFrozen||this.mouseState==="selecting"||!(r.target instanceof Element)||!this.pmView.dom.contains(r.target))return;const f=Fle(r.target);if((f==null?void 0:f.type)==="cell"&&this.mouseState==="down"&&!((i=this.state)!=null&&i.draggingState)){this.mouseState="selecting",(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!f||!this.editor.isEditable){(l=this.state)!=null&&l.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!f.tbodyNode)return;const h=f.tbodyNode.getBoundingClientRect(),p=qj(f.domNode,this.pmView);if(!p)return;this.tableElement=p.node;let m;const b=this.editor.transact(k=>Rn(p.id,k.doc));if(!b)throw new Error(`Block with ID ${p.id} not found`);const y=Je(b.node,this.editor.pmSchema,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema);if(ese("table",y,this.editor)&&(this.tablePos=b.posBeforeNode+1,m=y),!m)return;this.tableId=p.id;const w=(a=f.domNode.closest(".tableWrapper"))==null?void 0:a.querySelector(".table-widgets-container");if((f==null?void 0:f.type)==="wrapper"){const k=r.clientY>=h.bottom-1&&r.clientY<h.bottom+20,x=r.clientX>=h.right-1&&r.clientX<h.right+20,C=r.clientX>h.right||r.clientY>h.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:k,showAddOrRemoveColumnsButton:x,referencePosTable:h,block:m,widgetContainer:w,colIndex:C||(c=this.state)==null?void 0:c.colIndex,rowIndex:C||(u=this.state)==null?void 0:u.rowIndex,referencePosCell:C||(d=this.state)==null?void 0:d.referencePosCell}}else{const k=fm(f.domNode),x=fm(f.domNode.parentElement),C=f.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===p.id&&this.state.rowIndex===x&&this.state.colIndex===k)return;this.state={show:!0,showAddOrRemoveColumnsButton:k===m.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:x===m.content.rows.length-1,referencePosTable:h,block:m,draggingState:void 0,referencePosCell:C,colIndex:k,rowIndex:x,widgetContainer:w}}return this.emitUpdate(),!1}),A(this,"dragOverHandler",r=>{var i;if(((i=this.state)==null?void 0:i.draggingState)===void 0)return;r.preventDefault(),r.dataTransfer.dropEffect="move",Gle(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const s={left:Math.min(Math.max(r.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(r.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},l=this.pmView.root.elementsFromPoint(s.left,s.top).filter(m=>m.tagName==="TD"||m.tagName==="TH");if(l.length===0)return;const a=l[0];let c=!1;const u=fm(a.parentElement),d=fm(a),f=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,h=(this.state.draggingState.draggedCellOrientation==="row"?u:d)!==f;(this.state.rowIndex!==u||this.state.colIndex!==d)&&(this.state.rowIndex=u,this.state.colIndex=d,this.state.referencePosCell=a.getBoundingClientRect(),c=!0);const p=this.state.draggingState.draggedCellOrientation==="row"?s.top:s.left;this.state.draggingState.mousePos!==p&&(this.state.draggingState.mousePos=p,c=!0),c&&this.emitUpdate(),h&&this.editor.transact(m=>m.setMeta(Vd,!0))}),A(this,"dropHandler",r=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");r.preventDefault();const{draggingState:i,colIndex:s,rowIndex:l}=this.state,a=this.state.block.content.columnWidths;if(i.draggedCellOrientation==="row"){if(!nj(this.state.block,i.originalIndex,l))return!1;const c=Rre(this.state.block,i.originalIndex,l);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:c}})}else{if(!oj(this.state.block,i.originalIndex,s))return!1;const c=Are(this.state.block,i.originalIndex,s),[u]=a.splice(i.originalIndex,1);a.splice(s,0,u),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:a,rows:c}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");o(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var e;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||this.state.block.type!=="table"||!((e=this.tableElement)!=null&&e.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:o}=E2(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=o&&(this.state.colIndex=o-1));const r=this.tableElement.querySelector("tbody");if(!r)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const i=r.children[this.state.rowIndex].children[this.state.colIndex];i?this.state.referencePosCell=i.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=r.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const Vd=new Te("TableHandlesPlugin");class Wle extends Wt{constructor(e){super(),A(this,"view"),A(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.transact(o=>o.setMeta(Vd,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");UN(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(jn,0,0),n.dataTransfer.effectAllowed="move"}),A(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.transact(o=>o.setMeta(Vd,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");UN(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(jn,0,0),n.dataTransfer.effectAllowed="copyMove"}),A(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.transact(n=>n.setMeta(Vd,null)),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");Ule(this.editor.prosemirrorView.root)}),A(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),A(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),A(this,"getCellsAtRowHandle",(n,o)=>Fx(n,o)),A(this,"getCellsAtColumnHandle",(n,o)=>Gx(n,o)),A(this,"setCellSelection",(n,o,r=o)=>{const i=this.view;if(!i)throw new Error("Table handles view not initialized");const s=n.doc.resolve(i.tablePos+1),l=n.doc.resolve(s.posAtIndex(o.row)+1),a=n.doc.resolve(l.posAtIndex(o.col)),c=n.doc.resolve(s.posAtIndex(r.row)+1),u=n.doc.resolve(c.posAtIndex(r.col)),d=n.tr;return d.setSelection(new ze(a,u)),n.apply(d)}),A(this,"addRowOrColumn",(n,o)=>{this.editor.exec((r,i)=>{const s=this.setCellSelection(r,o.orientation==="row"?{row:n,col:0}:{row:0,col:n});return o.orientation==="row"?o.side==="above"?SQ(s,i):EQ(s,i):o.side==="left"?wQ(s,i):kQ(s,i)})}),A(this,"removeRowOrColumn",(n,o)=>o==="row"?this.editor.exec((r,i)=>{const s=this.setCellSelection(r,{row:n,col:0});return MQ(s,i)}):this.editor.exec((r,i)=>{const s=this.setCellSelection(r,{row:0,col:n});return CQ(s,i)})),A(this,"mergeCells",n=>this.editor.exec((o,r)=>{const i=n?this.setCellSelection(o,n.relativeStartCell,n.relativeEndCell):o;return RQ(i,r)})),A(this,"splitCell",n=>this.editor.exec((o,r)=>{const i=n?this.setCellSelection(o,n):o;return NQ(i,r)})),A(this,"getCellSelection",()=>this.editor.transact(n=>{const o=n.selection;let r=o.$from,i=o.$to;if(Zx(o)){const{ranges:p}=o;p.forEach(m=>{r=m.$from.min(r??m.$from),i=m.$to.max(i??m.$to)})}else if(r=n.doc.resolve(o.$from.pos-o.$from.parentOffset-1),i=n.doc.resolve(o.$to.pos-o.$to.parentOffset-1),r.pos===0||i.pos===0)return;const s=n.doc.resolve(r.pos-r.parentOffset-1),l=n.doc.resolve(i.pos-i.parentOffset-1),a=n.doc.resolve(s.pos-s.parentOffset-1),c=r.index(s.depth),u=s.index(a.depth),d=i.index(l.depth),f=l.index(a.depth),h=[];for(let p=u;p<=f;p++)for(let m=c;m<=d;m++)h.push({row:p,col:m});return{from:{row:u,col:c},to:{row:f,col:d},cells:h}})),A(this,"getMergeDirection",n=>this.editor.transact(o=>{const r=Zx(o.selection)?o.selection:void 0;if(!r||!n||r.ranges.length<=1)return;const i=this.getCellSelection();if(i)return Lre(i.from,i.to,n)?"vertical":"horizontal"})),A(this,"cropEmptyRowsOrColumns",(n,o)=>Nre(n,o)),A(this,"addRowsOrColumns",(n,o,r)=>Ore(n,o,r)),this.editor=e,this.addProsemirrorPlugin(new de({key:Vd,view:n=>(this.view=new qle(e,n,o=>{this.emit("update",o)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const o=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(o===void 0)return;const r=[],{block:i,draggingState:s}=this.view.state,{originalIndex:l,draggedCellOrientation:a}=s;if(o===l||!i||a==="row"&&!nj(i,l,o)||a==="col"&&!oj(i,l,o))return ye.create(n.doc,r);const c=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?Fx(this.view.state.block,o).forEach(({row:u,col:d})=>{const f=n.doc.resolve(c.posAtIndex(u)+1),h=n.doc.resolve(f.posAtIndex(d)+1),p=h.node(),m=h.pos+(o>l?p.nodeSize-2:0);r.push(Le.widget(m,()=>{const b=document.createElement("div");return b.className="bn-table-drop-cursor",b.style.left="0",b.style.right="0",o>l?b.style.bottom="-2px":b.style.top="-3px",b.style.height="4px",b}))}):Gx(this.view.state.block,o).forEach(({row:u,col:d})=>{const f=n.doc.resolve(c.posAtIndex(u)+1),h=n.doc.resolve(f.posAtIndex(d)+1),p=h.node(),m=h.pos+(o>l?p.nodeSize-2:0);r.push(Le.widget(m,()=>{const b=document.createElement("div");return b.className="bn-table-drop-cursor",b.style.top="0",b.style.bottom="0",o>l?b.style.right="-2px":b.style.left="-3px",b.style.width="4px",b}))}),ye.create(n.doc,r)}}}))}static key(){return"tableHandles"}onUpdate(e){return this.on("update",e)}}const Kle=He.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem","tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),Zle=He.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{textColor:{default:ut.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):ut.textColor.default,renderHTML:t=>t.textColor===ut.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),Yle=He.create({name:"trailingNode",addProseMirrorPlugins(){const t=new Te(this.name);return[new de({key:t,appendTransaction:(e,n,o)=>{const{doc:r,tr:i,schema:s}=o,l=t.getState(o),a=r.content.size-2,c=s.nodes.blockContainer,u=s.nodes.paragraph;if(l)return i.insert(a,c.create(void 0,u.create()))},state:{init:(e,n)=>{},apply:(e,n)=>{if(!e.docChanged)return n;let o=e.doc.lastChild;if(!o||o.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(o=o.lastChild,!o||o.type.name!=="blockContainer")return!0;const r=o.firstChild;if(!r)throw new Error("Expected blockContent");return o.nodeSize>4||r.type.spec.content!=="inline*"}}})]}}),Xle={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},Jle=ti.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,marks:"insertion modification deletion",parseHTML(){return[{tag:"div[data-node-type="+this.name+"]",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[n,o]of Object.entries(Xle))t.getAttribute(o)&&(e[n]=t.getAttribute(o));return e}},{tag:'div[data-node-type="blockOuter"]',skip:!0}]},renderHTML({HTMLAttributes:t}){var e;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[i,s]of Object.entries(t))i!=="class"&&n.setAttribute(i,s);const o={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},r=document.createElement("div");r.className=Xe("bn-block",o.class),r.setAttribute("data-node-type",this.name);for(const[i,s]of Object.entries(o))i!=="class"&&r.setAttribute(i,s);return n.appendChild(r),{dom:n,contentDOM:r}}}),Qle=ti.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const n={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},o=document.createElement("div");o.className=Xe("bn-block-group",n.class),o.setAttribute("data-node-type","blockGroup");for(const[r,i]of Object.entries(n))r!=="class"&&o.setAttribute(r,i);return{dom:o,contentDOM:o}}}),eae=ti.create({name:"doc",topNode:!0,content:"blockGroup",marks:"insertion modification deletion"});class tae extends Wt{constructor({editor:e,collaboration:n}){super(e),A(this,"editor"),A(this,"collaboration"),A(this,"forkedState"),this.editor=e,this.collaboration=n}static key(){return"ForkYDocPlugin"}findTypeInOtherYdoc(e,n){const o=e.doc;if(e._item===null){const r=Array.from(o.share.keys()).find(i=>o.share.get(i)===e);if(r==null)throw new Error("type does not exist in other ydoc");return n.get(r,e.constructor)}else{const r=e._item,i=n.store.clients.get(r.id.client)??[],s=Ko(i,r.id.clock);return i[s].content.type}}get isForkedFromRemote(){return this.forkedState!==void 0}fork(){var e;if(this.isForkedFromRemote)return;const n=(e=this.collaboration)==null?void 0:e.fragment;if(!n)throw new Error("No fragment to fork from");const o=new wl;tN(o,nN(n.doc));const r=this.findTypeInOtherYdoc(n,o);this.forkedState={undoStack:Ho.getState(this.editor.prosemirrorState).undoManager.undoStack,originalFragment:n,forkedFragment:r},this.editor._tiptapEditor.unregisterPlugin([zd,Ho,Ne]),this.editor._tiptapEditor.registerPlugin(new Xx(r).plugins[0]),this.editor._tiptapEditor.registerPlugin(new Jx({editor:this.editor}).plugins[0]),this.emit("forked",!0)}merge({keepChanges:e}){if(!this.forkedState)return;this.editor._tiptapEditor.unregisterPlugin(Ne),this.editor._tiptapEditor.unregisterPlugin(Ho);const{originalFragment:n,forkedFragment:o,undoStack:r}=this.forkedState;if(this.editor.extensions.ySyncPlugin=new Xx(n),this.editor.extensions.yCursorPlugin=new Hj(this.collaboration),this.editor.extensions.yUndoPlugin=new Jx({editor:this.editor}),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.ySyncPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yCursorPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yUndoPlugin.plugins[0]),Ho.getState(this.editor.prosemirrorState).undoManager.undoStack=r,e){const i=nN(o.doc,_ne(n.doc));tN(n.doc,i,this.editor)}this.forkedState=void 0,this.emit("forked",!1)}}const nae=t=>{var e;const n={},o=oae(t);for(const i of o)n[i.name]=i;t.collaboration&&(n.ySyncPlugin=new Xx(t.collaboration.fragment),n.yUndoPlugin=new Jx({editor:t.editor}),(e=t.collaboration.provider)!=null&&e.awareness&&(n.yCursorPlugin=new Hj(t.collaboration)),n.forkYDocPlugin=new tae({editor:t.editor,collaboration:t.collaboration})),n.formattingToolbar=new ple(t.editor),n.linkToolbar=new kle(t.editor),n.sideMenu=new Dle(t.editor),n.suggestionMenus=new Ble(t.editor),n.filePanel=new dle(t.editor),n.placeholder=new Sle(t.editor,t.placeholders),(t.animations??!0)&&(n.animations=new Tle),t.tableHandles&&(n.tableHandles=new Wle(t.editor)),n.nodeSelectionKeyboard=new Cle,n.blockChange=new ile,n.showSelection=new Mle(t.editor),t.comments&&(n.comments=new cle(t.editor,t.comments.threadStore,Vj.name));const r=t.disableExtensions||[];for(const i of r)delete n[i];return n};let FN=!1;const oae=t=>{const e=[Ed.ClipboardTextSerializer,Ed.Commands,Ed.Editable,Ed.FocusEvents,Ed.Tabindex,lee,He.create({name:"dropCursor",addProseMirrorPlugins:()=>[t.dropCursor({width:5,color:"#ddeeff",editor:t.editor})]}),ep.configure({types:["blockContainer","columnList","column"],setIdAttribute:t.setIdAttribute}),mle,Uee,zle,Hle,Vle,Vee.extend({inclusive:!1}).configure({defaultProtocol:Gj,protocols:FN?[]:Fj}),...Object.values(t.styleSpecs).map(n=>n.implementation.mark.configure({editor:t.editor})),Zle,rle,Kle,He.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),eae,Jle.configure({editor:t.editor,domAttributes:t.domAttributes}),yle.configure({editor:t.editor,tabBehavior:t.tabBehavior}),Qle.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(n=>[...(n.implementation.requiredExtensions||[]).map(o=>o.configure({editor:t.editor,domAttributes:t.domAttributes})),n.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),ole(t.editor),tle(t.editor,t.pasteHandler||(n=>n.defaultPasteHandler())),jse(t.editor),...t.trailingBlock===void 0||t.trailingBlock?[Yle]:[],...t.comments?[Vj]:[]];return FN=!0,t.collaboration||e.push(bee),e};function rae(t,e){const n=[];return t.forEach((o,r,i)=>{i!==e&&n.push(o)}),L.from(n)}function iae(t,e){const n=[];for(let o=0;o<t.childCount;o++)if(t.child(o).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const r=n[n.length-1],i=r.copy(r.content.addToEnd(t.child(o)));n[n.length-1]=i}else{const r=e.nodes.table.createChecked(void 0,t.child(o));n.push(r)}else n.push(t.child(o));return t=L.from(n),t}function sae(t,e){let n=L.from(t.content);if(n=iae(n,e.state.schema),!lae(n,e))return new q(n,t.openStart,t.openEnd);for(let o=0;o<n.childCount;o++)if(n.child(o).type.spec.group==="blockContent"){const r=[n.child(o)];if(o+1<n.childCount&&n.child(o+1).type.name==="blockGroup"){const s=n.child(o+1).child(0).child(0);(s.type.name==="bulletListItem"||s.type.name==="numberedListItem"||s.type.name==="checkListItem")&&(r.push(n.child(o+1)),n=rae(n,o+1))}const i=e.state.schema.nodes.blockContainer.createChecked(void 0,r);n=n.replaceChild(o,i)}return new q(n,t.openStart,t.openEnd)}function lae(t,e){var n,o;const r=t.childCount===1,i=((n=t.firstChild)==null?void 0:n.type.spec.content)==="inline*",s=((o=t.firstChild)==null?void 0:o.type.spec.content)==="tableRow+";if(r){if(i)return!1;if(s){const l=nt(e.state);if(l.isBlockContainer)return l.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const tC=class extends MJ{constructor(e,n){super({...e,content:void 0}),A(this,"_state"),A(this,"mount",(l,a,c)=>{a?(this.options.element=a,this.createViewAlternative(l,c)):(this.destroy(),this.isInitialized=!1)});const o=this.schema;let r;const i=o.nodes.doc.createAndFill;o.nodes.doc.createAndFill=(...l)=>{if(r)return r;const a=i.apply(o.nodes.doc,l),c=JSON.parse(JSON.stringify(a.toJSON()));return c.content[0].content[0].attrs.id="initialBlockId",r=Pi.fromJSON(o,c),r};let s;try{const l=e==null?void 0:e.content.map(a=>Fa(a,this.schema,n).toJSON());s=rb({type:"doc",content:[{type:"blockGroup",content:l}]},this.schema,this.options.parseOptions)}catch(l){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",l),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=Ul.create({doc:s,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){if(!this.view){this._state=this.state.apply(e),this.emit("transaction",{editor:this,transaction:e});return}if(this.view.isDestroyed)return;if(this.isCapturingTransaction){this.dispatchTransaction(e);return}const{state:n,transactions:o}=this.state.applyTransaction(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&(this.emit("update",{editor:this,transaction:e}),this.emit("v3-update",{editor:this,transaction:e,appendedTransactions:o.slice(1)}))}forceEnablePlugins(){if(this.view)throw new Error("forcePluginsEnabled called after view has been initialized");this._state=this.state.reconfigure({plugins:this.extensionManager.plugins})}createViewAlternative(e,n){this.contentComponent=n;const o={};this.extensionManager.extensions.forEach(i=>{i.type==="mark"&&i.config.addMarkView&&(o[i.name]=i.config.addMarkView(e))}),this.view=new SS({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatch.bind(this),state:this.state,markViews:o,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.commands.focus(this.options.autofocus||this.options.element.getAttribute("data-bn-autofocus")==="true",{scrollIntoView:!1}),this.emit("create",{editor:this}),this.isInitialized=!0}};A(tC,"create",(t,e)=>{var n,o;const r=(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.setTimeout;typeof((o=globalThis==null?void 0:globalThis.window)==null?void 0:o.setTimeout)<"u"&&(globalThis.window.setTimeout=()=>0);try{return new tC(t,e)}finally{r&&(globalThis.window.setTimeout=r)}});let Kj=tC;Kj.prototype.createView=function(){this.options.onPaste=this.options.onDrop=void 0};const aae={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let cae=class Zj extends I2{constructor(e){var n,o,r,i,s,l,a,c,u,d,f,h,p,m,b,y;super(),A(this,"pmSchema"),A(this,"extensions",{}),A(this,"headless",!1),A(this,"_tiptapEditor"),A(this,"elementRenderer",null),A(this,"blockCache",new WeakMap),A(this,"dictionary"),A(this,"schema"),A(this,"blockImplementations"),A(this,"inlineContentImplementations"),A(this,"styleImplementations"),A(this,"formattingToolbar"),A(this,"linkToolbar"),A(this,"sideMenu"),A(this,"suggestionMenus"),A(this,"filePanel"),A(this,"tableHandles"),A(this,"comments"),A(this,"showSelectionPlugin"),A(this,"forkYDocPlugin"),A(this,"uploadFile"),A(this,"onUploadStartCallbacks",[]),A(this,"onUploadEndCallbacks",[]),A(this,"resolveFileUrl"),A(this,"resolveUsers"),A(this,"settings"),A(this,"activeTransaction",null),A(this,"mount",(_,T)=>{this._tiptapEditor.mount(this,_,T)}),this.options=e;const w=e;if(w.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(w.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(w.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(w.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||v2,this.settings={tables:{splitCells:((n=e==null?void 0:e.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((o=e==null?void 0:e.tables)==null?void 0:o.cellBackgroundColor)??!1,cellTextColor:((r=e==null?void 0:e.tables)==null?void 0:r.cellTextColor)??!1,headers:((i=e==null?void 0:e.tables)==null?void 0:i.headers)??!1},codeBlock:{indentLineWithTab:((s=e==null?void 0:e.codeBlock)==null?void 0:s.indentLineWithTab)??!0,defaultLanguage:((l=e==null?void 0:e.codeBlock)==null?void 0:l.defaultLanguage)??"text",supportedLanguages:((a=e==null?void 0:e.codeBlock)==null?void 0:a.supportedLanguages)??{},createHighlighter:((c=e==null?void 0:e.codeBlock)==null?void 0:c.createHighlighter)??void 0},heading:{levels:((u=e==null?void 0:e.heading)==null?void 0:u.levels)??[1,2,3]}};const k={defaultStyles:!0,schema:e.schema||td.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};if(k.comments&&!k.resolveUsers)throw new Error("resolveUsers is required when using comments");this.resolveUsers=k.resolveUsers,this.schema=k.schema,this.blockImplementations=k.schema.blockSpecs,this.inlineContentImplementations=k.schema.inlineContentSpecs,this.styleImplementations=k.schema.styleSpecs,this.extensions=nae({editor:this,domAttributes:k.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:k.collaboration,trailingBlock:k.trailingBlock,disableExtensions:k.disableExtensions,setIdAttribute:k.setIdAttribute,animations:k.animations??!0,tableHandles:ln("table",this),dropCursor:this.options.dropCursor??bre,placeholders:k.placeholders,tabBehavior:k.tabBehavior,comments:k.comments,pasteHandler:k.pasteHandler}),(((d=k._tiptapOptions)==null?void 0:d.extensions)||[]).forEach(_=>{this.extensions[_.name]=_});for(let _ of k.extensions||[]){typeof _=="function"&&(_=_(this));const T=_.constructor.key();if(!T)throw new Error(`Extension ${_.constructor.name} does not have a key method`);if(this.extensions[T])throw new Error(`Extension ${_.constructor.name} already exists with key ${T}`);this.extensions[T]=_}if(Object.entries(k._extensions||{}).forEach(([_,T])=>{const M=typeof T=="function"?T(this):T;if(!("plugin"in M)){this.extensions[_]=M;return}this.extensions[_]=new class extends Wt{static key(){return _}constructor(){super(),this.addProsemirrorPlugin(M.plugin)}get priority(){return M.priority}}}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,this.forkYDocPlugin=this.extensions.forkYDocPlugin,k.uploadFile){const _=k.uploadFile;this.uploadFile=async(T,M)=>{this.onUploadStartCallbacks.forEach($=>$.apply(this,[M]));try{return await _(T,M)}finally{this.onUploadEndCallbacks.forEach($=>$.apply(this,[M]))}}}this.resolveFileUrl=k.resolveFileUrl,this.headless=k._headless;const x="ySyncPlugin"in this.extensions||"liveblocksExtension"in this.extensions;x&&k.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const C=k.initialContent||(x?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:ep.options.generateID()}]);if(!Array.isArray(C)||C.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+C);const E=[...Object.entries(this.extensions).map(([_,T])=>{if(T instanceof He||T instanceof ti||T instanceof rn)return T;if(!(T instanceof Wt&&!T.plugins.length))return He.create({name:_,priority:T.priority,addProseMirrorPlugins:()=>T.plugins})})].filter(_=>_!==void 0),S={...aae,...k._tiptapOptions,content:C,extensions:E,editorProps:{...(f=k._tiptapOptions)==null?void 0:f.editorProps,attributes:{tabIndex:"0",...(p=(h=k._tiptapOptions)==null?void 0:h.editorProps)==null?void 0:p.attributes,...(m=k.domAttributes)==null?void 0:m.editor,class:Xe("bn-editor",k.defaultStyles?"bn-default-styles":"",((y=(b=k.domAttributes)==null?void 0:b.editor)==null?void 0:y.class)||"")},transformPasted:sae}};this.headless?this.pmSchema=eJ(S.extensions):(this._tiptapEditor=Kj.create(S,this.schema.styleSchema),this.pmSchema=this._tiptapEditor.schema),this.pmSchema.cached.blockNoteEditor=this,this.emit("create")}static create(e={}){return new Zj(e)}exec(e){if(this.activeTransaction)throw new Error("`exec` should not be called within a `transact` call, move the `exec` call outside of the `transact` call");const n=this._tiptapEditor.state,o=this._tiptapEditor.view;return e(n,r=>this._tiptapEditor.dispatch(r),o)}canExec(e){if(this.activeTransaction)throw new Error("`canExec` should not be called within a `transact` call, move the `canExec` call outside of the `transact` call");const n=this._tiptapEditor.state,o=this._tiptapEditor.view;return e(n,void 0,o)}transact(e){if(this.activeTransaction)return e(this.activeTransaction);try{this.activeTransaction=this._tiptapEditor.state.tr;const n=e(this.activeTransaction),o=this.activeTransaction;return this.activeTransaction=null,o&&(o.docChanged||o.selectionSet||o.scrolledIntoView||o.storedMarksSet||!o.isGeneric)&&this._tiptapEditor.dispatch(o),n}finally{this.activeTransaction=null}}extension(e,n=e.key()){const o=this.extensions[n];if(!o)throw new Error(`Extension ${n} not found`);return o}get prosemirrorState(){if(this.activeTransaction)throw new Error("`prosemirrorState` should not be called within a `transact` call, move the `prosemirrorState` call outside of the `transact` call or use `editor.transact` to read the current editor state");return this._tiptapEditor.state}get prosemirrorView(){return this._tiptapEditor.view}get domElement(){var e;return(e=this.prosemirrorView)==null?void 0:e.dom}isFocused(){var e;return((e=this.prosemirrorView)==null?void 0:e.hasFocus())||!1}focus(){var e;(e=this.prosemirrorView)==null||e.focus()}onUploadStart(e){return this.onUploadStartCallbacks.push(e),()=>{const n=this.onUploadStartCallbacks.indexOf(e);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(e){return this.onUploadEndCallbacks.push(e),()=>{const n=this.onUploadEndCallbacks.indexOf(e);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){return this.transact(e=>Ere(e.doc,this.pmSchema))}getBlock(e){return this.transact(n=>bse(n.doc,e))}getPrevBlock(e){return this.transact(n=>yse(n.doc,e))}getNextBlock(e){return this.transact(n=>vse(n.doc,e))}getParentBlock(e){return this.transact(n=>wse(n.doc,e))}forEachBlock(e,n=!1){const o=this.document.slice();n&&o.reverse();function r(i){for(const s of i){if(e(s)===!1)return!1;const l=n?s.children.slice().reverse():s.children;if(!r(l))return!1}return!0}r(o)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){return this.transact(e=>Sse(e))}setTextCursorPosition(e,n="start"){return this.transact(o=>Lj(o,e,n))}getSelection(){return this.transact(e=>xse(e))}getSelectionCutBlocks(){return this.transact(e=>_se(e))}setSelection(e,n){return this.transact(o=>Cse(o,e,n))}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,n,o="before"){return this.transact(r=>jre(r,e,n,o))}updateBlock(e,n){return this.transact(o=>zre(o,e,n))}removeBlocks(e){return this.transact(n=>SN(n,e,[]).removedBlocks)}replaceBlocks(e,n){return this.transact(o=>SN(o,e,n))}undo(){return this.options.collaboration?this.exec(fre):this.exec(HS)}redo(){return this.options.collaboration?this.exec(hre):this.exec(VS)}insertInlineContent(e,{updateSelection:n=!1}={}){const o=br(e,this.pmSchema);this.transact(r=>{kse(r,{from:r.selection.from,to:r.selection.to},o,{updateSelection:n})})}getActiveStyles(){return this.transact(e=>{const n={},o=e.selection.$to.marks();for(const r of o){const i=this.schema.styleSchema[r.type.name];if(!i){r.type.name!=="link"&&!r.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",r.type.name);continue}i.propSchema==="boolean"?n[i.type]=!0:n[i.type]=r.attrs.stringValue}return n})}addStyles(e){for(const[n,o]of Object.entries(e)){const r=this.schema.styleSchema[n];if(!r)throw new Error(`style ${n} not found in styleSchema`);if(r.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(r.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:o});else throw new qr(r.propSchema)}}removeStyles(e){for(const n of Object.keys(e))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(e){for(const[n,o]of Object.entries(e)){const r=this.schema.styleSchema[n];if(!r)throw new Error(`style ${n} not found in styleSchema`);if(r.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(r.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:o});else throw new qr(r.propSchema)}}getSelectedText(){return this.transact(e=>e.doc.textBetween(e.selection.from,e.selection.to))}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,n){if(e==="")return;const o=this.pmSchema.mark("link",{href:e});this.transact(r=>{const{from:i,to:s}=r.selection;n?r.insertText(n,i,s).addMark(i,i+n.length,o):r.setSelection(Y.create(r.doc,s)).addMark(i,s,o)})}canNestBlock(){return mse(this)}nestBlock(){Oj(this)}canUnnestBlock(){return gse(this)}unnestBlock(){pse(this)}moveBlocksUp(){return dse(this)}moveBlocksDown(){return fse(this)}async blocksToHTMLLossy(e=this.document){return $0(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return Gre(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return Ij(e,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return Mse(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return Ise(e,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this.extensions.yCursorPlugin.updateUser(e)}onBeforeChange(e){return this.headless?()=>{}:this.extensions.blockChange.subscribe(n=>e(this,n))}onChange(e){if(this.headless)return;const n=({transaction:o,appendedTransactions:r})=>{e(this,{getChanges:()=>ij(o,r)})};return this._tiptapEditor.on("v3-update",n),()=>{this._tiptapEditor.off("v3-update",n)}}onSelectionChange(e,n){if(this.headless)return;const o=r=>{r.transaction.getMeta(Ne)&&!n||e(this)};return this._tiptapEditor.on("selectionUpdate",o),()=>{this._tiptapEditor.off("selectionUpdate",o)}}onCreate(e){return this.on("create",e),()=>{this.off("create",e)}}getSelectionBoundingBox(){if(!this.prosemirrorView)return;const{selection:e}=this.prosemirrorState,{ranges:n}=e,o=Math.min(...n.map(i=>i.$from.pos)),r=Math.max(...n.map(i=>i.$to.pos));if(px(e)){const i=this.prosemirrorView.nodeDOM(o);if(i)return i.getBoundingClientRect()}return ib(this.prosemirrorView,o,r)}get isEmpty(){const e=this.document;return e.length===0||e.length===1&&e[0].type==="paragraph"&&e[0].content.length===0}openSuggestionMenu(e,n){this.prosemirrorView&&(this.focus(),this.transact(o=>{n!=null&&n.deleteTriggerCharacter&&o.insertText(e),o.scrollIntoView().setMeta(this.suggestionMenus.plugins[0],{triggerCharacter:e,deleteTriggerCharacter:(n==null?void 0:n.deleteTriggerCharacter)||!1,ignoreQueryLength:(n==null?void 0:n.ignoreQueryLength)||!1})}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(e){this.showSelectionPlugin.setEnabled(e)}convertHtmlToBlockNoteHtml(e){return Dj(e.trim()).innerHTML}pasteHTML(e,n=!1){var o;let r=e;n||(r=this.convertHtmlToBlockNoteHtml(e)),r&&((o=this.prosemirrorView)==null||o.pasteHTML(r))}pasteText(e){var n;return(n=this.prosemirrorView)==null?void 0:n.pasteText(e)}async pasteMarkdown(e){return this.pasteHTML(await $j(e))}},rw;async function uae(){return rw||(rw=(async()=>{const[t,e]=await Promise.all([W(()=>import("./module-BvCTiNll.js"),[]),W(()=>import("./native-B5Vb9Oiz.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),rw)}async function dae(t,e){if(!Qie("text",t))return[];const{emojiData:n,emojiMart:o}=await uae();return(e.trim()===""?Object.values(n.emojis):await o.SearchIndex.search(e)).map(r=>({id:r.skins[0].native,onItemClick:()=>t.insertInlineContent(r.skins[0].native+" ")}))}function fae(t,...e){const n=[...t];for(const o of e)for(const r of o){const i=n.findLastIndex(s=>s.group===r.group);i===-1?n.push(r):n.splice(i+1,0,r)}return n}const hae={slash_menu:{heading:{title:"عنوان 1",subtext:"يستخدم لعناوين المستوى الأعلى",aliases:["ع","عنوان1","ع1"],group:"العناوين"},heading_2:{title:"عنوان 2",subtext:"يستخدم للأقسام الرئيسية",aliases:["ع2","عنوان2","عنوان فرعي"],group:"العناوين"},heading_3:{title:"عنوان 3",subtext:"يستخدم للأقسام الفرعية والعناوين المجموعة",aliases:["ع3","عنوان3","عنوان فرعي"],group:"العناوين"},heading_4:{title:"عنوان 4",subtext:"عنوان فرعي ثانوي صغير",aliases:["ع4","عنوان4","عنوان فرعي صغير"],group:"العناوين الفرعية"},heading_5:{title:"عنوان 5",subtext:"عنوان فرعي صغير",aliases:["ع5","عنوان5","عنوان فرعي صغير"],group:"العناوين الفرعية"},heading_6:{title:"عنوان 6",subtext:"أدنى مستوى للعناوين",aliases:["ع6","عنوان6","العنوان الفرعي الأدنى"],group:"العناوين الفرعية"},toggle_heading:{title:"عنوان قابل للطي 1",subtext:"عنوان قابل للطي لإظهار وإخفاء المحتوى",aliases:["ع","عنوان1","ع1","قابل للطي","طي"],group:"العناوين الفرعية"},toggle_heading_2:{title:"عنوان قابل للطي 2",subtext:"عنوان فرعي قابل للطي لإظهار وإخفاء المحتوى",aliases:["ع2","عنوان2","عنوان فرعي","قابل للطي","طي"],group:"العناوين الفرعية"},toggle_heading_3:{title:"عنوان قابل للطي 3",subtext:"عنوان فرعي ثانوي قابل للطي لإظهار وإخفاء المحتوى",aliases:["ع3","عنوان3","عنوان فرعي","قابل للطي","طي"],group:"العناوين الفرعية"},quote:{title:"اقتباس",subtext:"اقتباس أو مقتطف",aliases:["quotation","blockquote","bq"],group:"الكتل الأساسية"},numbered_list:{title:"قائمة مرقمة",subtext:"تستخدم لعرض قائمة مرقمة",aliases:["ق","عناصر قائمة","قائمة","قائمة مرقمة"],group:"الكتل الأساسية"},bullet_list:{title:"قائمة نقطية",subtext:"تستخدم لعرض قائمة غير مرتبة",aliases:["ق","عناصر قائمة","قائمة","قائمة نقطية"],group:"الكتل الأساسية"},check_list:{title:"قائمة تحقق",subtext:"تستخدم لعرض قائمة بمربعات التحقق",aliases:["قوائم غير مرتبة","عناصر قائمة","قائمة","قائمة تحقق","قائمة التحقق","قائمة مشطوبة","مربع التحقق"],group:"الكتل الأساسية"},toggle_list:{title:"قائمة قابلة للطي",subtext:"قائمة بعناصر فرعية قابلة للإخفاء",aliases:["عناصر قائمة","قائمة","قائمة قابلة للطي","قائمة منسدلة"],group:"الكتل الأساسية"},paragraph:{title:"فقرة",subtext:"تستخدم لنص الوثيقة الأساسي",aliases:["ف","فقرة"],group:"الكتل الأساسية"},code_block:{title:"كود",subtext:"يستخدم لعرض الكود مع تحديد الصيغة",aliases:["كود","مسبق"],group:"الكتل الأساسية"},page_break:{title:"فاصل الصفحة",subtext:"فاصل الصفحة",aliases:["page","break","separator","فاصل","الصفحة"],group:"الكتل الأساسية"},table:{title:"جدول",subtext:"يستخدم للجداول",aliases:["جدول"],group:"متقدم"},image:{title:"صورة",subtext:"إدراج صورة",aliases:["صورة","رفع صورة","تحميل","صورة","صورة","وسائط","رابط"],group:"وسائط"},video:{title:"فيديو",subtext:"إدراج فيديو",aliases:["فيديو","رفع فيديو","تحميل","فيديو","فيلم","وسائط","رابط"],group:"وسائط"},audio:{title:"صوت",subtext:"إدراج صوت",aliases:["صوت","رفع صوت","تحميل","صوت","صوت","وسائط","رابط"],group:"وسائط"},file:{title:"ملف",subtext:"إدراج ملف",aliases:["ملف","تحميل","تضمين","وسائط","رابط"],group:"وسائط"},emoji:{title:"الرموز التعبيرية",subtext:"تُستخدم لإدراج رمز تعبيري",aliases:["رمز تعبيري","إيموجي","إيموت","عاطفة","وجه"],group:"آخرون"}},placeholders:{default:"أدخل نصًا أو اكتب '/' للأوامر",heading:"عنوان",toggleListItem:"طيّ",bulletListItem:"قائمة",numberedListItem:"قائمة",checkListItem:"قائمة",new_comment:"اكتب تعليقًا...",edit_comment:"تحرير التعليق...",comment_reply:"أضف تعليقًا..."},file_blocks:{image:{add_button_text:"إضافة صورة"},video:{add_button_text:"إضافة فيديو"},audio:{add_button_text:"إضافة صوت"},file:{add_button_text:"إضافة ملف"}},side_menu:{add_block_label:"إضافة محتوي",drag_handle_label:"فتح قائمة المحتويات"},drag_handle:{delete_menuitem:"حذف",colors_menuitem:"ألوان",header_row_menuitem:"عنوان الصف",header_column_menuitem:"عنوان العمود"},table_handle:{delete_column_menuitem:"حذف عمود",delete_row_menuitem:"حذف صف",add_left_menuitem:"إضافة عمود إلى اليسار",add_right_menuitem:"إضافة عمود إلى اليمين",add_above_menuitem:"إضافة صف أعلى",add_below_menuitem:"إضافة صف أسفل",split_cell_menuitem:"تقسيم الخلية",merge_cells_menuitem:"جمع الخلايا",background_color_menuitem:"لون الخلفية"},suggestion_menu:{no_items_title:"لم يتم العثور على عناصر"},color_picker:{text_title:"نص",background_title:"خلفية",colors:{default:"افتراضي",gray:"رمادي",brown:"بني",red:"أحمر",orange:"برتقالي",yellow:"أصفر",green:"أخضر",blue:"أزرق",purple:"أرجواني",pink:"وردي"}},formatting_toolbar:{bold:{tooltip:"عريض",secondary_tooltip:"Mod+B"},italic:{tooltip:"مائل",secondary_tooltip:"Mod+I"},underline:{tooltip:"تحته خط",secondary_tooltip:"Mod+U"},strike:{tooltip:"مشطوب",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"كود",secondary_tooltip:""},colors:{tooltip:"ألوان"},link:{tooltip:"إنشاء رابط",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"تحرير التسمية التوضيحية",input_placeholder:"تحرير التسمية التوضيحية"},file_replace:{tooltip:{image:"استبدال الصورة",video:"استبدال الفيديو",audio:"استبدال الصوت",file:"استبدال الملف"}},file_rename:{tooltip:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"},input_placeholder:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"}},file_download:{tooltip:{image:"تنزيل الصورة",video:"تنزيل الفيديو",audio:"تنزيل الصوت",file:"تنزيل الملف"}},file_delete:{tooltip:{image:"حذف الصورة",video:"حذف الفيديو",audio:"حذف الصوت",file:"حذف الملف"}},file_preview_toggle:{tooltip:"تبديل المعاينة"},nest:{tooltip:"محتويات متداخلة",secondary_tooltip:"Tab"},unnest:{tooltip:"إلغاء التداخل",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"محاذاة النص إلى اليسار"},align_center:{tooltip:"محاذاة النص في المنتصف"},align_right:{tooltip:"محاذاة النص إلى اليمين"},align_justify:{tooltip:"ضبط النص"},table_cell_merge:{tooltip:"جمع الخلايا"},comment:{tooltip:"إضافة ملاحظة"}},file_panel:{upload:{title:"تحميل",file_placeholder:{image:"تحميل صورة",video:"تحميل فيديو",audio:"تحميل صوت",file:"تحميل ملف"},upload_error:"خطأ: فشل التحميل"},embed:{title:"تضمين",embed_button:{image:"تضمين صورة",video:"تضمين فيديو",audio:"تضمين صوت",file:"تضمين ملف"},url_placeholder:"أدخل الرابط"}},link_toolbar:{delete:{tooltip:"إزالة الرابط"},edit:{text:"تحرير الرابط",tooltip:"تحرير"},open:{tooltip:"فتح في تبويب جديد"},form:{title_placeholder:"تحرير العنوان",url_placeholder:"تحرير الرابط"}},comments:{edited:"تم التحرير",save_button_text:"حفظ",cancel_button_text:"إلغاء",actions:{add_reaction:"أضف تفاعلًا",resolve:"حل",edit_comment:"تحرير التعليق",delete_comment:"حذف التعليق",more_actions:"المزيد من الإجراءات"},reactions:{reacted_by:"تفاعل بواسطة"},sidebar:{marked_as_resolved:"تم وضع علامة كتم الحل",more_replies:t=>`${t} ردود أخرى`}},generic:{ctrl_shortcut:"Ctrl"}},pae={slash_menu:{heading:{title:"Überschrift 1",subtext:"Hauptebene Überschrift",aliases:["h","überschrift1","h1"],group:"Überschriften"},heading_2:{title:"Überschrift 2",subtext:"Wichtige Abschnittsüberschrift",aliases:["h2","überschrift2","unterüberschrift"],group:"Überschriften"},heading_3:{title:"Überschrift 3",subtext:"Unterabschnitts- und Gruppenüberschrift",aliases:["h3","überschrift3","unterüberschrift"],group:"Überschriften"},heading_4:{title:"Überschrift 4",subtext:"Überschrift für kleinere Unterabschnitte",aliases:["h4","überschrift4","unterüberschrift4"],group:"Unterüberschriften"},heading_5:{title:"Überschrift 5",subtext:"Überschrift für tiefere Unterabschnitte",aliases:["h5","überschrift5","unterüberschrift5"],group:"Unterüberschriften"},heading_6:{title:"Überschrift 6",subtext:"Überschrift auf der untersten Ebene",aliases:["h6","überschrift6","unterüberschrift6"],group:"Unterüberschriften"},toggle_heading:{title:"Aufklappbare Überschrift 1",subtext:"Aufklappbare Hauptebene Überschrift",aliases:["h","überschrift1","h1","aufklappbar","einklappbar"],group:"Unterüberschrift"},toggle_heading_2:{title:"Aufklappbare Überschrift 2",subtext:"Aufklappbare wichtige Abschnittsüberschrift",aliases:["h2","überschrift2","unterüberschrift","aufklappbar","einklappbar"],group:"Unterüberschriften"},toggle_heading_3:{title:"Aufklappbare Überschrift 3",subtext:"Aufklappbare Unterabschnitts- und Gruppenüberschrift",aliases:["h3","überschrift3","unterüberschrift","aufklappbar","einklappbar"],group:"Unterüberschriften"},quote:{title:"Zitat",subtext:"Zitat oder Auszug",aliases:["quotation","blockquote","bq"],group:"Grundlegende Blöcke"},numbered_list:{title:"Nummerierte Liste",subtext:"Liste mit nummerierten Elementen",aliases:["ol","li","liste","nummerierteliste","nummerierte liste"],group:"Grundlegende Blöcke"},bullet_list:{title:"Aufzählungsliste",subtext:"Liste mit unnummerierten Elementen",aliases:["ul","li","liste","aufzählungsliste","aufzählung liste"],group:"Grundlegende Blöcke"},check_list:{title:"Checkliste",subtext:"Liste mit Kontrollkästchen",aliases:["ul","li","liste","checkliste","check liste","geprüfte liste","kontrollkästchen"],group:"Grundlegende Blöcke"},toggle_list:{title:"Aufklappbare Liste",subtext:"Liste mit ausblendbare Unterpunkten",aliases:["li","liste","aufklappbare liste","einklappbare liste","aufklappbareListe","aufklappbare liste"],group:"Grundlegende Blöcke"},paragraph:{title:"Absatz",subtext:"Der Hauptteil Ihres Dokuments",aliases:["p","absatz"],group:"Grundlegende Blöcke"},code_block:{title:"Codeblock",subtext:"Codeblock mit Syntaxhervorhebung",aliases:["code","pre"],group:"Grundlegende Blöcke"},page_break:{title:"Seitenumbruch",subtext:"Seitentrenner",aliases:["page","break","separator","seitenumbruch","trenner"],group:"Grundlegende Blöcke"},table:{title:"Tabelle",subtext:"Tabelle mit editierbaren Zellen",aliases:["tabelle"],group:"Erweitert"},image:{title:"Bild",subtext:"Größenveränderbares Bild mit Beschriftung",aliases:["bild","bildhochladen","hochladen","img","bild","medien","url"],group:"Medien"},video:{title:"Video",subtext:"Größenveränderbares Video mit Beschriftung",aliases:["video","videoupload","hochladen","mp4","film","medien","url"],group:"Medien"},audio:{title:"Audio",subtext:"Eingebettetes Audio mit Beschriftung",aliases:["audio","audioupload","hochladen","mp3","ton","medien","url"],group:"Medien"},file:{title:"Datei",subtext:"Eingebettete Datei",aliases:["datei","hochladen","einbetten","medien","url"],group:"Medien"},emoji:{title:"Emoji",subtext:"Nach Emoji suchen und einfügen",aliases:["emoji","emote","emotion","gesicht"],group:"Andere"}},placeholders:{default:"Text eingeben oder '/' für Befehle tippen",heading:"Überschrift",toggleListItem:"Umschalten",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Einen Kommentar schreiben …",edit_comment:"Kommentar bearbeiten …",comment_reply:"Kommentar hinzufügen …"},file_blocks:{image:{add_button_text:"Bild hinzufügen"},video:{add_button_text:"Video hinzufügen"},audio:{add_button_text:"Audio hinzufügen"},file:{add_button_text:"Datei hinzufügen"}},side_menu:{add_block_label:"Block hinzufügen",drag_handle_label:"Blockmenü öffnen"},drag_handle:{delete_menuitem:"Löschen",colors_menuitem:"Farben",header_row_menuitem:"Kopfzeile",header_column_menuitem:"Kopfspalte"},table_handle:{delete_column_menuitem:"Spalte löschen",delete_row_menuitem:"Zeile löschen",add_left_menuitem:"Spalte links hinzufügen",add_right_menuitem:"Spalte rechts hinzufügen",add_above_menuitem:"Zeile oberhalb hinzufügen",add_below_menuitem:"Zeile unterhalb hinzufügen",split_cell_menuitem:"Zelle teilen",merge_cells_menuitem:"Zellen zusammenführen",background_color_menuitem:"Hintergrundfarbe"},suggestion_menu:{no_items_title:"Keine Elemente gefunden"},color_picker:{text_title:"Text",background_title:"Hintergrund",colors:{default:"Standard",gray:"Grau",brown:"Braun",red:"Rot",orange:"Orange",yellow:"Gelb",green:"Grün",blue:"Blau",purple:"Lila",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fett",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Unterstrichen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Durchgestrichen",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Farben"},link:{tooltip:"Link erstellen",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Beschriftung bearbeiten",input_placeholder:"Beschriftung bearbeiten"},file_replace:{tooltip:{image:"Bild ersetzen",video:"Video ersetzen",audio:"Audio ersetzen",file:"Datei ersetzen"}},file_rename:{tooltip:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"},input_placeholder:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"}},file_download:{tooltip:{image:"Bild herunterladen",video:"Video herunterladen",audio:"Audio herunterladen",file:"Datei herunterladen"}},file_delete:{tooltip:{image:"Bild löschen",video:"Video löschen",audio:"Audio löschen",file:"Datei löschen"}},file_preview_toggle:{tooltip:"Vorschau umschalten"},nest:{tooltip:"Block verschachteln",secondary_tooltip:"Tab"},unnest:{tooltip:"Block entnesten",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Text linksbündig"},align_center:{tooltip:"Text zentrieren"},align_right:{tooltip:"Text rechtsbündig"},align_justify:{tooltip:"Text Blocksatz"},table_cell_merge:{tooltip:"Zellen zusammenführen"},comment:{tooltip:"Kommentar hinzufügen"}},file_panel:{upload:{title:"Hochladen",file_placeholder:{image:"Bild hochladen",video:"Video hochladen",audio:"Audio hochladen",file:"Datei hochladen"},upload_error:"Fehler: Hochladen fehlgeschlagen"},embed:{title:"Einbetten",embed_button:{image:"Bild einbetten",video:"Video einbetten",audio:"Audio einbetten",file:"Datei einbetten"},url_placeholder:"URL eingeben"}},link_toolbar:{delete:{tooltip:"Link entfernen"},edit:{text:"Link bearbeiten",tooltip:"Bearbeiten"},open:{tooltip:"In neuem Tab öffnen"},form:{title_placeholder:"Titel bearbeiten",url_placeholder:"URL bearbeiten"}},comments:{edited:"bearbeitet",save_button_text:"Speichern",cancel_button_text:"Abbrechen",actions:{add_reaction:"Reaktion hinzufügen",resolve:"Lösen",edit_comment:"Kommentar bearbeiten",delete_comment:"Kommentar löschen",more_actions:"Weitere Aktionen"},reactions:{reacted_by:"Reagiert von"},sidebar:{marked_as_resolved:"Als gelöst markiert",more_replies:t=>`${t} weitere Antworten`}},generic:{ctrl_shortcut:"Strg"}},mae={slash_menu:{heading:{title:"Encabezado 1",subtext:"Encabezado de primer nivel",aliases:["h","encabezado1","h1"],group:"Encabezados"},heading_2:{title:"Encabezado 2",subtext:"Encabezado de sección principal",aliases:["h2","encabezado2","subencabezado"],group:"Encabezados"},heading_3:{title:"Encabezado 3",subtext:"Encabezado de subsección y grupo",aliases:["h3","encabezado3","subencabezado"],group:"Encabezados"},heading_4:{title:"Encabezado 4",subtext:"Encabezado de subsección menor",aliases:["h4","encabezado4","subencabezado4"],group:"Subencabezados"},heading_5:{title:"Encabezado 5",subtext:"Encabezado de subsección pequeña",aliases:["h5","encabezado5","subencabezado5"],group:"Subencabezados"},heading_6:{title:"Encabezado 6",subtext:"Encabezado de nivel más bajo",aliases:["h6","encabezado6","subencabezado6"],group:"Subencabezados"},toggle_heading:{title:"Encabezado Plegable 1",subtext:"Encabezado de primer nivel que se puede plegar",aliases:["h","encabezado1","h1","plegable","contraible"],group:"Subencabezados"},toggle_heading_2:{title:"Encabezado Plegable 2",subtext:"Encabezado de sección principal que se puede plegar",aliases:["h2","encabezado2","subencabezado","plegable","contraible"],group:"Subencabezados"},toggle_heading_3:{title:"Encabezado Plegable 3",subtext:"Encabezado de subsección y grupo que se puede plegar",aliases:["h3","encabezado3","subencabezado","plegable","contraible"],group:"Subencabezados"},quote:{title:"Cita",subtext:"Cita o extracto",aliases:["quotation","blockquote","bq"],group:"Bloques básicos"},numbered_list:{title:"Lista Numerada",subtext:"Lista con elementos ordenados",aliases:["ol","li","lista","lista numerada"],group:"Bloques básicos"},bullet_list:{title:"Lista con Viñetas",subtext:"Lista con elementos no ordenados",aliases:["ul","li","lista","lista con viñetas"],group:"Bloques básicos"},check_list:{title:"Lista de Verificación",subtext:"Lista con casillas de verificación",aliases:["ul","li","lista","lista de verificación","lista de chequeo","checkbox"],group:"Bloques básicos"},toggle_list:{title:"Lista Plegable",subtext:"Lista con subelementos ocultables",aliases:["li","lista","lista plegable","lista colapsable"],group:"Bloques básicos"},paragraph:{title:"Párrafo",subtext:"El cuerpo de tu documento",aliases:["p","párrafo"],group:"Bloques básicos"},code_block:{title:"Bloque de Código",subtext:"Bloque de código con resaltado de sintaxis",aliases:["code","pre"],group:"Bloques básicos"},page_break:{title:"Salto de página",subtext:"Separador de página",aliases:["page","break","separator","salto","separador"],group:"Bloques básicos"},table:{title:"Tabla",subtext:"Tabla con celdas editables",aliases:["tabla"],group:"Avanzado"},image:{title:"Imagen",subtext:"Imagen redimensionable con leyenda",aliases:["imagen","subir imagen","cargar","img","foto","media","url"],group:"Medios"},video:{title:"Vídeo",subtext:"Vídeo redimensionable con leyenda",aliases:["video","subir vídeo","cargar","mp4","película","media","url"],group:"Medios"},audio:{title:"Audio",subtext:"Audio incrustado con leyenda",aliases:["audio","subir audio","cargar","mp3","sonido","media","url"],group:"Medios"},file:{title:"Archivo",subtext:"Archivo incrustado",aliases:["archivo","cargar","incrustar","media","url"],group:"Medios"},emoji:{title:"Emoji",subtext:"Busca e inserta un emoji",aliases:["emoji","emoticono","emoción","cara"],group:"Otros"}},placeholders:{default:"Escribe o teclea '/' para comandos",heading:"Encabezado",toggleListItem:"Plegable",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escribe un comentario...",edit_comment:"Editar comentario...",comment_reply:"Agregar comentario..."},file_blocks:{image:{add_button_text:"Agregar imagen"},video:{add_button_text:"Agregar vídeo"},audio:{add_button_text:"Agregar audio"},file:{add_button_text:"Agregar archivo"}},side_menu:{add_block_label:"Agregar bloque",drag_handle_label:"Abrir menú de bloque"},drag_handle:{delete_menuitem:"Eliminar",colors_menuitem:"Colores",header_row_menuitem:"Fila de encabezado",header_column_menuitem:"Columna de encabezado"},table_handle:{delete_column_menuitem:"Eliminar columna",delete_row_menuitem:"Eliminar fila",add_left_menuitem:"Agregar columna a la izquierda",add_right_menuitem:"Agregar columna a la derecha",add_above_menuitem:"Agregar fila arriba",add_below_menuitem:"Agregar fila abajo",split_cell_menuitem:"Dividir celda",merge_cells_menuitem:"Combinar celdas",background_color_menuitem:"Color de fondo"},suggestion_menu:{no_items_title:"No se encontraron elementos"},color_picker:{text_title:"Texto",background_title:"Fondo",colors:{default:"Por defecto",gray:"Gris",brown:"Marrón",red:"Rojo",orange:"Naranja",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrita",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursiva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Subrayado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Tachado",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Colores"},link:{tooltip:"Crear enlace",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar leyenda",input_placeholder:"Editar leyenda"},file_replace:{tooltip:{image:"Reemplazar imagen",video:"Reemplazar vídeo",audio:"Reemplazar audio",file:"Reemplazar archivo"}},file_rename:{tooltip:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"},input_placeholder:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"}},file_download:{tooltip:{image:"Descargar imagen",video:"Descargar vídeo",audio:"Descargar audio",file:"Descargar archivo"}},file_delete:{tooltip:{image:"Eliminar imagen",video:"Eliminar vídeo",audio:"Eliminar audio",file:"Eliminar archivo"}},file_preview_toggle:{tooltip:"Alternar vista previa"},nest:{tooltip:"Anidar bloque",secondary_tooltip:"Tab"},unnest:{tooltip:"Desanidar bloque",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinear texto a la izquierda"},align_center:{tooltip:"Alinear texto al centro"},align_right:{tooltip:"Alinear texto a la derecha"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Combinar celdas"},comment:{tooltip:"Añadir comentario"}},file_panel:{upload:{title:"Subir",file_placeholder:{image:"Subir imagen",video:"Subir vídeo",audio:"Subir audio",file:"Subir archivo"},upload_error:"Error: Fallo en la subida"},embed:{title:"Incrustar",embed_button:{image:"Incrustar imagen",video:"Incrustar vídeo",audio:"Incrustar audio",file:"Incrustar archivo"},url_placeholder:"Introduce la URL"}},link_toolbar:{delete:{tooltip:"Eliminar enlace"},edit:{text:"Editar enlace",tooltip:"Editar"},open:{tooltip:"Abrir en nueva pestaña"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{edited:"editado",save_button_text:"Guardar",cancel_button_text:"Cancelar",actions:{add_reaction:"Agregar reacción",resolve:"Resolver",edit_comment:"Editar comentario",delete_comment:"Eliminar comentario",more_actions:"Más acciones"},reactions:{reacted_by:"Reaccionado por"},sidebar:{marked_as_resolved:"Marcado como resuelto",more_replies:t=>`${t} respuestas más`}},generic:{ctrl_shortcut:"Ctrl"}},gae={slash_menu:{heading:{title:"Titre 1",subtext:"Utilisé pour un titre de premier niveau",aliases:["h","titre1","h1"],group:"Titres"},heading_2:{title:"Titre 2",subtext:"Titre de deuxième niveau Utilisé pour les sections clés",aliases:["h2","titre2","sous-titre"],group:"Titres"},heading_3:{title:"Titre 3",subtext:"Titre de troisième niveau utilisé pour les sous-sections et les titres de groupe",aliases:["h3","titre3","sous-titre"],group:"Titres"},heading_4:{title:"Titre 4",subtext:"Titre de sous‑section mineure",aliases:["h4","titre4","sous‑titre4"],group:"Sous-titres"},heading_5:{title:"Titre 5",subtext:"Titre de sous-section mineure",aliases:["h5","titre5","sous-titre5"],group:"Sous-titres"},heading_6:{title:"Titre 6",subtext:"Titre de niveau le plus bas",aliases:["h6","titre6","sous-titre6"],group:"Sous-titres"},toggle_heading:{title:"Titre Repliable 1",subtext:"Titre de premier niveau qui peut être replié pour masquer son contenu",aliases:["h","titre1","h1","repliable","masquable","déroulant"],group:"Sous-titres"},toggle_heading_2:{title:"Titre Repliable 2",subtext:"Titre de section qui peut être replié pour masquer son contenu",aliases:["h2","titre2","sous-titre","repliable","masquable","déroulant"],group:"Sous-titres"},toggle_heading_3:{title:"Titre Repliable 3",subtext:"Titre de sous-section qui peut être replié pour masquer son contenu",aliases:["h3","titre3","sous-titre","repliable","masquable","déroulant"],group:"Sous-titres"},quote:{title:"Citation",subtext:"Citation ou extrait",aliases:["quotation","blockquote","bq"],group:"Blocs de base"},numbered_list:{title:"Liste Numérotée",subtext:"Utilisé pour afficher une liste numérotée",aliases:["ol","li","liste","listenumérotée","liste numérotée"],group:"Blocs de base"},bullet_list:{title:"Liste à puces",subtext:"Utilisé pour afficher une liste à puce non numérotée",aliases:["ul","li","liste","listeàpuces","liste à puces","bullet points","bulletpoints"],group:"Blocs de base"},check_list:{title:"Liste de tâches",subtext:"Utilisé pour afficher une liste avec des cases à cocher",aliases:["ul","li","liste","liste de vérification","liste cochée","case à cocher","checklist","checkbox","check box","to do","todo"],group:"Blocs de base"},toggle_list:{title:"Liste repliable",subtext:"Liste avec des sous-éléments masquables",aliases:["li","liste","liste pliable","liste escamotable","liste repliable"],group:"Blocs de base"},paragraph:{title:"Paragraphe",subtext:"Utilisé pour le corps de votre document",aliases:["p","paragraphe","texte"],group:"Blocs de base"},code_block:{title:"Bloc de code",subtext:"Bloc de code avec coloration syntaxique",aliases:["code","pre"],group:"Blocs de base"},page_break:{title:"Saut de page",subtext:"Séparateur de page",aliases:["page","break","separator","saut","séparateur"],group:"Blocs de base"},table:{title:"Tableau",subtext:"Utilisé pour les tableaux",aliases:["tableau","grille"],group:"Avancé"},image:{title:"Image",subtext:"Insérer une image",aliases:["image","uploadImage","télécharger image","téléverser image","uploader image","img","photo","média","url"],group:"Médias"},video:{title:"Vidéo",subtext:"Insérer une vidéo",aliases:["vidéo","télécharger vidéo","téléverser vidéo","mp4","film","média","url"],group:"Média"},audio:{title:"Audio",subtext:"Insérer un audio",aliases:["audio","télécharger audio","téléverser audio","mp3","son","média","url"],group:"Média"},file:{title:"Fichier",subtext:"Insérer un fichier",aliases:["fichier","téléverser fichier","intégrer fichier","insérer fichier","média","url"],group:"Média"},emoji:{title:"Emoji",subtext:"Utilisé pour insérer un emoji",aliases:["emoji","émoticône","émotion","visage","smiley"],group:"Autres"}},placeholders:{default:"Entrez du texte ou tapez '/' pour faire apparaître les options de mise en page",heading:"Titre",toggleListItem:"Basculer",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Écrire un commentaire...",edit_comment:"Modifier le commentaire...",comment_reply:"Ajouter un commentaire..."},file_blocks:{image:{add_button_text:"Ajouter une image"},video:{add_button_text:"Ajouter une vidéo"},audio:{add_button_text:"Ajouter un audio"},file:{add_button_text:"Ajouter un fichier"}},side_menu:{add_block_label:"Ajouter un bloc",drag_handle_label:"Ouvrir le menu du bloc"},drag_handle:{delete_menuitem:"Supprimer",colors_menuitem:"Couleurs",header_row_menuitem:"En-tête de ligne",header_column_menuitem:"En-tête de colonne"},table_handle:{delete_column_menuitem:"Supprimer la colonne",delete_row_menuitem:"Supprimer la ligne",add_left_menuitem:"Ajouter une colonne à gauche",add_right_menuitem:"Ajouter une colonne à droite",add_above_menuitem:"Ajouter une ligne au-dessus",add_below_menuitem:"Ajouter une ligne en dessous",split_cell_menuitem:"Diviser la cellule",merge_cells_menuitem:"Fusionner les cellules",background_color_menuitem:"Couleur de fond"},suggestion_menu:{no_items_title:"Aucun élément trouvé"},color_picker:{text_title:"Texte",background_title:"Fond",colors:{default:"Défaut",gray:"Gris",brown:"Marron",red:"Rouge",orange:"Orange",yellow:"Jaune",green:"Vert",blue:"Bleu",purple:"Violet",pink:"Rose"}},formatting_toolbar:{bold:{tooltip:"Gras",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italique",secondary_tooltip:"Mod+I"},underline:{tooltip:"Souligner",secondary_tooltip:"Mod+U"},strike:{tooltip:"Barré",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Couleurs"},link:{tooltip:"Créer un lien",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Modifier la légende",input_placeholder:"Modifier la légende"},file_replace:{tooltip:{image:"Remplacer l'image",video:"Remplacer la vidéo",audio:"Remplacer l'audio",file:"Remplacer le fichier"}},file_rename:{tooltip:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"},input_placeholder:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"}},file_download:{tooltip:{image:"Télécharger l'image",video:"Télécharger la vidéo",audio:"Télécharger l'audio",file:"Télécharger le fichier"}},file_delete:{tooltip:{image:"Supprimer l'image",video:"Supprimer la vidéo",audio:"Supprimer l'audio",file:"Supprimer le fichier"}},file_preview_toggle:{tooltip:"Basculer l'aperçu"},nest:{tooltip:"Augmenter le retrait du bloc",secondary_tooltip:"Tab"},unnest:{tooltip:"Diminuer le retait du bloc",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Aligner le texte à gauche"},align_center:{tooltip:"Aligner le texte au centre"},align_right:{tooltip:"Aligner le texte à droite"},align_justify:{tooltip:"Justifier le texte"},table_cell_merge:{tooltip:"Fusionner les cellules"},comment:{tooltip:"Ajouter un commentaire"}},file_panel:{upload:{title:"Télécharger",file_placeholder:{image:"Télécharger une image",video:"Télécharger une vidéo",audio:"Télécharger un fichier audio",file:"Télécharger un fichier"},upload_error:"Erreur : échec du téléchargement"},embed:{title:"Intégrer",embed_button:{image:"Intégrer une image",video:"Intégrer une vidéo",audio:"Intégrer un fichier audio",file:"Intégrer un fichier"},url_placeholder:"Entrez l'URL"}},link_toolbar:{delete:{tooltip:"Supprimer le lien"},edit:{text:"Modifier le lien",tooltip:"Modifier"},open:{tooltip:"Ouvrir dans un nouvel onglet"},form:{title_placeholder:"Modifier le titre",url_placeholder:"Modifier l'URL"}},comments:{edited:"modifié",save_button_text:"Enregistrer",cancel_button_text:"Annuler",actions:{add_reaction:"Ajouter une réaction",resolve:"Résoudre",edit_comment:"Modifier le commentaire",delete_comment:"Supprimer le commentaire",more_actions:"Plus d'actions"},reactions:{reacted_by:"Réagi par"},sidebar:{marked_as_resolved:"Marqué comme résolu",more_replies:t=>`${t} réponses de plus`}},generic:{ctrl_shortcut:"Ctrl"}},bae={slash_menu:{heading:{title:"כותרת 1",subtext:"כותרת ראשית",aliases:["h","heading1","h1"],group:"כותרות"},heading_2:{title:"כותרת 2",subtext:"כותרת סעיף ראשי",aliases:["h2","heading2","subheading"],group:"כותרות"},heading_3:{title:"כותרת 3",subtext:"כותרת משנה",aliases:["h3","heading3","subheading"],group:"כותרות"},toggle_heading:{title:"כותרת מתקפלת 1",subtext:"כותרת ראשית מתקפלת",aliases:["h","heading1","h1","collapsable"],group:"כותרות משנה"},toggle_heading_2:{title:"כותרת מתקפלת 2",subtext:"כותרת סעיף ראשי מתקפלת",aliases:["h2","heading2","subheading","collapsable"],group:"כותרות משנה"},toggle_heading_3:{title:"כותרת מתקפלת 3",subtext:"כותרת משנה מתקפלת",aliases:["h3","heading3","subheading","collapsable"],group:"כותרות משנה"},heading_4:{title:"כותרת 4",subtext:"כותרת משנה",aliases:["h4","heading4","subheading"],group:"כותרות משנה"},heading_5:{title:"כותרת 5",subtext:"כותרת משנה",aliases:["h5","heading5","subheading"],group:"כותרות משנה"},heading_6:{title:"כותרת 6",subtext:"כותרת משנה",aliases:["h6","heading6","subheading"],group:"כותרות משנה"},quote:{title:"ציטוט",subtext:"ציטוט או קטע",aliases:["quotation","blockquote","bq"],group:"בלוקים בסיסיים"},toggle_list:{title:"רשימה מתקפלת",subtext:"רשימה עם פריטים ניתנים להסתרה",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"בלוקים בסיסיים"},numbered_list:{title:"רשימה ממוספרת",subtext:"רשימה עם פריטים מסודרים",aliases:["ol","li","list","numberedlist","numbered list"],group:"בלוקים בסיסיים"},bullet_list:{title:"רשימת תבליטים",subtext:"רשימה עם פריטים לא מסודרים",aliases:["ul","li","list","bulletlist","bullet list"],group:"בלוקים בסיסיים"},check_list:{title:"רשימת סימון",subtext:"רשימה עם תיבות סימון",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"בלוקים בסיסיים"},paragraph:{title:"פסקה",subtext:"גוף המסמך שלך",aliases:["p","paragraph"],group:"בלוקים בסיסיים"},code_block:{title:"בלוק קוד",subtext:"בלוק קוד עם הדגשת תחביר",aliases:["code","pre"],group:"בלוקים בסיסיים"},page_break:{title:"שבירת עמוד",subtext:"מפריד עמודים",aliases:["page","break","separator"],group:"בלוקים בסיסיים"},table:{title:"טבלה",subtext:"טבלה עם תאים ניתנים לעריכה",aliases:["table"],group:"מתקדם"},image:{title:"תמונה",subtext:"תמונה עם כיתוב וניתנת לשינוי גודל",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"מדיה"},video:{title:"וידאו",subtext:"וידאו עם כיתוב וניתן לשינוי גודל",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"מדיה"},audio:{title:"אודיו",subtext:"אודיו מוטבע עם כיתוב",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"מדיה"},file:{title:"קובץ",subtext:"קובץ מוטבע",aliases:["file","upload","embed","media","url"],group:"מדיה"},emoji:{title:"אימוג'י",subtext:"חיפוש והוספת אימוג'י",aliases:["emoji","emote","emotion","face"],group:"אחר"}},placeholders:{default:"הזן טקסט או הקלד '/' לפקודות",heading:"כותרת",toggleListItem:"החלף",bulletListItem:"רשימה",numberedListItem:"רשימה",checkListItem:"רשימה",emptyDocument:void 0,new_comment:"כתוב תגובה...",edit_comment:"ערוך תגובה...",comment_reply:"הוסף תגובה..."},file_blocks:{image:{add_button_text:"הוסף תמונה"},video:{add_button_text:"הוסף וידאו"},audio:{add_button_text:"הוסף אודיו"},file:{add_button_text:"הוסף קובץ"}},side_menu:{add_block_label:"הוסף בלוק",drag_handle_label:"פתח תפריט בלוק"},drag_handle:{delete_menuitem:"מחק",colors_menuitem:"צבעים",header_row_menuitem:"שורת כותרת",header_column_menuitem:"עמודת כותרת"},table_handle:{delete_column_menuitem:"מחק עמודה",delete_row_menuitem:"מחק שורה",add_left_menuitem:"הוסף עמודה משמאל",add_right_menuitem:"הוסף עמודה מימין",add_above_menuitem:"הוסף שורה מעל",add_below_menuitem:"הוסף שורה מתחת",split_cell_menuitem:"פיצול תא",merge_cells_menuitem:"מיזוג תאים",background_color_menuitem:"צבע רקע"},suggestion_menu:{no_items_title:"לא נמצאו פריטים"},color_picker:{text_title:"טקסט",background_title:"רקע",colors:{default:"ברירת מחדל",gray:"אפור",brown:"חום",red:"אדום",orange:"כתום",yellow:"צהוב",green:"ירוק",blue:"כחול",purple:"סגול",pink:"ורוד"}},formatting_toolbar:{bold:{tooltip:"מודגש",secondary_tooltip:"Ctrl+B"},italic:{tooltip:"נטוי",secondary_tooltip:"Ctrl+I"},underline:{tooltip:"קו תחתון",secondary_tooltip:"Ctrl+U"},strike:{tooltip:"קו חוצה",secondary_tooltip:"Ctrl+Shift+S"},code:{tooltip:"קוד",secondary_tooltip:""},colors:{tooltip:"צבעים"},link:{tooltip:"צור קישור",secondary_tooltip:"Ctrl+K"},file_caption:{tooltip:"ערוך כיתוב",input_placeholder:"ערוך כיתוב"},file_replace:{tooltip:{image:"החלף תמונה",video:"החלף וידאו",audio:"החלף אודיו",file:"החלף קובץ"}},file_rename:{tooltip:{image:"שנה שם תמונה",video:"שנה שם וידאו",audio:"שנה שם אודיו",file:"שנה שם קובץ"},input_placeholder:{image:"שנה שם תמונה",video:"שנה שם וידאו",audio:"שנה שם אודיו",file:"שנה שם קובץ"}},file_download:{tooltip:{image:"הורד תמונה",video:"הורד וידאו",audio:"הורד אודיו",file:"הורד קובץ"}},file_delete:{tooltip:{image:"מחק תמונה",video:"מחק וידאו",audio:"מחק אודיו",file:"מחק קובץ"}},file_preview_toggle:{tooltip:"החלף תצוגה מקדימה"},nest:{tooltip:"קינון בלוק",secondary_tooltip:"Tab"},unnest:{tooltip:"הוצא מקינון",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"ישר טקסט לשמאל"},align_center:{tooltip:"מרכז טקסט"},align_right:{tooltip:"ישר טקסט לימין"},align_justify:{tooltip:"ישר טקסט לשני הצדדים"},table_cell_merge:{tooltip:"מיזוג תאים"},comment:{tooltip:"הוסף תגובה"}},file_panel:{upload:{title:"העלאה",file_placeholder:{image:"העלה תמונה",video:"העלה וידאו",audio:"העלה אודיו",file:"העלה קובץ"},upload_error:"שגיאה: ההעלאה נכשלה"},embed:{title:"הטמעה",embed_button:{image:"הטמע תמונה",video:"הטמע וידאו",audio:"הטמע אודיו",file:"הטמע קובץ"},url_placeholder:"הזן כתובת URL"}},link_toolbar:{delete:{tooltip:"הסר קישור"},edit:{text:"ערוך קישור",tooltip:"ערוך"},open:{tooltip:"פתח בכרטיסייה חדשה"},form:{title_placeholder:"ערוך כותרת",url_placeholder:"ערוך כתובת URL"}},comments:{edited:"נערך",save_button_text:"שמור",cancel_button_text:"בטל",actions:{add_reaction:"הוסף תגובה",resolve:"סמן כפתור",edit_comment:"ערוך תגובה",delete_comment:"מחק תגובה",more_actions:"פעולות נוספות"},reactions:{reacted_by:"קיבל תגובה מ"},sidebar:{marked_as_resolved:"סומן כפתור",more_replies:t=>`${t} תגובות נוספות`}},generic:{ctrl_shortcut:"Ctrl"}},yae={slash_menu:{heading:{title:"Naslov 1",subtext:"Glavni naslov",aliases:["h","naslov1","h1"],group:"Naslovi"},heading_2:{title:"Naslov 2",subtext:"Naslov poglavlja",aliases:["h2","naslov2","podnaslov"],group:"Naslovi"},heading_3:{title:"Naslov 3",subtext:"Naslov podpoglavlja",aliases:["h3","naslov3","podnaslov"],group:"Naslovi"},heading_4:{title:"Naslov 4",subtext:"Manji naslov podpoglavlja",aliases:["h4","naslov4","podnaslov4"],group:"Podnaslovi"},heading_5:{title:"Naslov 5",subtext:"Mali naslov podpoglavlja",aliases:["h5","naslov5","podnaslov5"],group:"Podnaslovi"},heading_6:{title:"Naslov 6",subtext:"Naslov najniže razine",aliases:["h6","naslov6","podnaslov6"],group:"Podnaslovi"},toggle_heading:{title:"Proširivi Naslov 1",subtext:"Proširivi glavni naslov",aliases:["h","naslov1","h1","proširivi"],group:"Podnaslovi"},toggle_heading_2:{title:"Proširivi Naslov 2",subtext:"Proširivi naslov poglavlja",aliases:["h2","naslov2","podnaslov","proširivi"],group:"Podnaslovi"},toggle_heading_3:{title:"Proširivi Naslov 3",subtext:"Proširivi naslov podpoglavlja",aliases:["h3","naslov3","podnaslov","proširivi"],group:"Podnaslovi"},quote:{title:"Citat",subtext:"Citat ili izvadak",aliases:["quotation","blockquote","bq"],group:"Osnovni blokovi"},numbered_list:{title:"Numerirani popis",subtext:"Popis s numeriranim stavkama",aliases:["poredaniPopis","stavkaPopisa","popis","numeriraniPopis","numerirani popis"],group:"Osnovni blokovi"},bullet_list:{title:"Popis s oznakama",subtext:"Popis s grafičkim oznakama",aliases:["neporedaniPopis","stavkaPopisa","popis","popisSOznakama","popis s oznakama"],group:"Osnovni blokovi"},check_list:{title:"Check lista",subtext:"Popis s kućicama za označavanje",aliases:["neporedaniPopis","stavkaPopisa","popis","popisZaProvjeru","check lista","označeni popis","kućicaZaOznačavanje"],group:"Osnovni blokovi"},toggle_list:{title:"Proširivi popis",subtext:"Popis sa skrivenim podstavkama",aliases:["stavkaPopisa","popis","proširivi popis","sklopivi popis"],group:"Osnovni blokovi"},paragraph:{title:"Normalan tekst",subtext:"Tekst paragrafa",aliases:["p","paragraf"],group:"Osnovni blokovi"},table:{title:"Tablica",subtext:"Tablica s podesivim ćelijama",aliases:["tablica"],group:"Napredno"},code_block:{title:"Blok koda",subtext:"Blok koda sa sintaksnim isticanjem",aliases:["code","pre"],group:"Osnovni blokovi"},page_break:{title:"Prijelom stranice",subtext:"Razdjelnik stranice",aliases:["page","break","separator","prijelom","razdjelnik"],group:"Osnovni blokovi"},image:{title:"Slika",subtext:"Slika s podesivom veličinom i natpisom",aliases:["slika","učitavanjeSlike","učitaj","img","fotografija","medij","url"],group:"Mediji"},video:{title:"Video",subtext:"Video s podesivom veličinom i natpisom",aliases:["video","učitavanjeVidea","učitaj","mp4","film","medij","url"],group:"Mediji"},audio:{title:"Audio",subtext:"Audio s natpisom",aliases:["audio","učitavanjeAudija","učitaj","mp3","zvuk","medij","url"],group:"Mediji"},file:{title:"Datoteka",subtext:"Ugrađena datoteka",aliases:["datoteka","učitaj","ugradi","medij","url"],group:"Mediji"},emoji:{title:"Emoji",subtext:"Pretraži i umetni emoji",aliases:["emoji","emotikon","emocija","lice"],group:"Ostalo"}},placeholders:{default:"Unesi tekst ili upiši ‘/’ za naredbe",heading:"Naslov",toggleListItem:"Prebaciti",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napišite komentar...",edit_comment:"Uredi komentar...",comment_reply:"Dodaj komentar..."},file_blocks:{image:{add_button_text:"Dodaj sliku"},video:{add_button_text:"Dodaj video"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj datoteku"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Meni za dodavanje bloka"},drag_handle:{delete_menuitem:"Ukloni",colors_menuitem:"Boje",header_row_menuitem:"Zaglavni redak",header_column_menuitem:"Zaglavni stupac"},table_handle:{delete_column_menuitem:"Ukloni stupac",delete_row_menuitem:"Ukloni redak",add_left_menuitem:"Dodaj stupac lijevo",add_right_menuitem:"Dodaj stupac desno",add_above_menuitem:"Dodaj redak iznad",add_below_menuitem:"Dodaj redak ispod",split_cell_menuitem:"Podijeli ćeliju",merge_cells_menuitem:"Spoji ćelije",background_color_menuitem:"Boja pozadine"},suggestion_menu:{no_items_title:"Stavke nisu pronađene"},color_picker:{text_title:"Tekst",background_title:"Pozadina",colors:{default:"Zadano",gray:"Siva",brown:"Smeđa",red:"Crvena",orange:"Narančasta",yellow:"Žuta",green:"Zelena",blue:"Plava",purple:"Ljubičasta",pink:"Ružičasta"}},formatting_toolbar:{bold:{tooltip:"Podebljano",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurziv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podcrtano",secondary_tooltip:"Mod+U"},strike:{tooltip:"Precrtano",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Boja"},link:{tooltip:"Kreiraj poveznicu",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Uredi natpis",input_placeholder:"Uredi natpis"},file_replace:{tooltip:{image:"Zamijeni sliku",video:"Zamijeni video",audio:"Zamijeni audio",file:"Zamijeni datoteku"}},file_rename:{tooltip:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"},input_placeholder:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"}},file_download:{tooltip:{image:"Preuzmi sliku",video:"Preuzmi video",audio:"Preuzmi audio",file:"Preuzmi datoteku"}},file_delete:{tooltip:{image:"Ukloni sliku",video:"Ukloni video",audio:"Ukloni audio",file:"Ukloni datoteku"}},file_preview_toggle:{tooltip:"Prikaži/sakrij pregled"},nest:{tooltip:"Ugnijezdi blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Razgnijezdi blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Poravnaj tekst lijevo"},align_center:{tooltip:"Poravnaj tekst po sredini"},align_right:{tooltip:"Poravnaj tekst desno"},align_justify:{tooltip:"Poravnaj tekst obostrano"},table_cell_merge:{tooltip:"Spoji ćelije"},comment:{tooltip:"Dodaj komentar"}},file_panel:{upload:{title:"Učitaj",file_placeholder:{image:"Učitaj sliku",video:"Učitaj video",audio:"Učitaj audio",file:"Učitaj datoteku"},upload_error:"Pogreška: Učitavanje nije uspjelo"},embed:{title:"Ugradi",embed_button:{image:"Ugradi sliku",video:"Ugradi video",audio:"Ugradi audio",file:"Ugradi datoteku"},url_placeholder:"Dodaj URL"}},link_toolbar:{delete:{tooltip:"Ukloni poveznicu"},edit:{text:"Uredi poveznicu",tooltip:"Uredi"},open:{tooltip:"Otvori u novoj kartici"},form:{title_placeholder:"Uredi naslov",url_placeholder:"Uredi URL"}},comments:{edited:"uredio",save_button_text:"Spremi",cancel_button_text:"Odustani",actions:{add_reaction:"Dodaj reakciju",resolve:"Riješi",edit_comment:"Uredi komentar",delete_comment:"Obriši komentar",more_actions:"Više radnji"},reactions:{reacted_by:"Reagirao/la"},sidebar:{marked_as_resolved:"Označeno kao riješeno",more_replies:t=>`${t} dodatnih odgovora`}},generic:{ctrl_shortcut:"Ctrl"}},vae={slash_menu:{heading:{title:"Fyrirsögn 1",subtext:"Notað fyrir efstu fyrirsögn",aliases:["h","fyrirsogn1","h1"],group:"Fyrirsagnir"},heading_2:{title:"Fyrirsögn 2",subtext:"Notað fyrir lykilhluta",aliases:["h2","fyrirsogn2","undirfyrirsogn"],group:"Fyrirsagnir"},heading_3:{title:"Fyrirsögn 3",subtext:"Notað fyrir undirhluta og hópfyrirsagnir",aliases:["h3","fyrirsogn3","undirfyrirsogn"],group:"Fyrirsagnir"},heading_4:{title:"Fyrirsögn 4",subtext:"Titill fyrir minni undirhluta",aliases:["h4","fyrirsogn4","undirfyrirsogn4"],group:"Undirfyrirsagnir"},heading_5:{title:"Fyrirsögn 5",subtext:"Titill fyrir litla undirkafla",aliases:["h5","fyrirsogn5","undirfyrirsogn5"],group:"Undirfyrirsagnir"},heading_6:{title:"Fyrirsögn 6",subtext:"Titill á lægsta stigi",aliases:["h6","fyrirsogn6","undirfyrirsogn6"],group:"Undirfyrirsagnir"},toggle_heading:{title:"Fellanleg Fyrirsögn 1",subtext:"Fellanleg efsta fyrirsögn sem hægt er að sýna eða fela innihald",aliases:["h","fyrirsogn1","h1","fellanleg","fellanlegt"],group:"Undirfyrirsagnir"},toggle_heading_2:{title:"Fellanleg Fyrirsögn 2",subtext:"Fellanleg fyrirsögn fyrir lykilhluta sem hægt er að sýna eða fela innihald",aliases:["h2","fyrirsogn2","undirfyrirsogn","fellanleg","fellanlegt"],group:"Undirfyrirsagnir"},toggle_heading_3:{title:"Fellanleg Fyrirsögn 3",subtext:"Fellanleg fyrirsögn fyrir undirhluta og hópfyrirsagnir sem hægt er að sýna eða fela innihald",aliases:["h3","fyrirsogn3","undirfyrirsogn","fellanleg","fellanlegt"],group:"Undirfyrirsagnir"},quote:{title:"Tilvitnun",subtext:"Tilvitnun eða útdráttur",aliases:["quotation","blockquote","bq"],group:"Grunnblokkar"},numbered_list:{title:"Númeruð listi",subtext:"Notað til að birta númeraðan lista",aliases:["ol","li","listi","numeradurlisti"],group:"Grunnblokkar"},bullet_list:{title:"Punktalisti",subtext:"Notað til að birta óraðaðan lista",aliases:["ul","li","listi","punktalisti"],group:"Grunnblokkar"},check_list:{title:"Athugunarlisti",subtext:"Notað til að sýna lista með gátreitum",aliases:["ul","li","listi","athugunarlisti","merktur listi"],group:"Grunnblokkar"},toggle_list:{title:"Fellanlegur listi",subtext:"Listi með földum undirliðum",aliases:["li","listi","fellanlegur listi","samfellanlegur listi","faldanlegur listi"],group:"Grunnblokkar"},paragraph:{title:"Málsgrein",subtext:"Notað fyrir meginmál skjalsins",aliases:["p","malsgrein"],group:"Grunnblokkar"},code_block:{title:"Kóðablokk",subtext:"Kóðablokkur með litskiptingu",aliases:["kóði","pre"],group:"Grunnblokkar"},page_break:{title:"Síðubrot",subtext:"Síðuskil",aliases:["page","break","separator","síðubrot","síðuskil"],group:"Grunnblokkir"},table:{title:"Tafla",subtext:"Notað fyrir töflur",aliases:["tafla"],group:"Ítarlegt"},image:{title:"Mynd",subtext:"Settu inn mynd",aliases:["mynd","myndaupphlaed","upphlaed","img","mynd","media","url"],group:"Miðlar"},video:{title:"Myndband",subtext:"Setja inn myndband",aliases:["myndband","videoUpphala","hlaða upp","mp4","kvikmynd","miðill","url"],group:"Miðill"},audio:{title:"Hljóð",subtext:"Setja inn hljóð",aliases:["hljóð","audioUpphala","hlaða upp","mp3","hljóð","miðill","url"],group:"Miðlar"},file:{title:"Skrá",subtext:"Setja inn skrá",aliases:["skrá","hlaða upp","fella inn","miðill","url"],group:"Miðlar"},emoji:{title:"Emoji",subtext:"Notað til að setja inn smámynd",aliases:["emoji","andlitsávísun","tilfinningar","andlit"],group:"Annað"}},placeholders:{default:"Sláðu inn texta eða skrifaðu '/' fyrir skipanir",heading:"Fyrirsögn",toggleListItem:"Víxla",bulletListItem:"Listi",numberedListItem:"Listi",checkListItem:"Listi",new_comment:"Skrifaðu athugasemd...",edit_comment:"Breyta athugasemd...",comment_reply:"Bæta við athugasemd..."},file_blocks:{image:{add_button_text:"Bæta við mynd"},video:{add_button_text:"Bæta við myndbandi"},audio:{add_button_text:"Bæta við hljóði"},file:{add_button_text:"Bæta við skrá"}},side_menu:{add_block_label:"Bæta við blokki",drag_handle_label:"Opna blokkarvalmynd"},drag_handle:{delete_menuitem:"Eyða",colors_menuitem:"Litir",header_row_menuitem:"Höfuðröð",header_column_menuitem:"Höfuðdálkur"},table_handle:{delete_column_menuitem:"Eyða dálki",delete_row_menuitem:"Eyða röð",add_left_menuitem:"Bæta dálki við til vinstri",add_right_menuitem:"Bæta dálki við til hægri",add_above_menuitem:"Bæta röð við fyrir ofan",add_below_menuitem:"Bæta röð við fyrir neðan",split_cell_menuitem:"Splita dálk",merge_cells_menuitem:"Sameina dálka",background_color_menuitem:"Breyta bakgrunni"},suggestion_menu:{no_items_title:"Engir hlutir fundust"},color_picker:{text_title:"Texti",background_title:"Bakgrunnur",colors:{default:"Sjálfgefið",gray:"Grár",brown:"Brúnn",red:"Rauður",orange:"Appelsínugulur",yellow:"Gulur",green:"Grænn",blue:"Blár",purple:"Fjólublár",pink:"Bleikur"}},formatting_toolbar:{bold:{tooltip:"Feitletrað",secondary_tooltip:"Mod+B"},italic:{tooltip:"Skáletrað",secondary_tooltip:"Mod+I"},underline:{tooltip:"Undirstrikað",secondary_tooltip:"Mod+U"},strike:{tooltip:"Yfirstrikað",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kóði",secondary_tooltip:""},colors:{tooltip:"Litir"},link:{tooltip:"Búa til tengil",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Breyta myndatexta",input_placeholder:"Breyta myndatexta"},file_replace:{tooltip:{image:"Skipta um mynd",video:"Skipta um myndband",audio:"Skipta um hljóð",file:"Skipta um skrá"}},file_rename:{tooltip:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"},input_placeholder:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"}},file_download:{tooltip:{image:"Sækja mynd",video:"Sækja myndband",audio:"Sækja hljóð",file:"Sækja skrá"}},file_delete:{tooltip:{image:"Eyða mynd",video:"Eyða myndbandi",audio:"Eyða hljóði",file:"Eyða skrá"}},file_preview_toggle:{tooltip:"Skipta um forskoðun"},nest:{tooltip:"Fella blokk saman",secondary_tooltip:"Tab"},unnest:{tooltip:"Afþýða blokk",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Vinstrijafna texta"},align_center:{tooltip:"Miðjustilla texta"},align_right:{tooltip:"Hægrijafna texta"},align_justify:{tooltip:"Jafna texta"},table_cell_merge:{tooltip:"Sameina dálka"},comment:{tooltip:"Bæta við athugasemd"}},file_panel:{upload:{title:"Hlaða upp",file_placeholder:{image:"Hlaða upp mynd",video:"Hlaða upp myndband",audio:"Hlaða upp hljóð",file:"Hlaða upp skrá"},upload_error:"Villa: Upphleðsla mistókst"},embed:{title:"Innsetja",embed_button:{image:"Innsetja mynd",video:"Innsetja myndband",audio:"Innsetja hljóð",file:"Innsetja skrá"},url_placeholder:"Sláðu inn URL"}},link_toolbar:{delete:{tooltip:"Fjarlægja tengil"},edit:{text:"Breyta tengli",tooltip:"Breyta"},open:{tooltip:"Opna í nýjum flipa"},form:{title_placeholder:"Breyta titli",url_placeholder:"Breyta URL"}},comments:{edited:"breytt",save_button_text:"Vista",cancel_button_text:"Hætta",actions:{add_reaction:"Bæta við viðbrögðum",resolve:"Leysa",edit_comment:"Breyta athugasemd",delete_comment:"Eyða athugasemd",more_actions:"Fleiri aðgerðir"},reactions:{reacted_by:"Brást við af"},sidebar:{marked_as_resolved:"Merkt sem leyst",more_replies:t=>`${t} fleiri svör`}},generic:{ctrl_shortcut:"Ctrl"}},wae={slash_menu:{heading:{title:"Intestazione 1",subtext:"Intestazione di primo livello",aliases:["h","intestazione1","h1"],group:"Intestazioni"},heading_2:{title:"Intestazione 2",subtext:"Intestazione di sezione chiave",aliases:["h2","intestazione2","sottotitolo"],group:"Intestazioni"},heading_3:{title:"Intestazione 3",subtext:"Intestazione di sottosezione e gruppo",aliases:["h3","intestazione3","sottotitolo"],group:"Intestazioni"},heading_4:{title:"Intestazione 4",subtext:"Intestazione di sottosezione minore",aliases:["h4","intestazione4","sottotitolo4"],group:"Sottotitoli"},heading_5:{title:"Intestazione 5",subtext:"Intestazione di sottosezione minore",aliases:["h5","intestazione5","sottotitolo5"],group:"Sottotitoli"},heading_6:{title:"Intestazione 6",subtext:"Intestazione di livello più basso",aliases:["h6","intestazione6","sottotitolo6"],group:"Sottotitoli"},toggle_heading:{title:"Intestazione Espandibile 1",subtext:"Intestazione di primo livello che può essere espansa o compressa per mostrare il contenuto",aliases:["h","intestazione1","h1","espandibile","comprimibile"],group:"Sottotitoli"},toggle_heading_2:{title:"Intestazione Espandibile 2",subtext:"Intestazione di sezione che può essere espansa o compressa per mostrare il contenuto",aliases:["h2","intestazione2","sottotitolo","espandibile","comprimibile"],group:"Sottotitoli"},toggle_heading_3:{title:"Intestazione Espandibile 3",subtext:"Intestazione di sottosezione che può essere espansa o compressa per mostrare il contenuto",aliases:["h3","intestazione3","sottotitolo","espandibile","comprimibile"],group:"Sottotitoli"},quote:{title:"Citazione",subtext:"Citazione o estratto",aliases:["quotation","blockquote","bq"],group:"Blocchi Base"},numbered_list:{title:"Elenco Numerato",subtext:"Elenco con elementi ordinati",aliases:["ol","li","elenco","elenconumerato","elenco numerato"],group:"Blocchi Base"},bullet_list:{title:"Elenco Puntato",subtext:"Elenco con elementi non ordinati",aliases:["ul","li","elenco","elencopuntato","elenco puntato"],group:"Blocchi Base"},check_list:{title:"Elenco di Controllo",subtext:"Elenco con caselle di controllo",aliases:["ul","li","elenco","elencocontrollo","elenco controllo","elenco verificato","casella di controllo"],group:"Blocchi Base"},toggle_list:{title:"Elenco Espandibile",subtext:"Elenco con elementi nascondibili",aliases:["li","elenco","elenco espandibile","elenco collassabile","elenco espandibile"],group:"Blocchi Base"},paragraph:{title:"Paragrafo",subtext:"Il corpo del tuo documento",aliases:["p","paragrafo"],group:"Blocchi Base"},code_block:{title:"Blocco di Codice",subtext:"Blocco di codice con evidenziazione della sintassi",aliases:["code","pre"],group:"Blocchi Base"},page_break:{title:"Interruzione di Pagina",subtext:"Separatore di pagina",aliases:["pagina","interruzione","separatore"],group:"Blocchi base"},table:{title:"Tabella",subtext:"Tabella con celle modificabili",aliases:["tabella"],group:"Avanzato"},image:{title:"Immagine",subtext:"Immagine ridimensionabile con didascalia",aliases:["immagine","caricaImmagine","carica","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Video ridimensionabile con didascalia",aliases:["video","caricaVideo","carica","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Audio incorporato con didascalia",aliases:["audio","caricaAudio","carica","mp3","suono","media","url"],group:"Media"},file:{title:"File",subtext:"File incorporato",aliases:["file","carica","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Cerca e inserisci un'emoji",aliases:["emoji","emote","emozione","faccia"],group:"Altri"}},placeholders:{default:"Inserisci testo o digita '/' per i comandi",heading:"Intestazione",toggleListItem:"Attiva/Disattiva",bulletListItem:"Elenco",numberedListItem:"Elenco",checkListItem:"Elenco",new_comment:"Scrivi un commento...",edit_comment:"Modifica commento...",comment_reply:"Aggiungi commento..."},file_blocks:{image:{add_button_text:"Aggiungi immagine"},video:{add_button_text:"Aggiungi video"},audio:{add_button_text:"Aggiungi audio"},file:{add_button_text:"Aggiungi file"}},side_menu:{add_block_label:"Aggiungi blocco",drag_handle_label:"Apri menu blocco"},drag_handle:{delete_menuitem:"Elimina",colors_menuitem:"Colori",header_row_menuitem:"Riga intestazione",header_column_menuitem:"Colonna intestazione"},table_handle:{delete_column_menuitem:"Elimina colonna",delete_row_menuitem:"Elimina riga",add_left_menuitem:"Aggiungi colonna a sinistra",add_right_menuitem:"Aggiungi colonna a destra",add_above_menuitem:"Aggiungi riga sopra",add_below_menuitem:"Aggiungi riga sotto",split_cell_menuitem:"Dividi cella",merge_cells_menuitem:"Unisci celle",background_color_menuitem:"Colore di sfondo"},suggestion_menu:{no_items_title:"Nessun elemento trovato"},color_picker:{text_title:"Testo",background_title:"Sfondo",colors:{default:"Predefinito",gray:"Grigio",brown:"Marrone",red:"Rosso",orange:"Arancione",yellow:"Giallo",green:"Verde",blue:"Blu",purple:"Viola",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Grassetto",secondary_tooltip:"Cmd+B"},italic:{tooltip:"Corsivo",secondary_tooltip:"Cmd+I"},underline:{tooltip:"Sottolineato",secondary_tooltip:"Cmd+U"},strike:{tooltip:"Barrato",secondary_tooltip:"Cmd+Shift+S"},code:{tooltip:"Codice",secondary_tooltip:""},colors:{tooltip:"Colori"},link:{tooltip:"Crea link",secondary_tooltip:"Cmd+K"},file_caption:{tooltip:"Modifica didascalia",input_placeholder:"Modifica didascalia"},file_replace:{tooltip:{image:"Sostituisci immagine",video:"Sostituisci video",audio:"Sostituisci audio",file:"Sostituisci file"}},file_rename:{tooltip:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"},input_placeholder:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"}},file_download:{tooltip:{image:"Scarica immagine",video:"Scarica video",audio:"Scarica audio",file:"Scarica file"}},file_delete:{tooltip:{image:"Elimina immagine",video:"Elimina video",audio:"Elimina audio",file:"Elimina file"}},file_preview_toggle:{tooltip:"Attiva/disattiva anteprima"},nest:{tooltip:"Annida blocco",secondary_tooltip:"Tab"},unnest:{tooltip:"Disannida blocco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Allinea testo a sinistra"},align_center:{tooltip:"Allinea testo al centro"},align_right:{tooltip:"Allinea testo a destra"},align_justify:{tooltip:"Giustifica testo"},table_cell_merge:{tooltip:"Unisci celle"},comment:{tooltip:"Aggiungi commento"}},file_panel:{upload:{title:"Carica",file_placeholder:{image:"Carica immagine",video:"Carica video",audio:"Carica audio",file:"Carica file"},upload_error:"Errore: Caricamento fallito"},embed:{title:"Incorpora",embed_button:{image:"Incorpora immagine",video:"Incorpora video",audio:"Incorpora audio",file:"Incorpora file"},url_placeholder:"Inserisci URL"}},link_toolbar:{delete:{tooltip:"Rimuovi link"},edit:{text:"Modifica link",tooltip:"Modifica"},open:{tooltip:"Apri in una nuova scheda"},form:{title_placeholder:"Modifica titolo",url_placeholder:"Modifica URL"}},comments:{edited:"modificato",save_button_text:"Salva",cancel_button_text:"Annulla",actions:{add_reaction:"Aggiungi reazione",resolve:"Risolvi",edit_comment:"Modifica commento",delete_comment:"Elimina commento",more_actions:"Altre azioni"},reactions:{reacted_by:"Reagito da"},sidebar:{marked_as_resolved:"Contrassegnato come risolto",more_replies:t=>`${t} altre risposte`}},generic:{ctrl_shortcut:"Ctrl"}},kae={slash_menu:{heading:{title:"見出し１",subtext:"トップレベルの見出しに使用",aliases:["h","見出し１","h1","大見出し"],group:"見出し"},heading_2:{title:"見出し２",subtext:"重要なセクションに使用",aliases:["h2","見出し2","subheading","中見出し"],group:"見出し"},heading_3:{title:"見出し３",subtext:"セクションやグループの見出しに使用",aliases:["h3","見出し3","subheading","小見出し"],group:"見出し"},heading_4:{title:"見出し４",subtext:"小さなサブセクションの見出しに使用",aliases:["h4","見出し4","subheading4","小見出し4"],group:"サブ見出し"},heading_5:{title:"見出し５",subtext:"小さなサブセクションの見出しに使用",aliases:["h5","見出し5","subheading5","小見出し5"],group:"サブ見出し"},heading_6:{title:"見出し６",subtext:"最下位レベルの見出しに使用",aliases:["h6","見出し6","subheading6","小見出し6"],group:"サブ見出し"},toggle_heading:{title:"折りたたみ見出し１",subtext:"内容の表示/非表示が切り替え可能なトップレベルの見出し",aliases:["h","見出し１","h1","大見出し","折りたたみ","トグル"],group:"サブ見出し"},toggle_heading_2:{title:"折りたたみ見出し２",subtext:"内容の表示/非表示が切り替え可能な重要なセクションの見出し",aliases:["h2","見出し2","subheading","中見出し","折りたたみ","トグル"],group:"サブ見出し"},toggle_heading_3:{title:"折りたたみ見出し３",subtext:"内容の表示/非表示が切り替え可能なセクションやグループの見出し",aliases:["h3","見出し3","subheading","小見出し","折りたたみ","トグル"],group:"サブ見出し"},quote:{title:"引用",subtext:"引用または抜粋",aliases:["quotation","blockquote","bq"],group:"基本ブロック"},numbered_list:{title:"番号付リスト",subtext:"番号付リストを表示するために使用",aliases:["ol","li","numberedlist","numbered list","リスト","番号付リスト","番号 リスト"],group:"基本ブロック"},bullet_list:{title:"箇条書き",subtext:"箇条書きを表示するために使用",aliases:["ul","li","bulletlist","bullet list","リスト","箇条書きリスト"],group:"基本ブロック"},check_list:{title:"チェックリスト",subtext:"チェックボックス付きリストを表示するために使用されます",aliases:["ul","li","list","checklist","checked list","リスト","チェックリスト","チェックされたリスト"],group:"基本ブロック"},toggle_list:{title:"折りたたみリスト",subtext:"サブ項目を非表示にできるリスト",aliases:["li","リスト","折りたたみリスト","トグルリスト","折りたたみリスト"],group:"基本ブロック"},paragraph:{title:"標準テキスト",subtext:"本文に使用",aliases:["p","paragraph","標準テキスト"],group:"基本ブロック"},code_block:{title:"コードブロック",subtext:"シンタックスハイライト付きのコードブロック",aliases:["code","pre","コード","コードブロック"],group:"基本ブロック"},page_break:{title:"改ページ",subtext:"ページ区切り",aliases:["page","break","separator","改ページ","区切り"],group:"基本ブロック"},table:{title:"表",subtext:"表に使用",aliases:["table","表","テーブル"],group:"高度なブロック"},image:{title:"画像",subtext:"画像を挿入",aliases:["image","imageUpload","upload","img","picture","media","url","画像"],group:"メディア"},video:{title:"ビデオ",subtext:"ビデオを挿入",aliases:["video","videoUpload","upload","mp4","film","media","url","ビデオ"],group:"メディア"},audio:{title:"オーディオ",subtext:"オーディオを挿入",aliases:["audio","audioUpload","upload","mp3","sound","media","url","オーディオ"],group:"メディア"},file:{title:"ファイル",subtext:"ファイルを挿入",aliases:["file","upload","embed","media","url","ファイル"],group:"メディア"},emoji:{title:"絵文字",subtext:"絵文字を挿入するために使用します",aliases:["絵文字","顔文字","感情表現","顔"],group:"その他"}},placeholders:{default:"テキストを入力するか'/' を入力してコマンド選択",heading:"見出し",toggleListItem:"トグル",bulletListItem:"リストを追加",numberedListItem:"リストを追加",checkListItem:"リストを追加",new_comment:"コメントを書く...",edit_comment:"コメントを編集...",comment_reply:"コメントを追加..."},file_blocks:{image:{add_button_text:"画像を追加"},video:{add_button_text:"ビデオを追加"},audio:{add_button_text:"オーディオを追加"},file:{add_button_text:"ファイルを追加"}},side_menu:{add_block_label:"ブロックを追加",drag_handle_label:"ブロックメニュー"},drag_handle:{delete_menuitem:"削除",colors_menuitem:"色を変更",header_row_menuitem:"行の見出し",header_column_menuitem:"列の見出し"},table_handle:{delete_column_menuitem:"列を削除",delete_row_menuitem:"行を削除",add_left_menuitem:"左に列を追加",add_right_menuitem:"右に列を追加",add_above_menuitem:"上に行を追加",add_below_menuitem:"下に行を追加",split_cell_menuitem:"セルを分割",merge_cells_menuitem:"セルを結合",background_color_menuitem:"背景色を変更"},suggestion_menu:{no_items_title:"アイテムが見つかりません"},color_picker:{text_title:"文字色",background_title:"背景色",colors:{default:"デフォルト",gray:"グレー",brown:"茶色",red:"赤",orange:"オレンジ",yellow:"黄色",green:"緑",blue:"青",purple:"紫",pink:"ピンク"}},formatting_toolbar:{bold:{tooltip:"太字",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下線",secondary_tooltip:"Mod+U"},strike:{tooltip:"打ち消し",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"コード",secondary_tooltip:""},colors:{tooltip:"色"},link:{tooltip:"リンク",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"キャプションを編集",input_placeholder:"キャプションを編集"},file_replace:{tooltip:{image:"画像を置換",video:"ビデオを置換",audio:"オーディオを置換",file:"ファイルを置換"}},file_rename:{tooltip:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"},input_placeholder:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"}},file_download:{tooltip:{image:"画像をダウンロード",video:"ビデオをダウンロード",audio:"オーディオをダウンロード",file:"ファイルをダウンロード"}},file_delete:{tooltip:{image:"画像を削除",video:"ビデオを削除",audio:"オーディオを削除",file:"ファイルを削除"}},file_preview_toggle:{tooltip:"プレビューの切り替え"},nest:{tooltip:"インデント増",secondary_tooltip:"Tab"},unnest:{tooltip:"インデント減",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左揃え"},align_center:{tooltip:"中央揃え"},align_right:{tooltip:"右揃え"},align_justify:{tooltip:"両端揃え"},table_cell_merge:{tooltip:"セルを結合"},comment:{tooltip:"コメントを追加"}},file_panel:{upload:{title:"アップロード",file_placeholder:{image:"画像をアップロード",video:"ビデオをアップロード",audio:"オーディオをアップロード",file:"ファイルをアップロード"},upload_error:"エラー: アップロードが失敗しました"},embed:{title:"埋め込み",embed_button:{image:"画像を埋め込む",video:"ビデオを埋め込む",audio:"オーディオを埋め込む",file:"ファイルを埋め込む"},url_placeholder:"URLを入力"}},link_toolbar:{delete:{tooltip:"リンクを解除"},edit:{text:"リンクを編集",tooltip:"編集"},open:{tooltip:"新しいタブでリンクを開く"},form:{title_placeholder:"タイトルを編集",url_placeholder:"URLを編集"}},comments:{edited:"編集済み",save_button_text:"保存",cancel_button_text:"キャンセル",actions:{add_reaction:"リアクションを追加",resolve:"解決",edit_comment:"コメントを編集",delete_comment:"コメントを削除",more_actions:"その他の操作"},reactions:{reacted_by:"リアクションした人"},sidebar:{marked_as_resolved:"解決済みとしてマーク",more_replies:t=>`${t} 件の追加返信`}},generic:{ctrl_shortcut:"Ctrl"}},xae={slash_menu:{heading:{title:"제목1",subtext:"섹션 제목(대)",aliases:["h","제목1","h1","대제목"],group:"제목"},heading_2:{title:"제목2",subtext:"섹션 제목(중)",aliases:["h2","제목2","중제목"],group:"제목"},heading_3:{title:"제목3",subtext:"섹션 제목(소)",aliases:["h3","제목3","subheading"],group:"제목"},heading_4:{title:"제목4",subtext:"하위 소단락 제목",aliases:["h4","제목4","소제목4"],group:"소제목"},heading_5:{title:"제목5",subtext:"작은 하위 섹션 제목",aliases:["h5","제목5","소제목5"],group:"소제목"},heading_6:{title:"제목6",subtext:"가장 하위 수준 제목",aliases:["h6","제목6","소제목6"],group:"소제목"},toggle_heading:{title:"접을 수 있는 제목1",subtext:"내용을 표시하거나 숨길 수 있는 섹션 제목(대)",aliases:["h","제목1","h1","대제목","접기","토글"],group:"제목"},toggle_heading_2:{title:"접을 수 있는 제목2",subtext:"내용을 표시하거나 숨길 수 있는 섹션 제목(중)",aliases:["h2","제목2","중제목","접기","토글"],group:"소제목"},toggle_heading_3:{title:"접을 수 있는 제목3",subtext:"내용을 표시하거나 숨길 수 있는 섹션 제목(소)",aliases:["h3","제목3","subheading","접기","토글"],group:"소제목"},quote:{title:"인용",subtext:"인용문 또는 발췌",aliases:["quotation","blockquote","bq"],group:"기본 블록"},numbered_list:{title:"번호 매기기 목록",subtext:"번호가 매겨진 목록을 추가합니다.",aliases:["ol","li","목록","번호 매기기 목록","번호 목록"],group:"기본 블록"},bullet_list:{title:"글머리 기호 목록",subtext:"간단한 글머리 기호를 추가합니다.",aliases:["ul","li","목록","글머리 기호 목록","글머리 목록"],group:"기본 블록"},check_list:{title:"체크리스트",subtext:"체크박스가 있는 목록을 표시하는 데 사용",aliases:["ul","li","목록","체크리스트","체크 리스트","체크된 목록","체크박스"],group:"기본 블록"},toggle_list:{title:"접을 수 있는 목록",subtext:"숨길 수 있는 하위 항목이 있는 목록",aliases:["li","목록","접을 수 있는 목록","토글 목록","접기 목록"],group:"기본 블록"},paragraph:{title:"본문",subtext:"일반 텍스트",aliases:["p","paragraph","본문"],group:"기본 블록"},code_block:{title:"코드 블록",subtext:"구문 강조가 있는 코드 블록",aliases:["code","pre"],group:"기본 블록"},page_break:{title:"페이지 나누기",subtext:"페이지 구분자",aliases:["page","break","separator","페이지","구분자"],group:"기본 블록"},table:{title:"표",subtext:"간단한 표를 추가합니다.",aliases:["표"],group:"고급"},image:{title:"이미지",subtext:"이미지 파일을 업로드합니다.",aliases:["image","imageUpload","upload","img","picture","media","이미지","url"],group:"미디어"},video:{title:"비디오",subtext:"비디오 삽입",aliases:["video","videoUpload","upload","mp4","film","media","동영상","url"],group:"미디어"},audio:{title:"오디오",subtext:"오디오 삽입",aliases:["audio","audioUpload","upload","mp3","sound","media","오디오","url"],group:"미디어"},file:{title:"파일",subtext:"파일 삽입",aliases:["file","upload","embed","media","파일","url"],group:"미디어"},emoji:{title:"이모지",subtext:"이모지 삽입용으로 사용됩니다",aliases:["이모지","emoji","감정 표현","emotion expression","표정","face expression","얼굴","face"],group:"기타"}},placeholders:{default:"텍스트를 입력하거나 /를 입력하여 명령을 입력하세요.",heading:"제목",toggleListItem:"토글",bulletListItem:"목록",numberedListItem:"목록",checkListItem:"목록",new_comment:"댓글 작성...",edit_comment:"댓글 수정...",comment_reply:"댓글 추가..."},file_blocks:{image:{add_button_text:"이미지 추가"},video:{add_button_text:"비디오 추가"},audio:{add_button_text:"오디오 추가"},file:{add_button_text:"파일 추가"}},side_menu:{add_block_label:"블록 추가",drag_handle_label:"블록 메뉴 열기"},drag_handle:{delete_menuitem:"삭제",colors_menuitem:"색깔",header_row_menuitem:"행 제목",header_column_menuitem:"열 제목"},table_handle:{delete_column_menuitem:"열 1개 삭제",delete_row_menuitem:"행 삭제",add_left_menuitem:"왼쪽에 열 1개 추가",add_right_menuitem:"오른쪽에 열 1개 추가",add_above_menuitem:"위에 행 1개 추가",add_below_menuitem:"아래에 행 1개 추가",split_cell_menuitem:"셀 분할",merge_cells_menuitem:"셀 병합",background_color_menuitem:"배경색 변경"},suggestion_menu:{no_items_title:"항목을 찾을 수 없음"},color_picker:{text_title:"텍스트",background_title:"배경",colors:{default:"기본",gray:"회색",brown:"갈색",red:"빨간색",orange:"주황색",yellow:"노란색",green:"녹색",blue:"파란색",purple:"보라색",pink:"분홍색"}},formatting_toolbar:{bold:{tooltip:"진하게",secondary_tooltip:"Mod+B"},italic:{tooltip:"기울임",secondary_tooltip:"Mod+I"},underline:{tooltip:"밑줄",secondary_tooltip:"Mod+U"},strike:{tooltip:"취소선",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"코드",secondary_tooltip:""},colors:{tooltip:"색깔"},link:{tooltip:"링크 만들기",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"이미지 캡션 수정",input_placeholder:"이미지 캡션 수정"},file_replace:{tooltip:{image:"이미지 교체",video:"비디오 교체",audio:"오디오 교체",file:"파일 교체"}},file_rename:{tooltip:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"},input_placeholder:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"}},file_download:{tooltip:{image:"이미지 다운로드",video:"비디오 다운로드",audio:"오디오 다운로드",file:"파일 다운로드"}},file_delete:{tooltip:{image:"이미지 삭제",video:"비디오 삭제",audio:"오디오 삭제",file:"파일 삭제"}},file_preview_toggle:{tooltip:"미리보기 전환"},nest:{tooltip:"중첩 블록",secondary_tooltip:"Tab"},unnest:{tooltip:"비중첩 블록",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"텍스트 왼쪽 맞춤"},align_center:{tooltip:"텍스트 가운데 맞춤"},align_right:{tooltip:"텍스트 오른쪽 맞춤"},align_justify:{tooltip:"텍스트 양쪽 맞춤"},table_cell_merge:{tooltip:"셀 병합"},comment:{tooltip:"코멘트 추가"}},file_panel:{upload:{title:"업로드",file_placeholder:{image:"이미지 업로드",video:"비디오 업로드",audio:"오디오 업로드",file:"파일 업로드"},upload_error:"오류: 업로드 실패"},embed:{title:"임베드",embed_button:{image:"이미지 삽입",video:"비디오 삽입",audio:"오디오 삽입",file:"파일 삽입"},url_placeholder:"URL을 입력하세요."}},link_toolbar:{delete:{tooltip:"링크 삭제"},edit:{text:"링크 수정",tooltip:"수정"},open:{tooltip:"새 탭으로 열기"},form:{title_placeholder:"제목 수정",url_placeholder:"URL 수정"}},comments:{edited:"수정됨",save_button_text:"저장",cancel_button_text:"취소",actions:{add_reaction:"반응 추가",resolve:"해결",edit_comment:"댓글 수정",delete_comment:"댓글 삭제",more_actions:"더 많은 작업"},reactions:{reacted_by:"반응한 사람"},sidebar:{marked_as_resolved:"해결됨으로 표시됨",more_replies:t=>`${t}개의 추가 답글`}},generic:{ctrl_shortcut:"Ctrl"}},Cae={slash_menu:{heading:{title:"Kop 1",subtext:"Gebruikt voor een hoofdkop",aliases:["h","kop1","h1"],group:"Koppen"},heading_2:{title:"Kop 2",subtext:"Gebruikt voor belangrijke secties",aliases:["h2","kop2","subkop"],group:"Koppen"},heading_3:{title:"Kop 3",subtext:"Gebruikt voor subsecties en groepskoppen",aliases:["h3","kop3","subkop"],group:"Koppen"},heading_4:{title:"Kop 4",subtext:"Gebruikt voor kleinere subsecties",aliases:["h4","kop4","subkop4"],group:"Subkoppen"},heading_5:{title:"Kop 5",subtext:"Gebruikt voor kleinere subsecties",aliases:["h5","kop5","subkop5"],group:"Subkoppen"},heading_6:{title:"Kop 6",subtext:"Gebruikt voor koppen op het laagste niveau",aliases:["h6","kop6","subkop6"],group:"Subkoppen"},toggle_heading:{title:"Uitklapbare Kop 1",subtext:"Hoofdkop die kan worden uit- en ingeklapt om inhoud te tonen",aliases:["h","kop1","h1","uitklapbaar","inklapbaar"],group:"Subkoppen"},toggle_heading_2:{title:"Uitklapbare Kop 2",subtext:"Sectiekop die kan worden uit- en ingeklapt om inhoud te tonen",aliases:["h2","kop2","subkop","uitklapbaar","inklapbaar"],group:"Subkoppen"},toggle_heading_3:{title:"Uitklapbare Kop 3",subtext:"Subsectiekop die kan worden uit- en ingeklapt om inhoud te tonen",aliases:["h3","kop3","subkop","uitklapbaar","inklapbaar"],group:"Subkoppen"},quote:{title:"Citaat",subtext:"Citaat of uittreksel",aliases:["quotation","blockquote","bq"],group:"Basisblokken"},numbered_list:{title:"Genummerde Lijst",subtext:"Gebruikt om een genummerde lijst weer te geven",aliases:["ol","li","lijst","genummerdelijst","genummerde lijst"],group:"Basisblokken"},bullet_list:{title:"Puntenlijst",subtext:"Gebruikt om een ongeordende lijst weer te geven",aliases:["ul","li","lijst","puntenlijst","punten lijst"],group:"Basisblokken"},check_list:{title:"Controlelijst",subtext:"Gebruikt om een lijst met selectievakjes weer te geven",aliases:["ul","li","lijst","aangevinkte lijst","selectievakje"],group:"Basisblokken"},toggle_list:{title:"Uitklapbare Lijst",subtext:"Lijst met verbergbare sub-items",aliases:["li","lijst","uitklapbare lijst","inklapbare lijst"],group:"Basisblokken"},paragraph:{title:"Paragraaf",subtext:"Gebruikt voor de hoofdtekst van uw document",aliases:["p","paragraaf"],group:"Basisblokken"},code_block:{title:"Codeblok",subtext:"Codeblok met syntax highlighting",aliases:["code","pre"],group:"Basisblokken"},page_break:{title:"Pagina-einde",subtext:"Paginascheiding",aliases:["page","break","separator","pagina","scheiding"],group:"Basisblokken"},table:{title:"Tabel",subtext:"Gebruikt voor tabellen",aliases:["tabel"],group:"Geavanceerd"},image:{title:"Afbeelding",subtext:"Voeg een afbeelding in",aliases:["afbeelding","imageUpload","upload","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Voeg een video in",aliases:["video","videoUploaden","upload","mp4","film","media","url","drive","dropbox"],group:"Media"},audio:{title:"Audio",subtext:"Voeg audio in",aliases:["audio","audioUploaden","upload","mp3","geluid","media","url"],group:"Media"},file:{title:"Bestand",subtext:"Voeg een bestand in",aliases:["bestand","upload","insluiten","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Gebruikt voor het invoegen van een emoji",aliases:["emoji","emotie-uitdrukking","gezichtsuitdrukking","gezicht"],group:"Overig"}},placeholders:{default:"Voer tekst in of type '/' voor commando's",heading:"Kop",toggleListItem:"Uitklapbaar",bulletListItem:"Lijst",numberedListItem:"Lijst",checkListItem:"Lijst",new_comment:"Schrijf een reactie...",edit_comment:"Reactie bewerken...",comment_reply:"Reactie toevoegen..."},file_blocks:{image:{add_button_text:"Afbeelding toevoegen"},video:{add_button_text:"Video toevoegen"},audio:{add_button_text:"Audio toevoegen"},file:{add_button_text:"Bestand toevoegen"}},side_menu:{add_block_label:"Nieuw blok",drag_handle_label:"Open blok menu"},drag_handle:{delete_menuitem:"Verwijder",colors_menuitem:"Kleuren",header_row_menuitem:"Kopregel",header_column_menuitem:"Kopkolom"},table_handle:{delete_column_menuitem:"Verwijder kolom",delete_row_menuitem:"Verwijder rij",add_left_menuitem:"Voeg kolom links toe",add_right_menuitem:"Voeg kolom rechts toe",add_above_menuitem:"Voeg rij boven toe",add_below_menuitem:"Voeg rij onder toe",split_cell_menuitem:"Splits cel",merge_cells_menuitem:"Voeg cellen samen",background_color_menuitem:"Achtergrondkleur wijzigen"},suggestion_menu:{no_items_title:"Geen items gevonden"},color_picker:{text_title:"Tekst",background_title:"Achtergrond",colors:{default:"Standaard",gray:"Grijs",brown:"Bruin",red:"Rood",orange:"Oranje",yellow:"Geel",green:"Groen",blue:"Blauw",purple:"Paars",pink:"Roze"}},formatting_toolbar:{bold:{tooltip:"Vet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursief",secondary_tooltip:"Mod+I"},underline:{tooltip:"Onderstrepen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Doorstrepen",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Kleuren"},link:{tooltip:"Maak link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Bewerk onderschrift",input_placeholder:"Bewerk onderschrift"},file_replace:{tooltip:{image:"Afbeelding vervangen",video:"Video vervangen",audio:"Audio vervangen",file:"Bestand vervangen"}},file_rename:{tooltip:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"},input_placeholder:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"}},file_download:{tooltip:{image:"Afbeelding downloaden",video:"Video downloaden",audio:"Audio downloaden",file:"Bestand downloaden"}},file_delete:{tooltip:{image:"Afbeelding verwijderen",video:"Video verwijderen",audio:"Audio verwijderen",file:"Bestand verwijderen"}},file_preview_toggle:{tooltip:"Voorbeeldschakelaar"},nest:{tooltip:"Nest blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Ontnest blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Tekst links uitlijnen"},align_center:{tooltip:"Tekst centreren"},align_right:{tooltip:"Tekst rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"},table_cell_merge:{tooltip:"Voeg cellen samen"},comment:{tooltip:"Commentaar toevoegen"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Afbeelding uploaden",video:"Video uploaden",audio:"Audio uploaden",file:"Bestand uploaden"},upload_error:"Fout: Upload mislukt"},embed:{title:"Insluiten",embed_button:{image:"Afbeelding insluiten",video:"Video insluiten",audio:"Audio insluiten",file:"Bestand insluiten"},url_placeholder:"Voer URL in"}},link_toolbar:{delete:{tooltip:"Verwijder link"},edit:{text:"Bewerk link",tooltip:"Bewerk"},open:{tooltip:"Open in nieuw tabblad"},form:{title_placeholder:"Bewerk titel",url_placeholder:"Bewerk URL"}},comments:{edited:"bewerkt",save_button_text:"Opslaan",cancel_button_text:"Annuleren",actions:{add_reaction:"Reactie toevoegen",resolve:"Oplossen",edit_comment:"Reactie bewerken",delete_comment:"Reactie verwijderen",more_actions:"Meer acties"},reactions:{reacted_by:"Gereageerd door"},sidebar:{marked_as_resolved:"Gemarkeerd als opgelost",more_replies:t=>`${t} extra reacties`}},generic:{ctrl_shortcut:"Ctrl"}},_ae={slash_menu:{heading:{title:"Overskrift 1",subtext:"Toppnivåoverskrift",aliases:["h","overskrift1","h1"],group:"Overskrifter"},heading_2:{title:"Overskrift 2",subtext:"Hovedseksjonsoverskrift",aliases:["h2","overskrift2","underoverskrift"],group:"Overskrifter"},heading_3:{title:"Overskrift 3",subtext:"Underseksjon og gruppeoverskrift",aliases:["h3","overskrift3","underoverskrift"],group:"Overskrifter"},heading_4:{title:"Overskrift 4",subtext:"Underoverskrift for mindre underseksjoner",aliases:["h4","overskrift4","underoverskrift4"],group:"Underoverskrifter"},heading_5:{title:"Overskrift 5",subtext:"Overskrift for mindre underseksjoner",aliases:["h5","overskrift5","underoverskrift5"],group:"Underoverskrifter"},heading_6:{title:"Overskrift 6",subtext:"Overskrift på laveste nivå",aliases:["h6","overskrift6","underoverskrift6"],group:"Underoverskrifter"},toggle_heading:{title:"Sammenleggbar Overskrift 1",subtext:"Toppnivåoverskrift som kan vises eller skjules",aliases:["h","overskrift1","h1","sammenleggbar","toggle"],group:"Underoverskrifter"},toggle_heading_2:{title:"Sammenleggbar Overskrift 2",subtext:"Hovedseksjonsoverskrift som kan vises eller skjules",aliases:["h2","overskrift2","underoverskrift","sammenleggbar","toggle"],group:"Underoverskrifter"},toggle_heading_3:{title:"Sammenleggbar Overskrift 3",subtext:"Underseksjonsoverskrift som kan vises eller skjules",aliases:["h3","overskrift3","underoverskrift","sammenleggbar","toggle"],group:"Underoverskrifter"},quote:{title:"Sitat",subtext:"Sitat eller utdrag",aliases:["quotation","blockquote","bq"],group:"Grunnleggende blokker"},numbered_list:{title:"Nummerert liste",subtext:"Liste med ordnede elementer",aliases:["ol","li","liste","nummerertliste","nummerert liste"],group:"Grunnleggende blokker"},bullet_list:{title:"Punktliste",subtext:"Liste med uordnede elementer",aliases:["ul","li","liste","punktliste","punkt liste"],group:"Grunnleggende blokker"},check_list:{title:"Sjekkliste",subtext:"Liste med avmerkingsbokser",aliases:["ul","li","liste","sjekkliste","sjekk liste","avmerket liste","avmerkingsboks"],group:"Grunnleggende blokker"},toggle_list:{title:"Sammenleggbar liste",subtext:"Liste med skjulbare underpunkter",aliases:["li","liste","sammenleggbar liste","skjulbar liste","sammenleggbar liste"],group:"Grunnleggende blokker"},paragraph:{title:"Avsnitt",subtext:"Hoveddelen av dokumentet ditt",aliases:["p","avsnitt"],group:"Grunnleggende blokker"},code_block:{title:"Kodeblokk",subtext:"Kodeblokk med syntaksfremheving",aliases:["kode","pre"],group:"Grunnleggende blokker"},page_break:{title:"Sideskift",subtext:"Sideskilletegn",aliases:["side","skift","skilletegn"],group:"Grunnleggende blokker"},table:{title:"Tabell",subtext:"Tabell med redigerbare celler",aliases:["tabell"],group:"Avansert"},image:{title:"Bilde",subtext:"Justerbart bilde med bildetekst",aliases:["bilde","bildeopplasting","opplasting","img","bilde","media","url"],group:"Media"},video:{title:"Video",subtext:"Justerbar video med bildetekst",aliases:["video","videoopplasting","opplasting","mp4","film","media","url"],group:"Media"},audio:{title:"Lyd",subtext:"legg til lyd med bildetekst",aliases:["lyd","lydopplasting","opplasting","mp3","lyd","media","url"],group:"Media"},file:{title:"Fil",subtext:"Innebygd fil",aliases:["fil","opplasting","innebygd","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Søk etter og legg til en emoji",aliases:["emoji","emote","emosjon","ansikt"],group:"Andre"}},placeholders:{default:"Skriv tekst eller skriv '/' for å vise kommandoer",heading:"Overskrift",toggleListItem:"Veksle",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Skriv en kommentar...",edit_comment:"Rediger kommentar...",comment_reply:"Legg til kommentar..."},file_blocks:{image:{add_button_text:"Legg til bilde"},video:{add_button_text:"Legg til video"},audio:{add_button_text:"Legg til lyd"},file:{add_button_text:"Legg til fil"}},side_menu:{add_block_label:"Legg til blokk",drag_handle_label:"Åpne blokkmeny"},drag_handle:{delete_menuitem:"Slett",colors_menuitem:"Farger",header_row_menuitem:"Rad overskrift",header_column_menuitem:"Kolonne overskrift"},table_handle:{delete_column_menuitem:"Slett kolonne",delete_row_menuitem:"Slett rad",add_left_menuitem:"Legg til kolonne til venstre",add_right_menuitem:"Legg til kolonne til høyre",add_above_menuitem:"Legg til rad over",add_below_menuitem:"Legg til rad under",split_cell_menuitem:"Del celle",merge_cells_menuitem:"Slå sammen celler",background_color_menuitem:"Bakgrunnsfarge"},suggestion_menu:{no_items_title:"Ingen elementer funnet"},color_picker:{text_title:"Tekst",background_title:"Bakgrunn",colors:{default:"Standard",gray:"Grå",brown:"Brun",red:"Rød",orange:"Oransje",yellow:"Gul",green:"Grønn",blue:"Blå",purple:"Lilla",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Understrek",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gjennomstrek",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kode",secondary_tooltip:""},colors:{tooltip:"Farger"},link:{tooltip:"Opprett lenke",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Rediger bildetekst",input_placeholder:"Rediger bildetekst"},file_replace:{tooltip:{image:"Bytt ut bilde",video:"Bytt ut video",audio:"Bytt ut lyd",file:"Bytt ut fil"}},file_rename:{tooltip:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"},input_placeholder:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"}},file_download:{tooltip:{image:"Last ned bilde",video:"Last ned video",audio:"Last ned lyd",file:"Last ned fil"}},file_delete:{tooltip:{image:"Slett bilde",video:"Slett video",audio:"Slett lyd",file:"Slett fil"}},file_preview_toggle:{tooltip:"Veksle forhåndsvisning"},nest:{tooltip:"Plasser blokk inni",secondary_tooltip:"Tab"},unnest:{tooltip:"Ta blokk ut",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Venstrejuster tekst"},align_center:{tooltip:"Midtstill tekst"},align_right:{tooltip:"Høyrejuster tekst"},align_justify:{tooltip:"Juster tekst"},comment:{tooltip:"Legg til kommentar"},table_cell_merge:{tooltip:"Slå sammen celler"}},file_panel:{upload:{title:"Last opp",file_placeholder:{image:"Last opp bilde",video:"Last opp video",audio:"Last opp lyd",file:"Last opp fil"},upload_error:"Feil: Opplasting mislyktes"},embed:{title:"Bygg inn",embed_button:{image:"Bygg inn bilde",video:"Bygg inn video",audio:"Bygg inn lyd",file:"Bygg inn fil"},url_placeholder:"Skriv inn URL"}},link_toolbar:{delete:{tooltip:"Fjern lenke"},edit:{text:"Rediger lenke",tooltip:"Rediger"},open:{tooltip:"Åpne i ny fane"},form:{title_placeholder:"Rediger tittel",url_placeholder:"Rediger URL"}},comments:{edited:"redigert",save_button_text:"Lagre",cancel_button_text:"Avbryt",actions:{add_reaction:"Legg til reaksjon",resolve:"Løs",edit_comment:"Rediger kommentar",delete_comment:"Slett kommentar",more_actions:"Flere handlinger"},reactions:{reacted_by:"Reagert av"},sidebar:{marked_as_resolved:"Merket som løst",more_replies:t=>`${t} flere svar`}},generic:{ctrl_shortcut:"Ctrl"}},Sae={slash_menu:{heading:{title:"Nagłówek 1",subtext:"Używany dla nagłówka najwyższego poziomu",aliases:["h","naglowek1","h1"],group:"Nagłówki"},heading_2:{title:"Nagłówek 2",subtext:"Używany dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek"],group:"Nagłówki"},heading_3:{title:"Nagłówek 3",subtext:"Używany dla podsekcji i grup nagłówków",aliases:["h3","naglowek3","podnaglowek"],group:"Nagłówki"},heading_4:{title:"Nagłówek 4",subtext:"Nagłówek mniejszej podsekcji",aliases:["h4","naglowek4","podnaglowek4"],group:"Podnagłówki"},heading_5:{title:"Nagłówek 5",subtext:"Nagłówek mniejszej podsekcji",aliases:["h5","naglowek5","podnaglowek5"],group:"Podnagłówki"},heading_6:{title:"Nagłówek 6",subtext:"Nagłówek najniższego poziomu",aliases:["h6","naglowek6","podnaglowek6"],group:"Podnagłówki"},toggle_heading:{title:"Nagłówek rozwijany 1",subtext:"Rozwijany nagłówek najwyższego poziomu",aliases:["h","naglowek1","h1","rozwijany"],group:"Podnagłówki"},toggle_heading_2:{title:"Nagłówek rozwijany 2",subtext:"Rozwijany nagłówek dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek","rozwijany"],group:"Podnagłówki"},toggle_heading_3:{title:"Nagłówek rozwijany 3",subtext:"Rozwijany nagłówek dla podsekcji i grup",aliases:["h3","naglowek3","podnaglowek","rozwijany"],group:"Podnagłówki"},quote:{title:"Cytat",subtext:"Cytat lub fragment",aliases:["quotation","blockquote","bq"],group:"Podstawowe bloki"},numbered_list:{title:"Lista numerowana",subtext:"Używana do wyświetlania listy numerowanej",aliases:["ol","li","lista","numerowana lista"],group:"Podstawowe bloki"},bullet_list:{title:"Lista punktowana",subtext:"Używana do wyświetlania listy bez numeracji",aliases:["ul","li","lista","punktowana lista"],group:"Podstawowe bloki"},check_list:{title:"Lista z polami wyboru",subtext:"Używana do wyświetlania listy z polami wyboru",aliases:["ul","li","lista","lista z polami wyboru","pole wyboru"],group:"Podstawowe bloki"},toggle_list:{title:"Lista rozwijana",subtext:"Lista z elementami, które można ukryć",aliases:["li","lista","lista rozwijana","lista rozwijalna","lista składana"],group:"Podstawowe bloki"},paragraph:{title:"Akapit",subtext:"Używany dla treści dokumentu",aliases:["p","akapit"],group:"Podstawowe bloki"},code_block:{title:"Blok kodu",subtext:"Blok kodu z podświetleniem składni",aliases:["kod","pre"],group:"Podstawowe bloki"},page_break:{title:"Podział strony",subtext:"Separator strony",aliases:["page","break","separator","podział","separator"],group:"Podstawowe bloki"},table:{title:"Tabela",subtext:"Używana do tworzenia tabel",aliases:["tabela"],group:"Zaawansowane"},image:{title:"Zdjęcie",subtext:"Wstaw zdjęcie",aliases:["obraz","wrzućZdjęcie","wrzuć","img","zdjęcie","media","url"],group:"Media"},video:{title:"Wideo",subtext:"Wstaw wideo",aliases:["wideo","wrzućWideo","wrzuć","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Wstaw audio",aliases:["audio","wrzućAudio","wrzuć","mp3","dźwięk","media","url"],group:"Media"},file:{title:"Plik",subtext:"Wstaw plik",aliases:["plik","wrzuć","wstaw","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Używane do wstawiania emoji",aliases:["emoji","emotka","wyrażenie emocji","twarz"],group:"Inne"}},placeholders:{default:"Wprowadź tekst lub wpisz '/' aby użyć poleceń",heading:"Nagłówek",toggleListItem:"Przełącz",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napisz komentarz...",edit_comment:"Edytuj komentarz...",comment_reply:"Dodaj komentarz..."},file_blocks:{image:{add_button_text:"Dodaj zdjęcie"},video:{add_button_text:"Dodaj wideo"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj plik"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Otwórz menu bloków"},drag_handle:{delete_menuitem:"Usuń",colors_menuitem:"Kolory",header_row_menuitem:"Nagłówek wiersza",header_column_menuitem:"Nagłówek kolumny"},table_handle:{delete_column_menuitem:"Usuń kolumnę",delete_row_menuitem:"Usuń wiersz",add_left_menuitem:"Dodaj kolumnę po lewej",add_right_menuitem:"Dodaj kolumnę po prawej",add_above_menuitem:"Dodaj wiersz powyżej",add_below_menuitem:"Dodaj wiersz poniżej",split_cell_menuitem:"Podziel komórkę",merge_cells_menuitem:"Połącz komórki",background_color_menuitem:"Zmień kolor tła"},suggestion_menu:{no_items_title:"Nie znaleziono elementów"},color_picker:{text_title:"Tekst",background_title:"Tło",colors:{default:"Domyślny",gray:"Szary",brown:"Brązowy",red:"Czerwony",orange:"Pomarańczowy",yellow:"Żółty",green:"Zielony",blue:"Niebieski",purple:"Fioletowy",pink:"Różowy"}},formatting_toolbar:{bold:{tooltip:"Pogrubienie",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursywa",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podkreślenie",secondary_tooltip:"Mod+U"},strike:{tooltip:"Przekreślenie",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Kolory"},link:{tooltip:"Utwórz link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Zmień podpis",input_placeholder:"Zmień podpis"},file_replace:{tooltip:{image:"Zmień obraz",video:"Zmień wideo",audio:"Zmień audio",file:"Zmień plik"}},file_rename:{tooltip:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"},input_placeholder:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"}},file_download:{tooltip:{image:"Pobierz zdjęcie",video:"Pobierz wideo",audio:"Pobierz audio",file:"Pobierz plik"}},file_delete:{tooltip:{image:"Usuń zdjęcie",video:"Usuń wideo",audio:"Usuń audio",file:"Usuń plik"}},file_preview_toggle:{tooltip:"Przełącz podgląd"},nest:{tooltip:"Zagnieźdź blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odgagnieźdź blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Wyrównaj tekst do lewej"},align_center:{tooltip:"Wyśrodkuj tekst"},align_right:{tooltip:"Wyrównaj tekst do prawej"},align_justify:{tooltip:"Wyjustuj tekst"},table_cell_merge:{tooltip:"Połącz komórki"},comment:{tooltip:"Dodaj komentarz"}},file_panel:{upload:{title:"Wrzuć",file_placeholder:{image:"Wrzuć zdjęcie",video:"Wrzuć wideo",audio:"Wrzuć audio",file:"Wrzuć plik"},upload_error:"Błąd: Przesyłanie nie powiodło się"},embed:{title:"Wstaw",embed_button:{image:"Wstaw zdjęice",video:"Wstaw wideo",audio:"Wstaw audio",file:"Wstaw plik"},url_placeholder:"Wprowadź URL"}},link_toolbar:{delete:{tooltip:"Usuń link"},edit:{text:"Edytuj link",tooltip:"Edytuj"},open:{tooltip:"Otwórz w nowej karcie"},form:{title_placeholder:"Edytuj tytuł",url_placeholder:"Edytuj URL"}},comments:{edited:"edytowany",save_button_text:"Zapisz",cancel_button_text:"Anuluj",actions:{add_reaction:"Dodaj reakcję",resolve:"Rozwiąż",edit_comment:"Edytuj komentarz",delete_comment:"Usuń komentarz",more_actions:"Więcej akcji"},reactions:{reacted_by:"Zareagowali"},sidebar:{marked_as_resolved:"Oznaczone jako rozwiązane",more_replies:t=>`${t} więcej odpowiedzi`}},generic:{ctrl_shortcut:"Ctrl"}},Eae={slash_menu:{heading:{title:"Título",subtext:"Usado para um título de nível superior",aliases:["h","titulo1","h1"],group:"Títulos"},heading_2:{title:"Título 2",subtext:"Usado para seções principais",aliases:["h2","titulo2","subtitulo"],group:"Títulos"},heading_3:{title:"Título 3",subtext:"Usado para subseções e títulos de grupo",aliases:["h3","titulo3","subtitulo"],group:"Títulos"},heading_4:{title:"Título 4",subtext:"Usado para subseções menores",aliases:["h4","titulo4","subtitulo4"],group:"Subtítulos"},heading_5:{title:"Título 5",subtext:"Usado para títulos de subseções pequenas",aliases:["h5","titulo5","subtitulo5"],group:"Subtítulos"},heading_6:{title:"Título 6",subtext:"Usado para títulos de nível mais baixo",aliases:["h6","titulo6","subtitulo6"],group:"Subtítulos"},toggle_heading:{title:"Título Expansível",subtext:"Título expansível de nível superior",aliases:["h","titulo1","h1","expansível"],group:"Subtítulos"},toggle_heading_2:{title:"Título Expansível 2",subtext:"Título expansível para seções principais",aliases:["h2","titulo2","subtitulo","expansível"],group:"Subtítulos"},toggle_heading_3:{title:"Título Expansível 3",subtext:"Título expansível para subseções e títulos de grupo",aliases:["h3","titulo3","subtitulo","expansível"],group:"Subtítulos"},quote:{title:"Citação",subtext:"Citação ou trecho",aliases:["quotation","blockquote","bq"],group:"Blocos básicos"},numbered_list:{title:"Lista Numerada",subtext:"Usado para exibir uma lista numerada",aliases:["ol","li","lista","listanumerada","lista numerada"],group:"Blocos básicos"},bullet_list:{title:"Lista com Marcadores",subtext:"Usado para exibir uma lista não ordenada",aliases:["ul","li","lista","listamarcadores","lista com marcadores"],group:"Blocos básicos"},check_list:{title:"Lista de verificação",subtext:"Usado para exibir uma lista com caixas de seleção",aliases:["ul","li","lista","lista de verificação","lista marcada","caixa de seleção"],group:"Blocos básicos"},toggle_list:{title:"Lista expansível",subtext:"Lista com subitens ocultáveis",aliases:["li","lista","lista expansível","lista recolhível"],group:"Blocos básicos"},paragraph:{title:"Parágrafo",subtext:"Usado para o corpo do seu documento",aliases:["p","paragrafo"],group:"Blocos básicos"},code_block:{title:"Bloco de Código",subtext:"Usado para exibir código com destaque de sintaxe",aliases:["codigo","pre"],group:"Blocos básicos"},page_break:{title:"Quebra de página",subtext:"Separador de página",aliases:["page","break","separator","quebra","separador"],group:"Blocos básicos"},table:{title:"Tabela",subtext:"Usado para tabelas",aliases:["tabela"],group:"Avançado"},image:{title:"Imagem",subtext:"Inserir uma imagem",aliases:["imagem","uploadImagem","upload","img","foto","media","url"],group:"Mídia"},video:{title:"Vídeo",subtext:"Inserir um vídeo",aliases:["vídeo","uploadVídeo","upload","mp4","filme","mídia","url"],group:"Mídia"},audio:{title:"Áudio",subtext:"Inserir um áudio",aliases:["áudio","uploadÁudio","upload","mp3","som","mídia","url"],group:"Mídia"},file:{title:"Arquivo",subtext:"Inserir um arquivo",aliases:["arquivo","upload","incorporar","mídia","url"],group:"Mídia"},emoji:{title:"Emoji",subtext:"Usado para inserir um emoji",aliases:["emoji","emoticon","expressão emocional","rosto"],group:"Outros"}},placeholders:{default:"Digite texto ou use '/' para comandos",heading:"Título",toggleListItem:"Alternar",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escreva um comentário...",edit_comment:"Editar comentário...",comment_reply:"Adicionar comentário..."},file_blocks:{image:{add_button_text:"Adicionar imagem"},video:{add_button_text:"Adicionar vídeo"},audio:{add_button_text:"Adicionar áudio"},file:{add_button_text:"Adicionar arquivo"}},side_menu:{add_block_label:"Adicionar bloco",drag_handle_label:"Abrir menu do bloco"},drag_handle:{delete_menuitem:"Excluir",colors_menuitem:"Cores",header_row_menuitem:"Cabeçalho de linha",header_column_menuitem:"Cabeçalho de coluna"},table_handle:{delete_column_menuitem:"Excluir coluna",delete_row_menuitem:"Excluir linha",add_left_menuitem:"Adicionar coluna à esquerda",add_right_menuitem:"Adicionar coluna à direita",add_above_menuitem:"Adicionar linha acima",add_below_menuitem:"Adicionar linha abaixo",split_cell_menuitem:"Dividir célula",merge_cells_menuitem:"Juntar células",background_color_menuitem:"Alterar cor de fundo"},suggestion_menu:{no_items_title:"Nenhum item encontrado"},color_picker:{text_title:"Texto",background_title:"Fundo",colors:{default:"Padrão",gray:"Cinza",brown:"Marrom",red:"Vermelho",orange:"Laranja",yellow:"Amarelo",green:"Verde",blue:"Azul",purple:"Roxo",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrito",secondary_tooltip:"Mod+B"},italic:{tooltip:"Itálico",secondary_tooltip:"Mod+I"},underline:{tooltip:"Sublinhado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Riscado",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Cores"},link:{tooltip:"Criar link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar legenda",input_placeholder:"Editar legenda"},file_replace:{tooltip:{image:"Substituir imagem",video:"Substituir vídeo",audio:"Substituir áudio",file:"Substituir arquivo"}},file_rename:{tooltip:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"},input_placeholder:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"}},file_download:{tooltip:{image:"Baixar imagem",video:"Baixar vídeo",audio:"Baixar áudio",file:"Baixar arquivo"}},file_delete:{tooltip:{image:"Excluir imagem",video:"Excluir vídeo",audio:"Excluir áudio",file:"Excluir arquivo"}},file_preview_toggle:{tooltip:"Alternar visualização"},nest:{tooltip:"Aninhar bloco",secondary_tooltip:"Tab"},unnest:{tooltip:"Desaninhar bloco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinhar à esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar à direita"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Juntar células"},comment:{tooltip:"Adicionar comentário"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload de imagem",video:"Upload de vídeo",audio:"Upload de áudio",file:"Upload de arquivo"},upload_error:"Erro: Falha no upload"},embed:{title:"Incorporar",embed_button:{image:"Incorporar imagem",video:"Incorporar vídeo",audio:"Incorporar áudio",file:"Incorporar arquivo"},url_placeholder:"Insira a URL"}},link_toolbar:{delete:{tooltip:"Remover link"},edit:{text:"Editar link",tooltip:"Editar"},open:{tooltip:"Abrir em nova aba"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{edited:"editado",save_button_text:"Salvar",cancel_button_text:"Cancelar",actions:{add_reaction:"Adicionar reação",resolve:"Resolver",edit_comment:"Editar comentário",delete_comment:"Excluir comentário",more_actions:"Mais ações"},reactions:{reacted_by:"Reagido por"},sidebar:{marked_as_resolved:"Marcado como resolvido",more_replies:t=>`${t} respostas a mais`}},generic:{ctrl_shortcut:"Ctrl"}},Tae={slash_menu:{heading:{title:"Заголовок 1 уровня",subtext:"Используется для заголовка верхнего уровня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2 уровня",subtext:"Используется для ключевых разделов",aliases:["h2","heading2","subheading","заголовок2","подзаголовок"],group:"Заголовки"},heading_3:{title:"Заголовок 3 уровня",subtext:"Используется для подразделов и групп",aliases:["h3","heading3","subheading","заголовок3","подзаголовок"],group:"Заголовки"},heading_4:{title:"Заголовок 4 уровня",subtext:"Используется для более мелких подразделов",aliases:["h4","heading4","subheading4","заголовок4","подзаголовок4"],group:"Подзаголовки"},heading_5:{title:"Заголовок 5 уровня",subtext:"Используется для заголовков небольших подразделов",aliases:["h5","heading5","subheading5","заголовок5","подзаголовок5"],group:"Подзаголовки"},heading_6:{title:"Заголовок 6 уровня",subtext:"Используется для заголовков самого низкого уровня",aliases:["h6","heading6","subheading6","заголовок6","подзаголовок6"],group:"Подзаголовки"},toggle_heading:{title:"Сворачиваемый заголовок 1 уровня",subtext:"Заголовок верхнего уровня, который можно свернуть/развернуть",aliases:["h","heading1","h1","заголовок1","сворачиваемый"],group:"Подзаголовки"},toggle_heading_2:{title:"Сворачиваемый заголовок 2 уровня",subtext:"Заголовок для ключевых разделов, который можно свернуть/развернуть",aliases:["h2","heading2","subheading","заголовок2","подзаголовок","сворачиваемый"],group:"Подзаголовки"},toggle_heading_3:{title:"Сворачиваемый заголовок 3 уровня",subtext:"Заголовок для подразделов и групп, который можно свернуть/развернуть",aliases:["h3","heading3","subheading","заголовок3","подзаголовок","сворачиваемый"],group:"Подзаголовки"},quote:{title:"Цитата",subtext:"Цитата или отрывок",aliases:["quotation","blockquote","bq"],group:"Базовые блоки"},numbered_list:{title:"Нумерованный список",subtext:"Используется для отображения нумерованного списка",aliases:["ol","li","list","numberedlist","numbered list","список","нумерованный список"],group:"Базовые блоки"},bullet_list:{title:"Маркированный список",subtext:"Для отображения неупорядоченного списка",aliases:["ul","li","list","bulletlist","bullet list","список","маркированный список"],group:"Базовые блоки"},check_list:{title:"Контрольный список",subtext:"Для отображения списка с флажками",aliases:["ul","li","list","checklist","check list","checked list","checkbox","список"],group:"Базовые блоки"},toggle_list:{title:"Сворачиваемый список",subtext:"Список со скрываемыми элементами",aliases:["li","список","сворачиваемый список"],group:"Базовые блоки"},paragraph:{title:"Параграф",subtext:"Основной текст",aliases:["p","paragraph","параграф"],group:"Базовые блоки"},code_block:{title:"Блок кода",subtext:"Блок кода с подсветкой синтаксиса",aliases:["code","pre","блок кода"],group:"Базовые блоки"},page_break:{title:"Разрыв страницы",subtext:"Разделитель страницы",aliases:["page","break","separator","разрыв","разделитель"],group:"Основные блоки"},table:{title:"Таблица",subtext:"Используется для таблиц",aliases:["table","таблица"],group:"Продвинутый"},image:{title:"Картинка",subtext:"Вставить изображение",aliases:["image","imageUpload","upload","img","picture","media","url","загрузка","картинка","рисунок"],group:"Медиа"},video:{title:"Видео",subtext:"Вставить видео",aliases:["video","videoUpload","upload","mp4","film","media","url","загрузка","видео"],group:"Медиа"},audio:{title:"Аудио",subtext:"Вставить аудио",aliases:["audio","audioUpload","upload","mp3","sound","media","url","загрузка","аудио","звук","музыка"],group:"Медиа"},file:{title:"Файл",subtext:"Вставить файл",aliases:["file","upload","embed","media","url","загрузка","файл"],group:"Медиа"},emoji:{title:"Эмодзи",subtext:"Используется для вставки эмодзи",aliases:["эмодзи","смайлик","выражение эмоций","лицо"],group:"Прочее"}},placeholders:{default:"Введите текст или введите «/» для команд",heading:"Заголовок",toggleListItem:"Переключить",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишите комментарий...",edit_comment:"Редактировать комментарий...",comment_reply:"Добавить комментарий..."},file_blocks:{image:{add_button_text:"Добавить изображение"},video:{add_button_text:"Добавить видео"},audio:{add_button_text:"Добавить аудио"},file:{add_button_text:"Добавить файл"}},side_menu:{add_block_label:"Добавить блок",drag_handle_label:"Открыть меню блока"},drag_handle:{delete_menuitem:"Удалить",colors_menuitem:"Цвета",header_row_menuitem:"Заголовок строки",header_column_menuitem:"Заголовок столбца"},table_handle:{delete_column_menuitem:"Удалить столбец",delete_row_menuitem:"Удалить строку",add_left_menuitem:"Добавить столбец слева",add_right_menuitem:"Добавить столбец справа",add_above_menuitem:"Добавить строку выше",add_below_menuitem:"Добавить строку ниже",split_cell_menuitem:"Разделить ячейку",merge_cells_menuitem:"Объединить ячейки",background_color_menuitem:"Цвет фона"},suggestion_menu:{no_items_title:"ничего не найдено"},color_picker:{text_title:"Текст",background_title:"Задний фон",colors:{default:"По умолчинию",gray:"Серый",brown:"Коричневый",red:"Красный",orange:"Оранжевый",yellow:"Жёлтый",green:"Зелёный",blue:"Голубой",purple:"Фиолетовый",pink:"Розовый"}},formatting_toolbar:{bold:{tooltip:"Жирный",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Подчёркнутый",secondary_tooltip:"Mod+U"},strike:{tooltip:"Зачёркнутый",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Цвета"},link:{tooltip:"Создать ссылку",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Изменить подпись",input_placeholder:"Изменить подпись"},file_replace:{tooltip:{image:"Заменить изображение",video:"Заменить видео",audio:"Заменить аудио",file:"Заменить файл"}},file_rename:{tooltip:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"},input_placeholder:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"}},file_download:{tooltip:{image:"Скачать картинку",video:"Скачать видео",audio:"Скачать аудио",file:"Скачать файл"}},file_delete:{tooltip:{image:"Удалить картинку",video:"Удалить видео",audio:"Удалить аудио",file:"Удалить файл"}},file_preview_toggle:{tooltip:"Переключить предварительный просмотр"},nest:{tooltip:"Сдвинуть вправо",secondary_tooltip:"Tab"},unnest:{tooltip:"Сдвинуть влево",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Текст по левому краю"},align_center:{tooltip:"Текст по середине"},align_right:{tooltip:"Текст по правому краю"},align_justify:{tooltip:"По середине текст"},table_cell_merge:{tooltip:"Объединить ячейки"},comment:{tooltip:"Добавить комментарий"}},file_panel:{upload:{title:"Загрузить",file_placeholder:{image:"Загрузить картинки",video:"Загрузить видео",audio:"Загрузить аудио",file:"Загрузить файл"},upload_error:"Ошибка: не удалось загрузить"},embed:{title:"Вставить",embed_button:{image:"Вставить картинку",video:"Вставить видео",audio:"Вставить аудио",file:"Вставить файл"},url_placeholder:"Введите URL"}},link_toolbar:{delete:{tooltip:"Удалить ссылку"},edit:{text:"Изменить ссылку",tooltip:"Редактировать"},open:{tooltip:"Открыть в новой вкладке"},form:{title_placeholder:"Изменить заголовок",url_placeholder:"Изменить URL"}},comments:{edited:"изменен",save_button_text:"Сохранить",cancel_button_text:"Отменить",actions:{add_reaction:"Добавить реакцию",resolve:"Решить",edit_comment:"Редактировать комментарий",delete_comment:"Удалить комментарий",more_actions:"Другие действия"},reactions:{reacted_by:"Отреагировал(а)"},sidebar:{marked_as_resolved:"Отмечено как решенное",more_replies:t=>`${t} дополнительных ответов`}},generic:{ctrl_shortcut:"Ctrl"}},Mae={slash_menu:{heading:{title:"Nadpis 1",subtext:"Nadpis najvyššej úrovne",aliases:["h","nadpis1","h1"],group:"Nadpisy"},heading_2:{title:"Nadpis 2",subtext:"Kľúčový nadpis sekcie",aliases:["h2","nadpis2","podnadpis"],group:"Nadpisy"},heading_3:{title:"Nadpis 3",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h3","nadpis3","podnadpis"],group:"Nadpisy"},heading_4:{title:"Nadpis 4",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h4","nadpis4","podnadpis"],group:"Podnáslovi"},heading_5:{title:"Nadpis 5",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h5","nadpis5","podnadpis"],group:"Podnáslovi"},heading_6:{title:"Nadpis 6",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h6","nadpis6","podnadpis"],group:"Podnáslovi"},toggle_heading:{title:"Rozbaľovací Nadpis 1",subtext:"Rozbaľovací nadpis najvyššej úrovne",aliases:["h","nadpis1","h1","rozbaľovací"],group:"Podnáslovi"},toggle_heading_2:{title:"Rozbaľovací Nadpis 2",subtext:"Rozbaľovací kľúčový nadpis sekcie",aliases:["h2","nadpis2","podnadpis","rozbaľovací"],group:"Podnáslovi"},toggle_heading_3:{title:"Rozbaľovací Nadpis 3",subtext:"Rozbaľovací nadpis podsekcie alebo skupiny",aliases:["h3","nadpis3","podnadpis","rozbaľovací"],group:"Podnáslovi"},quote:{title:"Citát",subtext:"Citát alebo výňatok",aliases:["citácia","blockquote","bq"],group:"Základné bloky"},numbered_list:{title:"Číslovaný zoznam",subtext:"Zoznam s očíslovanými položkami",aliases:["ol","li","zoznam","číslovanýzoznam","číslovaný zoznam"],group:"Základné bloky"},bullet_list:{title:"Odrážkový zoznam",subtext:"Zoznam s nečíslovanými položkami",aliases:["ul","li","zoznam","odrážkovýzoznam","odrážkový zoznam"],group:"Základné bloky"},check_list:{title:"Kontrolný zoznam",subtext:"Zoznam s checkboxmi",aliases:["ul","li","zoznam","kontrolnýzoznam","kontrolný zoznam","zaškrtnutý zoznam","checkbox"],group:"Základné bloky"},toggle_list:{title:"Rozbaľovací zoznam",subtext:"Zoznam so skrývateľnými položkami",aliases:["li","zoznam","rozbaľovací zoznam","zabaliteľný zoznam"],group:"Základné bloky"},paragraph:{title:"Odstavec",subtext:"Telo dokumentu",aliases:["p","odstavec"],group:"Základné bloky"},code_block:{title:"Blok kódu",subtext:"Blok kódu so zvýraznením syntaxe",aliases:["kód","pre"],group:"Základné bloky"},page_break:{title:"Zlom strany",subtext:"Oddeľovač strán",aliases:["strana","zlom","oddeľovač"],group:"Základné bloky"},table:{title:"Tabuľka",subtext:"Tabuľka s editovateľnými bunkami",aliases:["tabuľka"],group:"Pokročilé"},image:{title:"Obrázok",subtext:"Meniteľný obrázok s popisom",aliases:["obrázok","nahratieObrázka","nahratie","img","obrázok","média","url"],group:"Médiá"},video:{title:"Video",subtext:"Meniteľné video s popisom",aliases:["video","nahratieVidea","nahratie","mp4","film","média","url"],group:"Médiá"},audio:{title:"Audio",subtext:"Vložený zvuk s popisom",aliases:["audio","nahratieAudia","nahratie","mp3","zvuk","média","url"],group:"Médiá"},file:{title:"Súbor",subtext:"Vložený súbor",aliases:["súbor","nahratie","vloženie","média","url"],group:"Médiá"},emoji:{title:"Emoji",subtext:"Vyhľadať a vložiť emoji",aliases:["emoji","emócia","tvár"],group:"Ostatné"}},placeholders:{default:"Zadajte text alebo napíšte '/' pre príkazy",heading:"Nadpis",toggleListItem:"Prepnúť",bulletListItem:"Zoznam",numberedListItem:"Zoznam",checkListItem:"Zoznam",emptyDocument:void 0,new_comment:"Napíšte komentár...",edit_comment:"Upravte komentár...",comment_reply:"Pridať komentár..."},file_blocks:{image:{add_button_text:"Pridať obrázok"},video:{add_button_text:"Pridať video"},audio:{add_button_text:"Pridať audio"},file:{add_button_text:"Pridať súbor"}},side_menu:{add_block_label:"Pridať blok",drag_handle_label:"Otvoriť menu bloku"},drag_handle:{delete_menuitem:"Vymazať",colors_menuitem:"Farby",header_row_menuitem:"Hlavičkový riadok",header_column_menuitem:"Hlavičkový stĺpec"},table_handle:{delete_column_menuitem:"Vymazať stĺpec",delete_row_menuitem:"Vymazať riadok",add_left_menuitem:"Pridať stĺpec vľavo",add_right_menuitem:"Pridať stĺpec vpravo",add_above_menuitem:"Pridať riadok nad",add_below_menuitem:"Pridať riadok pod",split_cell_menuitem:"Rozdeliť bunku",merge_cells_menuitem:"Zlúčiť bunky",background_color_menuitem:"Farba pozadia"},suggestion_menu:{no_items_title:"Nenašli sa žiadne položky"},color_picker:{text_title:"Text",background_title:"Pozadie",colors:{default:"Predvolená",gray:"Sivá",brown:"Hnedá",red:"Červená",orange:"Oranžová",yellow:"Žltá",green:"Zelená",blue:"Modrá",purple:"Fialová",pink:"Ružová"}},formatting_toolbar:{bold:{tooltip:"Tučné",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurzíva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podčiarknuté",secondary_tooltip:"Mod+U"},strike:{tooltip:"Prečiarknuté",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kód",secondary_tooltip:""},colors:{tooltip:"Farby"},link:{tooltip:"Vytvoriť odkaz",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Upraviť popis",input_placeholder:"Upraviť popis"},file_replace:{tooltip:{image:"Nahradiť obrázok",video:"Nahradiť video",audio:"Nahradiť audio",file:"Nahradiť súbor"}},file_rename:{tooltip:{image:"Premenovať obrázok",video:"Premenovať video",audio:"Premenovať audio",file:"Premenovať súbor"},input_placeholder:{image:"Premenovať obrázok",video:"Premenovať video",audio:"Premenovať audio",file:"Premenovať súbor"}},file_download:{tooltip:{image:"Stiahnuť obrázok",video:"Stiahnuť video",audio:"Stiahnuť audio",file:"Stiahnuť súbor"}},file_delete:{tooltip:{image:"Vymazať obrázok",video:"Vymazať video",audio:"Vymazať audio",file:"Vymazať súbor"}},file_preview_toggle:{tooltip:"Prepnúť náhľad"},nest:{tooltip:"Zarovnať blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odzarovnať blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Zarovnať text vľavo"},align_center:{tooltip:"Zarovnať text na stred"},align_right:{tooltip:"Zarovnať text vpravo"},align_justify:{tooltip:"Zarovnať text do bloku"},table_cell_merge:{tooltip:"Zlúčiť bunky"},comment:{tooltip:"Pridať komentár"}},file_panel:{upload:{title:"Nahratie",file_placeholder:{image:"Nahrať obrázok",video:"Nahrať video",audio:"Nahrať audio",file:"Nahrať súbor"},upload_error:"Chyba: Nahratie zlyhalo"},embed:{title:"Vložiť",embed_button:{image:"Vložiť obrázok",video:"Vložiť video",audio:"Vložiť audio",file:"Vložiť súbor"},url_placeholder:"Zadajte URL"}},link_toolbar:{delete:{tooltip:"Odstrániť odkaz"},edit:{text:"Upraviť odkaz",tooltip:"Upraviť"},open:{tooltip:"Otvoriť v novom okne"},form:{title_placeholder:"Upraviť názov",url_placeholder:"Upraviť URL"}},comments:{edited:"upravený",save_button_text:"Uložiť",cancel_button_text:"Zrušiť",actions:{add_reaction:"Pridať reakciu",resolve:"Vyriešiť",edit_comment:"Upraviť komentár",delete_comment:"Vymazať komentár",more_actions:"Ďalšie akcie"},reactions:{reacted_by:"Reagoval/a"},sidebar:{marked_as_resolved:"Označené ako vyriešené",more_replies:t=>`${t} ďalších odpovedí`}},generic:{ctrl_shortcut:"Ctrl"}},Aae={slash_menu:{heading:{title:"Заголовок 1",subtext:"Заголовок найвищого рівня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2",subtext:"Основний заголовок розділу",aliases:["h2","heading2","subheading","заголовок2"],group:"Заголовки"},heading_3:{title:"Заголовок 3",subtext:"Підзаголовок і груповий заголовок",aliases:["h3","heading3","subheading","заголовок3"],group:"Заголовки"},heading_4:{title:"Заголовок 4",subtext:"Використовується для менших підрозділів",aliases:["h4","heading4","subheading4","заголовок4"],group:"Підзаголовки"},heading_5:{title:"Заголовок 5",subtext:"Використовується для заголовків менших підрозділів",aliases:["h5","heading5","subheading5","заголовок5","підзаголовок5"],group:"Підзаголовки"},heading_6:{title:"Заголовок 6",subtext:"Використовується для заголовків найнижчого рівня",aliases:["h6","heading6","subheading6","заголовок6","підзаголовок6"],group:"Підзаголовки"},toggle_heading:{title:"Розгортаємий заголовок 1",subtext:"Розгортаємий заголовок найвищого рівня",aliases:["h","heading1","h1","заголовок1","розгортаємий"],group:"Підзаголовки"},toggle_heading_2:{title:"Розгортаємий заголовок 2",subtext:"Розгортаємий основний заголовок розділу",aliases:["h2","heading2","subheading","заголовок2","розгортаємий"],group:"Підзаголовки"},toggle_heading_3:{title:"Розгортаємий заголовок 3",subtext:"Розгортаємий підзаголовок і груповий заголовок",aliases:["h3","heading3","subheading","заголовок3","розгортаємий"],group:"Підзаголовки"},quote:{title:"Цитата",subtext:"Цитата або уривок",aliases:["quotation","blockquote","bq"],group:"Базові блоки"},numbered_list:{title:"Нумерований список",subtext:"Список із впорядкованими елементами",aliases:["ol","li","list","numberedlist","numbered list","список","нумерований список"],group:"Базові блоки"},bullet_list:{title:"Маркований список",subtext:"Список із невпорядкованими елементами",aliases:["ul","li","list","bulletlist","bullet list","список","маркований список"],group:"Базові блоки"},check_list:{title:"Чек-лист",subtext:"Список із чекбоксами",aliases:["ul","li","list","checklist","check list","checked list","checkbox","чекбокс","чек-лист"],group:"Базові блоки"},toggle_list:{title:"Розгортаємий список",subtext:"Список із прихованими підпунктами",aliases:["li","список","розгортаємий список","складений список"],group:"Базові блоки"},paragraph:{title:"Параграф",subtext:"Основний текст документа",aliases:["p","paragraph","параграф"],group:"Базові блоки"},code_block:{title:"Блок коду",subtext:"Блок коду з підсвіткою синтаксису",aliases:["code","pre","блок коду"],group:"Базові блоки"},page_break:{title:"Розрив сторінки",subtext:"Роздільник сторінки",aliases:["page","break","separator","розрив сторінки","розділювач"],group:"Базові блоки"},table:{title:"Таблиця",subtext:"Таблиця з редагованими клітинками",aliases:["table","таблиця"],group:"Розширені"},image:{title:"Зображення",subtext:"Масштабоване зображення з підписом",aliases:["image","imageUpload","upload","img","picture","media","url","зображення","медіа"],group:"Медіа"},video:{title:"Відео",subtext:"Масштабоване відео з підписом",aliases:["video","videoUpload","upload","mp4","film","media","url","відео","медіа"],group:"Медіа"},audio:{title:"Аудіо",subtext:"Вбудоване аудіо з підписом",aliases:["audio","audioUpload","upload","mp3","sound","media","url","аудіо","медіа"],group:"Медіа"},file:{title:"Файл",subtext:"Вбудований файл",aliases:["file","upload","embed","media","url","файл","медіа"],group:"Медіа"},emoji:{title:"Емодзі",subtext:"Пошук і вставка емодзі",aliases:["emoji","emote","emotion","face","смайлик","емодзі"],group:"Інше"}},placeholders:{default:"Введіть текст або наберіть '/' для команд",heading:"Заголовок",toggleListItem:"Перемикач",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишіть коментар...",edit_comment:"Редагувати коментар...",comment_reply:"Додати коментар..."},file_blocks:{image:{add_button_text:"Додати зображення"},video:{add_button_text:"Додати відео"},audio:{add_button_text:"Додати аудіо"},file:{add_button_text:"Додати файл"}},side_menu:{add_block_label:"Додати блок",drag_handle_label:"Відкрити меню блока"},drag_handle:{delete_menuitem:"Видалити",colors_menuitem:"Кольори",header_row_menuitem:"Заголовок рядка",header_column_menuitem:"Заголовок стовпця"},table_handle:{delete_column_menuitem:"Видалити стовпець",delete_row_menuitem:"Видалити рядок",add_left_menuitem:"Додати стовпець зліва",add_right_menuitem:"Додати стовпець справа",add_above_menuitem:"Додати рядок вище",add_below_menuitem:"Додати рядок нижче",split_cell_menuitem:"Розділити клітинку",merge_cells_menuitem:"Об'єднати клітинки",background_color_menuitem:"Змінити колір фону"},suggestion_menu:{no_items_title:"Нічого не знайдено"},color_picker:{text_title:"Текст",background_title:"Фон",colors:{default:"За замовчуванням",gray:"Сірий",brown:"Коричневий",red:"Червоний",orange:"Помаранчевий",yellow:"Жовтий",green:"Зелений",blue:"Блакитний",purple:"Фіолетовий",pink:"Рожевий"}},formatting_toolbar:{bold:{tooltip:"Жирний",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Підкреслений",secondary_tooltip:"Mod+U"},strike:{tooltip:"Закреслений",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Кольори"},link:{tooltip:"Створити посилання",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Редагувати підпис",input_placeholder:"Редагувати підпис"},file_replace:{tooltip:{image:"Замінити зображення",video:"Замінити відео",audio:"Замінити аудіо",file:"Замінити файл"}},file_rename:{tooltip:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"},input_placeholder:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"}},file_download:{tooltip:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"}},file_delete:{tooltip:{image:"Видалити зображення",video:"Видалити відео",audio:"Видалити аудіо",file:"Видалити файл"}},file_preview_toggle:{tooltip:"Перемкнути попередній перегляд"},nest:{tooltip:"Вкладений блок",secondary_tooltip:"Tab"},unnest:{tooltip:"Розгрупувати блок",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Вирівняти за лівим краєм"},align_center:{tooltip:"Вирівняти по центру"},align_right:{tooltip:"Вирівняти за правим краєм"},align_justify:{tooltip:"Вирівняти за шириною"},table_cell_merge:{tooltip:"Об'єднати клітинки"},comment:{tooltip:"Додати коментар"}},file_panel:{upload:{title:"Завантажити",file_placeholder:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"},upload_error:"Помилка: не вдалося завантажити"},embed:{title:"Вставити",embed_button:{image:"Вставити зображення",video:"Вставити відео",audio:"Вставити аудіо",file:"Вставити файл"},url_placeholder:"Введіть URL"}},link_toolbar:{delete:{tooltip:"Видалити посилання"},edit:{text:"Редагувати посилання",tooltip:"Редагувати"},open:{tooltip:"Відкрити в новій вкладці"},form:{title_placeholder:"Редагувати заголовок",url_placeholder:"Редагувати URL"}},comments:{edited:"відредаговано",save_button_text:"Зберегти",cancel_button_text:"Скасувати",actions:{add_reaction:"Додати реакцію",resolve:"Вирішити",edit_comment:"Редагувати коментар",delete_comment:"Видалити коментар",more_actions:"Більше дій"},reactions:{reacted_by:"Відреагував(ла)"},sidebar:{marked_as_resolved:"Позначено як вирішене",more_replies:t=>`${t} додаткових відповідей`}},generic:{ctrl_shortcut:"Ctrl"}},Rae={slash_menu:{heading:{title:"Tiêu đề H1",subtext:"Sử dụng cho tiêu đề cấp cao nhất",aliases:["h","tieude1","dd1"],group:"Tiêu đề"},heading_2:{title:"Tiêu đề H2",subtext:"Sử dụng cho các phần chính",aliases:["h2","tieude2","tieudephu"],group:"Tiêu đề"},heading_3:{title:"Tiêu đề H3",subtext:"Sử dụng cho phụ đề và tiêu đề nhóm",aliases:["h3","tieude3","tieudephu"],group:"Tiêu đề"},heading_4:{title:"Tiêu đề H4",subtext:"Sử dụng cho tiêu đề phụ nhỏ hơn",aliases:["h4","tieude4","tieudephu4"],group:"Tiêu đề phụ"},heading_5:{title:"Tiêu đề H5",subtext:"Sử dụng cho tiêu đề phụ nhỏ hơn",aliases:["h5","tieude5","tieudephu5"],group:"Tiêu đề phụ"},heading_6:{title:"Tiêu đề H6",subtext:"Sử dụng cho tiêu đề cấp thấp nhất",aliases:["h6","tieude6","tieudephu6"],group:"Tiêu đề phụ"},toggle_heading:{title:"Tiêu đề có thể thu gọn H1",subtext:"Tiêu đề cấp cao nhất có thể thu gọn",aliases:["h","tieude1","dd1","thugon"],group:"Tiêu đề phụ"},toggle_heading_2:{title:"Tiêu đề có thể thu gọn H2",subtext:"Tiêu đề cho các phần chính có thể thu gọn",aliases:["h2","tieude2","tieudephu","thugon"],group:"Tiêu đề phụ"},toggle_heading_3:{title:"Tiêu đề có thể thu gọn H3",subtext:"Tiêu đề cho phụ đề và tiêu đề nhóm có thể thu gọn",aliases:["h3","tieude3","tieudephu","thugon"],group:"Tiêu đề phụ"},quote:{title:"Trích dẫn",subtext:"Trích dẫn hoặc đoạn trích",aliases:["quotation","blockquote","bq"],group:"Khối cơ bản"},numbered_list:{title:"Danh sách đánh số",subtext:"Sử dụng để hiển thị danh sách có đánh số",aliases:["ol","li","ds","danhsachdso","danh sach danh so"],group:"Khối cơ bản"},bullet_list:{title:"Danh sách",subtext:"Sử dụng để hiển thị danh sách không đánh số",aliases:["ul","li","ds","danhsach","danh sach"],group:"Khối cơ bản"},check_list:{title:"Danh sách kiểm tra",subtext:"Dùng để hiển thị danh sách có hộp kiểm",aliases:["ul","li","danh sach","danh sach kiem tra","danh sach da kiem tra","hop kiem"],group:"Khối cơ bản"},toggle_list:{title:"Danh sách có thể thu gọn",subtext:"Danh sách với các mục con có thể ẩn",aliases:["li","danh sach","danh sach thu gon","danh sach co the an"],group:"Khối cơ bản"},paragraph:{title:"Đoạn văn",subtext:"Sử dụng cho nội dung chính của tài liệu",aliases:["p","doanvan"],group:"Khối cơ bản"},code_block:{title:"Mã",subtext:"Sử dụng để hiển thị mã với cú pháp",aliases:["code","pre"],group:"Khối cơ bản"},page_break:{title:"Ngắt trang",subtext:"Phân cách trang",aliases:["page","break","separator","ngắt","phân cách"],group:"Khối cơ bản"},table:{title:"Bảng",subtext:"Sử dụng để tạo bảng",aliases:["bang"],group:"Nâng cao"},image:{title:"Hình ảnh",subtext:"Chèn hình ảnh",aliases:["anh","tai-len-anh","tai-len","img","hinh","media","url"],group:"Phương tiện"},video:{title:"Video",subtext:"Chèn video",aliases:["video","tai-len-video","tai-len","mp4","phim","media","url"],group:"Phương tiện"},audio:{title:"Âm thanh",subtext:"Chèn âm thanh",aliases:["âm thanh","tai-len-am-thanh","tai-len","mp3","am thanh","media","url"],group:"Phương tiện"},file:{title:"Tệp",subtext:"Chèn tệp",aliases:["tep","tai-len","nhung","media","url"],group:"Phương tiện"},emoji:{title:"Biểu tượng cảm xúc",subtext:"Dùng để chèn biểu tượng cảm xúc",aliases:["biểu tượng cảm xúc","emoji","emoticon","cảm xúc expression","khuôn mặt","face"],group:"Khác"}},placeholders:{default:"Nhập văn bản hoặc gõ '/' để thêm định dạng",heading:"Tiêu đề",toggleListItem:"Chuyển đổi",bulletListItem:"Danh sách",numberedListItem:"Danh sách",checkListItem:"Danh sách",new_comment:"Viết bình luận...",edit_comment:"Chỉnh sửa bình luận...",comment_reply:"Thêm bình luận..."},file_blocks:{image:{add_button_text:"Thêm ảnh"},video:{add_button_text:"Thêm video"},audio:{add_button_text:"Thêm âm thanh"},file:{add_button_text:"Thêm tệp"}},side_menu:{add_block_label:"Thêm khối",drag_handle_label:"Mở trình đơn khối"},drag_handle:{delete_menuitem:"Xóa",colors_menuitem:"Màu sắc",header_row_menuitem:"Tiêu đề hàng",header_column_menuitem:"Tiêu đề cột"},table_handle:{delete_column_menuitem:"Xóa cột",delete_row_menuitem:"Xóa hàng",add_left_menuitem:"Thêm cột bên trái",add_right_menuitem:"Thêm cột bên phải",add_above_menuitem:"Thêm hàng phía trên",add_below_menuitem:"Thêm hàng phía dưới",split_cell_menuitem:"Chia ô",merge_cells_menuitem:"Gộp ô",background_color_menuitem:"Màu nền"},suggestion_menu:{no_items_title:"Không tìm thấy mục nào"},color_picker:{text_title:"Văn bản",background_title:"Nền",colors:{default:"Mặc định",gray:"Xám",brown:"Nâu",red:"Đỏ",orange:"Cam",yellow:"Vàng",green:"Xanh lá",blue:"Xanh dương",purple:"Tím",pink:"Hồng"}},formatting_toolbar:{bold:{tooltip:"In đậm",secondary_tooltip:"Mod+B"},italic:{tooltip:"In nghiêng",secondary_tooltip:"Mod+I"},underline:{tooltip:"Gạch dưới",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gạch ngang",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Màu sắc"},link:{tooltip:"Tạo liên kết",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Chỉnh sửa chú thích",input_placeholder:"Chỉnh sửa chú thích"},file_replace:{tooltip:{image:"Thay thế hình ảnh",video:"Thay thế video",audio:"Thay thế âm thanh",file:"Thay thế tệp"}},file_rename:{tooltip:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"},input_placeholder:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"}},file_download:{tooltip:{image:"Tải xuống hình ảnh",video:"Tải xuống video",audio:"Tải xuống âm thanh",file:"Tải xuống tệp"}},file_delete:{tooltip:{image:"Xóa hình ảnh",video:"Xóa video",audio:"Xóa âm thanh",file:"Xóa tệp"}},file_preview_toggle:{tooltip:"Chuyển đổi xem trước"},nest:{tooltip:"Lồng khối",secondary_tooltip:"Tab"},unnest:{tooltip:"Bỏ lồng khối",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Căn trái văn bản"},align_center:{tooltip:"Căn giữa văn bản"},align_right:{tooltip:"Căn phải văn bản"},align_justify:{tooltip:"Căn đều văn bản"},table_cell_merge:{tooltip:"Gộp các ô"},comment:{tooltip:"Thêm bình luận"}},file_panel:{upload:{title:"Tải lên",file_placeholder:{image:"Tải lên hình ảnh",video:"Tải lên video",audio:"Tải lên âm thanh",file:"Tải lên tệp"},upload_error:"Lỗi: Tải lên thất bại"},embed:{title:"Nhúng",embed_button:{image:"Nhúng hình ảnh",video:"Nhúng video",audio:"Nhúng âm thanh",file:"Nhúng tệp"},url_placeholder:"Nhập URL"}},link_toolbar:{delete:{tooltip:"Xóa liên kết"},edit:{text:"Chỉnh sửa liên kết",tooltip:"Chỉnh sửa"},open:{tooltip:"Mở trong tab mới"},form:{title_placeholder:"Chỉnh sửa tiêu đề",url_placeholder:"Chỉnh sửa URL"}},comments:{edited:"đã chỉnh sửa",save_button_text:"Lưu",cancel_button_text:"Hủy",actions:{add_reaction:"Thêm phản ứng",resolve:"Giải quyết",edit_comment:"Chỉnh sửa bình luận",delete_comment:"Xóa bình luận",more_actions:"Thêm hành động"},reactions:{reacted_by:"Phản ứng bởi"},sidebar:{marked_as_resolved:"Đã đánh dấu là đã giải quyết",more_replies:t=>`${t} câu trả lời nữa`}},generic:{ctrl_shortcut:"Ctrl"}},Nae={slash_menu:{heading:{title:"一级标题",subtext:"用于顶级标题",aliases:["h","heading1","h1","标题","一级标题"],group:"标题"},heading_2:{title:"二级标题",subtext:"用于关键部分",aliases:["h2","heading2","subheading","标题","二级标题","副标题"],group:"标题"},heading_3:{title:"三级标题",subtext:"用于小节和分组标题",aliases:["h3","heading3","subheading","标题","三级标题"],group:"标题"},heading_4:{title:"四级标题",subtext:"用于较小的子节标题",aliases:["h4","heading4","subheading4","四级标题"],group:"副标题"},heading_5:{title:"五级标题",subtext:"用于较小的子节标题",aliases:["h5","heading5","subheading5","五级标题"],group:"副标题"},heading_6:{title:"六级标题",subtext:"用于最低层级的标题",aliases:["h6","heading6","subheading6","六级标题"],group:"副标题"},toggle_heading:{title:"可折叠一级标题",subtext:"可折叠的顶级标题",aliases:["h","heading1","h1","标题","一级标题","折叠"],group:"副标题"},toggle_heading_2:{title:"可折叠二级标题",subtext:"可折叠的关键部分标题",aliases:["h2","heading2","subheading","标题","二级标题","副标题","折叠"],group:"副标题"},toggle_heading_3:{title:"可折叠三级标题",subtext:"可折叠的小节和分组标题",aliases:["h3","heading3","subheading","标题","三级标题","折叠"],group:"副标题"},quote:{title:"引用",subtext:"引用或摘录",aliases:["quotation","blockquote","bq"],group:"基本块"},numbered_list:{title:"有序列表",subtext:"用于显示有序列表",aliases:["ol","li","list","numberedlist","numbered list","列表","有序列表"],group:"基础"},bullet_list:{title:"无序列表",subtext:"用于显示无序列表",aliases:["ul","li","list","bulletlist","bullet list","列表","无序列表"],group:"基础"},check_list:{title:"检查清单",subtext:"用于显示带有复选框的列表",aliases:["ul","li","checklist","checked list","列表","检查清单","勾选列表","复选框"],group:"基础"},toggle_list:{title:"可折叠列表",subtext:"带有可隐藏子项的列表",aliases:["li","列表","可折叠列表","折叠列表"],group:"基础"},paragraph:{title:"段落",subtext:"用于文档正文",aliases:["p","paragraph","text","正文"],group:"基础"},code_block:{title:"代码块",subtext:"用于显示带有语法高亮的代码块",aliases:["code","pre","代码","预格式"],group:"基础"},page_break:{title:"分页符",subtext:"页面分隔符",aliases:["page","break","separator","分页","分隔符"],group:"基础"},table:{title:"表格",subtext:"使用表格",aliases:["table","表格"],group:"高级功能"},image:{title:"图片",subtext:"插入图片",aliases:["图片","上传图片","上传","image","img","相册","媒体","url"],group:"媒体"},video:{title:"视频",subtext:"插入视频",aliases:["视频","视频上传","上传","video","mp4","电影","媒体","url","驱动","dropbox"],group:"媒体"},audio:{title:"音频",subtext:"插入音频",aliases:["音频","音频上传","上传","audio","mp3","声音","媒体","url","驱动","dropbox"],group:"媒体"},file:{title:"文件",subtext:"插入文件",aliases:["文件","上传","file","嵌入","媒体","url"],group:"媒体"},emoji:{title:"表情符号",subtext:"用于插入表情符号",aliases:["表情符号","emoji","face","emote","表情","表情表达","表情"],group:"其他"}},placeholders:{default:"输入 '/' 以使用命令",heading:"标题",toggleListItem:"切换",bulletListItem:"列表",numberedListItem:"列表",checkListItem:"列表",new_comment:"写评论...",edit_comment:"编辑评论...",comment_reply:"添加评论..."},file_blocks:{image:{add_button_text:"添加图片"},video:{add_button_text:"添加视频"},audio:{add_button_text:"添加音频"},file:{add_button_text:"添加文件"}},side_menu:{add_block_label:"添加块",drag_handle_label:"打开菜单"},drag_handle:{delete_menuitem:"删除",colors_menuitem:"颜色",header_row_menuitem:"行标题",header_column_menuitem:"列标题"},table_handle:{delete_column_menuitem:"删除列",delete_row_menuitem:"删除行",add_left_menuitem:"左侧添加列",add_right_menuitem:"右侧添加列",add_above_menuitem:"上方添加行",add_below_menuitem:"下方添加行",split_cell_menuitem:"拆分单元格",merge_cells_menuitem:"合并单元格",background_color_menuitem:"背景色"},suggestion_menu:{no_items_title:"无匹配项"},color_picker:{text_title:"文本",background_title:"背景色",colors:{default:"默认",gray:"灰色",brown:"棕色",red:"红色",orange:"橙色",yellow:"黄色",green:"绿色",blue:"蓝色",purple:"紫色",pink:"粉色"}},formatting_toolbar:{bold:{tooltip:"加粗",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下划线",secondary_tooltip:"Mod+U"},strike:{tooltip:"删除线",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"代码标记",secondary_tooltip:""},colors:{tooltip:"颜色"},link:{tooltip:"添加链接",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"编辑标题",input_placeholder:"编辑标题"},file_replace:{tooltip:{image:"替换图片",video:"替换视频",audio:"替换音频",file:"替换文件"}},file_rename:{tooltip:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"},input_placeholder:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"}},file_download:{tooltip:{image:"下载图片",video:"下载视频",audio:"下载音频",file:"下载文件"}},file_delete:{tooltip:{image:"删除图片",video:"删除视频",audio:"删除音频",file:"删除文件"}},file_preview_toggle:{tooltip:"切换预览"},nest:{tooltip:"嵌套",secondary_tooltip:"Tab"},unnest:{tooltip:"取消嵌套",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左对齐"},align_center:{tooltip:"居中"},align_right:{tooltip:"右对齐"},align_justify:{tooltip:"文本对齐"},table_cell_merge:{tooltip:"合并单元格"},comment:{tooltip:"添加评论"}},file_panel:{upload:{title:"上传",file_placeholder:{image:"上传图片",video:"上传视频",audio:"上传音频",file:"上传文件"},upload_error:"Error：上传失败"},embed:{title:"嵌入",embed_button:{image:"嵌入图片",video:"嵌入视频",audio:"嵌入音频",file:"嵌入文件"},url_placeholder:"输入图片地址"}},link_toolbar:{delete:{tooltip:"清除链接"},edit:{text:"编辑链接",tooltip:"编辑"},open:{tooltip:"新窗口打开"},form:{title_placeholder:"编辑标题",url_placeholder:"编辑链接地址"}},comments:{edited:"已编辑",save_button_text:"保存",cancel_button_text:"取消",actions:{add_reaction:"添加反应",resolve:"解决",edit_comment:"编辑评论",delete_comment:"删除评论",more_actions:"更多操作"},reactions:{reacted_by:"已回应"},sidebar:{marked_as_resolved:"标记为已解决",more_replies:t=>`还有 ${t} 条回复`}},generic:{ctrl_shortcut:"Ctrl"}},Oae={slash_menu:{heading:{title:"一級標題",subtext:"用於頂級標題",aliases:["h","heading1","h1","標題","一級標題"],group:"標題"},heading_2:{title:"二級標題",subtext:"用於關鍵部分",aliases:["h2","heading2","subheading","標題","二級標題","副標題"],group:"標題"},heading_3:{title:"三級標題",subtext:"用於小節和分組標題",aliases:["h3","heading3","subheading","標題","三級標題"],group:"標題"},heading_4:{title:"四級標題",subtext:"用於小節和分組標題",aliases:["h4","heading4","subheading","標題","四級標題"],group:"副標題"},heading_5:{title:"五級標題",subtext:"用於小節和分組標題",aliases:["h5","heading5","subheading","標題","五級標題"],group:"副標題"},heading_6:{title:"六級標題",subtext:"用於小節和分組標題",aliases:["h6","heading6","subheading","標題","六級標題"],group:"副標題"},toggle_heading:{title:"可摺疊一級標題",subtext:"可摺疊的頂級標題",aliases:["h","heading1","h1","標題","一級標題","摺疊"],group:"副標題"},toggle_heading_2:{title:"可摺疊二級標題",subtext:"可摺疊的關鍵部分標題",aliases:["h2","heading2","subheading","標題","二級標題","副標題","摺疊"],group:"副標題"},toggle_heading_3:{title:"可摺疊三級標題",subtext:"可摺疊的小節和分組標題",aliases:["h3","heading3","subheading","標題","三級標題","摺疊"],group:"副標題"},quote:{title:"引用",subtext:"引用或摘錄",aliases:["quotation","blockquote","bq"],group:"基本區塊"},numbered_list:{title:"有序列表",subtext:"用於顯示有序列表",aliases:["ol","li","list","numberedlist","numbered list","列表","有序列表"],group:"基礎"},bullet_list:{title:"無序列表",subtext:"用於顯示無序列表",aliases:["ul","li","list","bulletlist","bullet list","列表","無序列表"],group:"基礎"},check_list:{title:"檢查清單",subtext:"用於顯示帶有核取方塊的列表",aliases:["ul","li","checklist","checked list","列表","檢查清單","勾選列表","核取方塊"],group:"基礎"},toggle_list:{title:"可摺疊列表",subtext:"帶有可隱藏子項的列表",aliases:["li","列表","可摺疊列表","摺疊列表"],group:"基礎"},paragraph:{title:"段落",subtext:"用於文件正文",aliases:["p","paragraph","text","正文"],group:"基礎"},code_block:{title:"程式碼區塊",subtext:"用於顯示帶有語法標記的程式碼區塊",aliases:["code","pre","程式碼","預格式"],group:"基礎"},page_break:{title:"分頁符",subtext:"頁面分隔符",aliases:["page","break","separator","分頁","分隔符"],group:"基礎"},table:{title:"表格",subtext:"使用表格",aliases:["table","表格"],group:"進階功能"},image:{title:"圖片",subtext:"插入圖片",aliases:["圖片","上傳圖片","上傳","image","img","相簿","媒體","url"],group:"媒體"},video:{title:"影片",subtext:"插入影片",aliases:["影片","影片上傳","上傳","video","mp4","電影","媒體","url","雲端硬碟","dropbox"],group:"媒體"},audio:{title:"音訊",subtext:"插入音訊",aliases:["音訊","音訊上傳","上傳","audio","mp3","聲音","媒體","url","雲端硬碟","dropbox"],group:"媒體"},file:{title:"檔案",subtext:"插入檔案",aliases:["檔案","上傳","file","嵌入","媒體","url"],group:"媒體"},emoji:{title:"表情符號",subtext:"用於插入表情符號",aliases:["表情符號","emoji","face","emote","表情","表情表達","表情"],group:"其他"}},placeholders:{default:"輸入 '/' 以使用指令",heading:"標題",toggleListItem:"切換",bulletListItem:"列表",numberedListItem:"列表",checkListItem:"列表",new_comment:"撰寫評論...",edit_comment:"編輯評論...",comment_reply:"新增評論..."},file_blocks:{image:{add_button_text:"新增圖片"},video:{add_button_text:"新增影片"},audio:{add_button_text:"新增音訊"},file:{add_button_text:"新增檔案"}},side_menu:{add_block_label:"新增區塊",drag_handle_label:"開啟選單"},drag_handle:{delete_menuitem:"刪除",colors_menuitem:"顏色",header_row_menuitem:"列標題",header_column_menuitem:"欄標題"},table_handle:{delete_column_menuitem:"刪除欄",delete_row_menuitem:"刪除列",add_left_menuitem:"左側新增欄",add_right_menuitem:"右側新增欄",add_above_menuitem:"上方新增列",add_below_menuitem:"下方新增列",split_cell_menuitem:"分割儲存格",merge_cells_menuitem:"合併儲存格",background_color_menuitem:"背景色"},suggestion_menu:{no_items_title:"無相符項目"},color_picker:{text_title:"文字",background_title:"背景色",colors:{default:"預設",gray:"灰色",brown:"棕色",red:"紅色",orange:"橙色",yellow:"黃色",green:"綠色",blue:"藍色",purple:"紫色",pink:"粉色"}},formatting_toolbar:{bold:{tooltip:"粗體",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜體",secondary_tooltip:"Mod+I"},underline:{tooltip:"底線",secondary_tooltip:"Mod+U"},strike:{tooltip:"刪除線",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"程式碼標記",secondary_tooltip:""},colors:{tooltip:"顏色"},link:{tooltip:"新增連結",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"編輯標題",input_placeholder:"編輯標題"},file_replace:{tooltip:{image:"替換圖片",video:"替換影片",audio:"替換音訊",file:"替換檔案"}},file_rename:{tooltip:{image:"重新命名圖片",video:"重新命名影片",audio:"重新命名音訊",file:"重新命名檔案"},input_placeholder:{image:"重新命名圖片",video:"重新命名影片",audio:"重新命名音訊",file:"重新命名檔案"}},file_download:{tooltip:{image:"下載圖片",video:"下載影片",audio:"下載音訊",file:"下載檔案"}},file_delete:{tooltip:{image:"刪除圖片",video:"刪除影片",audio:"刪除音訊",file:"刪除檔案"}},file_preview_toggle:{tooltip:"切換預覽"},nest:{tooltip:"巢狀",secondary_tooltip:"Tab"},unnest:{tooltip:"取消巢狀",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"靠左對齊"},align_center:{tooltip:"置中"},align_right:{tooltip:"靠右對齊"},align_justify:{tooltip:"兩端對齊"},table_cell_merge:{tooltip:"合併儲存格"},comment:{tooltip:"新增評論"}},file_panel:{upload:{title:"上傳",file_placeholder:{image:"上傳圖片",video:"上傳影片",audio:"上傳音訊",file:"上傳檔案"},upload_error:"錯誤：上傳失敗"},embed:{title:"嵌入",embed_button:{image:"嵌入圖片",video:"嵌入影片",audio:"嵌入音訊",file:"嵌入檔案"},url_placeholder:"輸入圖片網址"}},link_toolbar:{delete:{tooltip:"清除連結"},edit:{text:"編輯連結",tooltip:"編輯"},open:{tooltip:"在新視窗開啟"},form:{title_placeholder:"編輯標題",url_placeholder:"編輯連結網址"}},comments:{edited:"已編輯",save_button_text:"儲存",cancel_button_text:"取消",actions:{add_reaction:"新增回應",resolve:"解決",edit_comment:"編輯評論",delete_comment:"刪除評論",more_actions:"更多操作"},reactions:{reacted_by:"已回應"},sidebar:{marked_as_resolved:"標記為已解決",more_replies:t=>`還有 ${t} 則回覆`}},generic:{ctrl_shortcut:"Ctrl"}},Lae=Object.freeze(Object.defineProperty({__proto__:null,ar:hae,de:pae,en:v2,es:mae,fr:gae,he:bae,hr:yae,is:vae,it:wae,ja:kae,ko:xae,nl:Cae,no:_ae,pl:Sae,pt:Eae,ru:Tae,sk:Mae,uk:Aae,vi:Rae,zh:Nae,zhTW:Oae},Symbol.toStringTag,{value:"Module"}));var Yj={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function Dae(){if(GN)return iw;GN=1;var t=ee;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(d,f){var h=f(),p=o({inst:{value:h,getSnapshot:f}}),m=p[0].inst,b=p[1];return i(function(){m.value=h,m.getSnapshot=f,a(m)&&b({inst:m})},[d,h,f]),r(function(){return a(m)&&b({inst:m}),d(function(){a(m)&&b({inst:m})})},[d]),s(h),h}function a(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return iw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,iw}Yj.exports=Dae();var Xj=Yj.exports;const Iae=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},$ae=({contentComponent:t})=>{const e=Xj.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return ee.createElement(ee.Fragment,null,Object.values(e))};function Pae(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:LC.createPortal(o.reactElement,o.element,n)},t.forEach(r=>r())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(r=>r())}}}class jae extends ee.Component{constructor(e){var n;super(e),this.editorContentRef=ee.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Pae(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(o=>o.hasContentComponentInitialized?o:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...o}=this.props;return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:Iae(n,this.editorContentRef),...o}),(e==null?void 0:e.contentComponent)&&ee.createElement($ae,{contentComponent:e.contentComponent}))}}const Bae=v.forwardRef((t,e)=>{const n=ee.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ee.createElement(jae,{key:n,innerRef:e,...t})});ee.memo(Bae);var sw={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function zae(){if(qN)return sw;qN=1;var t=ee,e=Xj;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var o=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,a=t.useDebugValue;return sw.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=l(function(){function y(E){if(!w){if(w=!0,k=E,E=f(E),h!==void 0&&m.hasValue){var S=m.value;if(h(S,E))return x=S}return x=E}if(S=x,o(k,E))return S;var _=f(E);return h!==void 0&&h(S,_)?S:(k=E,x=_)}var w=!1,k,x,C=d===void 0?null:d;return[function(){return y(u())},C===null?void 0:function(){return y(C())}]},[u,d,f,h]);var b=r(c,p[0],p[1]);return s(function(){m.hasValue=!0,m.value=b},[b]),a(b),b},sw}zae();const Hae=v.createContext({editor:null});Hae.Consumer;const Jj=v.createContext({onDragStart:void 0}),Qj=()=>v.useContext(Jj),Vae=ee.forwardRef((t,e)=>{const{onDragStart:n}=Qj(),o=t.as||"div";return ee.createElement(o,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function WN(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function KN(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.forward_ref)"||t.$$typeof.description==="react.forward_ref"))}function Uae(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.memo)"||t.$$typeof.description==="react.memo"))}function Fae(t){if(WN(t)||KN(t))return!0;if(Uae(t)){const e=t.type;if(e)return WN(e)||KN(e)}return!1}function Gae(){try{if(v.version)return parseInt(v.version.split(".")[0],10)>=19}catch{}return!1}class qae{constructor(e,{editor:n,props:o={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=o,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?po.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var e;const n=this.component,o=this.props,r=this.editor,i=Gae(),s=Fae(n),l={...o};l.ref&&!(i||s)&&delete l.ref,!l.ref&&(i||s)&&(l.ref=a=>{this.ref=a}),this.reactElement=ee.createElement(n,{...l}),(e=r==null?void 0:r.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class Wae extends AJ{constructor(e,n,o){if(super(e,n,o),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode(),ref:v.createRef()};if(!this.component.displayName){const c=u=>u.charAt(0).toUpperCase()+u.substring(1);this.component.displayName=c(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&(c.hasAttribute("data-node-view-wrapper")&&c.removeAttribute("data-node-view-wrapper"),c.appendChild(this.contentDOMElement))}},i=this.component,s=v.memo(c=>ee.createElement(Jj.Provider,{value:r},v.createElement(i,c)));s.displayName="ReactNodeView";let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:a=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new qae(s,{editor:this.editor,props:e,as:l,className:`node-${this.node.type.name} ${a}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(e<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,o){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:i,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:o,updateProps:()=>r({node:e,decorations:n,innerDecorations:o})})}return e===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=e,this.decorations=n,this.innerDecorations=o,r({node:e,decorations:n,innerDecorations:o})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,o=nb(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:o})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function Kae(t,e){return n=>n.editor.contentComponent?new Wae(t,n,e):{}}const e6=v.createContext(void 0);function ii(t){return v.useContext(e6)}function oe(t){const e=ii();if(!(e!=null&&e.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return e.editor}function $2(t,e,n){const o=ii();e||(e=o==null?void 0:o.editor),v.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onSelectionChange(t,n)},[t,e,n])}function Zae(t,e){const n=oe();e=e||n;const[o,r]=v.useState(()=>{if(t)return e.getSelectionBoundingBox()}),i=v.useCallback(()=>{if(!t)return;const s=e.getSelectionBoundingBox();r(s)},[e,t]);return $2(i,e,!0),v.useEffect(()=>{r(t?e.getSelectionBoundingBox():void 0)},[t,e]),o}function Yae(t){return t.getBoundingClientRect!==void 0}function xl(t,e,n,o){const{refs:r,update:i,context:s,floatingStyles:l,isPositioned:a}=Ha({open:t,...o}),{isMounted:c,styles:u}=Y_(s),d=typeof(o==null?void 0:o.canDismiss)=="object"?o.canDismiss:{enabled:o==null?void 0:o.canDismiss},f=RD(s,d),{getReferenceProps:h,getFloatingProps:p}=ND([f]);return v.useEffect(()=>{i()},[e,i]),v.useEffect(()=>{e!==null&&(e instanceof HTMLElement||Yae(e)?r.setReference(e):r.setReference({getBoundingClientRect:()=>e}))},[e,r]),v.useMemo(()=>({isMounted:c,ref:r.setFloating,setReference:r.setReference,style:{display:"flex",...u,...l,zIndex:n},getFloatingProps:p,getReferenceProps:h,isPositioned:a}),[a,l,c,r.setFloating,r.setReference,u,n,p,h])}function ts(t){const[e,n]=v.useState();return v.useEffect(()=>t(o=>{n({...o})}),[t]),e}const t6=v.createContext(void 0);function te(){return v.useContext(t6)}const ph=(t={},e=[])=>v.useMemo(()=>{const n=cae.create(t);return window&&(window.ProseMirror=n._tiptapEditor),n},e);function ue(){return ii().editor.dictionary}function z0(t,e){const n=ii();e||(e=n==null?void 0:n.editor),v.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onChange(t)},[t,e])}const P2=t=>{const[e,n]=v.useState(!1),[o,r]=v.useState(t.editor.isEmpty),i=te();z0(()=>{r(t.editor.isEmpty)},t.editor);const s=v.useCallback(()=>{n(!0)},[]),l=v.useCallback(()=>{n(!1)},[]);return v.useEffect(()=>{t.editable&&t.autoFocus&&t.editor.focus()},[t.autoFocus,t.editable,t.editor]),g.jsxs(g.Fragment,{children:[g.jsx(i.Comments.Editor,{autoFocus:t.autoFocus,className:"bn-comment-editor",editor:t.editor,onFocus:s,onBlur:l,editable:t.editable}),t.actions&&g.jsx("div",{className:"bn-comment-actions-wrapper",children:g.jsx(t.actions,{isFocused:e,isEmpty:o})})]})},Xae=Yo(Ln(fh.paragraph.implementation.node.config),{}),{textColor:iwe,backgroundColor:swe,...Jae}=hh,j2=td.create({blockSpecs:{paragraph:Xae},styleSpecs:Jae});function Qae(){const t=oe();if(!t.comments)throw new Error("Comments plugin not found");const e=t.comments,n=te(),o=ue(),r=ph({trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.new_comment}},schema:j2});return g.jsx(n.Comments.Card,{className:"bn-thread",children:g.jsx(P2,{autoFocus:!0,editable:!0,editor:r,actions:({isEmpty:i})=>g.jsx(n.Generic.Toolbar.Root,{className:Xe("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:g.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:i,onClick:async()=>{await e.createThread({initialComment:{body:r.document}}),e.stopPendingComment()},children:"Save"})})})})}const ece=t=>{const e=oe();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=e.comments;v.useEffect(()=>{const u=n.onUpdate(d=>e.setForceSelectionVisible(d.pendingComment));return()=>u()},[n,e]);const o=ts(n.onUpdate.bind(n)),r=Zae(o==null?void 0:o.pendingComment),{isMounted:i,ref:s,style:l,getFloatingProps:a}=xl((o==null?void 0:o.pendingComment)||!1,r||null,5e3,{placement:"bottom",middleware:[vr(10),ml(),bo()],onOpenChange:u=>{u||(n.stopPendingComment(),e.focus())},...t.floatingOptions});if(!i||!o)return null;const c=t.floatingComposer||Qae;return g.jsx("div",{ref:s,style:l,...a(),children:g.jsx(c,{})})};var n6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ZN=ee.createContext&&ee.createContext(n6),tce=["attr","size","title"];function nce(t,e){if(t==null)return{};var n=oce(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function oce(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wb.apply(this,arguments)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(o){rce(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function rce(t,e,n){return e=ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ice(t){var e=sce(t,"string");return typeof e=="symbol"?e:e+""}function sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o6(t){return t&&t.map((e,n)=>ee.createElement(e.tag,Kb({key:n},e.attr),o6(e.child)))}function re(t){return e=>ee.createElement(lce,Wb({attr:Kb({},t.attr)},e),o6(t.child))}function lce(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=nce(t,tce),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),ee.createElement("svg",Wb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:Kb(Kb({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ee.createElement("title",null,i),t.children)};return ZN!==void 0?ee.createElement(ZN.Consumer,null,n=>e(n)):e(n6)}function ace(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(t)}function r6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(t)}function cce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(t)}function uce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(t)}function B2(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(t)}function dce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(t)}function fce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(t)}function hce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(t)}function pce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(t)}function mce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function gce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(t)}function XN(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(t)}function Zb(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(t)}function Yb(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(t)}function Xb(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function i6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"},child:[]}]})(t)}function s6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8V10H17.6769L17.2126 12.6358C17.5435 12.5472 17.8912 12.5 18.25 12.5C20.4591 12.5 22.25 14.2909 22.25 16.5C22.25 18.7091 20.4591 20.5 18.25 20.5C16.4233 20.5 14.8827 19.2756 14.4039 17.6027L16.3271 17.0519C16.5667 17.8881 17.3369 18.5 18.25 18.5C19.3546 18.5 20.25 17.6046 20.25 16.5C20.25 15.3954 19.3546 14.5 18.25 14.5C17.6194 14.5 17.057 14.7918 16.6904 15.2478L14.8803 14.3439L16 8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function l6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.097 8L18.499 12.5C20.7091 12.5 22.5 14.2909 22.5 16.5C22.5 18.7091 20.7091 20.5 18.5 20.5C16.2909 20.5 14.5 18.7091 14.5 16.5C14.5 15.7636 14.699 15.0737 15.0461 14.4811L18.788 8H21.097ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 14.5C17.3954 14.5 16.5 15.3954 16.5 16.5C16.5 17.6046 17.3954 18.5 18.5 18.5C19.6046 18.5 20.5 17.6046 20.5 16.5C20.5 15.3954 19.6046 14.5 18.5 14.5Z"},child:[]}]})(t)}function bce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(t)}function yce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(t)}function JN(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(t)}function vce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(t)}function wce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(t)}function a6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(t)}function c6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(t)}function u6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function d6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function kce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(t)}function xce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(t)}function f6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(t)}function Cce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(t)}function _ce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(t)}function z2(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(t)}function Sce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(t)}function Ece(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(t)}function h6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(t)}function Tce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(t)}function Mce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(t)}function p6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 18V20H2V18H22ZM2 3.5L10 8.5L2 13.5V3.5ZM22 11V13H12V11H22ZM22 4V6H12V4H22Z"},child:[]}]})(t)}function Ace(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(t)}function m6(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(t)}function Rce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(t)}function Nce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(t)}function Oce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function Lce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function Dce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(t)}function Ice(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(t)}function $ce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(t)}function Pce(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(t)}function QN(t){return re({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(t)}let lw;async function jce(){return lw||(lw=(async()=>{const[t,e]=await Promise.all([W(()=>import("./module-BvCTiNll.js"),[]),W(()=>import("./native-B5Vb9Oiz.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),lw)}function Bce(t){const e=v.useRef(null),n=v.useRef(null);return n.current&&n.current.update(t),v.useEffect(()=>((async()=>{const{emojiMart:o}=await jce();n.current=new o.Picker({...t,ref:e})})(),()=>{n.current=null}),[]),ee.createElement("div",{ref:e})}const e4=t=>{const[e,n]=v.useState(!1),o=te(),r=ii();return g.jsxs(o.Generic.Popover.Root,{opened:e,children:[g.jsx(o.Generic.Popover.Trigger,{children:g.jsx("div",{onClick:i=>{i.preventDefault(),i.stopPropagation(),n(!e)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.children})}),g.jsx(o.Generic.Popover.Content,{variant:"panel-popover",children:g.jsx(Bce,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:i=>{t.onEmojiSelect(i),n(!1)},theme:r==null?void 0:r.colorSchemePreference})})]})};function zce(t,e){return H2(t,[e]).get(e)}function H2(t,e){const n=t.comments;if(!n)throw new Error("Comments plugin not found");const o=n.userStore,r=v.useCallback(()=>{const l=new Map;for(const a of e){const c=o.getUser(a);c&&l.set(a,c)}return l},[o,e]),i=v.useMemo(()=>({current:r()}),[r]),s=v.useCallback(l=>{const a=o.subscribe(c=>{i.current=r(),l()});return o.loadUsers(e),a},[o,r,e,i]);return v.useSyncExternalStore(s,()=>i.current)}const Hce=t=>{const e=te(),n=ue(),o=oe();if(!o.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const r=t.comment.reactions.find(a=>a.emoji===t.emoji);if(!r)throw new Error("Trying to render reaction badge for non-existing reaction");const[i,s]=v.useState([]),l=H2(o,i);return g.jsx(e.Generic.Badge.Root,{className:Xe("bn-badge","bn-comment-reaction"),text:r.userIds.length.toString(),icon:r.emoji,isSelected:o.comments.threadStore.auth.canDeleteReaction(t.comment,r.emoji),onClick:()=>t.onReactionSelect(r.emoji),onMouseEnter:()=>s(r.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(l.values()).map(a=>a.username).join(`
`)}`},r.emoji)},Vce=({comment:t,thread:e,showResolveButton:n})=>{const o=ue(),r=ph({initialContent:t.body,trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.edit_comment}},schema:j2},[t.body]),i=te(),[s,l]=v.useState(!1),a=oe();if(!a.comments)throw new Error("Comments plugin not found");const c=a.comments.threadStore,u=v.useCallback(()=>{l(!0)},[]),d=v.useCallback(()=>{r.replaceBlocks(r.document,t.body),l(!1)},[r,t.body]),f=v.useCallback(async _=>{await c.updateComment({commentId:t.id,comment:{body:r.document},threadId:e.id}),l(!1)},[t,e.id,r,c]),h=v.useCallback(async()=>{await c.deleteComment({commentId:t.id,threadId:e.id})},[t,e.id,c]),p=v.useCallback(async _=>{c.auth.canAddReaction(t,_)?await c.addReaction({threadId:e.id,commentId:t.id,emoji:_}):c.auth.canDeleteReaction(t,_)&&await c.deleteReaction({threadId:e.id,commentId:t.id,emoji:_})},[c,t,e.id]),m=v.useCallback(async()=>{await c.resolveThread({threadId:e.id})},[e.id,c]),b=v.useCallback(async()=>{await c.unresolveThread({threadId:e.id})},[e.id,c]),y=zce(a,t.userId);if(!t.body)return null;let w;const k=c.auth.canAddReaction(t),x=c.auth.canDeleteComment(t),C=c.auth.canUpdateComment(t),E=n&&(e.resolved?c.auth.canUnresolveThread(e):c.auth.canResolveThread(e));s||(w=g.jsxs(i.Generic.Toolbar.Root,{className:Xe("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[k&&g.jsx(e4,{onEmojiSelect:_=>p(_.native),children:g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.add_reaction,variant:"compact",children:g.jsx(QN,{size:16})},"add-reaction")}),E&&(e.resolved?g.jsx(i.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:b,children:g.jsx(ace,{size:16})},"reopen"):g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.resolve,variant:"compact",onClick:m,children:g.jsx(Nce,{size:16})},"resolve")),(x||C)&&g.jsxs(i.Generic.Menu.Root,{position:"bottom-start",children:[g.jsx(i.Generic.Menu.Trigger,{children:g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.more_actions,variant:"compact",children:g.jsx($ce,{size:16})},"more-actions")}),g.jsxs(i.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[C&&g.jsx(i.Generic.Menu.Item,{icon:g.jsx(cce,{}),onClick:u,children:o.comments.actions.edit_comment},"edit-comment"),x&&g.jsx(i.Generic.Menu.Item,{icon:g.jsx(Lce,{}),onClick:h,children:o.comments.actions.delete_comment},"delete-comment")]})]})]}));const S=t.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!t.body)throw new Error("soft deletes are not yet supported");return g.jsx(i.Comments.Comment,{authorInfo:y??"loading",timeString:S,edited:t.updatedAt.getTime()!==t.createdAt.getTime(),showActions:"hover",actions:w,className:"bn-thread-comment",children:g.jsx(P2,{autoFocus:s,editor:r,editable:s,actions:t.reactions.length>0||s?({isEmpty:_})=>g.jsxs(g.Fragment,{children:[t.reactions.length>0&&!s&&g.jsxs(i.Generic.Badge.Group,{className:Xe("bn-badge-group","bn-comment-reactions"),children:[t.reactions.map(T=>g.jsx(Hce,{comment:t,emoji:T.emoji,onReactionSelect:p},T.emoji)),g.jsx(e4,{onEmojiSelect:T=>p(T.native),children:g.jsx(i.Generic.Badge.Root,{className:Xe("bn-badge","bn-comment-add-reaction"),text:"+",icon:g.jsx(QN,{size:16}),mainTooltip:o.comments.actions.add_reaction})})]}),s&&g.jsxs(i.Generic.Toolbar.Root,{variant:"action-toolbar",className:Xe("bn-action-toolbar","bn-comment-actions"),children:[g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.save_button_text,variant:"compact",onClick:f,isDisabled:_,children:o.comments.save_button_text}),g.jsx(i.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:o.comments.cancel_button_text,variant:"compact",onClick:d,children:o.comments.cancel_button_text})]})]}):void 0})})},Uce=({thread:t,maxCommentsBeforeCollapse:e})=>{const n=te(),o=ue(),r=oe(),i=H2(r,t.resolvedBy?[t.resolvedBy]:[]),s=t.comments.map((l,a)=>g.jsx(Vce,{thread:t,comment:l,showResolveButton:a===0},l.id));if(t.resolved&&t.resolvedUpdatedAt&&t.resolvedBy){if(!i.get(t.resolvedBy))throw new Error(`User ${t.resolvedBy} resolved thread ${t.id}, but their data could not be found.`);const l=t.comments.findLastIndex(a=>t.resolvedUpdatedAt.getTime()>a.createdAt.getTime())+1;s.splice(l,0,g.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:t.resolvedBy&&i.get(t.resolvedBy)||"loading",timeString:t.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:g.jsx("div",{className:"bn-resolved-text",children:o.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return e&&s.length>e&&s.splice(1,s.length-2,g.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:o.comments.sidebar.more_replies(t.comments.length-2)},"expand-prompt")),s},g6=({thread:t,selected:e,referenceText:n,maxCommentsBeforeCollapse:o,onFocus:r,onBlur:i,tabIndex:s})=>{const l=te(),a=ue(),c=oe().comments;if(!c)throw new Error("Comments plugin not found");const u=ph({trailingBlock:!1,dictionary:{...a,placeholders:{emptyDocument:a.placeholders.comment_reply}},schema:j2}),d=v.useCallback(async()=>{await c.threadStore.addComment({comment:{body:u.document},threadId:t.id}),u.removeBlocks(u.document)},[c,u,t.id]);return g.jsxs(l.Comments.Card,{className:"bn-thread",headerText:n,onFocus:r,onBlur:i,selected:e,tabIndex:s,children:[g.jsx(l.Comments.CardSection,{className:"bn-thread-comments",children:g.jsx(Uce,{thread:t,maxCommentsBeforeCollapse:e?void 0:o||5})}),e&&g.jsx(l.Comments.CardSection,{className:"bn-thread-composer",children:g.jsx(P2,{autoFocus:!1,editable:!0,editor:u,actions:({isEmpty:f})=>f?null:g.jsx(l.Generic.Toolbar.Root,{variant:"action-toolbar",className:Xe("bn-action-toolbar","bn-comment-actions"),children:g.jsx(l.Generic.Toolbar.Button,{mainTooltip:a.comments.save_button_text,variant:"compact",isDisabled:f,onClick:d,children:a.comments.save_button_text})})})})]})};function Fce(t){const e=t.comments;if(!e)throw new Error("Comments plugin not found");const n=e.threadStore,o=v.useRef(void 0);o.current||(o.current=n.getThreads());const r=v.useCallback(i=>n.subscribe(s=>{o.current=s,i()}),[n]);return v.useSyncExternalStore(r,()=>o.current)}const Gce=t=>{const e=oe();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=ts(e.comments.onUpdate.bind(e.comments)),{isMounted:o,ref:r,style:i,getFloatingProps:s,setReference:l}=xl(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[vr(10),ml(),bo()],onOpenChange:d=>{var f;d||((f=e.comments)==null||f.selectThread(void 0),e.focus())},...t.floatingOptions}),a=v.useCallback(()=>{var d;if(!(n!=null&&n.selectedThreadId))return;const f=(d=e.domElement)==null?void 0:d.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);f&&l(f)},[l,e,n==null?void 0:n.selectedThreadId]);v.useEffect(()=>{if(n!=null&&n.selectedThreadId)return e.onChange(()=>{a()})},[e,a,n==null?void 0:n.selectedThreadId]),v.useLayoutEffect(a,[a]);const c=Fce(e);if(!o||!n||!n.selectedThreadId)return null;const u=t.floatingThread||g6;return g.jsx("div",{ref:r,style:i,...s(),children:g.jsx(u,{thread:c.get(n.selectedThreadId),selected:!0})})},qce=t=>{const e=te(),n=ue(),{block:o}=t,r=oe(),[i,s]=v.useState(""),l=v.useCallback(u=>{s(u.currentTarget.value)},[]),a=v.useCallback(u=>{u.key==="Enter"&&(u.preventDefault(),r.updateBlock(o,{props:{name:xN(i),url:i}}))},[r,o,i]),c=v.useCallback(()=>{r.updateBlock(o,{props:{name:xN(i),url:i}})},[r,o,i]);return g.jsxs(e.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(e.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:i,onChange:l,onKeyDown:a,"data-test":"embed-input"}),g.jsx(e.FilePanel.Button,{className:"bn-button",onClick:c,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[o.type]||n.file_panel.embed.embed_button.file})]})},Wce=t=>{var e;const n=te(),o=ue(),{block:r,setLoading:i}=t,s=oe(),[l,a]=v.useState(!1);v.useEffect(()=>{l&&setTimeout(()=>{a(!1)},3e3)},[l]);const c=v.useCallback(f=>{if(f===null)return;async function h(p){if(i(!0),s.uploadFile!==void 0)try{let m=await s.uploadFile(p,r.id);typeof m=="string"&&(m={props:{name:p.name,url:m}}),s.updateBlock(r,m)}catch{a(!0)}finally{i(!1)}}h(f)},[r,s,i]),u=s.schema.blockSchema[r.type],d=u.isFileBlock&&(e=u.fileBlockAccept)!=null&&e.length?u.fileBlockAccept.join(","):"*/*";return g.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:d,placeholder:o.file_panel.upload.file_placeholder[r.type]||o.file_panel.upload.file_placeholder.file,value:null,onChange:c}),l&&g.jsx("div",{className:"bn-error-text",children:o.file_panel.upload.upload_error})]})},b6=t=>{const e=te(),n=ue(),o=oe(),[r,i]=v.useState(!1),s=t.tabs??[...o.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:g.jsx(Wce,{block:t.block,setLoading:i})}]:[],{name:n.file_panel.embed.title,tabPanel:g.jsx(qce,{block:t.block})}],[l,a]=v.useState(t.defaultOpenTab||s[0].name);return g.jsx(e.FilePanel.Root,{className:"bn-panel",defaultOpenTab:l,openTab:l,setOpenTab:a,tabs:s,loading:r})},Kce=t=>{const e=oe();if(!e.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=ts(e.filePanel.onUpdate.bind(e.filePanel)),{isMounted:o,ref:r,style:i,getFloatingProps:s}=xl((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[vr(10),bo()],onOpenChange:d=>{d||(e.filePanel.closeMenu(),e.focus())},...t.floatingOptions});if(!o||!n)return null;const{show:l,referencePos:a,...c}=n,u=t.filePanel||b6;return g.jsx("div",{ref:r,style:i,...s(),children:g.jsx(u,{...c})})};function Zce(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Cl(t,e){z0(t,e),$2(t,e)}function V2(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Zn(t){const e=ii();if(t||(t=e==null?void 0:e.editor),!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=t,[o,r]=v.useState(()=>{var s;return((s=n.getSelection())==null?void 0:s.blocks)||[n.getTextCursorPosition().block]}),i=v.useCallback(()=>{var s;return r(((s=n.getSelection())==null?void 0:s.blocks)||[n.getTextCursorPosition().block])},[n]);return Cl(i,n),o}const Yce={bold:mce,italic:vce,underline:Sce,strike:Cce,code:uce};function Xce(t,e){return t in e.schema.styleSchema&&e.schema.styleSchema[t].type===t&&e.schema.styleSchema[t].propSchema==="boolean"}const hm=t=>{const e=ue(),n=te(),o=oe(),r=Xce(t.basicTextStyle,o),i=Zn(o),[s,l]=v.useState(t.basicTextStyle in o.getActiveStyles());Cl(()=>{r&&l(t.basicTextStyle in o.getActiveStyles())},o);const a=u=>{if(o.focus(),!!r){if(o.schema.styleSchema[u].propSchema!=="boolean")throw new Error("can only toggle boolean styles");o.toggleStyles({[u]:!0})}};if(!v.useMemo(()=>r?!!i.find(u=>u.content!==void 0):!1,[r,i])||!o.isEditable)return null;const c=Yce[t.basicTextStyle];return g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":t.basicTextStyle,onClick:()=>a(t.basicTextStyle),isSelected:s,label:e.formatting_toolbar[t.basicTextStyle].tooltip,mainTooltip:e.formatting_toolbar[t.basicTextStyle].tooltip,secondaryTooltip:oo(e.formatting_toolbar[t.basicTextStyle].secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(c,{})})},nC=t=>{const e=t.textColor||"default",n=t.backgroundColor||"default",o=t.size||16,r=v.useMemo(()=>({pointerEvents:"none",fontSize:(o*.75).toString()+"px",height:o.toString()+"px",lineHeight:o.toString()+"px",textAlign:"center",width:o.toString()+"px"}),[o]);return g.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":e,style:r,children:"A"})},t4=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],H0=t=>{const e=te(),n=ue();return g.jsxs(g.Fragment,{children:[g.jsx(()=>t.text?g.jsxs(g.Fragment,{children:[g.jsx(e.Generic.Menu.Label,{children:n.color_picker.text_title}),t4.map(o=>g.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.text.setColor(o)},"data-test":"text-color-"+o,icon:g.jsx(nC,{textColor:o,size:t.iconSize}),checked:t.text.color===o,children:n.color_picker.colors[o]},"text-color-"+o))]}):null,{}),g.jsx(()=>t.background?g.jsxs(g.Fragment,{children:[g.jsx(e.Generic.Menu.Label,{children:n.color_picker.background_title}),t4.map(o=>g.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.background.setColor(o)},"data-test":"background-color-"+o,icon:g.jsx(nC,{backgroundColor:o,size:t.iconSize}),checked:t.background.color===o,children:n.color_picker.colors[o]},"background-color-"+o))]}):null,{})]})};function n4(t,e){return`${t}Color`in e.schema.styleSchema&&e.schema.styleSchema[`${t}Color`].type===`${t}Color`&&e.schema.styleSchema[`${t}Color`].propSchema==="string"}const Jce=()=>{const t=te(),e=ue(),n=oe(),o=n4("text",n),r=n4("background",n),i=Zn(n),[s,l]=v.useState(o&&n.getActiveStyles().textColor||"default"),[a,c]=v.useState(r&&n.getActiveStyles().backgroundColor||"default");Cl(()=>{o&&l(n.getActiveStyles().textColor||"default"),r&&c(n.getActiveStyles().backgroundColor||"default")},n);const u=v.useCallback(f=>{if(!o)throw Error("Tried to set text color, but style does not exist in editor schema.");f==="default"?n.removeStyles({textColor:f}):n.addStyles({textColor:f}),setTimeout(()=>{n.focus()})},[n,o]),d=v.useCallback(f=>{if(!r)throw Error("Tried to set background color, but style does not exist in editor schema.");f==="default"?n.removeStyles({backgroundColor:f}):n.addStyles({backgroundColor:f}),setTimeout(()=>{n.focus()})},[r,n]);return!v.useMemo(()=>{if(!o&&!r)return!1;for(const f of i)if(f.content!==void 0)return!0;return!1},[r,i,o])||!n.isEditable?null:g.jsxs(t.Generic.Menu.Root,{children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:e.formatting_toolbar.colors.tooltip,mainTooltip:e.formatting_toolbar.colors.tooltip,icon:g.jsx(nC,{textColor:s,backgroundColor:a,size:20})})}),g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(H0,{text:o?{color:s,setColor:u}:void 0,background:r?{color:a,setColor:d}:void 0})})]})},o4=t=>{for(const e of Fj)if(t.startsWith(e))return t;return`${Gj}://${t}`},y6=t=>{const e=te(),n=ue(),{url:o,text:r,editLink:i,showTextField:s}=t,[l,a]=v.useState(o),[c,u]=v.useState(r);v.useEffect(()=>{a(o),u(r)},[r,o]);const d=v.useCallback(m=>{m.key==="Enter"&&(m.preventDefault(),i(o4(l),c))},[i,l,c]),f=v.useCallback(m=>a(m.currentTarget.value),[]),h=v.useCallback(m=>u(m.currentTarget.value),[]),p=v.useCallback(()=>i(o4(l),c),[i,l,c]);return g.jsxs(e.Generic.Form.Root,{children:[g.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:g.jsx(a6,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:l,onKeyDown:d,onChange:f,onSubmit:p}),s!==!1&&g.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:g.jsx(z2,{}),placeholder:n.link_toolbar.form.title_placeholder,value:c,onKeyDown:d,onChange:h,onSubmit:p})]})};function Qce(t){return"link"in t.schema.inlineContentSchema&&t.schema.inlineContentSchema.link==="link"}const eue=()=>{var t;const e=oe(),n=te(),o=ue(),r=Qce(e),i=Zn(e),[s,l]=v.useState(!1),[a,c]=v.useState(e.getSelectedLinkUrl()||""),[u,d]=v.useState(e.getSelectedText());Cl(()=>{d(e.getSelectedText()||""),c(e.getSelectedLinkUrl()||"")},e),v.useEffect(()=>{var p;const m=b=>{(b.ctrlKey||b.metaKey)&&b.key==="k"&&(l(!0),b.preventDefault())};return(p=e.prosemirrorView)==null||p.dom.addEventListener("keydown",m),()=>{var b;(b=e.prosemirrorView)==null||b.dom.removeEventListener("keydown",m)}},[(t=e.prosemirrorView)==null?void 0:t.dom]);const f=v.useCallback(p=>{e.createLink(p),e.focus()},[e]),h=e.transact(p=>Zx(p.selection));return!v.useMemo(()=>{if(!r)return!1;for(const p of i)if(p.content===void 0)return!1;return!h},[r,i,h])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:g.jsxs(n.Generic.Popover.Root,{opened:s,children:[g.jsx(n.Generic.Popover.Trigger,{children:g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:o.formatting_toolbar.link.tooltip,mainTooltip:o.formatting_toolbar.link.tooltip,secondaryTooltip:oo(o.formatting_toolbar.link.secondary_tooltip,o.generic.ctrl_shortcut),icon:g.jsx(a6,{}),onClick:()=>l(!0)})}),g.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(y6,{url:a,text:u,editLink:f,showTextField:!1})})]})},tue=()=>{const t=ue(),e=te(),n=oe(),[o,r]=v.useState(),i=Zn(n),s=v.useMemo(()=>{if(i.length!==1)return;const c=i[0];if(rp(c,n))return r(c.props.caption),c},[n,i]),l=v.useCallback(c=>{s&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(s,{props:{caption:o}}))},[o,n,s]),a=v.useCallback(c=>r(c.currentTarget.value),[]);return!s||ip(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_caption.tooltip,mainTooltip:t.formatting_toolbar.file_caption.tooltip,icon:g.jsx(JN,{}),isSelected:s.props.caption!==""})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(e.Generic.Form.Root,{children:g.jsx(e.Generic.Form.TextInput,{name:"file-caption",icon:g.jsx(JN,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_caption.input_placeholder,onKeyDown:l,onChange:a})})})]})},nue=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),r=v.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(rp(s,n))return s},[n,o]),i=v.useCallback(()=>{n.focus(),n.removeBlocks([r])},[n,r]);return!r||ip(r,n)||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_delete.tooltip[r.type]||t.formatting_toolbar.file_delete.tooltip.file,mainTooltip:t.formatting_toolbar.file_delete.tooltip[r.type]||t.formatting_toolbar.file_delete.tooltip.file,icon:g.jsx(Oce,{}),onClick:i})},oue=()=>{const t=ue(),e=te(),n=oe(),[o,r]=v.useState(),i=Zn(n),s=v.useMemo(()=>{if(i.length!==1)return;const c=i[0];if(rp(c,n))return r(c.props.name),c},[n,i]),l=v.useCallback(c=>{s&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(s,{props:{name:o}}))},[o,n,s]),a=v.useCallback(c=>r(c.currentTarget.value),[]);return!s||ip(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,mainTooltip:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,icon:g.jsx(XN,{})})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(e.Generic.Form.Root,{children:g.jsx(e.Generic.Form.TextInput,{name:"file-name",icon:g.jsx(XN,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_rename.input_placeholder[s.type]||t.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:l,onChange:a})})})]})},rue=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),[r,i]=v.useState(!1);v.useEffect(()=>{i(!1)},[o]);const s=o.length===1?o[0]:void 0;return s===void 0||!rp(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{opened:r,position:"bottom",children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",onClick:()=>i(!r),isSelected:r,mainTooltip:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,label:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,icon:g.jsx(Mce,{})})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:g.jsx(b6,{block:s})})]})},iue=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),[r,i]=v.useState(()=>n.canNestBlock());Cl(()=>{i(n.canNestBlock())},n);const s=v.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!v.useMemo(()=>!o.find(l=>n.schema.blockSchema[l.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:s,isDisabled:!r,label:t.formatting_toolbar.nest.tooltip,mainTooltip:t.formatting_toolbar.nest.tooltip,secondaryTooltip:oo(t.formatting_toolbar.nest.secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(yce,{})})},sue=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),[r,i]=v.useState(()=>n.canUnnestBlock());Cl(()=>{i(n.canUnnestBlock())},n);const s=v.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!v.useMemo(()=>!o.find(l=>n.schema.blockSchema[l.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:s,isDisabled:!r,label:t.formatting_toolbar.unnest.tooltip,mainTooltip:t.formatting_toolbar.unnest.tooltip,secondaryTooltip:oo(t.formatting_toolbar.unnest.secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(bce,{})})},oC=t=>[{name:t.slash_menu.paragraph.title,type:"paragraph",icon:z2,isSelected:e=>e.type==="paragraph"},{name:t.slash_menu.heading.title,type:"heading",props:{level:1},icon:Zb,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1},{name:t.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:Yb,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2},{name:t.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:Xb,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3},{name:t.slash_menu.heading_4.title,type:"heading",props:{level:4},icon:i6,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===4},{name:t.slash_menu.heading_5.title,type:"heading",props:{level:5},icon:s6,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===5},{name:t.slash_menu.heading_6.title,type:"heading",props:{level:6},icon:l6,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===6},{name:t.slash_menu.toggle_heading.title,type:"heading",props:{level:1,isToggleable:!0},icon:Zb,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1&&"isToggleable"in e.props&&e.props.isToggleable},{name:t.slash_menu.toggle_heading_2.title,type:"heading",props:{level:2,isToggleable:!0},icon:Yb,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2&&"isToggleable"in e.props&&e.props.isToggleable},{name:t.slash_menu.toggle_heading_3.title,type:"heading",props:{level:3,isToggleable:!0},icon:Xb,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3&&"isToggleable"in e.props&&e.props.isToggleable},{name:t.slash_menu.quote.title,type:"quote",icon:f6,isSelected:e=>e.type==="quote"},{name:t.slash_menu.toggle_list.title,type:"toggleListItem",icon:p6,isSelected:e=>e.type==="toggleListItem"},{name:t.slash_menu.bullet_list.title,type:"bulletListItem",icon:d6,isSelected:e=>e.type==="bulletListItem"},{name:t.slash_menu.numbered_list.title,type:"numberedListItem",icon:u6,isSelected:e=>e.type==="numberedListItem"},{name:t.slash_menu.check_list.title,type:"checkListItem",icon:c6,isSelected:e=>e.type==="checkListItem"}],lue=t=>{const e=te(),n=ue(),o=oe(),r=Zn(o),[i,s]=v.useState(o.getTextCursorPosition().block),l=v.useMemo(()=>(t.items||oC(n)).filter(u=>u.type in o.schema.blockSchema),[o,n,t.items]),a=v.useMemo(()=>l.find(u=>u.type===i.type)!==void 0,[i.type,l]),c=v.useMemo(()=>{const u=d=>{o.focus(),o.transact(()=>{for(const f of r)o.updateBlock(f,{type:d.type,props:d.props})})};return l.map(d=>{const f=d.icon;return{text:d.name,icon:g.jsx(f,{size:16}),onClick:()=>u(d),isSelected:d.isSelected(i)}})},[i,l,o,r]);return Cl(()=>{s(o.getTextCursorPosition().block)},o),!a||!o.isEditable?null:g.jsx(e.FormattingToolbar.Select,{className:"bn-select",items:c})},aue=()=>{const t=ue(),e=te(),n=oe(),o=v.useCallback(()=>{var r;(r=n.comments)==null||r.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:g.jsx(r6,{}),onClick:o}):null},cue=()=>{const t=ue(),e=te(),n=oe(),o=v.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:g.jsx(r6,{}),onClick:o})};function rC(t,e){try{const n=new URL(t,e);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const uue=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),r=v.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(rp(s,n))return s},[n,o]),i=v.useCallback(()=>{r&&r.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(r.props.url).then(s=>window.open(rC(s,window.location.href))):window.open(rC(r.props.url,window.location.href)))},[n,r]);return!r||ip(r,n)?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_download.tooltip[r.type]||t.formatting_toolbar.file_download.tooltip.file,mainTooltip:t.formatting_toolbar.file_download.tooltip[r.type]||t.formatting_toolbar.file_download.tooltip.file,icon:g.jsx(Dce,{}),onClick:i})},due=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),r=v.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(tse(s,n))return s},[n,o]),i=v.useCallback(()=>{r&&n.updateBlock(r,{props:{showPreview:!r.props.showPreview}})},[n,r]);return!r||ip(r,n)||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:t.formatting_toolbar.file_preview_toggle.tooltip,icon:g.jsx(Tce,{}),isSelected:r.props.showPreview,onClick:i})},fue=()=>{const t=ue(),e=te(),n=oe(),o=Zn(n),r=v.useMemo(()=>{var s;if(o.length!==1)return;const l=o[0];if(l.type==="table")return(s=n.tableHandles)==null?void 0:s.getMergeDirection(l)},[n,o]),i=v.useCallback(()=>{var s;(s=n.tableHandles)==null||s.mergeCells()},[n]);return!n.isEditable||r===void 0||!n.settings.tables.splitCells?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:t.formatting_toolbar.table_cell_merge.tooltip,icon:r==="horizontal"?g.jsx(kce,{}):g.jsx(xce,{}),onClick:i})},hue={left:hce,center:dce,right:pce,justify:fce},aw=t=>{const e=te(),n=ue(),o=oe(),r=Zn(o),i=v.useMemo(()=>{var a;const c=r[0];if(Kx("textAlignment",c,o))return c.props.textAlignment;if(c.type==="table"){const u=(a=o.tableHandles)==null?void 0:a.getCellSelection();if(!u)return;const d=u.cells.map(({row:h,col:p})=>cl(c.content.rows[h].cells[p]).props.textAlignment),f=d[0];if(d.every(h=>h===f))return f}},[o,r]),s=v.useCallback(a=>{var c;o.focus();for(const u of r)if(Lc("textAlignment",u.type,o))o.updateBlock(u,{props:{textAlignment:a}});else if(u.type==="table"){const d=(c=o.tableHandles)==null?void 0:c.getCellSelection();if(!d)continue;const f=u.content.rows.map(h=>({...h,cells:h.cells.map(p=>cl(p))}));d.cells.forEach(({row:h,col:p})=>{f[h].cells[p].props.textAlignment=a}),o.updateBlock(u,{type:"table",content:{...u.content,type:"tableContent",rows:f}}),o.setTextCursorPosition(u)}},[o,r]);if(!v.useMemo(()=>!!r.find(a=>"textAlignment"in a.props||a.type==="table"&&a.children),[r])||!o.isEditable)return null;const l=hue[t.textAlignment];return g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${t.textAlignment.slice(0,1).toUpperCase()+t.textAlignment.slice(1)}`,onClick:()=>s(t.textAlignment),isSelected:i===t.textAlignment,label:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,icon:g.jsx(l,{})})},v6=t=>[g.jsx(lue,{items:t},"blockTypeSelect"),g.jsx(fue,{},"tableCellMergeButton"),g.jsx(tue,{},"fileCaptionButton"),g.jsx(rue,{},"replaceFileButton"),g.jsx(oue,{},"fileRenameButton"),g.jsx(nue,{},"fileDeleteButton"),g.jsx(uue,{},"fileDownloadButton"),g.jsx(due,{},"filePreviewButton"),g.jsx(hm,{basicTextStyle:"bold"},"boldStyleButton"),g.jsx(hm,{basicTextStyle:"italic"},"italicStyleButton"),g.jsx(hm,{basicTextStyle:"underline"},"underlineStyleButton"),g.jsx(hm,{basicTextStyle:"strike"},"strikeStyleButton"),g.jsx(aw,{textAlignment:"left"},"textAlignLeftButton"),g.jsx(aw,{textAlignment:"center"},"textAlignCenterButton"),g.jsx(aw,{textAlignment:"right"},"textAlignRightButton"),g.jsx(Jce,{},"colorStyleButton"),g.jsx(iue,{},"nestBlockButton"),g.jsx(sue,{},"unnestBlockButton"),g.jsx(eue,{},"createLinkButton"),g.jsx(aue,{},"addCommentButton"),g.jsx(cue,{},"addTiptapCommentButton")],U2=t=>{const e=te();return g.jsx(e.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:t.children||v6(t.blockTypeSelectItems)})},r4=t=>{switch(t){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},F2=t=>{const e=v.useRef(null),n=oe(),[o,r]=v.useState(()=>{const f=n.getTextCursorPosition().block;return"textAlignment"in f.props?r4(f.props.textAlignment):"top-start"});Cl(()=>{const f=n.getTextCursorPosition().block;"textAlignment"in f.props?r(r4(f.props.textAlignment)):r("top-start")},n);const i=ts(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:s,ref:l,style:a,getFloatingProps:c}=xl((i==null?void 0:i.show)||!1,(i==null?void 0:i.referencePos)||null,3e3,{placement:o,middleware:[vr(10),ml(),bo()],onOpenChange:(f,h)=>{f||(n.formattingToolbar.closeMenu(),n.focus())},canDismiss:{enabled:!0,escapeKey:!0,outsidePress:f=>{var h;const p=(h=n._tiptapEditor)==null?void 0:h.view;return!p||!f.target?!1:!Zce(f,p.dom.parentElement)}},...t.floatingOptions}),u=v.useMemo(()=>V2([e,l]),[e,l]);if(!s||!i)return null;if(!i.show&&e.current)return g.jsx("div",{ref:u,style:a,dangerouslySetInnerHTML:{__html:e.current.innerHTML}});const d=t.formattingToolbar||U2;return g.jsx("div",{ref:u,style:a,...c(),children:g.jsx(d,{})})},pue=t=>{const e=te(),n=ue();return g.jsx(e.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:t.deleteLink,icon:g.jsx(wce,{})})},mue=t=>{const e=te(),n=ue();return g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(y6,{...t})})]})},gue=t=>{const e=te(),n=ue();return g.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(rC(t.url,window.location.href),"_blank")},icon:g.jsx(Ice,{})})},bue=t=>{const e=te();return t.children?g.jsx(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:t.children}):g.jsxs(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:t.stopHideTimer,onMouseLeave:t.startHideTimer,children:[g.jsx(mue,{url:t.url,text:t.text,editLink:t.editLink}),g.jsx(gue,{url:t.url}),g.jsx(pue,{deleteLink:t.deleteLink})]})},yue=t=>{const e=oe(),n={deleteLink:e.linkToolbar.deleteLink,editLink:e.linkToolbar.editLink,startHideTimer:e.linkToolbar.startHideTimer,stopHideTimer:e.linkToolbar.stopHideTimer},o=ts(e.linkToolbar.onUpdate.bind(e.linkToolbar)),{isMounted:r,ref:i,style:s,getFloatingProps:l}=xl((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,4e3,{placement:"top-start",middleware:[vr(10),bo()],onOpenChange:f=>{f||(e.linkToolbar.closeMenu(),e.focus())},...t.floatingOptions});if(!r||!o)return null;const{show:a,referencePos:c,...u}=o,d=t.linkToolbar||bue;return g.jsx("div",{ref:i,style:s,...l(),children:g.jsx(d,{...u,...n})})};function vue(t){return re({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}const w6=t=>{const e=te(),n=ue(),o=oe(),r=v.useCallback(()=>{const i=t.block.content;if(i!==void 0&&Array.isArray(i)&&i.length===0)o.setTextCursorPosition(t.block),o.openSuggestionMenu("/");else{const s=o.insertBlocks([{type:"paragraph"}],t.block,"after")[0];o.setTextCursorPosition(s),o.openSuggestionMenu("/")}},[o,t.block]);return g.jsx(e.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:g.jsx(vue,{size:24,onClick:r,"data-test":"dragHandleAdd"})})};function k6(t){return re({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function wue(t){return re({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}const kue=t=>{const e=te(),n=oe();return!Lc("textColor",t.block.type,n)&&!Lc("backgroundColor",t.block.type,n)?null:g.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(e.Generic.Menu.Trigger,{sub:!0,children:g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children})}),g.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(H0,{iconSize:18,text:Lc("textColor",t.block.type,n)&&Kx("textColor",t.block,n)?{color:t.block.props.textColor,setColor:o=>n.updateBlock(t.block,{type:t.block.type,props:{textColor:o}})}:void 0,background:Lc("backgroundColor",t.block.type,n)&&Kx("backgroundColor",t.block,n)?{color:t.block.props.backgroundColor,setColor:o=>n.updateBlock(t.block,{props:{backgroundColor:o}})}:void 0})})]})},xue=t=>{const e=te(),n=oe();return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([t.block]),children:t.children})},Cue=t=>{const e=te(),n=oe();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerRows;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const r=n.getBlock(t.block.id);r&&n.updateBlock(r,{...r,content:{...r.content,headerRows:o?void 0:1}})},children:t.children})},_ue=t=>{const e=te(),n=oe();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerCols;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{n.updateBlock(t.block,{type:"table",content:{...t.block.content,type:"tableContent",headerCols:o?void 0:1}})},children:t.children})},Sue=t=>{const e=te(),n=ue();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(xue,{...t,children:n.drag_handle.delete_menuitem}),g.jsx(kue,{...t,children:n.drag_handle.colors_menuitem}),g.jsx(Cue,{...t,children:n.drag_handle.header_row_menuitem}),g.jsx(_ue,{...t,children:n.drag_handle.header_column_menuitem})]})})},x6=t=>{const e=te(),n=ue(),o=t.dragHandleMenu||Sue;return g.jsxs(e.Generic.Menu.Root,{onOpenChange:r=>{r?t.freezeMenu():t.unfreezeMenu()},position:"left",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:r=>t.blockDragStart(r,t.block),onDragEnd:t.blockDragEnd,className:"bn-button",icon:g.jsx(k6,{size:24,"data-test":"dragHandle"})})}),g.jsx(o,{block:t.block,children:t.children})]})},C6=t=>{const e=te(),n=v.useMemo(()=>{const o={"data-block-type":t.block.type};return t.block.type==="heading"&&(o["data-level"]=t.block.props.level.toString()),t.editor.schema.blockSchema[t.block.type].isFileBlock&&(t.block.props.url?o["data-url"]="true":o["data-url"]="false"),o},[t.block,t.editor.schema.blockSchema]);return g.jsx(e.SideMenu.Root,{className:"bn-side-menu",...n,children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(w6,{...t}),g.jsx(x6,{...t})]})})},_6=t=>{const e=oe(),n={blockDragStart:e.sideMenu.blockDragStart,blockDragEnd:e.sideMenu.blockDragEnd,freezeMenu:e.sideMenu.freezeMenu,unfreezeMenu:e.sideMenu.unfreezeMenu},o=ts(e.sideMenu.onUpdate.bind(e.sideMenu)),{isMounted:r,ref:i,style:s,getFloatingProps:l}=xl((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,1e3,{placement:"left-start",...t.floatingOptions});if(!r||!o)return null;const{show:a,referencePos:c,...u}=o,d=t.sideMenu||C6;return g.jsx("div",{ref:i,style:s,...l(),children:g.jsx(d,{...u,...n,editor:e})})};async function Eue(t,e){return(await dae(t,e)).map(({id:n,onItemClick:o})=>({id:n,onItemClick:o,icon:n}))}function Tue(t){const e=te(),n=ue(),{items:o,loadingState:r,selectedIndex:i,onItemClick:s,columns:l}=t,a=r==="loading-initial"||r==="loading"?g.jsx(e.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:l}):null,c=v.useMemo(()=>{const u=[];for(let d=0;d<o.length;d++){const f=o[d];u.push(g.jsx(e.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:f,id:`bn-grid-suggestion-menu-item-${d}`,isSelected:d===i,onClick:()=>s==null?void 0:s(f)},f.id))}return u},[e,o,s,i]);return g.jsxs(e.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:l,className:"bn-grid-suggestion-menu",children:[a,c,c.length===0&&t.loadingState==="loaded"&&g.jsx(e.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:l,children:n.suggestion_menu.no_items_title})]})}function S6(t,e,n,o=3){const r=v.useRef(0);v.useEffect(()=>{e!==void 0&&(t.length>0?r.current=e.length:e.length-r.current>o&&n())},[n,o,t.length,e])}function E6(t,e){const[n,o]=v.useState([]),[r,i]=v.useState(!1),s=v.useRef(void 0),l=v.useRef(void 0);return v.useEffect(()=>{const a=t;s.current=t,i(!0),e(t).then(c=>{s.current===a&&(o(c),i(!1),l.current=a)})},[t,e]),{items:n||[],usedQuery:l.current,loadingState:l.current===void 0?"loading-initial":r?"loading":"loaded"}}function Mue(t,e,n,o,r){const[i,s]=v.useState(0),l=o!==void 0&&o>1;return v.useEffect(()=>{var a;const c=u=>(u.key==="ArrowLeft"&&(u.preventDefault(),n.length&&s((i-1+n.length)%n.length)),u.key==="ArrowRight"&&(u.preventDefault(),n.length&&s((i+1+n.length)%n.length)),u.key==="ArrowUp"?(u.preventDefault(),n.length&&s((i-o+n.length)%n.length),!0):u.key==="ArrowDown"?(u.preventDefault(),n.length&&s((i+o)%n.length),!0):u.key==="Enter"&&!u.isComposing?(u.stopPropagation(),u.preventDefault(),n.length&&(r==null||r(n[i])),!0):!1);return(a=t.domElement)==null||a.addEventListener("keydown",c,!0),()=>{var u;(u=t.domElement)==null||u.removeEventListener("keydown",c,!0)}},[t.domElement,n,i,r,o,l]),v.useEffect(()=>{s(0)},[e]),{selectedIndex:n.length===0?void 0:i}}function Aue(t){const e=ii().setContentEditableProps,n=oe(),{getItems:o,gridSuggestionMenuComponent:r,query:i,clearQuery:s,closeMenu:l,onItemClick:a,columns:c}=t,u=v.useCallback(m=>{l(),s(),a==null||a(m)},[a,l,s]),{items:d,usedQuery:f,loadingState:h}=E6(i,o);S6(d,f,l);const{selectedIndex:p}=Mue(n,i,d,c,u);return v.useEffect(()=>(e(m=>({...m,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(m=>({...m,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),v.useEffect(()=>(e(m=>({...m,"aria-activedescendant":p?"bn-suggestion-menu-item-"+p:void 0})),()=>{e(m=>({...m,"aria-activedescendant":void 0}))}),[e,p]),g.jsx(r,{items:d,onItemClick:u,loadingState:h,selectedIndex:p,columns:c})}function Rue(t){const e=oe(),{triggerCharacter:n,gridSuggestionMenuComponent:o,columns:r,minQueryLength:i,onItemClick:s,getItems:l,floatingOptions:a}=t,c=v.useMemo(()=>s||(w=>{w.onItemClick(e)}),[e,s]),u=v.useMemo(()=>l||(async w=>await Eue(e,w)),[e,l]),d={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},f=v.useCallback(w=>e.suggestionMenus.onUpdate(n,w),[e.suggestionMenus,n]),h=ts(f),{isMounted:p,ref:m,style:b,getFloatingProps:y}=xl((h==null?void 0:h.show)||!1,(h==null?void 0:h.referencePos)||null,2e3,{placement:"bottom-start",middleware:[vr(10),bo(),Vh({apply({availableHeight:w,elements:k}){Object.assign(k.floating.style,{maxHeight:`${w-10}px`})}})],onOpenChange(w){w||e.suggestionMenus.closeMenu()},...a});return!p||!h||!(h!=null&&h.ignoreQueryLength)&&i&&(h.query.startsWith(" ")||h.query.length<i)?null:g.jsx("div",{ref:m,style:b,...y(),children:g.jsx(Aue,{query:h.query,closeMenu:d.closeMenu,clearQuery:d.clearQuery,getItems:u,columns:r,gridSuggestionMenuComponent:o||Tue,onItemClick:c})})}function Nue(t){const e=te(),n=ue(),{items:o,loadingState:r,selectedIndex:i,onItemClick:s}=t,l=r==="loading-initial"||r==="loading"?g.jsx(e.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,a=v.useMemo(()=>{let c;const u=[];for(let d=0;d<o.length;d++){const f=o[d];f.group!==c&&(c=f.group,u.push(g.jsx(e.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:c},c))),u.push(g.jsx(e.SuggestionMenu.Item,{className:Xe("bn-suggestion-menu-item",f.size==="small"?"bn-suggestion-menu-item-small":""),item:f,id:`bn-suggestion-menu-item-${d}`,isSelected:d===i,onClick:()=>s==null?void 0:s(f)},f.title))}return u},[e,o,s,i]);return g.jsxs(e.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[a,a.length===0&&(t.loadingState==="loading"||t.loadingState==="loaded")&&g.jsx(e.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),l]})}function Oue(t,e){const[n,o]=v.useState(0);return{selectedIndex:n,setSelectedIndex:o,handler:r=>{if(r.key==="ArrowUp")return r.preventDefault(),t.length&&o((n-1+t.length)%t.length),!0;if(r.key==="ArrowDown")return r.preventDefault(),t.length&&o((n+1)%t.length),!0;const i=Lue(r)?r.nativeEvent.isComposing:r.isComposing;return r.key==="Enter"&&!i?(r.preventDefault(),r.stopPropagation(),t.length&&(e==null||e(t[n])),!0):!1}}}function Lue(t){return t.nativeEvent!==void 0}function Due(t,e,n,o,r){const{selectedIndex:i,setSelectedIndex:s,handler:l}=Oue(n,o);return v.useEffect(()=>{var a;return(a=t.domElement)==null||a.addEventListener("keydown",l,!0),()=>{var c;(c=t.domElement)==null||c.removeEventListener("keydown",l,!0)}},[t.domElement,n,i,o,r,l]),v.useEffect(()=>{s(0)},[e,s]),{selectedIndex:n.length===0?void 0:i}}function Iue(t){const e=ii().setContentEditableProps,n=oe(),{getItems:o,suggestionMenuComponent:r,query:i,clearQuery:s,closeMenu:l,onItemClick:a}=t,c=v.useCallback(p=>{l(),s(),a==null||a(p)},[a,l,s]),{items:u,usedQuery:d,loadingState:f}=E6(i,o);S6(u,d,l);const{selectedIndex:h}=Due(n,i,u,c);return v.useEffect(()=>(e(p=>({...p,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(p=>({...p,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),v.useEffect(()=>(e(p=>({...p,"aria-activedescendant":h?"bn-suggestion-menu-item-"+h:void 0})),()=>{e(p=>({...p,"aria-activedescendant":void 0}))}),[e,h]),g.jsx(r,{items:u,onItemClick:c,loadingState:f,selectedIndex:h})}const $ue={heading:Zb,heading_2:Yb,heading_3:Xb,heading_4:i6,heading_5:s6,heading_6:l6,toggle_heading:Zb,toggle_heading_2:Yb,toggle_heading_3:Xb,quote:f6,toggle_list:p6,numbered_list:u6,bullet_list:d6,check_list:c6,paragraph:z2,table:_ce,image:h6,video:Ece,audio:m6,file:B2,emoji:Pce,code_block:gce};function T6(t){return ose(t).map(e=>{const n=$ue[e.key];return{...e,icon:g.jsx(n,{size:18})}})}function M6(t){const e=oe(),{triggerCharacter:n,suggestionMenuComponent:o,minQueryLength:r,onItemClick:i,getItems:s,floatingOptions:l}=t,a=v.useMemo(()=>i||(y=>{y.onItemClick(e)}),[e,i]),c=v.useMemo(()=>s||(async y=>Ej(T6(e),y)),[e,s]),u={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},d=v.useCallback(y=>e.suggestionMenus.onUpdate(n,y),[e.suggestionMenus,n]),f=ts(d),{isMounted:h,ref:p,style:m,getFloatingProps:b}=xl((f==null?void 0:f.show)||!1,(f==null?void 0:f.referencePos)||null,2e3,{placement:"bottom-start",middleware:[vr(10),bo({mainAxis:!0,crossAxis:!1}),ml(),Vh({apply({availableHeight:y,elements:w}){Object.assign(w.floating.style,{maxHeight:`${y-10}px`})}})],onOpenChange(y){y||e.suggestionMenus.closeMenu()},...l});return!h||!f||!(f!=null&&f.ignoreQueryLength)&&r&&(f.query.startsWith(" ")||f.query.length<r)?null:g.jsx("div",{ref:p,style:m,...b(),children:g.jsx(Iue,{query:f.query,closeMenu:u.closeMenu,clearQuery:u.clearQuery,getItems:c,suggestionMenuComponent:o||Nue,onItemClick:a})})}const Pue=(t,e=.3)=>{const n=Math.floor(t)+e,o=Math.ceil(t)-e;return t>=n&&t<=o?Math.round(t):t<n?Math.floor(t):Math.ceil(t)},jue=t=>{const e=te(),n=v.useRef(!1),[o,r]=v.useState(),i=v.useCallback(l=>{t.onMouseDown(),r({originalContent:t.block.content,originalCroppedContent:{rows:t.editor.tableHandles.cropEmptyRowsOrColumns(t.block,t.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:t.orientation==="addOrRemoveColumns"?l.clientX:l.clientY}),n.current=!1,l.preventDefault()},[t]),s=v.useCallback(()=>{n.current||t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns(t.block,"columns",1):t.editor.tableHandles.addRowsOrColumns(t.block,"rows",1)}})},[t.block,t.orientation,t.editor]);return v.useEffect(()=>{const l=a=>{var c,u;if(!o)throw new Error("editingState is undefined");n.current=!0;const d=(t.orientation==="addOrRemoveColumns"?a.clientX:a.clientY)-o.startPos,f=t.orientation==="addOrRemoveColumns"?((c=o.originalCroppedContent.rows[0])==null?void 0:c.cells.length)??0:o.originalCroppedContent.rows.length,h=t.orientation==="addOrRemoveColumns"?((u=o.originalContent.rows[0])==null?void 0:u.cells.length)??0:o.originalContent.rows.length,p=t.orientation==="addOrRemoveColumns"?t.block.content.rows[0].cells.length:t.block.content.rows.length,m=h+Pue(d/(t.orientation==="addOrRemoveColumns"?N2:Bie),.3);m>=f&&m>0&&m!==p&&(t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"columns",m-f):t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"rows",m-f)}}),t.block.content&&t.editor.setTextCursorPosition(t.block))};return o&&window.addEventListener("mousemove",l),()=>{window.removeEventListener("mousemove",l)}},[o,t.block,t.editor,t.orientation]),v.useEffect(()=>{const l=t.onMouseUp,a=()=>{r(void 0),l()};return o&&window.addEventListener("mouseup",a),()=>{window.removeEventListener("mouseup",a)}},[o,t.onMouseUp]),t.editor.isEditable?g.jsx(e.TableHandle.ExtendButton,{className:Xe("bn-extend-button",t.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",o!==null?"bn-extend-button-editing":""),onClick:s,onMouseDown:i,children:t.children||g.jsx(Rce,{size:18,"data-test":"extendButton"})}):null},i4=t=>{const e=te(),n=ue(),o=oe().tableHandles;return o?g.jsx(e.Generic.Menu.Item,{onClick:()=>{o.addRowOrColumn(t.index,t.orientation==="row"?{orientation:"row",side:t.side}:{orientation:"column",side:t.side})},children:n.table_handle[`add_${t.side}_menuitem`]}):null},Bue=t=>{const e=te(),n=ue(),o=oe().tableHandles;return o?g.jsx(e.Generic.Menu.Item,{onClick:()=>{o.removeRowOrColumn(t.index,t.orientation)},children:t.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},zue=t=>{const e=te(),n=ue(),o=oe(),r=o.tableHandles,i=v.useMemo(()=>!r||!t.block?[]:t.orientation==="row"?r.getCellsAtRowHandle(t.block,t.index):r.getCellsAtColumnHandle(t.block,t.index),[t.block,t.index,t.orientation,r]),s=(a,c)=>{const u=t.block.content.rows.map(d=>({...d,cells:d.cells.map(f=>cl(f))}));i.forEach(({row:d,col:f})=>{c==="text"?u[d].cells[f].props.textColor=a:u[d].cells[f].props.backgroundColor=a}),o.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:u}}),o.setTextCursorPosition(t.block)};if(!i||!i[0]||!r||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1)return null;const l=cl(i[0].cell);return g.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(e.Generic.Menu.Trigger,{sub:!0,children:g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||n.drag_handle.colors_menuitem})}),g.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(H0,{iconSize:18,text:o.settings.tables.cellTextColor?{color:i.every(({cell:a})=>ul(a)&&a.props.textColor===l.props.textColor)?l.props.textColor:"default",setColor:a=>{s(a,"text")}}:void 0,background:o.settings.tables.cellBackgroundColor?{color:i.every(({cell:a})=>ul(a)&&a.props.backgroundColor===l.props.backgroundColor)?l.props.backgroundColor:"default",setColor:a=>s(a,"background")}:void 0})})]})},Hue=t=>{const e=te(),n=ue(),o=oe();if(!o.tableHandles||t.index!==0||t.orientation!=="row"||!o.settings.tables.headers)return null;const r=!!t.block.content.headerRows;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=o.getBlock(t.block.id);i&&o.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:n.drag_handle.header_row_menuitem})},Vue=t=>{const e=te(),n=ue(),o=oe();if(!o.tableHandles||t.index!==0||t.orientation!=="column"||!o.settings.tables.headers)return null;const r=!!t.block.content.headerCols;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=o.getBlock(t.block.id);i&&o.updateBlock(i,{...i,content:{...i.content,headerCols:r?void 0:1}})},children:n.drag_handle.header_column_menuitem})},Uue=t=>{const e=te();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(Bue,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(i4,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"above":"left"}),g.jsx(i4,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"below":"right"}),g.jsx(Hue,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(Vue,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(zue,{orientation:t.orientation,block:t.block,index:t.index})]})})},Fue=t=>{const e=te(),[n,o]=v.useState(!1),r=t.tableHandleMenu||Uue,i=v.useMemo(()=>{const s=t.editor.tableHandles;return!s||!t.block||t.block.type!=="table"?!1:t.orientation==="column"?s.getCellsAtColumnHandle(t.block,t.index).every(({cell:l})=>Ra(l)===1):s.getCellsAtRowHandle(t.block,t.index).every(({cell:l})=>uh(l)===1)},[t.block,t.editor.tableHandles,t.index,t.orientation]);return g.jsxs(e.Generic.Menu.Root,{onOpenChange:s=>{s?(t.freezeHandles(),t.hideOtherSide()):(t.unfreezeHandles(),t.showOtherSide(),t.editor.focus())},position:"right",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.TableHandle.Root,{className:Xe("bn-table-handle",n?"bn-table-handle-dragging":"",i?"":"bn-table-handle-not-draggable"),draggable:i,onDragStart:s=>{o(!0),t.dragStart(s)},onDragEnd:()=>{t.dragEnd(),o(!1)},style:t.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:t.children||g.jsx(k6,{size:24,"data-test":"tableHandle"})})}),po.createPortal(g.jsx(r,{orientation:t.orientation,block:t.block,index:t.index}),t.menuContainer)]})};function s4(t,e,n){const{refs:o,update:r,context:i,floatingStyles:s}=Ha({open:e,placement:t==="addOrRemoveColumns"?"right":"bottom",middleware:[Vh({apply({rects:c,elements:u}){Object.assign(u.floating.style,t==="addOrRemoveColumns"?{height:`${c.reference.height}px`}:{width:`${c.reference.width}px`})}})]}),{isMounted:l,styles:a}=Y_(i);return v.useEffect(()=>{r()},[n,r]),v.useEffect(()=>{n!==null&&o.setReference({getBoundingClientRect:()=>n})},[t,n,o]),v.useMemo(()=>({isMounted:l,ref:o.setFloating,style:{display:"flex",...a,...s}}),[s,l,o.setFloating,a])}function Gue(t,e,n){const o=s4("addOrRemoveRows",e,n),r=s4("addOrRemoveColumns",t,n);return v.useMemo(()=>({addOrRemoveRowsButton:o,addOrRemoveColumnsButton:r}),[r,o])}function que(t,e,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(e.x,n.mousePos,e.width,0):new DOMRect(e.x,t.y,e.width,t.height)}function Wue(t,e,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,e.y,0,e.height):new DOMRect(t.x,e.y,t.width,e.height)}function Kue(t){return new DOMRect(t.x,t.y,t.width,0)}function cw(t,e,n,o,r){const{refs:i,update:s,context:l,floatingStyles:a}=Ha({open:e,placement:t==="row"?"left":t==="col"?"top":"bottom-end",middleware:[vr(t==="row"?-10:t==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:c,styles:u}=Y_(l);return v.useEffect(()=>{s()},[n,o,s]),v.useEffect(()=>{n===null||o===null||r&&t==="cell"||i.setReference({getBoundingClientRect:()=>(t==="row"?que:t==="col"?Wue:Kue)(n,o,r)})},[r,t,n,o,i]),v.useMemo(()=>({isMounted:c,ref:i.setFloating,style:{display:"flex",...u,...a}}),[a,c,i.setFloating,u])}function Zue(t,e,n,o){const r=cw("row",t,e,n,o),i=cw("col",t,e,n,o),s=cw("cell",t,e,n,o);return v.useMemo(()=>({rowHandle:r,colHandle:i,cellHandle:s}),[i,r,s])}const Yue=t=>{var e,n;const o=te(),r=ue(),i=oe(),s=(a,c)=>{const u=t.block.content.rows.map(d=>({...d,cells:d.cells.map(f=>cl(f))}));c==="text"?u[t.rowIndex].cells[t.colIndex].props.textColor=a:u[t.rowIndex].cells[t.colIndex].props.backgroundColor=a,i.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:u}}),i.setTextCursorPosition(t.block)},l=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!l||i.settings.tables.cellTextColor===!1&&i.settings.tables.cellBackgroundColor===!1?null:g.jsxs(o.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(o.Generic.Menu.Trigger,{sub:!0,children:g.jsx(o.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||r.drag_handle.colors_menuitem})}),g.jsx(o.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(H0,{iconSize:18,text:i.settings.tables.cellTextColor?{color:ul(l)?l.props.textColor:"default",setColor:a=>s(a,"text")}:void 0,background:i.settings.tables.cellBackgroundColor?{color:ul(l)?l.props.backgroundColor:"default",setColor:a=>s(a,"background")}:void 0})})]})},Xue=t=>{var e,n;const o=te(),r=ue(),i=oe(),s=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!s||!ul(s)||uh(s)===1&&Ra(s)===1||!i.settings.tables.splitCells?null:g.jsx(o.Generic.Menu.Item,{onClick:()=>{var l;(l=i.tableHandles)==null||l.splitCell({row:t.rowIndex,col:t.colIndex})},children:r.table_handle.split_cell_menuitem})},Jue=t=>{const e=te();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(Xue,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),g.jsx(Yue,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex})]})})},Que=t=>{const e=te(),n=t.tableCellMenu||Jue;return!t.editor.settings.tables.splitCells&&!t.editor.settings.tables.cellBackgroundColor&&!t.editor.settings.tables.cellTextColor?null:g.jsxs(e.Generic.Menu.Root,{onOpenChange:o=>{o?t.freezeHandles():(t.unfreezeHandles(),t.editor.focus())},position:"right",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.Generic.Menu.Button,{className:"bn-table-cell-handle",children:t.children||g.jsx(wue,{size:12,"data-test":"tableCellHandle"})})}),po.createPortal(g.jsx(n,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),t.menuContainer)]})},ede=t=>{var e,n;const o=oe(),[r,i]=v.useState(null);if(!o.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const s={rowDragStart:o.tableHandles.rowDragStart,colDragStart:o.tableHandles.colDragStart,dragEnd:o.tableHandles.dragEnd,freezeHandles:o.tableHandles.freezeHandles,unfreezeHandles:o.tableHandles.unfreezeHandles},{freezeHandles:l,unfreezeHandles:a}=s,c=v.useCallback(()=>{l(),C(!0),k(!0)},[l]),u=v.useCallback(()=>{a(),C(!1),k(!1)},[a]),d=ts(o.tableHandles.onUpdate.bind(o.tableHandles)),f=v.useMemo(()=>{var T,M;return d!=null&&d.draggingState?{draggedCellOrientation:(T=d==null?void 0:d.draggingState)==null?void 0:T.draggedCellOrientation,mousePos:(M=d==null?void 0:d.draggingState)==null?void 0:M.mousePos}:void 0},[d==null?void 0:d.draggingState,(e=d==null?void 0:d.draggingState)==null?void 0:e.draggedCellOrientation,(n=d==null?void 0:d.draggingState)==null?void 0:n.mousePos]),{rowHandle:h,colHandle:p,cellHandle:m}=Zue((d==null?void 0:d.show)||!1,(d==null?void 0:d.referencePosCell)||null,(d==null?void 0:d.referencePosTable)||null,f),{addOrRemoveColumnsButton:b,addOrRemoveRowsButton:y}=Gue((d==null?void 0:d.showAddOrRemoveColumnsButton)||!1,(d==null?void 0:d.showAddOrRemoveRowsButton)||!1,(d==null?void 0:d.referencePosTable)||null),[w,k]=v.useState(!1),[x,C]=v.useState(!1);if(!d)return null;const E=t.tableHandle||Fue,S=t.extendButton||jue,_=t.tableCellHandle||Que;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:i}),g.jsxs(Eq,{root:d.widgetContainer,children:[!w&&r&&h.isMounted&&d.rowIndex!==void 0&&g.jsx("div",{ref:h.ref,style:h.style,children:g.jsx(E,{editor:o,orientation:"row",showOtherSide:()=>C(!1),hideOtherSide:()=>C(!0),index:d.rowIndex,block:d.block,dragStart:s.rowDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:r})}),!x&&r&&p.isMounted&&d.colIndex!==void 0&&g.jsx("div",{ref:p.ref,style:p.style,children:g.jsx(E,{editor:o,orientation:"column",showOtherSide:()=>k(!1),hideOtherSide:()=>k(!0),index:d.colIndex,block:d.block,dragStart:s.colDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:r})}),r&&m.isMounted&&d.colIndex!==void 0&&d.rowIndex!==void 0&&g.jsx("div",{ref:m.ref,style:m.style,children:g.jsx(_,{editor:o,block:d.block,rowIndex:d.rowIndex,colIndex:d.colIndex,menuContainer:r,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles})}),g.jsx("div",{ref:y.ref,style:y.style,children:g.jsx(S,{editor:o,orientation:"addOrRemoveRows",block:d.block,onMouseDown:c,onMouseUp:u})}),g.jsx("div",{ref:b.ref,style:b.style,children:g.jsx(S,{editor:o,orientation:"addOrRemoveColumns",block:d.block,onMouseDown:c,onMouseUp:u})})]})]})};function tde(t){const e=oe();if(!e)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return g.jsxs(g.Fragment,{children:[t.formattingToolbar!==!1&&g.jsx(F2,{}),t.linkToolbar!==!1&&g.jsx(yue,{}),t.slashMenu!==!1&&g.jsx(M6,{triggerCharacter:"/"}),t.emojiPicker!==!1&&g.jsx(Rue,{triggerCharacter:":",columns:10,minQueryLength:2}),t.sideMenu!==!1&&g.jsx(_6,{}),e.filePanel&&t.filePanel!==!1&&g.jsx(Kce,{}),e.tableHandles&&t.tableHandles!==!1&&g.jsx(ede,{}),e.comments&&t.comments!==!1&&g.jsxs(g.Fragment,{children:[g.jsx(ece,{}),g.jsx(Gce,{})]})]})}const A6=()=>{const t=v.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: dark)")},[]),e=v.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: light)")},[]),n=t==null?void 0:t.matches,o=e==null?void 0:e.matches,[r,i]=v.useState(n?"dark":o?"light":"no-preference");return v.useEffect(()=>{i(n?"dark":o?"light":"no-preference")},[n,o]),v.useEffect(()=>{if(typeof(t==null?void 0:t.addEventListener)=="function"){const s=({matches:a})=>a&&i("dark"),l=({matches:a})=>a&&i("light");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",l),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",l)}}else{const s=()=>i(t.matches?"dark":e.matches?"light":"no-preference");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",s),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",s)}}},[t,e]),r},R6=v.createContext(void 0);function nde(){return v.useContext(R6)}function ode(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:po.createPortal(o.reactElement,o.element,n)},t.forEach(r=>r())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(r=>r())}}}const rde=({contentComponent:t})=>{const e=v.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(e)})},ide=v.forwardRef((t,e)=>{const[n,o]=v.useState();return v.useImperativeHandle(e,()=>(r,i)=>{po.flushSync(()=>{o({node:r,container:i})}),o(void 0)},[]),g.jsx(g.Fragment,{children:n&&po.createPortal(n.node,n.container)})}),l4=()=>{};function sde(t,e){const{editor:n,className:o,theme:r,children:i,editable:s,onSelectionChange:l,onChange:a,formattingToolbar:c,linkToolbar:u,slashMenu:d,emojiPicker:f,sideMenu:h,filePanel:p,tableHandles:m,comments:b,autoFocus:y,renderEditor:w=!n.headless,...k}=t,[x,C]=v.useState(),E=ii(),S=A6(),_=(E==null?void 0:E.colorSchemePreference)||S,T=r||(_==="dark"?"dark":"light");z0(a||l4,n),$2(l||l4,n),v.useEffect(()=>{n.isEditable=s!==!1},[s,n]);const M=v.useCallback(z=>{n.elementRenderer=z},[n]),$=v.useMemo(()=>({...E,editor:n,setContentEditableProps:C}),[E,n]),D=v.useMemo(()=>({editorProps:{autoFocus:y,contentEditableProps:x},defaultUIProps:{formattingToolbar:c,linkToolbar:u,slashMenu:d,emojiPicker:f,sideMenu:h,filePanel:p,tableHandles:m,comments:b}}),[y,x,c,u,d,f,h,p,m,b]);return g.jsx(e6.Provider,{value:$,children:g.jsxs(R6.Provider,{value:D,children:[g.jsx(ide,{ref:M}),g.jsx(lde,{className:o,renderEditor:w,editorColorScheme:T,ref:e,...k,children:i})]})})}const lde=ee.forwardRef(({className:t,renderEditor:e,editorColorScheme:n,children:o,...r},i)=>g.jsx("div",{className:Xe("bn-container",n,t),"data-color-scheme":n,...r,ref:i,children:e?g.jsx(cde,{children:o}):o})),ade=ee.forwardRef(sde),cde=t=>{const e=nde(),n=oe(),o=v.useMemo(()=>ode(),[]),r=v.useCallback(i=>{n.mount(i,o)},[n,o]);return g.jsxs(g.Fragment,{children:[g.jsx(rde,{contentComponent:o}),g.jsx(ude,{...e.editorProps,...t,mount:r}),g.jsx(tde,{...e.defaultUIProps}),t.children]})},ude=t=>{const{autoFocus:e,mount:n,contentEditableProps:o}=t;return g.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":e,ref:n,...o})};function a4(t,e){let n;const o=document.createElement("div");let r;if(e!=null&&e.elementRenderer)e.elementRenderer(t(a=>n=a||void 0),o);else{if(!(e!=null&&e.headless))throw new Error("elementRenderer not available, expected headless editor");r=RL.createRoot(o),po.flushSync(()=>{r.render(t(a=>n=a||void 0))})}if(!o.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const i=o.cloneNode(!0),s=i.firstElementChild,l=i.querySelector("[data-tmp-find]");return l==null||l.removeAttribute("data-tmp-find"),r==null||r.unmount(),{dom:s,contentDOM:l||void 0}}function uw(t){var e;return g.jsx(Vae,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(t.domAttributes||{}).filter(([n])=>n!=="class")),className:Xe("bn-block-content",((e=t.domAttributes)==null?void 0:e.class)||""),"data-content-type":t.blockType,...Object.fromEntries(Object.entries(t.blockProps).filter(([n,o])=>{const r=t.propSchema[n];return!w2.includes(n)&&o!==r.default}).map(([n,o])=>[Gb(n),o])),"data-file-block":t.isFileBlock===!0||void 0,children:t.children})}function V0(t,e){const n=Ln({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return tp(t.propSchema)},parseHTML(){return YP(t,e.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Hd({dom:r,contentDOM:t.content==="inline"?r:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return o=>{const r=Kae(i=>{var s;const l=this.options.editor,a=O0(i.getPos,l,this.editor,t.type),c=((s=this.options.domAttributes)==null?void 0:s.blockContent)||{},u=Qj().nodeViewContentRef;if(!u)throw new Error("nodeViewContentRef is not set");const d=e.render;return g.jsx(uw,{blockType:a.type,blockProps:a.props,propSchema:t.propSchema,isFileBlock:t.isFileBlock,domAttributes:c,children:g.jsx(d,{block:a,editor:l,contentRef:f=>{u(f),f&&(f.className=Xe("bn-inline-content",f.className))}})})},{className:"bn-react-node-view-renderer"})(o);return t.isSelectable===!1&&ZP(r,this.editor),r}}});return k2(t,{node:n,toInternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render;return a4(a=>g.jsx(uw,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:s,children:g.jsx(l,{block:o,editor:r,contentRef:c=>{a(c),c&&(c.className=Xe("bn-inline-content",c.className))}})}),r)},toExternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.toExternalHTML||e.render;return a4(a=>g.jsx(uw,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:s,children:g.jsx(l,{block:o,editor:r,contentRef:c=>{a(c),c&&(c.className=Xe("bn-inline-content",c.className))}})}),r)}})}function G2(t){const e=oe(),[n,o]=v.useState("loading"),[r,i]=v.useState();if(v.useEffect(()=>{let s=!0;return(async()=>{let l="";o("loading");try{l=e.resolveFileUrl?await e.resolveFileUrl(t):t}catch{o("error");return}s&&(o("loaded"),i(l))})(),()=>{s=!1}},[e,t]),n!=="loaded")return{loadingState:n};if(!r)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:r}}const q2=t=>g.jsxs("figure",{children:[t.children,g.jsx("figcaption",{children:t.caption})]});function dde(t){const e=oe();v.useEffect(()=>e.onUploadEnd(t),[t,e])}function fde(t){const e=oe();v.useEffect(()=>e.onUploadStart(t),[t,e])}function N6(t){const[e,n]=v.useState(!1);return fde(o=>{o===t&&n(!0)}),dde(o=>{o===t&&n(!1)}),e}const hde=t=>{const e=ue(),n=v.useCallback(r=>{r.preventDefault()},[]),o=v.useCallback(()=>{t.editor.transact(r=>r.setMeta(t.editor.filePanel.plugins[0],{block:t.block}))},[t.block,t.editor]);return g.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:o,children:[g.jsx("div",{className:"bn-add-file-button-icon",children:t.buttonIcon||g.jsx(B2,{size:24})}),g.jsx("div",{className:"bn-add-file-button-text",children:t.buttonText||e.file_blocks.file.add_button_text})]})},pde=t=>g.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[g.jsx("div",{className:"bn-file-icon",children:g.jsx(B2,{size:24})}),g.jsx("p",{className:"bn-file-name",children:t.block.props.name})]}),W2=t=>{const e=N6(t.block.id);return g.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style,children:e?g.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):t.block.props.url===""?g.jsx(hde,{...t}):g.jsxs(g.Fragment,{children:[t.block.props.showPreview===!1||!t.children?g.jsx(pde,{...t}):t.children,t.block.props.caption&&g.jsx("p",{className:"bn-file-caption",children:t.block.props.caption})]})})},U0=t=>g.jsxs("div",{children:[t.children,g.jsx("p",{children:t.caption})]}),mde=t=>{const e=G2(t.block.props.url);return g.jsx("audio",{className:"bn-audio",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},gde=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add audio"});const e=t.block.props.showPreview?g.jsx("audio",{src:t.block.props.url}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(q2,{caption:t.block.props.caption,children:e}):g.jsx(U0,{caption:t.block.props.caption,children:e}):e},bde=t=>g.jsx(W2,{...t,buttonText:t.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:g.jsx(m6,{size:24}),children:g.jsx(mde,{...t})});V0(fj,{render:bde,parse:hj,toExternalHTML:gde});const yde=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add file"});const e=g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?g.jsx(U0,{caption:t.block.props.caption,children:e}):e},vde=t=>g.jsx(W2,{...t});V0(pj,{render:vde,parse:mj,toExternalHTML:yde});const O6=t=>{const[e,n]=v.useState(void 0),[o,r]=v.useState(t.block.props.previewWidth),[i,s]=v.useState(!1),l=v.useRef(null);v.useEffect(()=>{const h=m=>{var b,y;let w;t.block.props.textAlignment==="center"?e.handleUsed==="left"?w=e.initialWidth+(e.initialClientX-m.clientX)*2:w=e.initialWidth+(m.clientX-e.initialClientX)*2:e.handleUsed==="left"?w=e.initialWidth+e.initialClientX-m.clientX:w=e.initialWidth+m.clientX-e.initialClientX,r(Math.min(Math.max(w,64),((y=(b=t.editor.domElement)==null?void 0:b.firstElementChild)==null?void 0:y.clientWidth)||Number.MAX_VALUE))},p=()=>{n(void 0),t.editor.updateBlock(t.block,{props:{previewWidth:o}})};return e&&(window.addEventListener("mousemove",h),window.addEventListener("mouseup",p)),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p)}},[t,e,o]);const a=v.useCallback(()=>{t.editor.isEditable&&s(!0)},[t.editor.isEditable]),c=v.useCallback(()=>{s(!1)},[]),u=v.useCallback(h=>{h.preventDefault(),n({handleUsed:"left",initialWidth:l.current.clientWidth,initialClientX:h.clientX})},[]),d=v.useCallback(h=>{h.preventDefault(),n({handleUsed:"right",initialWidth:l.current.clientWidth,initialClientX:h.clientX})},[]),f=N6(t.block.id);return g.jsx(W2,{...t,onMouseEnter:a,onMouseLeave:c,style:t.block.props.url&&!f&&t.block.props.showPreview?{width:o?`${o}px`:"fit-content"}:void 0,children:g.jsxs("div",{className:"bn-visual-media-wrapper",ref:l,children:[t.children,(i||e)&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:u}),g.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:d})]})]})})},wde=t=>{const e=G2(t.block.props.url);return g.jsx("img",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,alt:t.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},kde=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add image"});const e=t.block.props.showPreview?g.jsx("img",{src:t.block.props.url,alt:t.block.props.name||t.block.props.caption||"BlockNote image",width:t.block.props.previewWidth}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(q2,{caption:t.block.props.caption,children:e}):g.jsx(U0,{caption:t.block.props.caption,children:e}):e},xde=t=>g.jsx(O6,{...t,buttonText:t.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:g.jsx(h6,{size:24}),children:g.jsx(wde,{...t})});V0(vj,{render:xde,parse:wj,toExternalHTML:kde});const Cde=t=>{const e=G2(t.block.props.url);return g.jsx("video",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},_de=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add video"});const e=t.block.props.showPreview?g.jsx("video",{src:t.block.props.url}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(q2,{caption:t.block.props.caption,children:e}):g.jsx(U0,{caption:t.block.props.caption,children:e}):e},Sde=t=>g.jsx(O6,{...t,buttonText:t.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:g.jsx(Ace,{size:24}),children:g.jsx(Cde,{...t})});V0(_j,{render:Sde,parse:Sj,toExternalHTML:_de});ee.memo(({thread:t,selectedThreadId:e,editor:n,maxCommentsBeforeCollapse:o,referenceText:r})=>{const i=v.useCallback(l=>{var a;l.target.closest(".bn-action-toolbar")||(a=n.comments)==null||a.selectThread(t.id)},[n.comments,t.id]),s=v.useCallback(l=>{var a;if(!l.relatedTarget||l.relatedTarget.closest(".bn-action-toolbar"))return;const c=l.target instanceof Node?l.target:null,u=l.relatedTarget instanceof Node?l.relatedTarget.closest(".bn-thread"):null;(!c||!u||!u.contains(c))&&((a=n.comments)==null||a.selectThread(void 0))},[n.comments]);return g.jsx(g6,{thread:t,selected:t.id===e,referenceText:r,maxCommentsBeforeCollapse:o,onFocus:i,onBlur:s,tabIndex:0})});function L6(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),r=n.top<o.top,i=n.bottom>o.bottom;return r&&i?"both":r?"top":i?"bottom":"none"}function Vr(t){return Object.keys(t)}function dw(t){return t&&typeof t=="object"&&!Array.isArray(t)}function K2(t,e){const n={...t},o=e;return dw(t)&&dw(e)&&Object.keys(e).forEach(r=>{dw(o[r])&&r in t?n[r]=K2(n[r],o[r]):n[r]=o[r]}),n}function Ede(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Tde(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function Mde(t){const e=Tde(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function fw(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function D6(t,{shouldScale:e=!1}={}){function n(o){if(o===0||o==="0")return`0${t}`;if(typeof o=="number"){const r=`${o/16}${t}`;return e?fw(r):r}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(i=>n(i)).join(",");if(o.includes(" "))return o.split(" ").map(i=>n(i)).join(" ");if(o.includes(t))return e?fw(o):o;const r=o.replace("px","");if(!Number.isNaN(Number(r))){const i=`${Number(r)/16}${t}`;return e?fw(i):i}}return o}return n}const B=D6("rem",{shouldScale:!0}),c4=D6("em");function F0(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function I6(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(o=>e.test(o))}return!1}function sp(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==v.Fragment:!1}function G0(t){const e=v.createContext(null);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>{const r=v.useContext(e);if(r===null)throw new Error(t);return r}]}function Z2(t=null){const e=v.createContext(t);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>v.useContext(e)]}function u4(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function Jb(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function Ade(t,e,n){for(let o=t-1;o>=0;o-=1)if(!e[o].disabled)return o;if(n){for(let o=e.length-1;o>-1;o-=1)if(!e[o].disabled)return o}return t}function Rde(t,e,n){for(let o=t+1;o<e.length;o+=1)if(!e[o].disabled)return o;if(n){for(let o=0;o<e.length;o+=1)if(!e[o].disabled)return o}return t}function Nde(t,e,n){return Jb(t,n)===Jb(e,n)}function $6({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:o=!0,activateOnFocus:r=!1,dir:i="rtl",orientation:s}){return l=>{var p;n==null||n(l);const a=Array.from(((p=Jb(l.currentTarget,t))==null?void 0:p.querySelectorAll(e))||[]).filter(m=>Nde(l.currentTarget,m,t)),c=a.findIndex(m=>l.currentTarget===m),u=Rde(c,a,o),d=Ade(c,a,o),f=i==="rtl"?d:u,h=i==="rtl"?u:d;switch(l.key){case"ArrowRight":{s==="horizontal"&&(l.stopPropagation(),l.preventDefault(),a[f].focus(),r&&a[f].click());break}case"ArrowLeft":{s==="horizontal"&&(l.stopPropagation(),l.preventDefault(),a[h].focus(),r&&a[h].click());break}case"ArrowUp":{s==="vertical"&&(l.stopPropagation(),l.preventDefault(),a[d].focus(),r&&a[d].click());break}case"ArrowDown":{s==="vertical"&&(l.stopPropagation(),l.preventDefault(),a[u].focus(),r&&a[u].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const m=a.length-1;!a[m].disabled&&a[m].focus();break}}}}const Ode={app:100,modal:200,popover:300,overlay:400,max:9999};function lp(t){return Ode[t]}const Lde=()=>{};function Dde(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||Lde:n=>{var o;n.key==="Escape"&&(t(n),(o=e.onTrigger)==null||o.call(e))}}function Ye(t,e="size",n=!0){if(t!==void 0)return I6(t)?n?B(t):t:`var(--${e}-${t})`}function ap(t){return Ye(t,"mantine-spacing")}function vn(t){return t===void 0?"var(--mantine-radius-default)":Ye(t,"mantine-radius")}function qn(t){return Ye(t,"mantine-font-size")}function Ide(t){return Ye(t,"mantine-line-height",!1)}function P6(t){if(t)return Ye(t,"mantine-shadow",!1)}function Dr(t,e){return n=>{t==null||t(n),e==null||e(n)}}function $de(t,e,n){var o;return n?Array.from(((o=Jb(n,e))==null?void 0:o.querySelectorAll(t))||[]).findIndex(r=>r===n):null}function Pde(){const[t,e]=v.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function jde(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}const d4=["mousedown","touchstart"];function Bde(t,e,n){const o=v.useRef(null);return v.useEffect(()=>{const r=i=>{const{target:s}=i??{};if(Array.isArray(n)){const l=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(c=>!!c&&!i.composedPath().includes(c))&&!l&&t()}else o.current&&!o.current.contains(s)&&t()};return(e||d4).forEach(i=>document.addEventListener(i,r)),()=>{(e||d4).forEach(i=>document.removeEventListener(i,r))}},[o,t,n]),o}function zde(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function Hde(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function Vde(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,r]=v.useState(n?e:Hde(t)),i=v.useRef(null);return v.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(t),r(i.current.matches),zde(i.current,s=>r(s.matches))},[t]),o}const q0=typeof document<"u"?v.useLayoutEffect:v.useEffect;function dl(t,e){const n=v.useRef(!1);v.useEffect(()=>()=>{n.current=!1},[]),v.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function Ude({opened:t,shouldReturnFocus:e=!0}){const n=v.useRef(null),o=()=>{var r;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((r=n.current)==null||r.focus({preventScroll:!0}))};return dl(()=>{let r=-1;const i=s=>{s.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",i),t?n.current=document.activeElement:e&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",i)}},[t,e]),o}const Fde=/input|select|textarea|button|object/,j6="a, input, select, textarea, button, object, [tabindex]";function Gde(t){return t.style.display==="none"}function qde(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(Gde(n))return!1;n=n.parentNode}return!0}function B6(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function iC(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(B6(t));return(Fde.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&qde(t)}function z6(t){const e=B6(t);return(Number.isNaN(e)||e>=0)&&iC(t)}function Wde(t){return Array.from(t.querySelectorAll(j6)).filter(z6)}function Kde(t,e){const n=Wde(t);if(!n.length){e.preventDefault();return}const o=n[e.shiftKey?0:n.length-1],r=t.getRootNode();let i=o===r.activeElement||t===r.activeElement;const s=r.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(i=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===s.getAttribute("name")).includes(o)),!i)return;e.preventDefault();const a=n[e.shiftKey?n.length-1:0];a&&a.focus()}function H6(t=!0){const e=v.useRef(null),n=r=>{let i=r.querySelector("[data-autofocus]");if(!i){const s=Array.from(r.querySelectorAll(j6));i=s.find(z6)||s.find(iC)||null,!i&&iC(r)&&(i=r)}i&&i.focus({preventScroll:!0})},o=v.useCallback(r=>{t&&r!==null&&e.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&n(r)}),e.current=r):e.current=null)},[t]);return v.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const r=i=>{i.key==="Tab"&&e.current&&Kde(e.current,i)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),o}const Zde=ee.useId||(()=>{});function Yde(){const t=Zde();return t?`mantine-${t.replace(/:/g,"")}`:""}function cp(t){const e=Yde(),[n,o]=v.useState(e);return q0(()=>{o(jde())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function Qb(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function up(...t){const e=new Map;return n=>{if(t.forEach(o=>{const r=Qb(o,n);r&&e.set(o,r)}),e.size>0)return()=>{t.forEach(o=>{const r=e.get(o);r?r():Qb(o,null)}),e.clear()}}}function ns(...t){return v.useCallback(up(...t),t)}function nd({value:t,defaultValue:e,finalValue:n,onChange:o=()=>{}}){const[r,i]=v.useState(e!==void 0?e:n),s=(l,...a)=>{i(l),o==null||o(l,...a)};return t!==void 0?[t,o,!0]:[r,s,!1]}function Xde(t,e){return Vde("(prefers-reduced-motion: reduce)",t,e)}function Jde(){const[t,e]=v.useState(!1),n=v.useRef(null),o=v.useCallback(()=>e(!0),[]),r=v.useCallback(()=>e(!1),[]);return v.useEffect(()=>{const i=n.current;if(i)return i.addEventListener("mouseenter",o),i.addEventListener("mouseleave",r),()=>{i==null||i.removeEventListener("mouseenter",o),i==null||i.removeEventListener("mouseleave",r)}},[n.current]),{ref:n,hovered:t}}function Qde(t){return t.currentTarget instanceof HTMLElement&&t.relatedTarget instanceof HTMLElement?t.currentTarget.contains(t.relatedTarget):!1}function V6({onBlur:t,onFocus:e}={}){const n=v.useRef(null),[o,r]=v.useState(!1),i=v.useRef(!1),s=c=>{r(c),i.current=c},l=c=>{i.current||(s(!0),e==null||e(c))},a=c=>{i.current&&!Qde(c)&&(s(!1),t==null||t(c))};return v.useEffect(()=>{const c=n.current;if(c)return c.addEventListener("focusin",l),c.addEventListener("focusout",a),()=>{c==null||c.removeEventListener("focusin",l),c==null||c.removeEventListener("focusout",a)}},[l,a]),{ref:n,focused:o}}function Y2(t){var n;const e=ee.version;return typeof ee.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const efe={};function tfe(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([o,r])=>{e[o]?e[o]=dt(e[o],r):e[o]=r})}),e}function W0({theme:t,classNames:e,props:n,stylesCtx:o}){const i=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,o):s||efe);return tfe(i)}function ey({theme:t,styles:e,props:n,stylesCtx:o}){return(Array.isArray(e)?e:[e]).reduce((i,s)=>typeof s=="function"?{...i,...s(t,n,o)}:{...i,...s},{})}const U6=v.createContext(null);function _l(){const t=v.useContext(U6);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function nfe(){return _l().cssVariablesResolver}function ofe(){return _l().classNamesPrefix}function X2(){return _l().getStyleNonce}function rfe(){return _l().withStaticClasses}function ife(){return _l().headless}function sfe(){var t;return(t=_l().stylesTransform)==null?void 0:t.sx}function lfe(){var t;return(t=_l().stylesTransform)==null?void 0:t.styles}function F6(){return _l().env||"default"}function afe(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function cfe(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),o=n>>16&255,r=n>>8&255,i=n&255;return{r:o,g:r,b:i,a:1}}function ufe(t){const[e,n,o,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:o,a:r===void 0?1:r}}function dfe(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),r=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*i-1))*r,a=o/60,c=l*(1-Math.abs(a%2-1)),u=i-l/2;let d,f,h;return a>=0&&a<1?(d=l,f=c,h=0):a>=1&&a<2?(d=c,f=l,h=0):a>=2&&a<3?(d=0,f=l,h=c):a>=3&&a<4?(d=0,f=c,h=l):a>=4&&a<5?(d=c,f=0,h=l):(d=l,f=0,h=c),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((h+u)*255),a:s||1}}function J2(t){return afe(t)?cfe(t):t.startsWith("rgb")?ufe(t):t.startsWith("hsl")?dfe(t):{r:0,g:0,b:0,a:1}}function pm(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:o,b:r,a:i}=J2(t),s=1-e,l=a=>Math.round(a*s);return`rgba(${l(n)}, ${l(o)}, ${l(r)}, ${i})`}function mh(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function hw(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function ffe(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function hfe(t){if(t.startsWith("oklch("))return(ffe(t)||0)/100;const{r:e,g:n,b:o}=J2(t),r=e/255,i=n/255,s=o/255,l=hw(r),a=hw(i),c=hw(s);return .2126*l+.7152*a+.0722*c}function Md(t,e=.179){return t.startsWith("var(")?!1:hfe(t)>e}function od({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Md(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Md(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Md(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[o,r]=t.split("."),i=r?Number(r):void 0,s=o in e.colors;if(s){const l=i!==void 0?e.colors[o][i]:e.colors[o][mh(e,n||"light")];return{color:o,value:l,shade:i,isThemeColor:s,isLight:Md(l,e.luminanceThreshold),variable:r?`--mantine-color-${o}-${i}`:`--mantine-color-${o}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Md(t,e.luminanceThreshold),shade:i,variable:void 0}}function Kr(t,e){const n=od({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function sC(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},o=Kr(n.from,e),r=Kr(n.to,e);return`linear-gradient(${n.deg}deg, ${o} 0%, ${r} 100%)`}function Ar(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const i=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${i}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:o,b:r}=J2(t);return`rgba(${n}, ${o}, ${r}, ${e})`}const ic=Ar,pfe=({color:t,theme:e,variant:n,gradient:o,autoContrast:r})=>{const i=od({color:t,theme:e}),s=typeof r=="boolean"?r:e.autoContrast;if(n==="filled"){const l=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:l,border:`${B(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${B(1)} solid transparent`}:{background:t,hover:pm(t,.1),color:l,border:`${B(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${B(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:Ar(l,.1),hover:Ar(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${B(1)} solid transparent`}}return{background:Ar(t,.1),hover:Ar(t,.12),color:t,border:`${B(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${B(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Ar(e.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${B(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:Ar(t,.05),color:t,border:`${B(1)} solid ${t}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${B(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:"transparent",hover:Ar(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${B(1)} solid transparent`}}return{background:"transparent",hover:Ar(t,.12),color:t,border:`${B(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${B(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${B(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${B(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:pm(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${B(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:pm(e.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${B(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:pm(e.white,.01),color:t,border:`${B(1)} solid transparent`}:n==="gradient"?{background:sC(o,e),hover:sC(o,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${B(1)} solid var(--mantine-color-default-border)`}:{}},mfe={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},f4="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Q2={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:mfe,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:pfe,autoContrast:!1,luminanceThreshold:.3,fontFamily:f4,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:f4,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:B(34),lineHeight:"1.3"},h2:{fontSize:B(26),lineHeight:"1.35"},h3:{fontSize:B(22),lineHeight:"1.4"},h4:{fontSize:B(18),lineHeight:"1.45"},h5:{fontSize:B(16),lineHeight:"1.5"},h6:{fontSize:B(14),lineHeight:"1.5"}}},fontSizes:{xs:B(12),sm:B(14),md:B(16),lg:B(18),xl:B(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:B(2),sm:B(4),md:B(8),lg:B(16),xl:B(32)},spacing:{xs:B(10),sm:B(12),md:B(16),lg:B(20),xl:B(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${B(1)} ${B(3)} rgba(0, 0, 0, 0.05), 0 ${B(1)} ${B(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${B(1)} ${B(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${B(10)} ${B(15)} ${B(-5)}, rgba(0, 0, 0, 0.04) 0 ${B(7)} ${B(7)} ${B(-5)}`,md:`0 ${B(1)} ${B(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${B(20)} ${B(25)} ${B(-5)}, rgba(0, 0, 0, 0.04) 0 ${B(10)} ${B(10)} ${B(-5)}`,lg:`0 ${B(1)} ${B(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${B(28)} ${B(23)} ${B(-7)}, rgba(0, 0, 0, 0.04) 0 ${B(12)} ${B(12)} ${B(-7)}`,xl:`0 ${B(1)} ${B(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${B(36)} ${B(28)} ${B(-7)}, rgba(0, 0, 0, 0.04) 0 ${B(17)} ${B(17)} ${B(-7)}`},other:{},components:{}};function h4(t){return t==="auto"||t==="dark"||t==="light"}function gfe({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(t);return h4(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{e=o=>{o.storageArea===window.localStorage&&o.key===t&&h4(o.newValue)&&n(o.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const bfe="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",p4="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function pw(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function m4(t){if(!(t.primaryColor in t.colors))throw new Error(bfe);if(typeof t.primaryShade=="object"&&(!pw(t.primaryShade.dark)||!pw(t.primaryShade.light)))throw new Error(p4);if(typeof t.primaryShade=="number"&&!pw(t.primaryShade))throw new Error(p4)}function yfe(t,e){var o;if(!e)return m4(t),t;const n=K2(t,e);return e.fontFamily&&!((o=e.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=e.fontFamily),m4(n),n}const eE=v.createContext(null),vfe=()=>v.useContext(eE)||Q2;function Co(){const t=v.useContext(eE);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function G6({theme:t,children:e,inherit:n=!0}){const o=vfe(),r=v.useMemo(()=>yfe(n?o:Q2,t),[t,o,n]);return g.jsx(eE.Provider,{value:r,children:e})}G6.displayName="@mantine/core/MantineThemeProvider";function wfe(){const t=Co(),e=X2(),n=Vr(t.breakpoints).reduce((o,r)=>{const i=t.breakpoints[r].includes("px"),s=Mde(t.breakpoints[r]),l=i?`${s-.1}px`:c4(s-.1),a=i?`${s}px`:c4(s);return`${o}@media (max-width: ${l}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${a}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function mw(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Ad(t,e){return(Array.isArray(t)?t:[t]).reduce((o,r)=>`${r}{${o}}`,e)}function kfe(t,e){const n=mw(t.variables),o=n?Ad(e,n):"",r=mw(t.dark),i=mw(t.light),s=r?Ad(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",l=i?Ad(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,i):"";return`${o}${s}${l}`}function q6({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&od({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function g4(t,e){return q6({color:t.colors[t.primaryColor][mh(t,e)],theme:t,autoContrast:null})}function mm({theme:t,color:e,colorScheme:n,name:o=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const l=mh(t,"light"),a={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${l===9?8:l+1})`,[`--mantine-color-${o}-light`]:ic(t.colors[e][l],.1),[`--mantine-color-${o}-light-hover`]:ic(t.colors[e][l],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline-hover`]:ic(t.colors[e][l],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...a}:a}const i=mh(t,"dark"),s={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${i===9?8:i+1})`,[`--mantine-color-${o}-light`]:ic(t.colors[e][Math.max(0,i-2)],.15),[`--mantine-color-${o}-light-hover`]:ic(t.colors[e][Math.max(0,i-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(i-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(i-4,0)})`,[`--mantine-color-${o}-outline-hover`]:ic(t.colors[e][Math.max(i-4,0)],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...s}:s}function xfe(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function sc(t,e,n){Vr(e).forEach(o=>Object.assign(t,{[`--mantine-${n}-${o}`]:e[o]}))}const W6=t=>{const e=mh(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:B(t.defaultRadius),o={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":g4(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":g4(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};sc(o.variables,t.breakpoints,"breakpoint"),sc(o.variables,t.spacing,"spacing"),sc(o.variables,t.fontSizes,"font-size"),sc(o.variables,t.lineHeights,"line-height"),sc(o.variables,t.shadows,"shadow"),sc(o.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((i,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),Vr(t.colors).forEach(i=>{const s=t.colors[i];if(xfe(s)){Object.assign(o.light,mm({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,mm({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((l,a)=>{o.variables[`--mantine-color-${i}-${a}`]=l}),Object.assign(o.light,mm({theme:t,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,mm({theme:t,color:i,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return Vr(r).forEach(i=>{o.variables[`--mantine-${i}-font-size`]=r[i].fontSize,o.variables[`--mantine-${i}-line-height`]=r[i].lineHeight,o.variables[`--mantine-${i}-font-weight`]=r[i].fontWeight||t.headings.fontWeight}),o};function Cfe({theme:t,generator:e}){const n=W6(t),o=e==null?void 0:e(t);return o?K2(n,o):n}const gw=W6(Q2);function _fe(t){const e={variables:{},light:{},dark:{}};return Vr(t.variables).forEach(n=>{gw.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Vr(t.light).forEach(n=>{gw.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Vr(t.dark).forEach(n=>{gw.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function Sfe(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function K6({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Co(),o=X2(),r=nfe(),i=Cfe({theme:n,generator:r}),s=t===":root"&&e,l=s?_fe(i):i,a=kfe(l,t);return a?g.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${a}${s?"":Sfe(t)}`}}):null}K6.displayName="@mantine/CssVariables";function Efe(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function lc(t,e){var r,i;const n=typeof window<"u"&&"matchMedia"in window&&((r=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:r.matches),o=t!=="auto"?t:n?"dark":"light";(i=e())==null||i.setAttribute("data-mantine-color-scheme",o)}function Tfe({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:o}){const r=v.useRef(null),[i,s]=v.useState(()=>t.get(e)),l=o||i,a=v.useCallback(u=>{o||(lc(u,n),s(u),t.set(u))},[t.set,l,o]),c=v.useCallback(()=>{s(e),lc(e,n),t.clear()},[t.clear,e]);return v.useEffect(()=>(t.subscribe(a),t.unsubscribe),[t.subscribe,t.unsubscribe]),q0(()=>{lc(t.get(e),n)},[]),v.useEffect(()=>{var d;if(o)return lc(o,n),()=>{};o===void 0&&lc(i,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{i==="auto"&&lc(f.matches?"dark":"light",n)};return(d=r.current)==null||d.addEventListener("change",u),()=>{var f;return(f=r.current)==null?void 0:f.removeEventListener("change",u)}},[i,o]),{colorScheme:l,setColorScheme:a,clearColorScheme:c}}function Mfe({respectReducedMotion:t,getRootElement:e}){q0(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}Efe();function Z6({theme:t,children:e,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:r=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:l=":root",classNamesPrefix:a="mantine",colorSchemeManager:c=gfe(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:b,setColorScheme:y,clearColorScheme:w}=Tfe({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return Mfe({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),g.jsx(U6.Provider,{value:{colorScheme:b,setColorScheme:y,clearColorScheme:w,getRootElement:d,classNamesPrefix:a,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:l,withStaticClasses:o,stylesTransform:p,env:m},children:g.jsxs(G6,{theme:t,children:[s&&g.jsx(K6,{cssVariablesSelector:l,deduplicateCssVariables:i}),r&&g.jsx(wfe,{}),e]})})}Z6.displayName="@mantine/core/MantineProvider";function K0({classNames:t,styles:e,props:n,stylesCtx:o}){const r=Co();return{resolvedClassNames:W0({theme:r,classNames:t,props:n,stylesCtx:o||void 0}),resolvedStyles:ey({theme:r,styles:e,props:n,stylesCtx:o||void 0})}}const Afe={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Rfe({theme:t,options:e,unstyled:n}){return dt((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||Afe[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function Nfe({selector:t,stylesCtx:e,options:n,props:o,theme:r}){return W0({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:e})[t]}function b4({selector:t,stylesCtx:e,theme:n,classNames:o,props:r}){return W0({theme:n,classNames:o,props:r,stylesCtx:e})[t]}function Ofe({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function Lfe({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Dfe({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:o}){return o===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function Ife({themeName:t,theme:e,selector:n,props:o,stylesCtx:r}){return t.map(i=>{var s,l;return(l=W0({theme:e,classNames:(s=e.components[i])==null?void 0:s.classNames,props:o,stylesCtx:r}))==null?void 0:l[n]})}function $fe({options:t,classes:e,selector:n,unstyled:o}){return t!=null&&t.variant&&!o?e[`${n}--${t.variant}`]:void 0}function Pfe({theme:t,options:e,themeName:n,selector:o,classNamesPrefix:r,classNames:i,classes:s,unstyled:l,className:a,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return dt(Rfe({theme:t,options:e,unstyled:l||h}),Ife({theme:t,themeName:n,selector:o,props:u,stylesCtx:d}),$fe({options:e,classes:s,selector:o,unstyled:l}),b4({selector:o,stylesCtx:d,theme:t,classNames:i,props:u}),b4({selector:o,stylesCtx:d,theme:t,classNames:p,props:u}),Nfe({selector:o,stylesCtx:d,options:e,props:u,theme:t}),Ofe({rootSelector:c,selector:o,className:a}),Lfe({selector:o,classes:s,unstyled:l||h}),f&&!h&&Dfe({themeName:n,classNamesPrefix:r,selector:o,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function jfe({theme:t,themeName:e,props:n,stylesCtx:o,selector:r}){return e.map(i=>{var s;return ey({theme:t,styles:(s=t.components[i])==null?void 0:s.styles,props:n,stylesCtx:o})[r]}).reduce((i,s)=>({...i,...s}),{})}function lC({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...lC({style:o,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function Bfe(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(o=>{e[o]={...e[o],...F0(n[o])}}),e),{})}function zfe({vars:t,varsResolver:e,theme:n,props:o,stylesCtx:r,selector:i,themeName:s,headless:l}){var a;return(a=Bfe([l?{}:e==null?void 0:e(n,o,r),...s.map(c=>{var u,d,f;return(f=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:f.call(d,n,o,r)}),t==null?void 0:t(n,o,r)]))==null?void 0:a[i]}function Hfe({theme:t,themeName:e,selector:n,options:o,props:r,stylesCtx:i,rootSelector:s,styles:l,style:a,vars:c,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&jfe({theme:t,themeName:e,props:r,stylesCtx:i,selector:n}),...!f&&ey({theme:t,styles:l,props:r,stylesCtx:i})[n],...!f&&ey({theme:t,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||r,stylesCtx:i})[n],...zfe({theme:t,props:r,stylesCtx:i,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...s===n?lC({style:a,theme:t}):null,...lC({style:o==null?void 0:o.style,theme:t})}}function Vfe({props:t,stylesCtx:e,themeName:n}){var s;const o=Co(),r=(s=lfe())==null?void 0:s();return{getTransformedStyles:l=>r?[...l.map(c=>r(c,{props:t,theme:o,ctx:e})),...n.map(c=>{var u;return r((u=o.components[c])==null?void 0:u.styles,{props:t,theme:o,ctx:e})})].filter(Boolean):[],withStylesTransform:!!r}}function Se({name:t,classes:e,props:n,stylesCtx:o,className:r,style:i,rootSelector:s="root",unstyled:l,classNames:a,styles:c,vars:u,varsResolver:d}){const f=Co(),h=ofe(),p=rfe(),m=ife(),b=(Array.isArray(t)?t:[t]).filter(k=>k),{withStylesTransform:y,getTransformedStyles:w}=Vfe({props:n,stylesCtx:o,themeName:b});return(k,x)=>({className:Pfe({theme:f,options:x,themeName:b,selector:k,classNamesPrefix:h,classNames:a,classes:e,unstyled:l,className:r,rootSelector:s,props:n,stylesCtx:o,withStaticClasses:p,headless:m,transformedStyles:w([x==null?void 0:x.styles,c])}),style:Hfe({theme:f,themeName:b,selector:k,options:x,props:n,stylesCtx:o,rootSelector:s,styles:c,style:i,vars:u,varsResolver:d,headless:m,withStylesTransform:y})})}function Ufe(t,e){return typeof t=="boolean"?t:e.autoContrast}function Q(t,e,n){var s;const o=Co(),r=(s=o.components[t])==null?void 0:s.defaultProps,i=typeof r=="function"?r(o):r;return{...e,...i,...F0(n)}}function bw(t){return Vr(t).reduce((e,n)=>t[n]!==void 0?`${e}${Ede(n)}:${t[n]};`:e,"").trim()}function Ffe({selector:t,styles:e,media:n,container:o}){const r=e?bw(e):"",i=Array.isArray(n)?n.map(l=>`@media${l.query}{${t}{${bw(l.styles)}}}`):[],s=Array.isArray(o)?o.map(l=>`@container ${l.query}{${t}{${bw(l.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}${s.join("")}`.trim()}function Y6(t){const e=X2();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:Ffe(t)}})}function Z0(t){const{m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bg:x,c:C,opacity:E,ff:S,fz:_,fw:T,lts:M,ta:$,lh:D,fs:z,tt:H,td:U,w:R,miw:O,maw:N,h:P,mih:K,mah:Z,bgsz:ie,bgp:ve,bgr:Pe,bga:Ge,pos:qe,top:We,left:Zt,bottom:et,right:Nt,inset:_o,display:si,flex:Jo,hiddenFrom:Qo,visibleFrom:li,lightHidden:Ml,darkHidden:rs,sx:is,...ai}=t;return{styleProps:F0({m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bg:x,c:C,opacity:E,ff:S,fz:_,fw:T,lts:M,ta:$,lh:D,fs:z,tt:H,td:U,w:R,miw:O,maw:N,h:P,mih:K,mah:Z,bgsz:ie,bgp:ve,bgr:Pe,bga:Ge,pos:qe,top:We,left:Zt,bottom:et,right:Nt,inset:_o,display:si,flex:Jo,hiddenFrom:Qo,visibleFrom:li,lightHidden:Ml,darkHidden:rs,sx:is}),rest:ai}}const Gfe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function tE(t,e){const n=od({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function qfe(t,e){const n=od({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:tE(t,e)}function Wfe(t,e){if(typeof t=="number")return B(t);if(typeof t=="string"){const[n,o,...r]=t.split(" ").filter(s=>s.trim()!=="");let i=`${B(n)}`;return o&&(i+=` ${o}`),r.length>0&&(i+=` ${tE(r.join(" "),e)}`),i.trim()}return t}const y4={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Kfe(t){return typeof t=="string"&&t in y4?y4[t]:t}const Zfe=["h1","h2","h3","h4","h5","h6"];function Yfe(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&Zfe.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?B(t):t}function Xfe(t){return t}const Jfe=["h1","h2","h3","h4","h5","h6"];function Qfe(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Jfe.includes(t)?`var(--mantine-${t}-line-height)`:t}function ehe(t){return typeof t=="number"?B(t):t}function the(t,e){if(typeof t=="number")return B(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return B(t);const o=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return t}const yw={color:tE,textColor:qfe,fontSize:Yfe,spacing:the,identity:Xfe,size:ehe,lineHeight:Qfe,fontFamily:Kfe,border:Wfe};function v4(t){return t.replace("(min-width: ","").replace("em)","")}function nhe({media:t,...e}){const o=Object.keys(t).sort((r,i)=>Number(v4(r))-Number(v4(i))).map(r=>({query:r,styles:t[r]}));return{...e,media:o}}function ohe(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function rhe(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function ihe(t){return typeof t=="object"&&t!==null?Vr(t).filter(e=>e!=="base"):[]}function she(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function X6({styleProps:t,data:e,theme:n}){return nhe(Vr(t).reduce((o,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return o;const i=e[r],s=Array.isArray(i.property)?i.property:[i.property],l=rhe(t[r]);if(!ohe(t[r]))return s.forEach(c=>{o.inlineStyles[c]=yw[i.type](l,n)}),o;o.hasResponsiveStyles=!0;const a=ihe(t[r]);return s.forEach(c=>{l&&(o.styles[c]=yw[i.type](l,n)),a.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;o.media[d]={...o.media[d],[c]:yw[i.type](she(t[r],u),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function J6(){return`__m__-${v.useId().replace(/:/g,"")}`}function Q6(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...Q6(o,e)}),{}):typeof t=="function"?t(e):t??{}}function eB(t){return t.startsWith("data-")?t:`data-${t}`}function lhe(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return o===void 0||o===""||o===!1||o===null||(e[eB(n)]=t[n]),e},{})}function tB(t){return t?typeof t=="string"?{[eB(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...tB(n)}),{}):lhe(t):null}function aC(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...aC(o,e)}),{}):typeof t=="function"?t(e):t??{}}function ahe({theme:t,style:e,vars:n,styleProps:o}){const r=aC(e,t),i=aC(n,t);return{...r,...i,...o}}const nB=v.forwardRef(({component:t,style:e,__vars:n,className:o,variant:r,mod:i,size:s,hiddenFrom:l,visibleFrom:a,lightHidden:c,darkHidden:u,renderRoot:d,__size:f,...h},p)=>{var _;const m=Co(),b=t||"div",{styleProps:y,rest:w}=Z0(h),k=sfe(),x=(_=k==null?void 0:k())==null?void 0:_(y.sx),C=J6(),E=X6({styleProps:y,theme:m,data:Gfe}),S={ref:p,style:ahe({theme:m,style:e,vars:n,styleProps:E.inlineStyles}),className:dt(o,x,{[C]:E.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${a}`]:a}),"data-variant":r,"data-size":I6(s)?void 0:s||void 0,size:f,...tB(i),...w};return g.jsxs(g.Fragment,{children:[E.hasResponsiveStyles&&g.jsx(Y6,{selector:`.${C}`,styles:E.styles,media:E.media}),typeof d=="function"?d(S):g.jsx(b,{...S})]})});nB.displayName="@mantine/core/Box";const le=nB;function oB(t){return t}function che(t){const e=t;return n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o}}function Me(t){const e=v.forwardRef(t);return e.extend=oB,e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e}function Dn(t){const e=v.forwardRef(t);return e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e.extend=oB,e}const uhe=v.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function dp(){return v.useContext(uhe)}var rB={root:"m_87cf2631"};const dhe={__staticSelector:"UnstyledButton"},Ga=Dn((t,e)=>{const n=Q("UnstyledButton",dhe,t),{className:o,component:r="button",__staticSelector:i,unstyled:s,classNames:l,styles:a,style:c,...u}=n,d=Se({name:i,props:n,classes:rB,className:o,style:c,classNames:l,styles:a,unstyled:s});return g.jsx(le,{...d("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...u})});Ga.classes=rB;Ga.displayName="@mantine/core/UnstyledButton";var iB={root:"m_515a97f8"};const fhe={},nE=Me((t,e)=>{const n=Q("VisuallyHidden",fhe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,...c}=n,u=Se({name:"VisuallyHidden",classes:iB,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l});return g.jsx(le,{component:"span",ref:e,...u("root"),...c})});nE.classes=iB;nE.displayName="@mantine/core/VisuallyHidden";var sB={root:"m_1b7284a3"};const hhe={},phe=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:vn(e),"--paper-shadow":P6(n)}}),oE=Dn((t,e)=>{const n=Q("Paper",hhe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,withBorder:a,vars:c,radius:u,shadow:d,variant:f,mod:h,...p}=n,m=Se({name:"Paper",props:n,classes:sB,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:phe});return g.jsx(le,{ref:e,mod:[{"data-with-border":a},h],...m("root"),variant:f,...p})});oE.classes=sB;oE.displayName="@mantine/core/Paper";function lB(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,o]=e.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return e}function w4(t,e,n,o){return t==="center"||o==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function k4(t,e,n,o,r){return t==="center"||o==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const mhe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function ghe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:i,arrowY:s,dir:l}){const[a,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[mhe[a]]:o},d=-e/2;return a==="left"?{...u,...w4(c,s,n,r),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:a==="right"?{...u,...w4(c,s,n,r),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:a==="top"?{...u,...k4(c,i,n,r,l),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:a==="bottom"?{...u,...k4(c,i,n,r,l),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const rE=v.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:i,arrowX:s,arrowY:l,style:a,...c},u)=>{const{dir:d}=dp();return i?g.jsx("div",{...c,ref:u,style:{...a,...ghe({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:d,arrowX:s,arrowY:l})}}):null});rE.displayName="@mantine/core/FloatingArrow";var aB={root:"m_9814e45f"};const bhe={zIndex:lp("modal")},yhe=(t,{gradient:e,color:n,backgroundOpacity:o,blur:r,radius:i,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||o!==void 0)&&Ar(n||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${B(r)})`:void 0,"--overlay-radius":i===void 0?void 0:vn(i),"--overlay-z-index":s==null?void 0:s.toString()}}),gh=Dn((t,e)=>{const n=Q("Overlay",bhe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,fixed:c,center:u,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:b,backgroundOpacity:y,mod:w,...k}=n,x=Se({name:"Overlay",props:n,classes:aB,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:yhe});return g.jsx(le,{ref:e,...x("root"),mod:[{center:u,fixed:c},w],...k,children:d})});gh.classes=aB;gh.displayName="@mantine/core/Overlay";function vw(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function vhe({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||vw(n):t;if(e){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const r=vw(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return vw(n)}const whe={},cB=Me((t,e)=>{const{children:n,target:o,reuseTargetNode:r,...i}=Q("Portal",whe,t),[s,l]=v.useState(!1),a=v.useRef(null);return q0(()=>(l(!0),a.current=vhe({target:o,reuseTargetNode:r,...i}),Qb(e,a.current),!o&&!r&&a.current&&document.body.appendChild(a.current),()=>{!o&&!r&&a.current&&document.body.removeChild(a.current)}),[o]),!s||!a.current?null:po.createPortal(g.jsx(g.Fragment,{children:n}),a.current)});cB.displayName="@mantine/core/Portal";const fp=Me(({withinPortal:t=!0,children:e,...n},o)=>F6()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(cB,{ref:o,...n,children:e}));fp.displayName="@mantine/core/OptionalPortal";const Rd=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),gm={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Rd("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Rd("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Rd("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Rd("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Rd("top"),common:{transformOrigin:"top right"}}},x4={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function khe({transition:t,state:e,duration:n,timingFunction:o}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof t=="string"?t in gm?{transitionProperty:gm[t].transitionProperty,...r,...gm[t].common,...gm[t][x4[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[x4[e]]}}function xhe({duration:t,exitDuration:e,timingFunction:n,mounted:o,onEnter:r,onExit:i,onEntered:s,onExited:l,enterDelay:a,exitDelay:c}){const u=Co(),d=Xde(),f=u.respectReducedMotion?d:!1,[h,p]=v.useState(f?0:t),[m,b]=v.useState(o?"entered":"exited"),y=v.useRef(-1),w=v.useRef(-1),k=v.useRef(-1);function x(){window.clearTimeout(y.current),window.clearTimeout(w.current),cancelAnimationFrame(k.current)}const C=S=>{x();const _=S?r:i,T=S?s:l,M=f?0:S?t:e;p(M),M===0?(typeof _=="function"&&_(),typeof T=="function"&&T(),b(S?"entered":"exited")):k.current=requestAnimationFrame(()=>{LC.flushSync(()=>{b(S?"pre-entering":"pre-exiting")}),k.current=requestAnimationFrame(()=>{typeof _=="function"&&_(),b(S?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof T=="function"&&T(),b(S?"entered":"exited")},M)})})},E=S=>{if(x(),typeof(S?a:c)!="number"){C(S);return}w.current=window.setTimeout(()=>{C(S)},S?a:c)};return dl(()=>{E(o)},[o]),v.useEffect(()=>()=>{x()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function qa({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:o=n,mounted:r,children:i,timingFunction:s="ease",onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f}){const h=F6(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:b}=xhe({mounted:r,exitDuration:o,duration:n,timingFunction:s,onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f});return p===0||h==="test"?r?g.jsx(g.Fragment,{children:i({})}):t?i({display:"none"}):null:m==="exited"?t?i({display:"none"}):null:g.jsx(g.Fragment,{children:i(khe({transition:e,duration:p,state:m,timingFunction:b}))})}qa.displayName="@mantine/core/Transition";const[Che,uB]=G0("Popover component was not found in the tree");function iE({children:t,active:e=!0,refProp:n="ref",innerRef:o}){const r=H6(e),i=ns(r,o);return sp(t)?v.cloneElement(t,{[n]:i}):t}function dB(t){return g.jsx(nE,{tabIndex:-1,"data-autofocus":!0,...t})}iE.displayName="@mantine/core/FocusTrap";dB.displayName="@mantine/core/FocusTrapInitialFocus";iE.InitialFocus=dB;var fB={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const _he={},Y0=Me((t,e)=>{var b,y,w,k;const n=Q("PopoverDropdown",_he,t),{className:o,style:r,vars:i,children:s,onKeyDownCapture:l,variant:a,classNames:c,styles:u,...d}=n,f=uB(),h=Ude({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=ns(e,f.floating);return f.disabled?null:g.jsx(fp,{...f.portalProps,withinPortal:f.withinPortal,children:g.jsx(qa,{mounted:f.opened,...f.transitionProps,transition:((b=f.transitionProps)==null?void 0:b.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((w=f.transitionProps)==null?void 0:w.exitDuration)=="number"?f.transitionProps.exitDuration:(k=f.transitionProps)==null?void 0:k.duration,children:x=>g.jsx(iE,{active:f.trapFocus&&f.opened,innerRef:m,children:g.jsxs(le,{...p,...d,variant:a,onKeyDownCapture:Dde(()=>{var C,E;(C=f.onClose)==null||C.call(f),(E=f.onDismiss)==null||E.call(f)},{active:f.closeOnEscape,onTrigger:h,onKeyDown:l}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:o,props:n,classNames:c,styles:u,style:[{...x,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:B(f.width)},f.resolvedStyles.dropdown,u==null?void 0:u.dropdown,r]}),children:[s,g.jsx(rE,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});Y0.classes=fB;Y0.displayName="@mantine/core/PopoverDropdown";const She={refProp:"ref",popupType:"dialog"},sE=Me((t,e)=>{const{children:n,refProp:o,popupType:r,...i}=Q("PopoverTarget",She,t);if(!sp(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,l=uB(),a=ns(l.reference,Y2(n),e),c=l.withRoles?{"aria-haspopup":r,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return v.cloneElement(n,{...s,...c,...l.targetProps,className:dt(l.targetProps.className,s.className,n.props.className),[o]:a,...l.controlled?null:{onClick:l.onToggle}})});sE.displayName="@mantine/core/PopoverTarget";function hB({opened:t,floating:e,position:n,positionDependencies:o}){const[r,i]=v.useState(0);v.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return Gk(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,r,n]),dl(()=>{e.update()},o),dl(()=>{i(s=>s+1)},[t])}function Ehe(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function The(t,e){const n=Ehe(t.middlewares),o=[vr(t.offset)];return n.shift&&o.push(ml(typeof n.shift=="boolean"?{limiter:Ug(),padding:5}:{limiter:Ug(),padding:5,...n.shift})),n.flip&&o.push(typeof n.flip=="boolean"?bo():bo(n.flip)),n.inline&&o.push(typeof n.inline=="boolean"?ia():ia(n.inline)),o.push(q_({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&o.push(Vh({...typeof n.size=="boolean"?{}:n.size,apply({rects:r,availableWidth:i,availableHeight:s,...l}){var u;const c=((u=e().refs.floating.current)==null?void 0:u.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:r,availableWidth:i,availableHeight:s,...l}):Object.assign(c,{maxWidth:`${i}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(c,{width:`${r.reference.width}px`})}})),o}function Mhe(t){const[e,n]=nd({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),o=v.useRef(e),r=()=>{e&&!t.disabled&&n(!1)},i=()=>!t.disabled&&n(!e),s=Ha({strategy:t.strategy,placement:t.position,middleware:The(t,()=>s)});return hB({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),dl(()=>{var l;(l=t.onPositionChange)==null||l.call(t,s.placement)},[s.placement]),dl(()=>{var l,a;e!==o.current&&(e?(a=t.onOpen)==null||a.call(t):(l=t.onClose)==null||l.call(t)),o.current=e},[e,t.onClose,t.onOpen]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const Ahe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:lp("popover"),__staticSelector:"Popover",width:"max-content"},Rhe=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:vn(e),"--popover-shadow":P6(n)}});function Sl(t){var kp,hd,Ot,xp,Cp,_p;const e=Q("Popover",Ahe,t),{children:n,position:o,offset:r,onPositionChange:i,positionDependencies:s,opened:l,transitionProps:a,onExitTransitionEnd:c,onEnterTransitionEnd:u,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,unstyled:w,classNames:k,styles:x,closeOnClickOutside:C,withinPortal:E,portalProps:S,closeOnEscape:_,clickOutsideEvents:T,trapFocus:M,onClose:$,onDismiss:D,onOpen:z,onChange:H,zIndex:U,radius:R,shadow:O,id:N,defaultOpened:P,__staticSelector:K,withRoles:Z,disabled:ie,returnFocus:ve,variant:Pe,keepMounted:Ge,vars:qe,floatingStrategy:We,withOverlay:Zt,overlayProps:et,...Nt}=e,_o=Se({name:K,props:e,classes:fB,classNames:k,styles:x,unstyled:w,rootSelector:"dropdown",vars:qe,varsResolver:Rhe}),{resolvedStyles:si}=K0({classNames:k,styles:x,props:e}),Jo=v.useRef(null),[Qo,li]=v.useState(null),[Ml,rs]=v.useState(null),{dir:is}=dp(),ai=cp(N),Ct=Mhe({middlewares:f,width:d,position:lB(is,o),offset:typeof r=="number"?r+(h?p/2:0):r,arrowRef:Jo,arrowOffset:m,onPositionChange:i,positionDependencies:s,opened:l,defaultOpened:P,onChange:H,onOpen:z,onClose:$,onDismiss:D,strategy:We,disabled:ie});Bde(()=>{C&&(Ct.onClose(),D==null||D())},T,[Qo,Ml]);const wp=v.useCallback(wn=>{li(wn),Ct.floating.refs.setReference(wn)},[Ct.floating.refs.setReference]),h1=v.useCallback(wn=>{rs(wn),Ct.floating.refs.setFloating(wn)},[Ct.floating.refs.setFloating]),p1=v.useCallback(()=>{var wn;(wn=a==null?void 0:a.onExited)==null||wn.call(a),c==null||c()},[a==null?void 0:a.onExited,c]),m1=v.useCallback(()=>{var wn;(wn=a==null?void 0:a.onEntered)==null||wn.call(a),u==null||u()},[a==null?void 0:a.onEntered,u]);return g.jsxs(Che,{value:{returnFocus:ve,disabled:ie,controlled:Ct.controlled,reference:wp,floating:h1,x:Ct.floating.x,y:Ct.floating.y,arrowX:(Ot=(hd=(kp=Ct.floating)==null?void 0:kp.middlewareData)==null?void 0:hd.arrow)==null?void 0:Ot.x,arrowY:(_p=(Cp=(xp=Ct.floating)==null?void 0:xp.middlewareData)==null?void 0:Cp.arrow)==null?void 0:_p.y,opened:Ct.opened,arrowRef:Jo,transitionProps:{...a,onExited:p1,onEntered:m1},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,placement:Ct.floating.placement,trapFocus:M,withinPortal:E,portalProps:S,zIndex:U,radius:R,shadow:O,closeOnEscape:_,onDismiss:D,onClose:Ct.onClose,onToggle:Ct.onToggle,getTargetId:()=>`${ai}-target`,getDropdownId:()=>`${ai}-dropdown`,withRoles:Z,targetProps:Nt,__staticSelector:K,classNames:k,styles:x,unstyled:w,variant:Pe,keepMounted:Ge,getStyles:_o,resolvedStyles:si,floatingStrategy:We},children:[n,Zt&&g.jsx(qa,{transition:"fade",mounted:Ct.opened,duration:(a==null?void 0:a.duration)||250,exitDuration:(a==null?void 0:a.exitDuration)||250,children:wn=>g.jsx(fp,{withinPortal:E,children:g.jsx(gh,{...et,..._o("overlay",{className:et==null?void 0:et.className,style:[wn,et==null?void 0:et.style]})})})})]})}Sl.Target=sE;Sl.Dropdown=Y0;Sl.displayName="@mantine/core/Popover";Sl.extend=t=>t;var ar={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const pB=v.forwardRef(({className:t,...e},n)=>g.jsxs(le,{component:"span",className:dt(ar.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:ar.bar}),g.jsx("span",{className:ar.bar}),g.jsx("span",{className:ar.bar})]}));pB.displayName="@mantine/core/Bars";const mB=v.forwardRef(({className:t,...e},n)=>g.jsxs(le,{component:"span",className:dt(ar.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:ar.dot}),g.jsx("span",{className:ar.dot}),g.jsx("span",{className:ar.dot})]}));mB.displayName="@mantine/core/Dots";const gB=v.forwardRef(({className:t,...e},n)=>g.jsx(le,{component:"span",className:dt(ar.ovalLoader,t),...e,ref:n}));gB.displayName="@mantine/core/Oval";const bB={bars:pB,oval:gB,dots:mB},Nhe={loaders:bB,type:"oval"},Ohe=(t,{size:e,color:n})=>({root:{"--loader-size":Ye(e,"loader-size"),"--loader-color":n?Kr(n,t):void 0}}),El=Me((t,e)=>{const n=Q("Loader",Nhe,t),{size:o,color:r,type:i,vars:s,className:l,style:a,classNames:c,styles:u,unstyled:d,loaders:f,variant:h,children:p,...m}=n,b=Se({name:"Loader",props:n,classes:ar,className:l,style:a,classNames:c,styles:u,unstyled:d,vars:s,varsResolver:Ohe});return p?g.jsx(le,{...b("root"),ref:e,...m,children:p}):g.jsx(le,{...b("root"),ref:e,component:f[i],variant:h,size:o,...m})});El.defaultLoaders=bB;El.classes=ar;El.displayName="@mantine/core/Loader";var rd={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const C4={orientation:"horizontal"},Lhe=(t,{borderWidth:e})=>({group:{"--ai-border-width":B(e)}}),lE=Me((t,e)=>{const n=Q("ActionIconGroup",C4,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:a,vars:c,borderWidth:u,variant:d,mod:f,...h}=Q("ActionIconGroup",C4,t),p=Se({name:"ActionIconGroup",props:n,classes:rd,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,varsResolver:Lhe,rootSelector:"group"});return g.jsx(le,{...p("group"),ref:e,variant:d,mod:[{"data-orientation":a},f],role:"group",...h})});lE.classes=rd;lE.displayName="@mantine/core/ActionIconGroup";const _4={},Dhe=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Ye(s,"section-height"),"--section-padding-x":Ye(s,"section-padding-x"),"--section-fz":qn(s),"--section-radius":e===void 0?void 0:vn(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},aE=Me((t,e)=>{const n=Q("ActionIconGroupSection",_4,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,variant:c,gradient:u,radius:d,autoContrast:f,...h}=Q("ActionIconGroupSection",_4,t),p=Se({name:"ActionIconGroupSection",props:n,classes:rd,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,varsResolver:Dhe,rootSelector:"groupSection"});return g.jsx(le,{...p("groupSection"),ref:e,variant:c,...h})});aE.classes=rd;aE.displayName="@mantine/core/ActionIconGroupSection";const Ihe={},$he=(t,{size:e,radius:n,variant:o,gradient:r,color:i,autoContrast:s})=>{const l=t.variantColorResolver({color:i||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--ai-size":Ye(e,"ai-size"),"--ai-radius":n===void 0?void 0:vn(n),"--ai-bg":i||o?l.background:void 0,"--ai-hover":i||o?l.hover:void 0,"--ai-hover-color":i||o?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":i||o?l.border:void 0}}},Wa=Dn((t,e)=>{const n=Q("ActionIcon",Ihe,t),{className:o,unstyled:r,variant:i,classNames:s,styles:l,style:a,loading:c,loaderProps:u,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:b,children:y,disabled:w,"data-disabled":k,autoContrast:x,mod:C,...E}=n,S=Se({name:["ActionIcon",p],props:n,className:o,style:a,classes:rd,classNames:s,styles:l,unstyled:r,vars:b,varsResolver:$he});return g.jsxs(Ga,{...S("root",{active:!w&&!c&&!k}),...E,unstyled:r,variant:i,size:d,disabled:w||c,ref:e,mod:[{loading:c,disabled:w||k},C],children:[g.jsx(qa,{mounted:!!c,transition:"slide-down",duration:150,children:_=>g.jsx(le,{component:"span",...S("loader",{style:_}),"aria-hidden":!0,children:g.jsx(El,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...u})})}),g.jsx(le,{component:"span",mod:{loading:c},...S("icon"),children:y})]})});Wa.classes=rd;Wa.displayName="@mantine/core/ActionIcon";Wa.Group=lE;Wa.GroupSection=aE;const yB=v.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},o)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:o,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));yB.displayName="@mantine/core/CloseIcon";var vB={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Phe={variant:"subtle"},jhe=(t,{size:e,radius:n,iconSize:o})=>({root:{"--cb-size":Ye(e,"cb-size"),"--cb-radius":n===void 0?void 0:vn(n),"--cb-icon-size":B(o)}}),X0=Dn((t,e)=>{const n=Q("CloseButton",Phe,t),{iconSize:o,children:r,vars:i,radius:s,className:l,classNames:a,style:c,styles:u,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:b,__staticSelector:y,...w}=n,k=Se({name:y||"CloseButton",props:n,className:l,style:c,classes:vB,classNames:a,styles:u,unstyled:d,vars:i,varsResolver:jhe});return g.jsxs(Ga,{ref:e,...w,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},b],...k("root",{variant:p,active:!h&&!f}),children:[m||g.jsx(yB,{}),r]})});X0.classes=vB;X0.displayName="@mantine/core/CloseButton";function Bhe(t){return v.Children.toArray(t).filter(Boolean)}var wB={root:"m_4081bf90"};const zhe={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Hhe=(t,{grow:e,preventGrowOverflow:n,gap:o,align:r,justify:i,wrap:s},{childWidth:l})=>({root:{"--group-child-width":e&&n?l:void 0,"--group-gap":ap(o),"--group-align":r,"--group-justify":i,"--group-wrap":s}}),on=Me((t,e)=>{const n=Q("Group",zhe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,children:a,gap:c,align:u,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:b,__size:y,mod:w,...k}=n,x=Bhe(a),C=x.length,E=ap(c??"md"),_={childWidth:`calc(${100/C}% - (${E} - ${E} / ${C}))`},T=Se({name:"Group",props:n,stylesCtx:_,className:r,style:i,classes:wB,classNames:o,styles:s,unstyled:l,vars:m,varsResolver:Hhe});return g.jsx(le,{...T("root"),ref:e,variant:b,mod:[{grow:h},w],size:y,...k,children:x})});on.classes=wB;on.displayName="@mantine/core/Group";const[Vhe,Uhe]=Z2({size:"sm"}),Fhe={},kB=Me((t,e)=>{const n=Q("InputClearButton",Fhe,t),{size:o,variant:r,vars:i,classNames:s,styles:l,...a}=n,c=Uhe(),{resolvedClassNames:u,resolvedStyles:d}=K0({classNames:s,styles:l,props:n});return g.jsx(X0,{variant:r||"transparent",ref:e,size:o||(c==null?void 0:c.size)||"sm",classNames:u,styles:d,__staticSelector:"InputClearButton",...a})});kB.displayName="@mantine/core/InputClearButton";const[Ghe,J0]=Z2({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Xo={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const S4={},qhe=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${qn(e)} - ${B(2)})`}}),Q0=Me((t,e)=>{const n=Q("InputDescription",S4,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=Q("InputDescription",S4,n),p=J0(),m=Se({name:["InputWrapper",u],props:n,classes:Xo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"description",vars:a,varsResolver:qhe}),b=d&&(p==null?void 0:p.getStyles)||m;return g.jsx(le,{component:"p",ref:e,variant:f,size:c,...b("description",p!=null&&p.getStyles?{className:r,style:i}:void 0),...h})});Q0.classes=Xo;Q0.displayName="@mantine/core/InputDescription";const Whe={},Khe=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${qn(e)} - ${B(2)})`}}),e1=Me((t,e)=>{const n=Q("InputError",Whe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=n,p=Se({name:["InputWrapper",u],props:n,classes:Xo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"error",vars:a,varsResolver:Khe}),m=J0(),b=d&&(m==null?void 0:m.getStyles)||p;return g.jsx(le,{component:"p",ref:e,variant:f,size:c,...b("error",m!=null&&m.getStyles?{className:r,style:i}:void 0),...h})});e1.classes=Xo;e1.displayName="@mantine/core/InputError";const E4={labelElement:"label"},Zhe=(t,{size:e})=>({label:{"--input-label-size":qn(e),"--input-asterisk-color":void 0}}),t1=Me((t,e)=>{const n=Q("InputLabel",E4,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,labelElement:c,size:u,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:b,mod:y,...w}=Q("InputLabel",E4,n),k=Se({name:["InputWrapper",m],props:n,classes:Xo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"label",vars:a,varsResolver:Zhe}),x=J0(),C=(x==null?void 0:x.getStyles)||k;return g.jsxs(le,{...C("label",x!=null&&x.getStyles?{className:r,style:i}:void 0),component:c,variant:b,size:u,ref:e,htmlFor:c==="label"?f:void 0,mod:[{required:d},y],onMouseDown:E=>{h==null||h(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...w,children:[p,d&&g.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});t1.classes=Xo;t1.displayName="@mantine/core/InputLabel";const T4={},cE=Me((t,e)=>{const n=Q("InputPlaceholder",T4,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,__staticSelector:c,variant:u,error:d,mod:f,...h}=Q("InputPlaceholder",T4,n),p=Se({name:["InputPlaceholder",c],props:n,classes:Xo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"placeholder"});return g.jsx(le,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:u,ref:e,...h})});cE.classes=Xo;cE.displayName="@mantine/core/InputPlaceholder";function Yhe(t,{hasDescription:e,hasError:n}){const o=t.findIndex(a=>a==="input"),r=t.slice(0,o),i=t.slice(o+1),s=e&&r.includes("description")||n&&r.includes("error");return{offsetBottom:e&&i.includes("description")||n&&i.includes("error"),offsetTop:s}}const Xhe={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Jhe=(t,{size:e})=>({label:{"--input-label-size":qn(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${qn(e)} - ${B(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${qn(e)} - ${B(2)})`}}),uE=Me((t,e)=>{const n=Q("InputWrapper",Xhe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,size:c,variant:u,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:b,labelProps:y,descriptionProps:w,errorProps:k,labelElement:x,children:C,withAsterisk:E,id:S,required:_,__stylesApiProps:T,mod:M,...$}=n,D=Se({name:["InputWrapper",d],props:T||n,classes:Xo,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Jhe}),z={size:c,variant:u,__staticSelector:d},H=cp(S),U=typeof E=="boolean"?E:_,R=(k==null?void 0:k.id)||`${H}-error`,O=(w==null?void 0:w.id)||`${H}-description`,N=H,P=!!m&&typeof m!="boolean",K=!!b,Z=`${P?R:""} ${K?O:""}`,ie=Z.trim().length>0?Z.trim():void 0,ve=(y==null?void 0:y.id)||`${H}-label`,Pe=p&&g.jsx(t1,{labelElement:x,id:ve,htmlFor:N,required:U,...z,...y,children:p},"label"),Ge=K&&g.jsx(Q0,{...w,...z,size:(w==null?void 0:w.size)||z.size,id:(w==null?void 0:w.id)||O,children:b},"description"),qe=g.jsx(v.Fragment,{children:f(C)},"input"),We=P&&v.createElement(e1,{...k,...z,size:(k==null?void 0:k.size)||z.size,key:"error",id:(k==null?void 0:k.id)||R},m),Zt=h.map(et=>{switch(et){case"label":return Pe;case"input":return qe;case"description":return Ge;case"error":return We;default:return null}});return g.jsx(Ghe,{value:{getStyles:D,describedBy:ie,inputId:N,labelId:ve,...Yhe(h,{hasDescription:K,hasError:P})},children:g.jsx(le,{ref:e,variant:u,size:c,mod:[{error:!!m},M],...D("root"),...$,children:Zt})})});uE.classes=Xo;uE.displayName="@mantine/core/InputWrapper";const Qhe={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},epe=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ye(e.size,"input-height"),"--input-fz":qn(e.size),"--input-radius":e.radius===void 0?void 0:vn(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?B(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?B(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Ye(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),ko=Dn((t,e)=>{const n=Q("Input",Qhe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,required:a,__staticSelector:c,__stylesApiProps:u,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:b,leftSectionWidth:y,rightSection:w,rightSectionProps:k,rightSectionWidth:x,rightSectionPointerEvents:C,leftSectionPointerEvents:E,variant:S,vars:_,pointer:T,multiline:M,radius:$,id:D,withAria:z,withErrorStyles:H,mod:U,inputSize:R,__clearSection:O,__clearable:N,__defaultRightSection:P,...K}=n,{styleProps:Z,rest:ie}=Z0(K),ve=J0(),Pe={offsetBottom:ve==null?void 0:ve.offsetBottom,offsetTop:ve==null?void 0:ve.offsetTop},Ge=Se({name:["Input",c],props:u||n,classes:Xo,className:r,style:i,classNames:o,styles:s,unstyled:l,stylesCtx:Pe,rootSelector:"wrapper",vars:_,varsResolver:epe}),qe=z?{required:a,disabled:p,"aria-invalid":!!h,"aria-describedby":ve==null?void 0:ve.describedBy,id:(ve==null?void 0:ve.inputId)||D}:{},We=w||N&&O||P;return g.jsx(Vhe,{value:{size:d||"sm"},children:g.jsxs(le,{...Ge("wrapper"),...Z,...f,mod:[{error:!!h&&H,pointer:T,disabled:p,multiline:M,"data-with-right-section":!!We,"data-with-left-section":!!m},U],variant:S,size:d,children:[m&&g.jsx("div",{...b,"data-position":"left",...Ge("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:m}),g.jsx(le,{component:"input",...ie,...qe,ref:e,required:a,mod:{disabled:p,error:!!h&&H},variant:S,__size:R,...Ge("input")}),We&&g.jsx("div",{...k,"data-position":"right",...Ge("section",{className:k==null?void 0:k.className,style:k==null?void 0:k.style}),children:We})]})})});ko.classes=Xo;ko.Wrapper=uE;ko.Label=t1;ko.Error=e1;ko.Description=Q0;ko.Placeholder=cE;ko.ClearButton=kB;ko.displayName="@mantine/core/Input";function tpe(t,e,n){const o=Q(t,e,n),{label:r,description:i,error:s,required:l,classNames:a,styles:c,className:u,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:b,wrapperProps:y,id:w,size:k,style:x,inputContainer:C,inputWrapperOrder:E,withAsterisk:S,variant:_,vars:T,mod:M,...$}=o,{styleProps:D,rest:z}=Z0($),H={label:r,description:i,error:s,required:l,classNames:a,className:u,__staticSelector:f,__stylesApiProps:h||o,errorProps:p,labelProps:m,descriptionProps:b,unstyled:d,styles:c,size:k,style:x,inputContainer:C,inputWrapperOrder:E,withAsterisk:S,variant:_,id:w,mod:M,...y};return{...z,classNames:a,styles:c,unstyled:d,wrapperProps:{...H,...D},inputProps:{required:l,classNames:a,styles:c,unstyled:d,size:k,__staticSelector:f,__stylesApiProps:h||o,error:s,variant:_,id:w}}}const npe={__staticSelector:"InputBase",withAria:!0},id=Dn((t,e)=>{const{inputProps:n,wrapperProps:o,...r}=tpe("InputBase",npe,t);return g.jsx(ko.Wrapper,{...o,children:g.jsx(ko,{...n,...r,ref:e})})});id.classes={...ko.classes,...ko.Wrapper.classes};id.displayName="@mantine/core/InputBase";const ope={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var xB={root:"m_8bffd616"};const rpe={},dE=Dn((t,e)=>{const n=Q("Flex",rpe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,gap:c,rowGap:u,columnGap:d,align:f,justify:h,wrap:p,direction:m,...b}=n,y=Se({name:"Flex",classes:xB,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a}),w=Co(),k=J6(),x=X6({styleProps:{gap:c,rowGap:u,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:w,data:ope});return g.jsxs(g.Fragment,{children:[x.hasResponsiveStyles&&g.jsx(Y6,{selector:`.${k}`,styles:x.styles,media:x.media}),g.jsx(le,{ref:e,...y("root",{className:k,style:F0(x.inlineStyles)}),...b})]})});dE.classes=xB;dE.displayName="@mantine/core/Flex";var CB={root:"m_b6d8b162"};function ipe(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const spe={inherit:!1},lpe=(t,{variant:e,lineClamp:n,gradient:o,size:r,color:i})=>({root:{"--text-fz":qn(r),"--text-lh":Ide(r),"--text-gradient":e==="gradient"?sC(o,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?Kr(i,t):void 0}}),Zr=Dn((t,e)=>{const n=Q("Text",spe,t),{lineClamp:o,truncate:r,inline:i,inherit:s,gradient:l,span:a,__staticSelector:c,vars:u,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:b,mod:y,size:w,...k}=n,x=Se({name:["Text",c],props:n,classes:CB,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:u,varsResolver:lpe});return g.jsx(le,{...x("root",{focusable:!0}),ref:e,component:a?"span":"p",variant:b,mod:[{"data-truncate":ipe(r),"data-line-clamp":typeof o=="number","data-inline":i,"data-inherit":s},y],size:w,...k})});Zr.classes=CB;Zr.displayName="@mantine/core/Text";function fE({size:t,style:e,...n}){const o=t!==void 0?{width:B(t),height:B(t),...e}:e;return g.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,"aria-hidden":!0,...n,children:g.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const _B=v.createContext(null),ape=_B.Provider;function cpe(){return{withinGroup:!!v.useContext(_B)}}var n1={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const upe={},dpe=(t,{spacing:e})=>({group:{"--ag-spacing":ap(e)}}),hE=Me((t,e)=>{const n=Q("AvatarGroup",upe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,spacing:c,...u}=n,d=Se({name:"AvatarGroup",classes:n1,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:dpe,rootSelector:"group"});return g.jsx(ape,{value:!0,children:g.jsx(le,{ref:e,...d("group"),...u})})});hE.classes=n1;hE.displayName="@mantine/core/AvatarGroup";function fpe(t){return g.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function hpe(t){let e=0;for(let n=0;n<t.length;n+=1){const o=t.charCodeAt(n);e=(e<<5)-e+o,e|=0}return e}const ppe=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function mpe(t,e=ppe){const n=hpe(t),o=Math.abs(n)%e.length;return e[o]}function gpe(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(o=>o[0]).slice(0,e).join("").toUpperCase()}const bpe={},ype=(t,{size:e,radius:n,variant:o,gradient:r,color:i,autoContrast:s,name:l,allowedInitialsColors:a})=>{const c=i==="initials"&&typeof l=="string"?mpe(l,a):i,u=t.variantColorResolver({color:c||"gray",theme:t,gradient:r,variant:o||"light",autoContrast:s});return{root:{"--avatar-size":Ye(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:vn(n),"--avatar-bg":c||o?u.background:void 0,"--avatar-color":c||o?u.color:void 0,"--avatar-bd":c||o?u.border:void 0}}},o1=Dn((t,e)=>{const n=Q("Avatar",bpe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,src:c,alt:u,radius:d,color:f,gradient:h,imageProps:p,children:m,autoContrast:b,mod:y,name:w,allowedInitialsColors:k,...x}=n,C=cpe(),[E,S]=v.useState(!c),_=Se({name:"Avatar",props:n,classes:n1,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:ype});return v.useEffect(()=>S(!c),[c]),g.jsx(le,{..._("root"),mod:[{"within-group":C.withinGroup},y],ref:e,...x,children:E?g.jsx("span",{..._("placeholder"),title:u,children:m||typeof w=="string"&&gpe(w)||g.jsx(fpe,{})}):g.jsx("img",{...p,..._("image"),src:c,alt:u,onError:T=>{var M;S(!0),(M=p==null?void 0:p.onError)==null||M.call(p,T)}})})});o1.classes=n1;o1.displayName="@mantine/core/Avatar";o1.Group=hE;var SB={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const vpe={},wpe=(t,{radius:e,color:n,gradient:o,variant:r,size:i,autoContrast:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:s});return{root:{"--badge-height":Ye(i,"badge-height"),"--badge-padding-x":Ye(i,"badge-padding-x"),"--badge-fz":Ye(i,"badge-fz"),"--badge-radius":e===void 0?void 0:vn(e),"--badge-bg":n||r?l.background:void 0,"--badge-color":n||r?l.color:void 0,"--badge-bd":n||r?l.border:void 0,"--badge-dot-color":r==="dot"?Kr(n,t):void 0}}},pE=Dn((t,e)=>{const n=Q("Badge",vpe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,radius:c,color:u,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:b,autoContrast:y,circle:w,mod:k,...x}=n,C=Se({name:"Badge",props:n,classes:SB,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:wpe});return g.jsxs(le,{variant:m,mod:[{block:b,circle:w,"with-right-section":!!h,"with-left-section":!!f},k],...C("root",{variant:m}),ref:e,...x,children:[f&&g.jsx("span",{...C("section"),"data-position":"left",children:f}),g.jsx("span",{...C("label"),children:p}),h&&g.jsx("span",{...C("section"),"data-position":"right",children:h})]})});pE.classes=SB;pE.displayName="@mantine/core/Badge";var sd={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const M4={orientation:"horizontal"},kpe=(t,{borderWidth:e})=>({group:{"--button-border-width":B(e)}}),mE=Me((t,e)=>{const n=Q("ButtonGroup",M4,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:a,vars:c,borderWidth:u,variant:d,mod:f,...h}=Q("ButtonGroup",M4,t),p=Se({name:"ButtonGroup",props:n,classes:sd,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,varsResolver:kpe,rootSelector:"group"});return g.jsx(le,{...p("group"),ref:e,variant:d,mod:[{"data-orientation":a},f],role:"group",...h})});mE.classes=sd;mE.displayName="@mantine/core/ButtonGroup";const A4={},xpe=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Ye(s,"section-height"),"--section-padding-x":Ye(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?qn(s.replace("compact-","")):qn(s),"--section-radius":e===void 0?void 0:vn(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},gE=Me((t,e)=>{const n=Q("ButtonGroupSection",A4,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,variant:c,gradient:u,radius:d,autoContrast:f,...h}=Q("ButtonGroupSection",A4,t),p=Se({name:"ButtonGroupSection",props:n,classes:sd,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,varsResolver:xpe,rootSelector:"groupSection"});return g.jsx(le,{...p("groupSection"),ref:e,variant:c,...h})});gE.classes=sd;gE.displayName="@mantine/core/ButtonGroupSection";const Cpe={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${B(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},_pe={},Spe=(t,{radius:e,color:n,gradient:o,variant:r,size:i,justify:s,autoContrast:l})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":Ye(i,"button-height"),"--button-padding-x":Ye(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?qn(i.replace("compact-","")):qn(i),"--button-radius":e===void 0?void 0:vn(e),"--button-bg":n||r?a.background:void 0,"--button-hover":n||r?a.hover:void 0,"--button-color":a.color,"--button-bd":n||r?a.border:void 0,"--button-hover-color":n||r?a.hoverColor:void 0}}},xr=Dn((t,e)=>{const n=Q("Button",_pe,t),{style:o,vars:r,className:i,color:s,disabled:l,children:a,leftSection:c,rightSection:u,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:b,classNames:y,styles:w,unstyled:k,"data-disabled":x,autoContrast:C,mod:E,...S}=n,_=Se({name:"Button",props:n,classes:sd,className:i,style:o,classNames:y,styles:w,unstyled:k,vars:r,varsResolver:Spe}),T=!!c,M=!!u;return g.jsxs(Ga,{ref:e,..._("root",{active:!l&&!p&&!x}),unstyled:k,variant:f,disabled:l||p,mod:[{disabled:l||x,loading:p,block:d,"with-left-section":T,"with-right-section":M},E],...S,children:[g.jsx(qa,{mounted:!!p,transition:Cpe,duration:150,children:$=>g.jsx(le,{component:"span",..._("loader",{style:$}),"aria-hidden":!0,children:g.jsx(El,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),g.jsxs("span",{..._("inner"),children:[c&&g.jsx(le,{component:"span",..._("section"),mod:{position:"left"},children:c}),g.jsx(le,{component:"span",mod:{loading:p},..._("label"),children:a}),u&&g.jsx(le,{component:"span",..._("section"),mod:{position:"right"},children:u})]})]})});xr.classes=sd;xr.displayName="@mantine/core/Button";xr.Group=mE;xr.GroupSection=gE;const[Epe,Tpe]=G0("Card component was not found in tree");var bE={root:"m_e615b15f",section:"m_599a2148"};const Mpe={},r1=Dn((t,e)=>{const n=Q("CardSection",Mpe,t),{classNames:o,className:r,style:i,styles:s,vars:l,withBorder:a,inheritPadding:c,mod:u,...d}=n,f=Tpe();return g.jsx(le,{ref:e,mod:[{"with-border":a,"inherit-padding":c},u],...f.getStyles("section",{className:r,style:i,styles:s,classNames:o}),...d})});r1.classes=bE;r1.displayName="@mantine/core/CardSection";const Ape={},Rpe=(t,{padding:e})=>({root:{"--card-padding":ap(e)}}),hp=Dn((t,e)=>{const n=Q("Card",Ape,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,children:c,padding:u,...d}=n,f=Se({name:"Card",props:n,classes:bE,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Rpe}),h=v.Children.toArray(c),p=h.map((m,b)=>typeof m=="object"&&m&&"type"in m&&m.type===r1?v.cloneElement(m,{"data-first-section":b===0||void 0,"data-last-section":b===h.length-1||void 0}):m);return g.jsx(Epe,{value:{getStyles:f},children:g.jsx(oE,{ref:e,unstyled:l,...f("root"),...d,children:p})})});hp.classes=bE;hp.displayName="@mantine/core/Card";hp.Section=r1;const[Npe,Ope]=Z2(),Lpe={};function EB(t){const{value:e,defaultValue:n,onChange:o,multiple:r,children:i}=Q("ChipGroup",Lpe,t),[s,l]=nd({value:e,defaultValue:n,finalValue:r?[]:null,onChange:o}),a=u=>Array.isArray(s)?s.includes(u):u===s,c=u=>{const d=u.currentTarget.value;Array.isArray(s)?l(s.includes(d)?s.filter(f=>f!==d):[...s,d]):l(d)};return g.jsx(Npe,{value:{isChipSelected:a,onChange:c,multiple:r},children:i})}EB.displayName="@mantine/core/ChipGroup";var TB={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const Dpe={type:"checkbox"},Ipe=(t,{size:e,radius:n,variant:o,color:r,autoContrast:i})=>{const s=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:o||"filled",autoContrast:i});return{root:{"--chip-fz":qn(e),"--chip-size":Ye(e,"chip-size"),"--chip-radius":n===void 0?void 0:vn(n),"--chip-checked-padding":Ye(e,"chip-checked-padding"),"--chip-padding":Ye(e,"chip-padding"),"--chip-icon-size":Ye(e,"chip-icon-size"),"--chip-bg":r||o?s.background:void 0,"--chip-hover":r||o?s.hover:void 0,"--chip-color":r||o?s.color:void 0,"--chip-bd":r||o?s.border:void 0,"--chip-spacing":Ye(e,"chip-spacing")}}},i1=Me((t,e)=>{const n=Q("Chip",Dpe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,id:c,checked:u,defaultChecked:d,onChange:f,value:h,wrapperProps:p,type:m,disabled:b,children:y,size:w,variant:k,icon:x,rootRef:C,autoContrast:E,mod:S,..._}=n,T=Se({name:"Chip",classes:TB,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Ipe}),M=Ope(),$=cp(c),{styleProps:D,rest:z}=Z0(_),[H,U]=nd({value:u,defaultValue:d,finalValue:!1,onChange:f}),R=M?{checked:M.isChipSelected(h),onChange:N=>{M.onChange(N),f==null||f(N.currentTarget.checked)},type:M.multiple?"checkbox":"radio"}:{},O=R.checked||H;return g.jsxs(le,{size:w,variant:k,ref:C,mod:S,...T("root"),...D,...p,children:[g.jsx("input",{type:m,...T("input"),checked:O,onChange:N=>U(N.currentTarget.checked),id:$,disabled:b,ref:e,value:h,...R,...z}),g.jsxs("label",{htmlFor:$,"data-checked":O||void 0,"data-disabled":b||void 0,...T("label",{variant:k||"filled"}),children:[O&&g.jsx("span",{...T("iconWrapper"),children:x||g.jsx(fE,{...T("checkIcon")})}),g.jsx("span",{children:y})]})]})});i1.classes=TB;i1.displayName="@mantine/core/Chip";i1.Group=EB;var MB={root:"m_3eebeb36",label:"m_9e365f20"};const $pe={orientation:"horizontal"},Ppe=(t,{color:e,variant:n,size:o})=>({root:{"--divider-color":e?Kr(e,t):void 0,"--divider-border-style":n,"--divider-size":Ye(o,"divider-size")}}),yE=Me((t,e)=>{const n=Q("Divider",$pe,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,color:c,orientation:u,label:d,labelPosition:f,mod:h,...p}=n,m=Se({name:"Divider",classes:MB,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Ppe});return g.jsx(le,{ref:e,mod:[{orientation:u,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&g.jsx(le,{component:"span",mod:{position:f},...m("label"),children:d})})});yE.classes=MB;yE.displayName="@mantine/core/Divider";const jpe={multiple:!1},AB=v.forwardRef((t,e)=>{const{onChange:n,children:o,multiple:r,accept:i,name:s,form:l,resetRef:a,disabled:c,capture:u,inputProps:d,...f}=Q("FileButton",jpe,t),h=v.useRef(null),p=()=>{var y;!c&&((y=h.current)==null||y.click())},m=y=>{n(r?Array.from(y.currentTarget.files):y.currentTarget.files[0]||null)};return Qb(a,()=>{h.current&&(h.current.value="")}),g.jsxs(g.Fragment,{children:[g.jsx("input",{style:{display:"none"},type:"file",accept:i,multiple:r,onChange:m,ref:ns(e,h),name:s,form:l,capture:u,...d}),o({onClick:p,...f})]})});AB.displayName="@mantine/core/FileButton";const Bpe=({value:t})=>g.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),zpe={valueComponent:Bpe},vE=Me((t,e)=>{const n=Q("FileInput",zpe,t),{unstyled:o,vars:r,onChange:i,value:s,defaultValue:l,multiple:a,accept:c,name:u,form:d,valueComponent:f,clearable:h,clearButtonProps:p,readOnly:m,capture:b,fileInputProps:y,rightSection:w,size:k,placeholder:x,component:C,resetRef:E,classNames:S,styles:_,...T}=n,M=v.useRef(null),{resolvedClassNames:$,resolvedStyles:D}=K0({classNames:S,styles:_,props:n}),[z,H]=nd({value:s,defaultValue:l,onChange:i,finalValue:a?[]:null}),U=Array.isArray(z)?z.length!==0:z!==null,R=w||(h&&U&&!m?g.jsx(X0,{...p,variant:"subtle",onClick:()=>H(a?[]:null),size:k,unstyled:o}):null);v.useEffect(()=>{var N;(Array.isArray(z)&&z.length===0||z===null)&&((N=M.current)==null||N.call(M))},[z]);const O=f;return g.jsx(AB,{onChange:H,multiple:a,accept:c,name:u,form:d,resetRef:ns(M,E),disabled:m,capture:b,inputProps:y,children:N=>g.jsx(id,{component:C||"button",ref:e,rightSection:R,...N,...T,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:o,size:k,classNames:S,styles:_,children:U?g.jsx(O,{value:z}):g.jsx(ko.Placeholder,{__staticSelector:"FileInput",classNames:$,styles:D,children:x})})})});vE.classes=id.classes;vE.displayName="@mantine/core/FileInput";const Hpe=vE;function Vpe({open:t,close:e,openDelay:n,closeDelay:o}){const r=v.useRef(-1),i=v.useRef(-1),s=()=>{window.clearTimeout(r.current),window.clearTimeout(i.current)},l=()=>{s(),n===0||n===void 0?t():r.current=window.setTimeout(t,n)},a=()=>{s(),o===0||o===void 0?e():i.current=window.setTimeout(e,o)};return v.useEffect(()=>s,[]),{openDropdown:l,closeDropdown:a}}var RB={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const R4={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:lp("overlay")},Upe=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),wE=Me((t,e)=>{const n=Q("LoadingOverlay",R4,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,transitionProps:c,loaderProps:u,overlayProps:d,visible:f,zIndex:h,...p}=n,m=Co(),b=Se({name:"LoadingOverlay",classes:RB,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Upe}),y={...R4.overlayProps,...d};return g.jsx(qa,{transition:"fade",...c,mounted:!!f,children:w=>g.jsxs(le,{...b("root",{style:w}),ref:e,...p,children:[g.jsx(El,{...b("loader"),unstyled:l,...u}),g.jsx(gh,{...y,...b("overlay"),darkHidden:!0,unstyled:l,color:(d==null?void 0:d.color)||m.white}),g.jsx(gh,{...y,...b("overlay"),lightHidden:!0,unstyled:l,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});wE.classes=RB;wE.displayName="@mantine/core/LoadingOverlay";const[Fpe,pp]=G0("Menu component was not found in the tree");var ld={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Gpe={},kE=Me((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=Q("MenuDivider",Gpe,t),a=pp();return g.jsx(le,{ref:e,...a.getStyles("divider",{className:o,style:r,styles:i,classNames:n}),...l})});kE.classes=ld;kE.displayName="@mantine/core/MenuDivider";const qpe={},xE=Me((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:a,onKeyDown:c,children:u,...d}=Q("MenuDropdown",qpe,t),f=v.useRef(null),h=pp(),p=Dr(c,y=>{var w,k;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(k=(w=f.current)==null?void 0:w.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||k.focus())}),m=Dr(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),b=Dr(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return g.jsxs(Sl.Dropdown,{...d,onMouseEnter:m,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:ns(e,f),...h.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});xE.classes=ld;xE.displayName="@mantine/core/MenuDropdown";const Wpe={},CE=Dn((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,closeMenuOnClick:a,leftSection:c,rightSection:u,children:d,disabled:f,"data-disabled":h,...p}=Q("MenuItem",Wpe,t),m=pp(),b=Co(),{dir:y}=dp(),w=v.useRef(null),k=m.getItemIndex(w.current),x=p,C=Dr(x.onMouseLeave,()=>m.setHovered(-1)),E=Dr(x.onMouseEnter,()=>m.setHovered(m.getItemIndex(w.current))),S=Dr(x.onClick,()=>{h||(typeof a=="boolean"?a&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),_=Dr(x.onFocus,()=>m.setHovered(m.getItemIndex(w.current))),T=l?b.variantColorResolver({color:l,theme:b,variant:"light"}):void 0,M=l?od({color:l,theme:b}):null;return g.jsxs(Ga,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:_,...m.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:ns(w,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":m.hovered===k?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:C,onClick:S,onKeyDown:$6({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:x.onKeyDown}),__vars:{"--menu-item-color":M!=null&&M.isThemeColor&&(M==null?void 0:M.shade)===void 0?`var(--mantine-color-${M.color}-6)`:T==null?void 0:T.color,"--menu-item-hover":T==null?void 0:T.hover},children:[c&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:c}),d&&g.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:n}),children:d}),u&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:u})]})});CE.classes=ld;CE.displayName="@mantine/core/MenuItem";const Kpe={},_E=Me((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=Q("MenuLabel",Kpe,t),a=pp();return g.jsx(le,{ref:e,...a.getStyles("label",{className:o,style:r,styles:i,classNames:n}),...l})});_E.classes=ld;_E.displayName="@mantine/core/MenuLabel";const Zpe={refProp:"ref"},NB=v.forwardRef((t,e)=>{const{children:n,refProp:o,...r}=Q("MenuTarget",Zpe,t);if(!sp(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=pp(),s=n.props,l=Dr(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=Dr(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=Dr(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return g.jsx(Sl.Target,{refProp:o,popupType:"menu",ref:e,...r,children:v.cloneElement(n,{onClick:l,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});NB.displayName="@mantine/core/MenuTarget";const Ype={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function bt(t){const e=Q("Menu",Ype,t),{children:n,onOpen:o,onClose:r,opened:i,defaultOpened:s,trapFocus:l,onChange:a,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:b,unstyled:y,variant:w,vars:k,menuItemTabIndex:x,keepMounted:C,withInitialFocusPlaceholder:E,...S}=e,_=Se({name:"Menu",classes:ld,props:e,classNames:m,styles:b,unstyled:y}),[T,{setHovered:M,resetHovered:$}]=Pde(),[D,z]=nd({value:i,defaultValue:s,finalValue:!1,onChange:a}),[H,U]=v.useState(!1),R=()=>{z(!1),U(!1),D&&(r==null||r())},O=()=>{z(!0),!D&&(o==null||o())},N=()=>{D?R():O()},{openDropdown:P,closeDropdown:K}=Vpe({open:O,close:R,closeDelay:p,openDelay:h}),Z=Pe=>$de("[data-menu-item]","[data-menu-dropdown]",Pe),{resolvedClassNames:ie,resolvedStyles:ve}=K0({classNames:m,styles:b,props:e});return dl(()=>{$()},[D]),g.jsx(Fpe,{value:{getStyles:_,opened:D,toggleDropdown:N,getItemIndex:Z,hovered:T,setHovered:M,openedViaClick:H,setOpenedViaClick:U,closeOnItemClick:c,closeDropdown:f==="click"?R:K,openDropdown:f==="click"?O:P,closeDropdownImmediately:R,loop:u,trigger:f,unstyled:y,menuItemTabIndex:x,withInitialFocusPlaceholder:E},children:g.jsx(Sl,{...S,opened:D,onChange:N,defaultOpened:s,trapFocus:C?!1:l,closeOnEscape:d,__staticSelector:"Menu",classNames:ie,styles:ve,unstyled:y,variant:w,keepMounted:C,children:n})})}bt.extend=t=>t;bt.withProps=che(bt);bt.classes=ld;bt.displayName="@mantine/core/Menu";bt.Item=CE;bt.Label=_E;bt.Dropdown=xE;bt.Target=NB;bt.Divider=kE;const Xpe={duration:100,transition:"fade"};function Jpe(t,e){return{...Xpe,...e,...t}}function Qpe({offset:t,position:e,defaultOpened:n}){const[o,r]=v.useState(n),i=v.useRef(null),{x:s,y:l,elements:a,refs:c,update:u,placement:d}=Ha({placement:e,middleware:[ml({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?t:e.includes("left")?t*-1:0,h=d.includes("bottom")?t:e.includes("top")?t*-1:0,p=v.useCallback(({clientX:m,clientY:b})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:b,left:m+f,top:b+h,right:m,bottom:b}}})},[a.reference]);return v.useEffect(()=>{if(c.floating.current){const m=i.current;m.addEventListener("mousemove",p);const b=$i(c.floating.current);return b.forEach(y=>{y.addEventListener("scroll",u)}),()=>{m.removeEventListener("mousemove",p),b.forEach(y=>{y.removeEventListener("scroll",u)})}}},[a.reference,c.floating.current,u,p,o]),{handleMouseMove:p,x:s,y:l,opened:o,setOpened:r,boundaryRef:i,floating:c.setFloating}}var s1={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const eme={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:lp("popover")},tme=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:vn(e),"--tooltip-bg":n?Kr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),SE=Me((t,e)=>{const n=Q("TooltipFloating",eme,t),{children:o,refProp:r,withinPortal:i,style:s,className:l,classNames:a,styles:c,unstyled:u,radius:d,color:f,label:h,offset:p,position:m,multiline:b,zIndex:y,disabled:w,defaultOpened:k,variant:x,vars:C,portalProps:E,...S}=n,_=Co(),T=Se({name:"TooltipFloating",props:n,classes:s1,className:l,style:s,classNames:a,styles:c,unstyled:u,rootSelector:"tooltip",vars:C,varsResolver:tme}),{handleMouseMove:M,x:$,y:D,opened:z,boundaryRef:H,floating:U,setOpened:R}=Qpe({offset:p,position:m,defaultOpened:k});if(!sp(o))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const O=ns(H,Y2(o),e),N=o.props,P=Z=>{var ie;(ie=N.onMouseEnter)==null||ie.call(N,Z),M(Z),R(!0)},K=Z=>{var ie;(ie=N.onMouseLeave)==null||ie.call(N,Z),R(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(fp,{...E,withinPortal:i,children:g.jsx(le,{...S,...T("tooltip",{style:{...Q6(s,_),zIndex:y,display:!w&&z?"block":"none",top:(D&&Math.round(D))??"",left:($&&Math.round($))??""}}),variant:x,ref:U,mod:{multiline:b},children:h})}),v.cloneElement(o,{...N,[r]:O,onMouseEnter:P,onMouseLeave:K})]})});SE.classes=s1;SE.displayName="@mantine/core/TooltipFloating";const OB=v.createContext(!1),nme=OB.Provider,ome=()=>v.useContext(OB),rme={openDelay:0,closeDelay:0};function EE(t){const{openDelay:e,closeDelay:n,children:o}=Q("TooltipGroup",rme,t);return g.jsx(nme,{value:!0,children:g.jsx(vq,{delay:{open:e,close:n},children:o})})}EE.displayName="@mantine/core/TooltipGroup";EE.extend=t=>t;function ime(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function sme(t){const e=ime(t.middlewares),n=[vr(t.offset)];return e.shift&&n.push(ml(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?bo():bo(e.flip)),n.push(q_({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?ia():ia(e.inline)):t.inline&&n.push(ia()),n}function lme(t){var E,S,_;const[e,n]=v.useState(t.defaultOpened),r=typeof t.opened=="boolean"?t.opened:e,i=ome(),s=cp(),l=v.useCallback(T=>{n(T),T&&w(s)},[s]),{x:a,y:c,context:u,refs:d,update:f,placement:h,middlewareData:{arrow:{x:p,y:m}={}}}=Ha({strategy:t.strategy,placement:t.position,open:r,onOpenChange:l,middleware:sme(t)}),{delay:b,currentId:y,setCurrentId:w}=wq(u,{id:s}),{getReferenceProps:k,getFloatingProps:x}=ND([bq(u,{enabled:(E=t.events)==null?void 0:E.hover,delay:i?b:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((S=t.events)!=null&&S.touch)}),Oq(u,{enabled:(_=t.events)==null?void 0:_.focus,visibleOnly:!0}),Dq(u,{role:"tooltip"}),RD(u,{enabled:typeof t.opened>"u"})]);hB({opened:r,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:d,update:f}}),dl(()=>{var T;(T=t.onPositionChange)==null||T.call(t,h)},[h]);const C=r&&y&&y!==s;return{x:a,y:c,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:x,getReferenceProps:k,isGroupPhase:C,opened:r,placement:h}}const N4={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:lp("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},ame=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:vn(e),"--tooltip-bg":n?Kr(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),ad=Me((t,e)=>{const n=Q("Tooltip",N4,t),{children:o,position:r,refProp:i,label:s,openDelay:l,closeDelay:a,onPositionChange:c,opened:u,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:b,unstyled:y,style:w,className:k,withArrow:x,arrowSize:C,arrowOffset:E,arrowRadius:S,arrowPosition:_,offset:T,transitionProps:M,multiline:$,events:D,zIndex:z,disabled:H,positionDependencies:U,onClick:R,onMouseEnter:O,onMouseLeave:N,inline:P,variant:K,keepMounted:Z,vars:ie,portalProps:ve,mod:Pe,floatingStrategy:Ge,middlewares:qe,...We}=Q("Tooltip",N4,n),{dir:Zt}=dp(),et=v.useRef(null),Nt=lme({position:lB(Zt,r),closeDelay:a,openDelay:l,onPositionChange:c,opened:u,defaultOpened:d,events:D,arrowRef:et,arrowOffset:E,offset:typeof T=="number"?T+(x?C/2:0):T,positionDependencies:[...U,o],inline:P,strategy:Ge,middlewares:qe}),_o=Se({name:"Tooltip",props:n,classes:s1,className:k,style:w,classNames:m,styles:b,unstyled:y,rootSelector:"tooltip",vars:ie,varsResolver:ame});if(!sp(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const si=ns(Nt.reference,Y2(o),e),Jo=Jpe(M,{duration:100,transition:"fade"}),Qo=o.props;return g.jsxs(g.Fragment,{children:[g.jsx(fp,{...ve,withinPortal:f,children:g.jsx(qa,{...Jo,keepMounted:Z,mounted:!H&&!!Nt.opened,duration:Nt.isGroupPhase?10:Jo.duration,children:li=>g.jsxs(le,{...We,"data-fixed":Ge==="fixed"||void 0,variant:K,mod:[{multiline:$},Pe],...Nt.getFloatingProps({ref:Nt.floating,className:_o("tooltip").className,style:{..._o("tooltip").style,...li,zIndex:z,top:Nt.y??0,left:Nt.x??0}}),children:[s,g.jsx(rE,{ref:et,arrowX:Nt.arrowX,arrowY:Nt.arrowY,visible:x,position:Nt.placement,arrowSize:C,arrowOffset:E,arrowRadius:S,arrowPosition:_,..._o("arrow")})]})})}),v.cloneElement(o,Nt.getReferenceProps({onClick:R,onMouseEnter:O,onMouseLeave:N,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:dt(k,Qo.className),...Qo,[i]:si}))]})});ad.classes=s1;ad.displayName="@mantine/core/Tooltip";ad.Floating=SE;ad.Group=EE;var LB={root:"m_18320242","skeleton-fade":"m_299c329c"};const cme={visible:!0,animate:!0},ume=(t,{width:e,height:n,radius:o,circle:r})=>({root:{"--skeleton-height":B(n),"--skeleton-width":B(r?n:e),"--skeleton-radius":r?"1000px":o===void 0?void 0:vn(o)}}),ty=Me((t,e)=>{const n=Q("Skeleton",cme,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,width:c,height:u,circle:d,visible:f,radius:h,animate:p,mod:m,...b}=n,y=Se({name:"Skeleton",classes:LB,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:ume});return g.jsx(le,{ref:e,...y("root"),mod:[{visible:f,animate:p},m],...b})});ty.classes=LB;ty.displayName="@mantine/core/Skeleton";var DB={root:"m_6d731127"};const dme={gap:"md",align:"stretch",justify:"flex-start"},fme=(t,{gap:e,align:n,justify:o})=>({root:{"--stack-gap":ap(e),"--stack-align":n,"--stack-justify":o}}),mp=Me((t,e)=>{const n=Q("Stack",dme,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,align:c,justify:u,gap:d,variant:f,...h}=n,p=Se({name:"Stack",props:n,classes:DB,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:fme});return g.jsx(le,{ref:e,...p("root"),variant:f,...h})});mp.classes=DB;mp.displayName="@mantine/core/Stack";const[hme,TE]=G0("Tabs component was not found in the tree");var gp={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const pme={},ME=Me((t,e)=>{const n=Q("TabsList",pme,t),{children:o,className:r,grow:i,justify:s,classNames:l,styles:a,style:c,mod:u,...d}=n,f=TE();return g.jsx(le,{...d,...f.getStyles("list",{className:r,style:c,classNames:l,styles:a,props:n,variant:f.variant}),ref:e,role:"tablist",variant:f.variant,mod:[{grow:i,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},u],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s},children:o})});ME.classes=gp;ME.displayName="@mantine/core/TabsList";const mme={},AE=Me((t,e)=>{const n=Q("TabsPanel",mme,t),{children:o,className:r,value:i,classNames:s,styles:l,style:a,mod:c,keepMounted:u,...d}=n,f=TE(),h=f.value===i,p=f.keepMounted||u||h?o:null;return g.jsx(le,{...d,...f.getStyles("panel",{className:r,classNames:s,styles:l,style:[a,h?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:f.orientation},c],role:"tabpanel",id:f.getPanelId(i),"aria-labelledby":f.getTabId(i),children:p})});AE.classes=gp;AE.displayName="@mantine/core/TabsPanel";const gme={},RE=Me((t,e)=>{const n=Q("TabsTab",gme,t),{className:o,children:r,rightSection:i,leftSection:s,value:l,onClick:a,onKeyDown:c,disabled:u,color:d,style:f,classNames:h,styles:p,vars:m,mod:b,tabIndex:y,...w}=n,k=Co(),{dir:x}=dp(),C=TE(),E=l===C.value,S=T=>{C.onChange(C.allowTabDeactivation&&l===C.value?null:l),a==null||a(T)},_={classNames:h,styles:p,props:n};return g.jsxs(Ga,{...w,...C.getStyles("tab",{className:o,style:f,variant:C.variant,..._}),disabled:u,unstyled:C.unstyled,variant:C.variant,mod:[{active:E,disabled:u,orientation:C.orientation,inverted:C.inverted,placement:C.orientation==="vertical"&&C.placement},b],ref:e,role:"tab",id:C.getTabId(l),"aria-selected":E,tabIndex:y!==void 0?y:E||C.value===null?0:-1,"aria-controls":C.getPanelId(l),onClick:S,__vars:{"--tabs-color":d?Kr(d,k):void 0},onKeyDown:$6({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:C.activateTabWithKeyboard,loop:C.loop,orientation:C.orientation||"horizontal",dir:x,onKeyDown:c}),children:[s&&g.jsx("span",{...C.getStyles("tabSection",_),"data-position":"left",children:s}),r&&g.jsx("span",{...C.getStyles("tabLabel",_),children:r}),i&&g.jsx("span",{...C.getStyles("tabSection",_),"data-position":"right",children:i})]})});RE.classes=gp;RE.displayName="@mantine/core/TabsTab";const O4="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",bme={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},yme=(t,{radius:e,color:n,autoContrast:o})=>({root:{"--tabs-radius":vn(e),"--tabs-color":Kr(n,t),"--tabs-text-color":Ufe(o,t)?q6({color:n,theme:t,autoContrast:o}):void 0}}),Oi=Me((t,e)=>{const n=Q("Tabs",bme,t),{defaultValue:o,value:r,onChange:i,orientation:s,children:l,loop:a,id:c,activateTabWithKeyboard:u,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:b,keepMounted:y,classNames:w,styles:k,unstyled:x,className:C,style:E,vars:S,autoContrast:_,mod:T,...M}=n,$=cp(c),[D,z]=nd({value:r,defaultValue:o,finalValue:null,onChange:i}),H=Se({name:"Tabs",props:n,classes:gp,className:C,style:E,classNames:w,styles:k,unstyled:x,vars:S,varsResolver:yme});return g.jsx(hme,{value:{placement:b,value:D,orientation:s,id:$,loop:a,activateTabWithKeyboard:u,getTabId:u4(`${$}-tab`,O4),getPanelId:u4(`${$}-panel`,O4),onChange:z,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:y,unstyled:x,getStyles:H},children:g.jsx(le,{ref:e,id:$,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&m,placement:s==="vertical"&&b},T],...H("root"),...M,children:l})})});Oi.classes=gp;Oi.displayName="@mantine/core/Tabs";Oi.Tab=RE;Oi.Panel=AE;Oi.List=ME;const vme={},l1=Me((t,e)=>{const n=Q("TextInput",vme,t);return g.jsx(id,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});l1.classes=id.classes;l1.displayName="@mantine/core/TextInput";const IB=(t,e,n=!1)=>{const o=[];function r(i,s="--bn"){for(const l in i){const a=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),c=`${s}-${a}`;typeof i[l]!="object"?(typeof i[l]=="number"&&(i[l]=`${i[l]}px`),n?e.style.removeProperty(c):e.style.setProperty(c,i[l].toString())):r(i[l],c)}}return r(t),o},L4=(t,e)=>IB(t,e),wme={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},kme=t=>IB(wme,t,!0),$B=t=>g.jsxs(mp,{gap:0,className:"bn-tooltip",children:[g.jsx(Zr,{size:"sm",lineClamp:5,children:t.mainTooltip}),t.secondaryTooltip&&g.jsx(Zr,{size:"xs",lineClamp:5,children:t.secondaryTooltip})]}),ww=v.forwardRef((t,e)=>{const{className:n,children:o,mainTooltip:r,secondaryTooltip:i,icon:s,isSelected:l,isDisabled:a,onClick:c,label:u,variant:d,...f}=t;he(f,!1);const[h,p]=v.useState(!1),m=o?g.jsx(xr,{"aria-label":u,className:n,onMouseDown:b=>{Ux()&&b.currentTarget.focus()},onClick:b=>{p(!0),c==null||c(b)},onPointerLeave:()=>p(!1),"aria-pressed":l,"data-selected":l||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:d==="compact"?"compact-xs":"xs",disabled:a||!1,ref:e,...f,children:o}):g.jsx(Wa,{className:n,"aria-label":u,onMouseDown:b=>{Ux()&&b.currentTarget.focus()},onClick:b=>{p(!0),c==null||c(b)},onPointerLeave:()=>p(!1),"aria-pressed":l,"data-selected":l||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:d==="compact"?20:30,disabled:a||!1,ref:e,...f,children:s});return r?g.jsx(ad,{disabled:h,withinPortal:!1,label:g.jsx($B,{mainTooltip:r,secondaryTooltip:i}),children:m}):m}),xme=v.forwardRef((t,e)=>{const{className:n,text:o,icon:r,isSelected:i,mainTooltip:s,secondaryTooltip:l,onClick:a,onMouseEnter:c,...u}=t;he(u,!1);const[d,f]=v.useState(!1),h=g.jsxs(i1,{className:n,checked:i===!0,wrapperProps:{onMouseEnter:c,onMouseLeave:()=>f(!1),onClick:p=>{f(!0),a==null||a(p)}},variant:"light",icon:null,ref:e,children:[g.jsx("span",{children:r}),g.jsx("span",{children:o})]});return!s||d?h:g.jsx(ad,{refProp:"rootRef",withinPortal:!1,label:g.jsx($B,{mainTooltip:s,secondaryTooltip:l}),children:h})}),Cme=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r),g.jsx(on,{className:n,ref:e,children:o})}),_me=v.forwardRef((t,e)=>{const{className:n,children:o,headerText:r,selected:i,onFocus:s,onBlur:l,tabIndex:a,...c}=t;he(c,!1);const u=v.useRef(null);return v.useEffect(()=>{var d;i&&((d=u.current)==null||d.scrollIntoView({behavior:"smooth",block:"center"}))},[i]),g.jsxs(hp,{className:Xe(n,i?"selected":""),onFocus:s,onBlur:l,tabIndex:a,ref:V2([e,u]),children:[r&&g.jsx(Zr,{className:"bn-header-text",children:r}),o]})}),Sme=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r,!1),g.jsx(hp.Section,{className:n,ref:e,children:o})}),Eme=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r,!1),g.jsx(yE,{className:n,label:g.jsx(Zr,{children:o}),ref:e})}),Tme=v.forwardRef((t,e)=>{const{authorInfo:n,timeString:o,edited:r,...i}=t,s=ue();return he(i,!1),n==="loading"?g.jsxs(on,{children:[g.jsx(ty,{height:24,width:24}),g.jsx("div",{children:g.jsx(ty,{height:12,width:100})})]}):g.jsxs(on,{children:[g.jsx(o1,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),g.jsxs(Zr,{fz:"sm",fw:"bold",children:[n.username,g.jsxs(Zr,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[o," ",r&&`(${s.comments.edited})`]})]})]})}),Mme=v.forwardRef((t,e)=>{const{className:n,showActions:o,authorInfo:r,timeString:i,edited:s,actions:l,children:a,...c}=t,{hovered:u,ref:d}=Jde(),{focused:f,ref:h}=V6(),p=V2([e,d]);return he(c,!1),g.jsxs(on,{pos:"relative",ref:p,className:n,children:[l&&(o===!0||o===void 0||o==="hover"&&u||f)?g.jsx(on,{ref:h,style:{position:"absolute",right:0,top:0,zIndex:10},children:l}):null,g.jsx(Tme,{...t}),a]})}),Ame=v.forwardRef((t,e)=>{const{className:n,autoFocus:o,onFocus:r,onBlur:i,editor:s,editable:l,...a}=t;return he(a,!1),g.jsx(cC,{autoFocus:o,className:n,editor:t.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:l,ref:e,onFocus:r,onBlur:i,children:g.jsx(F2,{formattingToolbar:Rme})})}),Rme=()=>{const t=v6([]).filter(e=>e.key!=="nestBlockButton"&&e.key!=="unnestBlockButton");return g.jsx(U2,{blockTypeSelectItems:[],children:t})},Nme=v.forwardRef((t,e)=>{const{className:n,name:o,label:r,variant:i,icon:s,value:l,autoFocus:a,placeholder:c,disabled:u,onKeyDown:d,onChange:f,onSubmit:h,autoComplete:p,rightSection:m,...b}=t;return he(b),g.jsx(l1,{size:"xs",className:Xe(n||"",i==="large"?"bn-mt-input-large":""),ref:e,name:o,label:r,leftSection:s,value:l,autoFocus:a,"data-autofocus":a?"true":void 0,rightSection:m,placeholder:c,disabled:u,onKeyDown:d,onChange:f,onSubmit:h,autoComplete:p})});var PB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D4=ee.createContext&&ee.createContext(PB),Ome=["attr","size","title"];function Lme(t,e){if(t==null)return{};var n=Dme(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Dme(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ny.apply(this,arguments)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(o){Ime(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Ime(t,e,n){return e=$me(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $me(t){var e=Pme(t,"string");return typeof e=="symbol"?e:e+""}function Pme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jB(t){return t&&t.map((e,n)=>ee.createElement(e.tag,oy({key:n},e.attr),jB(e.child)))}function BB(t){return e=>ee.createElement(jme,ny({attr:oy({},t.attr)},e),jB(t.child))}function jme(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=Lme(t,Ome),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),ee.createElement("svg",ny({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:oy(oy({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ee.createElement("title",null,i),t.children)};return D4!==void 0?ee.createElement(D4.Consumer,null,n=>e(n)):e(PB)}function Bme(t){return BB({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function zme(t){return BB({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const zB=v.createContext(void 0),Hme=v.forwardRef((t,e)=>{const{children:n,onOpenChange:o,position:r,sub:i,...s}=t;he(s);const[l,a]=v.useState(!1),c=v.useRef(null),u=v.useRef(void 0),d=v.useCallback(()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{a(!1)},250)},[]),f=v.useCallback(()=>{u.current&&clearTimeout(u.current),a(!0)},[]);return g.jsx(zB.Provider,{value:{onMenuMouseOver:f,onMenuMouseLeave:d},children:g.jsx(bt.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:up(e,c),onMouseOver:f,onMouseLeave:d,children:g.jsx(bt,{portalProps:{target:c.current?c.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:l,onChange:o,position:r,children:n})})})}),Vme=t=>{const{children:e,onOpenChange:n,position:o,sub:r,...i}=t;return he(i),r?g.jsx(Hme,{...t}):g.jsx(bt,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:o,children:e})},Ume=v.forwardRef((t,e)=>{const{className:n,children:o,icon:r,checked:i,subTrigger:s,onClick:l,...a}=t;return he(a,!1),s?g.jsxs("div",{onClick:c=>{c.preventDefault(),c.stopPropagation()},ref:e,...a,children:[o,g.jsx(zme,{size:15})]}):g.jsx(bt.Item,{className:n,ref:e,leftSection:r,rightSection:i?g.jsx(fE,{size:10}):i===!1?g.jsx("div",{className:"bn-tick-space"}):null,onClick:l,...a,children:o})}),Fme=t=>{const{children:e,sub:n,...o}=t;return he(o),g.jsx(bt.Target,{children:e})},Gme=v.forwardRef((t,e)=>{const{className:n,children:o,sub:r,...i}=t;he(i);const s=v.useContext(zB);return g.jsx(bt.Dropdown,{className:n,ref:e,onMouseOver:s==null?void 0:s.onMenuMouseOver,onMouseLeave:s==null?void 0:s.onMenuMouseLeave,children:o})}),qme=v.forwardRef((t,e)=>{const{className:n,...o}=t;return he(o),g.jsx(bt.Divider,{className:n,ref:e})}),Wme=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r),g.jsx(bt.Label,{className:n,ref:e,children:o})}),Kme=v.forwardRef((t,e)=>{const{className:n,children:o,icon:r,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,label:c,...u}=t;return he(u,!1),r?g.jsx(Wa,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:r}):g.jsx(xr,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:o})}),Zme=v.forwardRef((t,e)=>{const{className:n,tabs:o,defaultOpenTab:r,openTab:i,setOpenTab:s,loading:l,...a}=t;return he(a),g.jsx(on,{className:n,ref:e,children:g.jsxs(Oi,{value:i,defaultValue:r,onChange:s,children:[l&&g.jsx(wE,{visible:l}),g.jsx(Oi.List,{children:o.map(c=>g.jsx(Oi.Tab,{"data-test":`${c.name.toLowerCase()}-tab`,value:c.name,children:c.name},c.name))}),o.map(c=>g.jsx(Oi.Panel,{value:c.name,children:c.tabPanel},c.name))]})})}),Yme=v.forwardRef((t,e)=>{const{className:n,children:o,onClick:r,label:i,...s}=t;return he(s),g.jsx(xr,{size:"xs","aria-label":i,className:n,ref:e,onClick:r,...s,children:o})}),Xme=v.forwardRef((t,e)=>{const{className:n,accept:o,value:r,placeholder:i,onChange:s,...l}=t;return he(l),g.jsx(Hpe,{size:"xs",className:n,ref:e,accept:o,value:r,placeholder:i,onChange:s,...l})}),Jme=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r),g.jsx("div",{className:n,ref:e,children:o})}),Qme=v.forwardRef((t,e)=>{const{className:n,value:o,placeholder:r,onKeyDown:i,onChange:s,...l}=t;return he(l),g.jsx(l1,{size:"xs","data-test":"embed-input",className:n,ref:e,value:o,placeholder:r,onKeyDown:i,onChange:s})}),ege=t=>{const{opened:e,position:n,children:o,...r}=t;return he(r),g.jsx(Sl,{withinPortal:!1,opened:e,position:n,children:o})},tge=t=>{const{children:e,...n}=t;return he(n),g.jsx(sE,{children:e})},nge=v.forwardRef((t,e)=>{const{className:n,children:o,variant:r,...i}=t;return he(i),g.jsx(Y0,{className:n,ref:e,children:o})}),oge=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r,!1),g.jsx(on,{align:"center",gap:0,className:n,ref:e,...r,children:o})}),rge=v.forwardRef((t,e)=>{const{className:n,children:o,icon:r,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,label:c,...u}=t;return he(u,!1),r?g.jsx(Wa,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:r}):g.jsx(xr,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:o})}),ige=v.forwardRef((t,e)=>{const{className:n,children:o,id:r,...i}=t;return he(i),g.jsx(mp,{gap:0,className:n,ref:e,id:r,role:"listbox",children:o})}),sge=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r),g.jsx(on,{className:n,ref:e,children:g.jsx(on,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),lge=v.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:r,item:i,id:s,...l}=t;he(l);const a=v.useRef(null);return v.useEffect(()=>{if(!a.current||!o)return;const c=L6(a.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));c==="top"?a.current.scrollIntoView(!0):c==="bottom"&&a.current.scrollIntoView(!1)},[o]),g.jsxs(on,{gap:0,className:n,ref:up(e,a),id:s,role:"option",onMouseDown:c=>c.preventDefault(),onClick:r,"aria-selected":o||void 0,children:[i.icon&&g.jsx(on,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:i.icon}),g.jsxs(mp,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[g.jsx(Zr,{className:"bn-mt-suggestion-menu-item-title",children:i.title}),g.jsx(Zr,{className:"bn-mt-suggestion-menu-item-subtitle",children:i.subtext})]}),i.badge&&g.jsx(on,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:g.jsx(pE,{size:"xs",children:i.badge})})]})}),age=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return he(r),g.jsx(on,{className:n,ref:e,children:o})}),cge=v.forwardRef((t,e)=>{const{className:n,...o}=t;return he(o),g.jsx(El,{className:n,type:"dots",size:16,ref:e})}),uge=v.forwardRef((t,e)=>{const{className:n,children:o,id:r,columns:i,...s}=t;return he(s),g.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${i}, 1fr)`},ref:e,id:r,role:"grid",children:o})}),dge=v.forwardRef((t,e)=>{const{className:n,children:o,columns:r,...i}=t;return he(i),g.jsx(on,{className:n,style:{gridColumn:`1 / ${r+1}`},ref:e,children:g.jsx(on,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),fge=v.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:r,item:i,id:s,...l}=t;he(l);const a=v.useRef(null);return v.useEffect(()=>{if(!a.current||!o)return;const c=L6(a.current,document.querySelector(".bn-grid-suggestion-menu"));c==="top"?a.current.scrollIntoView(!0):c==="bottom"&&a.current.scrollIntoView(!1)},[o]),g.jsx("div",{className:n,ref:up(e,a),id:s,role:"option",onClick:r,"aria-selected":o||void 0,children:i.icon})}),hge=v.forwardRef((t,e)=>{const{className:n,children:o,columns:r,...i}=t;return he(i),g.jsx(El,{className:n,style:{gridColumn:`1 / ${r+1}`},type:"dots",ref:e})}),pge=v.forwardRef((t,e)=>{const{children:n,className:o,onMouseDown:r,onClick:i,...s}=t;return he(s,!1),g.jsx(xr,{className:o,ref:e,onMouseDown:r,onClick:i,...s,children:n})}),mge=v.forwardRef((t,e)=>{const{className:n,children:o,draggable:r,onDragStart:i,onDragEnd:s,style:l,label:a,...c}=t;return he(c,!1),g.jsx(xr,{className:n,ref:e,"aria-label":a,draggable:r,onDragStart:i,onDragEnd:s,style:l,...c,children:o})}),kw=v.forwardRef((t,e)=>{const{className:n,children:o,onMouseEnter:r,onMouseLeave:i,variant:s,...l}=t;he(l);const{ref:a,focused:c}=V6(),u=H6(c),d=up(e,a,u);return g.jsx(dE,{className:n,ref:d,role:"toolbar",onMouseEnter:r,onMouseLeave:i,gap:s==="action-toolbar"?2:void 0,children:o})}),xw=v.forwardRef((t,e)=>{const{className:n,items:o,isDisabled:r,...i}=t;he(i);const s=o.filter(l=>l.isSelected)[0];return s?g.jsxs(bt,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:r,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[g.jsx(bt.Target,{children:g.jsx(xr,{onMouseDown:l=>{Ux()&&l.currentTarget.focus()},leftSection:s.icon,rightSection:g.jsx(Bme,{}),size:"xs",variant:"subtle",disabled:r,children:s.text})}),g.jsx(bt.Dropdown,{className:n,ref:e,children:o.map(l=>g.jsx(bt.Item,{onClick:l.onClick,leftSection:l.icon,rightSection:l.isSelected?g.jsx(fE,{size:10,className:"bn-tick-icon"}):g.jsx("div",{className:"bn-tick-space"}),disabled:l.isDisabled,children:l.text},l.text))})]}):null}),gge={FormattingToolbar:{Root:kw,Button:ww,Select:xw},FilePanel:{Root:Zme,Button:Yme,FileInput:Xme,TabPanel:Jme,TextInput:Qme},GridSuggestionMenu:{Root:uge,Item:fge,EmptyItem:dge,Loader:hge},LinkToolbar:{Root:kw,Button:ww,Select:xw},SideMenu:{Root:oge,Button:rge},SuggestionMenu:{Root:ige,Item:lge,EmptyItem:sge,Label:age,Loader:cge},TableHandle:{Root:mge,ExtendButton:pge},Generic:{Badge:{Root:xme,Group:Cme},Form:{Root:t=>g.jsx("div",{children:t.children}),TextInput:Nme},Menu:{Root:Vme,Trigger:Fme,Dropdown:Gme,Divider:qme,Label:Wme,Item:Ume,Button:Kme},Popover:{Root:ege,Trigger:tge,Content:nge},Toolbar:{Root:kw,Button:ww,Select:xw}},Comments:{Comment:Mme,Editor:Ame,Card:_me,CardSection:Sme,ExpandSectionsPrompt:Eme}},bge={activeClassName:""},cC=t=>{const{className:e,theme:n,...o}=t,r=ii(),i=A6(),s=(r==null?void 0:r.colorSchemePreference)||i,l=v.useCallback(c=>{if(c&&(kme(c),typeof n=="object")){if("light"in n&&"dark"in n){L4(n[s==="dark"?"dark":"light"],c);return}L4(n,c);return}},[s,n]),a=typeof n=="string"?n:s!=="no-preference"?s:"light";return g.jsx(t6.Provider,{value:gge,children:g.jsx(Z6,{theme:bge,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:g.jsx(ade,{"data-mantine-color-scheme":a,className:Xe("bn-mantine",e||""),theme:typeof n=="object"?void 0:n,...o,ref:l})})})};var yge=Object.defineProperty,vge=(t,e,n)=>e in t?yge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xn=(t,e,n)=>vge(t,typeof e!="symbol"?e+"":e,n);const wge={slash_menu:{two_columns:{title:"عمودان",subtext:"عمودان جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"},three_columns:{title:"ثلاثة أعمدة",subtext:"ثلاثة أعمدة جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"}}},kge={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"}}},xge={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},Cge={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"}}},_ge={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"}}},Sge={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},Ege={slash_menu:{two_columns:{title:"Tvær Dálkar",subtext:"Tvær dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"},three_columns:{title:"Þrír Dálkar",subtext:"Þrír dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"}}},Tge={slash_menu:{two_columns:{title:"二列",subtext:"二列並んで",aliases:["列","行","分割"],group:"基本ブロック"},three_columns:{title:"三列",subtext:"三列並んで",aliases:["列","行","分割"],group:"基本ブロック"}}},Mge={slash_menu:{two_columns:{title:"두 열",subtext:"두 열 나란히",aliases:["열","행","분할"],group:"기본 블록"},three_columns:{title:"세 열",subtext:"세 열 나란히",aliases:["열","행","분할"],group:"기본 블록"}}},Age={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},Rge={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"}}},Nge={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"},three_columns:{title:"Três Colunas",subtext:"Três colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"}}},Oge={slash_menu:{two_columns:{title:"Два Столбца",subtext:"Два столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"},three_columns:{title:"Три Столбца",subtext:"Три столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"}}},Lge={slash_menu:{two_columns:{title:"Hai Cột",subtext:"Hai cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"},three_columns:{title:"Ba Cột",subtext:"Ba cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"}}},Dge={slash_menu:{two_columns:{title:"两列",subtext:"两列并排",aliases:["列","行","分割"],group:"基础"},three_columns:{title:"三列",subtext:"三列并排",aliases:["列","行","分割"],group:"基础"}}},uC=Object.freeze(Object.defineProperty({__proto__:null,ar:wge,de:kge,en:xge,es:Cge,fr:_ge,hr:Sge,is:Ege,ja:Tge,ko:Mge,nl:Age,pl:Rge,pt:Nge,ru:Oge,vi:Lge,zh:Dge},Symbol.toStringTag,{value:"Module"}));function $4(t){if(!t.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return t.dictionary.multi_column}const Ts=new Te("ColumnResizePlugin");class Ige{constructor(e,n){xn(this,"editor"),xn(this,"view"),xn(this,"RESIZE_MARGIN_WIDTH_PX",20),xn(this,"COLUMN_MIN_WIDTH_PERCENT",.5),xn(this,"getColumnHoverOrDefaultState",o=>{if(!this.editor.isEditable)return{type:"default"};const r=o.target;if(!this.view.dom.contains(r))return{type:"default"};const i=r.closest(".bn-block-column");if(!i)return{type:"default"};const s=o.clientX,l=i.getBoundingClientRect(),a=s<l.left+this.RESIZE_MARGIN_WIDTH_PX?"left":s>l.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",c=a==="left"?i.previousElementSibling:a==="right"?i.nextElementSibling:void 0;if(!c)return{type:"default"};const u=a==="left"?c:i,d=a==="left"?i:c,f=u.getAttribute("data-id"),h=d.getAttribute("data-id"),p=Rn(f,this.view.state.doc),m=Rn(h,this.view.state.doc);if(!p||!m||!p.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:u,id:f,...p},rightColumn:{element:d,id:h,...m}}}),xn(this,"mouseDownHandler",o=>{let r=this.getColumnHoverOrDefaultState(o);if(r.type==="default")return;o.preventDefault();const i=o.clientX,s=r.leftColumn.element.getBoundingClientRect().width,l=r.rightColumn.element.getBoundingClientRect().width,a=r.leftColumn.node.attrs.width,c=r.rightColumn.node.attrs.width;r={type:"resize",startPos:i,leftColumn:{...r.leftColumn,widthPx:s,widthPercent:a},rightColumn:{...r.rightColumn,widthPx:l,widthPercent:c}},this.view.dispatch(this.view.state.tr.setMeta(Ts,r)),this.editor.sideMenu.freezeMenu()}),xn(this,"mouseMoveHandler",o=>{var r,i;const s=Ts.getState(this.view.state);if(!s)return;if(s.type!=="resize"){const d=this.getColumnHoverOrDefaultState(o),f=s.type==="default"&&d.type==="default",h=s.type!=="default"&&d.type!=="default"&&s.leftColumn.id===d.leftColumn.id&&s.rightColumn.id===d.rightColumn.id;if(f||h||d.type==="hover"&&(i=(r=this.editor.sideMenu.view)==null?void 0:r.state)!=null&&i.show)return;this.view.dispatch(this.view.state.tr.setMeta(Ts,d));return}const l=(o.clientX-s.startPos)*s.leftColumn.widthPercent,a=(s.leftColumn.widthPx+l)/s.leftColumn.widthPx-1;let c=s.leftColumn.widthPercent+a,u=s.rightColumn.widthPercent-a;c<this.COLUMN_MIN_WIDTH_PERCENT?(u-=this.COLUMN_MIN_WIDTH_PERCENT-c,c=this.COLUMN_MIN_WIDTH_PERCENT):u<this.COLUMN_MIN_WIDTH_PERCENT&&(c-=this.COLUMN_MIN_WIDTH_PERCENT-u,u=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(s.leftColumn.posBeforeNode,"width",c).setNodeAttribute(s.rightColumn.posBeforeNode,"width",u).setMeta("addToHistory",!1))}),xn(this,"mouseUpHandler",o=>{const r=Ts.getState(this.view.state);if(!r||r.type!=="resize")return;const i=this.getColumnHoverOrDefaultState(o);this.view.dispatch(this.view.state.tr.setMeta(Ts,i)),this.editor.sideMenu.unfreezeMenu()}),this.editor=e,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}}const $ge=t=>new de({key:Ts,props:{decorations:e=>{const n=Ts.getState(e);return!n||n.type==="default"?ye.empty:ye.create(e.doc,[Le.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),Le.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(e,n)=>{const o=e.getMeta(Ts);return o===void 0?n:o}},view:e=>new Ige(t,e)}),Pge=t=>He.create({name:"columnResize",addProseMirrorPlugins(){return[$ge(t)]}}),jge=Ln({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,marks:"deletion insertion modification",addAttributes(){return{width:{default:1,parseHTML:t=>{const e=t.getAttribute("data-width");if(e===null)return null;const n=parseFloat(e);return isFinite(n)?n:null},renderHTML:t=>({"data-width":t.width.toString(),style:`flex-grow: ${t.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return{dom:e,contentDOM:e}},addExtensions(){return[Pge(this.options.editor)]}}),Bge=Ln({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column-list",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return e.style.display="flex",{dom:e,contentDOM:e}}}),HB=Yo(jge,{width:{default:1}}),VB=Yo(Bge,{}),P4=td.create({blockSpecs:{column:HB,columnList:VB}}),zge=t=>td.create({blockSpecs:{...t.blockSpecs,column:HB,columnList:VB},inlineContentSpecs:t.inlineContentSpecs,styleSpecs:t.styleSpecs}),ry=.1;function Hge(t){return{left:t.clientX,top:t.clientY}}function Vge(t){const e=t.editor;return new de({view(n){return new Uge(n,t)},props:{handleDrop(n,o,r,i){const s=n.posAtCoords(Hge(o));if(!s)throw new Error("Could not get event position");const l=UB(n.state,s),a=Zi(l),c=n.nodeDOM(l.posBeforeNode).getBoundingClientRect();let u="regular";if(o.clientX<=c.left+c.width*ry&&(u="left"),o.clientX>=c.right-c.width*ry&&(u="right"),u==="regular")return!1;const d=Je(r.content.child(0),e.pmSchema);if(a.blockNoteType==="column"){const f=n.state.doc.resolve(a.bnBlock.beforePos).node(),h=Je(f,e.pmSchema);let p=0;h.children.forEach(w=>{p+=w.props.width});const m=p/h.children.length;if(m<.99||m>1.01){const w=1/m;h.children.forEach(k=>{k.props.width=k.props.width*w})}const b=h.children.findIndex(w=>w.id===a.bnBlock.node.attrs.id),y=h.children.map(w=>({...w,children:w.children.filter(k=>k.id!==d.id)})).filter(w=>w.children.length>0).toSpliced(u==="left"?b:b+1,0,{type:"column",children:[d],props:{},content:void 0,id:ep.options.generateID()});e.removeBlocks([d]),e.updateBlock(h,{children:y})}else{const f=Je(a.bnBlock.node,e.pmSchema);if(f.id===d.id)return;const h=u==="left"?[d,f]:[f,d];e.removeBlocks([d]),e.replaceBlocks([f],[{type:"columnList",children:h.map(p=>({type:"column",children:[p]}))}])}return!0}}})}class Uge{constructor(e,n){xn(this,"width"),xn(this,"color"),xn(this,"class"),xn(this,"cursorPos"),xn(this,"element",null),xn(this,"timeout"),xn(this,"handlers"),this.editorView=e,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{const r=i=>{this[o](i)};return e.dom.addEventListener(o,r,o==="drop"?!0:void 0),{name:o,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n,e==="drop"?!0:void 0))}update(e,n){this.cursorPos!=null&&n.doc!==e.state.doc&&(this.cursorPos.pos>e.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(e){var n,o;e===this.cursorPos||(e==null?void 0:e.pos)===((n=this.cursorPos)==null?void 0:n.pos)&&(e==null?void 0:e.position)===((o=this.cursorPos)==null?void 0:o.position)||(this.cursorPos=e,e?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const e=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!e.parent.inlineContent;let o;const r=this.editorView.dom,i=r.getBoundingClientRect(),s=i.width/r.offsetWidth,l=i.height/r.offsetHeight;if(n){const d=e.nodeBefore,f=e.nodeAfter;if(d||f)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const h=this.editorView.nodeDOM(this.cursorPos.pos);if(!h)throw new Error("nodeDOM returned null in updateOverlay");const p=h.getBoundingClientRect(),m=this.width/2*l,b=this.cursorPos.position==="left"?p.left:p.right;o={left:b-m,right:b+m,top:p.top,bottom:p.bottom}}else{const h=this.editorView.nodeDOM(this.cursorPos.pos-(d?d.nodeSize:0));if(h){const p=h.getBoundingClientRect();let m=d?p.bottom:p.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const b=this.width/2*l;this.cursorPos.position==="regular"&&(o={left:p.left,right:p.right,top:m-b,bottom:m+b})}}}if(!o){const d=this.editorView.coordsAtPos(this.cursorPos.pos),f=this.width/2*s;o={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}const a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!a||a===document.body&&getComputedStyle(a).position==="static")c=-window.scrollX,u=-window.scrollY;else{const d=a.getBoundingClientRect(),f=d.width/a.offsetWidth,h=d.height/a.offsetHeight;c=d.left-a.scrollLeft*f,u=d.top-a.scrollTop*h}this.element.style.left=(o.left-c)/s+"px",this.element.style.top=(o.top-u)/l+"px",this.element.style.width=(o.right-o.left)/s+"px",this.element.style.height=(o.bottom-o.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),e)}dragover(e){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s="regular",l=n.pos;const a=UB(this.editorView.state,n),c=this.editorView.nodeDOM(a.posBeforeNode).getBoundingClientRect();if(e.clientX<=c.left+c.width*ry&&(s="left",l=a.posBeforeNode),e.clientX>=c.right-c.width*ry&&(s="right",l=a.posBeforeNode),s==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const u=hS(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor({pos:l,position:s}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(e){(e.target===this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(void 0)}}function UB(t,e){const n=Wr(t.doc,e.pos);let o=t.doc.resolve(n.posBeforeNode);return o.parent.type.name==="column"&&(o=t.doc.resolve(o.before())),{posBeforeNode:o.pos,node:o.nodeAfter}}var FB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j4=ee.createContext&&ee.createContext(FB),Fge=["attr","size","title"];function Gge(t,e){if(t==null)return{};var n=qge(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function qge(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},iy.apply(this,arguments)}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function sy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(o){Wge(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Wge(t,e,n){return e=Kge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kge(t){var e=Zge(t,"string");return typeof e=="symbol"?e:e+""}function Zge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GB(t){return t&&t.map((e,n)=>ee.createElement(e.tag,sy({key:n},e.attr),GB(e.child)))}function qB(t){return e=>ee.createElement(Yge,iy({attr:sy({},t.attr)},e),GB(t.child))}function Yge(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=Gge(t,Fge),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),ee.createElement("svg",iy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:sy(sy({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ee.createElement("title",null,i),t.children)};return j4!==void 0?ee.createElement(j4.Consumer,null,n=>e(n)):e(FB)}function Xge(t){return qB({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"},child:[]}]})(t)}function Jge(t){return qB({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm6 -1v18m6 -18v18"},child:[]}]})(t)}function Qge(t){return"column"in t.schema.blockSchema&&t.schema.blockSchema.columnList===P4.blockSchema.columnList&&"column"in t.schema.blockSchema&&t.schema.blockSchema.column===P4.blockSchema.column}function ebe(t){const e=[];return Qge(t)&&e.push({...$4(t).slash_menu.two_columns,icon:g.jsx(Xge,{size:18}),onItemClick:()=>{ht(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...$4(t).slash_menu.three_columns,icon:g.jsx(Jge,{size:18}),onItemClick:()=>{ht(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),e}var WB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z4=ee.createContext&&ee.createContext(WB),tbe=["attr","size","title"];function nbe(t,e){if(t==null)return{};var n=obe(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function obe(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ly.apply(this,arguments)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(o){rbe(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function rbe(t,e,n){return e=ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=sbe(t,"string");return typeof e=="symbol"?e:e+""}function sbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KB(t){return t&&t.map((e,n)=>ee.createElement(e.tag,ay({key:n},e.attr),KB(e.child)))}function Tl(t){return e=>ee.createElement(lbe,ly({attr:ay({},t.attr)},e),KB(t.child))}function lbe(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=nbe(t,tbe),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),ee.createElement("svg",ly({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:ay(ay({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&ee.createElement("title",null,i),t.children)};return z4!==void 0?ee.createElement(z4.Consumer,null,n=>e(n)):e(WB)}function abe(t){return Tl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function cbe(t){return Tl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(t)}function ZB(t){return Tl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},child:[]}]})(t)}function YB(t){return Tl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4m.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2"},child:[]}]})(t)}function XB(t){return Tl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},child:[]}]})(t)}function tg(t){return Tl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"},child:[]}]})(t)}function JB(t){return Tl({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},child:[]}]})(t)}const eu=[{title:"Default",value:"default",icon:tg,color:"#9a9a9aff",backgroundColor:{light:"#fff6e6",dark:"#ffe9c3ff"}},{title:"Warning",value:"warning",icon:XB,color:"#e69819",backgroundColor:{light:"#fff6e6",dark:"#805d20"}},{title:"Error",value:"error",icon:JB,color:"#d80d0d",backgroundColor:{light:"#ffe6e6",dark:"#802020"}},{title:"Info",value:"info",icon:YB,color:"#507aff",backgroundColor:{light:"#e6ebff",dark:"#203380"}},{title:"Success",value:"success",icon:ZB,color:"#0bc10b",backgroundColor:{light:"#e6ffe6",dark:"#208020"}}],ube=Qu({type:"alert",propSchema:{textAlignment:ut.textAlignment,textColor:ut.textColor,type:{default:"warning",values:["warning","error","info","success","default"]}},content:"inline"},{render:(t,e)=>{const n=document.createElement("div");n.className="alert",n.setAttribute("data-alert-type",t.props.type);const o=document.createElement("div");o.className="alert-icon-wrapper",o.contentEditable="false",o.setAttribute("aria-haspopup","menu"),o.setAttribute("aria-expanded","false");const r=document.createElement("div");r.className="alert-icon",r.setAttribute("data-alert-icon-type",t.props.type),o.appendChild(r);const i=document.createElement("div");i.className="bn-inline-content inline-content";const s=document.createElement("div");return s.setAttribute("data-node-view-content-react",""),s.style.cssText="white-space: inherit;",i.appendChild(s),o.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation();const u=(eu.findIndex(f=>f.value===t.props.type)+1)%eu.length,d=eu[u].value;requestAnimationFrame(()=>{e.updateBlock(t,{type:"alert",props:{type:d}})})}),(()=>{const a=V4(t.props.type);r.innerHTML=a})(),n.appendChild(o),n.appendChild(i),{dom:n,contentDOM:s,update:a=>a.type!=="alert"?!1:(n.setAttribute("data-alert-type",a.props.type),r.setAttribute("data-alert-icon-type",a.props.type),r.innerHTML=V4(a.props.type),!0)}}});function V4(t){const e=eu.find(s=>s.value===t),n=(e==null?void 0:e.icon)||tg,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","16"),o.setAttribute("height","16"),o.setAttribute("fill","currentColor"),o.setAttribute("viewBox","0 0 16 16");const r={[tg.name]:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z",[XB.name]:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z",[JB.name]:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z",[YB.name]:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z",[ZB.name]:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.061L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",r[n.name]||r[tg.name]),o.appendChild(i),o.outerHTML}function dbe({editor:t,block:e}){const n=te();if(e.type!=="alert")return null;const o=eu.find(i=>i.value===e.props.type),r=o==null?void 0:o.icon;return g.jsxs(Un,{withinPortal:!1,position:"right",offset:5,children:[g.jsx(Un.Target,{children:g.jsx(n.SideMenu.Button,{className:"bn-button c-no-padding","data-test":"alert-type-button",children:r&&g.jsx(r,{size:16,style:{color:o==null?void 0:o.color}})})}),g.jsx(Un.Dropdown,{children:g.jsxs(Oe,{p:"xs",children:[g.jsx("div",{style:{fontSize:"12px",fontWeight:600,marginBottom:"8px",color:"var(--mantine-color-dimmed)"},children:"Alert Type"}),g.jsx(Bf,{gap:"2px",wrap:"nowrap",children:eu.map(i=>{const s=i.icon,l=i.value===e.props.type;return g.jsx(Oe,{onClick:()=>{t.updateBlock(e,{type:"alert",props:{type:i.value}})},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"4px",cursor:"pointer",backgroundColor:l?"var(--mantine-color-blue-light)":"transparent",border:l?"1px solid var(--mantine-color-blue-filled)":"1px solid transparent",transition:"all 0.15s ease"},title:i.title,onMouseEnter:a=>{l||(a.currentTarget.style.backgroundColor="var(--mantine-color-gray-light)")},onMouseLeave:a=>{l||(a.currentTarget.style.backgroundColor="transparent")},children:g.jsx(s,{size:14,style:{color:i.color}})},i.value)})})]})})]})}const fbe=[{id:"649883dc-a3b5-49a7-af6f-dbeeaeb71e9a",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1,isToggleable:!1},content:[{type:"text",text:"標題一",styles:{bold:!0}}],children:[]},{id:"aecb8d2b-7ec4-4257-9b49-1614b24e977f",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2,isToggleable:!1},content:[{type:"text",text:"標題二",styles:{bold:!0}}],children:[]},{id:"2b942e46-0e7c-4a4a-b86b-533a264ac127",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:3,isToggleable:!1},content:[{type:"text",text:"標題三",styles:{bold:!0}}],children:[]},{id:"3c7e6115-790c-4f78-90cd-aa66ad0e66ea",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:4,isToggleable:!1},content:[{type:"text",text:"標題四",styles:{bold:!0}}],children:[]},{id:"63027acb-0ce0-4d46-a053-24650e4ab7fe",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:5,isToggleable:!1},content:[{type:"text",text:"標題五",styles:{bold:!0}}],children:[]},{id:"1c5e686e-0de6-4a59-bec0-c64a9729fc7c",type:"columnList",props:{},children:[{id:"a800239e-d95b-4c45-a948-8a7aca2cde61",type:"column",props:{width:1},children:[{id:"498e66fc-af42-4f59-9c59-9a26cd31cafa",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"文字",styles:{}}],children:[{id:"3484a8aa-b806-4deb-a9fe-bc82d9422128",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內縮",styles:{}}],children:[]}]}]},{id:"be7de043-6fe6-481d-b9b4-435a79f4b028",type:"column",props:{width:1},children:[{id:"31f108c6-5985-4ca4-899c-caa04702d235",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]}]}]},{id:"7350a08d-b2c4-428a-a263-342acb7563aa",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"引用",styles:{}}],children:[]},{id:"d161d6af-155a-486f-acde-bc4a063f7038",type:"toggleListItem",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"項目一",styles:{}}],children:[{id:"10f31383-813f-4486-bf83-5da66a42151b",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"文字內容",styles:{}}],children:[]}]},{id:"c52695a2-80e4-48f6-bcd3-ce1240145c27",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"數字第一個",styles:{}}],children:[]},{id:"158ecd7e-ccde-4618-b371-619aac92d6ce",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"數字第二個",styles:{}}],children:[]},{id:"bd668ad8-48f6-4108-a28c-b39c88d43aa1",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"圓點第一個",styles:{}}],children:[]},{id:"37ce31c7-cbaf-4b6c-a69d-96c07b459bba",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"圓點第二個",styles:{}}],children:[]},{id:"05079489-dc0e-4b90-a926-94dbf8a6f1b1",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"是否確認",styles:{}}],children:[{id:"305e69ff-bbe9-4270-ba09-1544595d04c1",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"是",styles:{}}],children:[]}]},{id:"36fd2dfe-f8ac-490e-87e4-b1b54873188c",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"0142108d-5a5d-4f5c-93d0-5867b87be22d",type:"codeBlock",props:{language:"typescript"},content:[{type:"text",text:"const x = 3 * 4;",styles:{}}],children:[]},{id:"622c951a-90f8-4619-93fe-5537f0fbc04c",type:"table",props:{textColor:"default"},content:{type:"tableContent",columnWidths:[null,null,null],rows:[{cells:[{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]},{cells:[{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]}]},children:[]},{id:"84bc5f04-4a71-4589-bd24-161f021cbee4",type:"image",props:{backgroundColor:"default",textAlignment:"left",name:"",url:"",caption:"",showPreview:!0},children:[]},{id:"70305fed-3e62-4294-9418-0a8156e305c8",type:"video",props:{backgroundColor:"default",textAlignment:"left",name:"",url:"",caption:"",showPreview:!0},children:[]},{id:"073007c2-1bb1-4998-85c7-2e7a9f1c4a2d",type:"audio",props:{backgroundColor:"default",name:"",url:"",caption:"",showPreview:!0},children:[]},{id:"ced0ec9e-f534-4993-82c7-52f851e86959",type:"file",props:{backgroundColor:"default",name:"",url:"",caption:""},children:[]},{id:"dc7c58d1-ddc6-407d-aabb-3d7e13462c0f",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"d0bac4a5-5456-4cfb-a8e6-ee83f754f6d6",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1,isToggleable:!0},content:[{type:"text",text:"標題一",styles:{bold:!0}}],children:[{id:"81598b28-e769-4ce5-9f05-75fd37255fde",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"3b0996a5-56f3-4cf0-a036-1db7436aa96c",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2,isToggleable:!0},content:[{type:"text",text:"標題二",styles:{bold:!0}}],children:[{id:"74a146c5-c49d-407e-bb11-97aaa675465d",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"f72b6e2b-9c98-4306-863f-73cd052e2c02",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:3,isToggleable:!0},content:[{type:"text",text:"標題三",styles:{bold:!0}}],children:[{id:"dbbdb8b6-4718-4159-be96-4656c311bd90",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"0b56f07c-25dd-4cc4-a048-5b190b4edc17",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:4,isToggleable:!0},content:[{type:"text",text:"標題四",styles:{bold:!0}}],children:[{id:"69a1fdff-311f-4be7-975b-c335014476e4",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"76887983-cf6e-4d58-8e12-25c464d5744b",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:5,isToggleable:!0},content:[{type:"text",text:"標題五",styles:{bold:!0}}],children:[{id:"ac3e96b8-0d53-44d6-9e79-3dbec70b7a94",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"5c793453-d825-4cb2-8114-668a82a5575e",type:"alert",props:{textColor:"default",textAlignment:"left",type:"info"},content:[{type:"text",text:"info",styles:{}}],children:[]},{id:"e538fc55-d7a1-415b-9adb-b84906ac2483",type:"alert",props:{textColor:"default",textAlignment:"left",type:"success"},content:[{type:"text",text:"success",styles:{}}],children:[]},{id:"e0e26b89-26cf-4e9c-b6e5-a2ef7bce6c35",type:"alert",props:{textColor:"default",textAlignment:"left",type:"warning"},content:[{type:"text",text:"warning",styles:{}}],children:[]},{id:"b73c4e19-55cf-4231-8661-081359035680",type:"alert",props:{textColor:"default",textAlignment:"left",type:"error"},content:[{type:"text",text:"error",styles:{}}],children:[]},{id:"ac12df85-0f49-4e70-a61b-84d5cd68258b",type:"alert",props:{textColor:"default",textAlignment:"left",type:"default"},content:[{type:"text",text:"default",styles:{}}],children:[]}];function hbe(t){return Tl({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}let Tt=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function pbe(t){return NE(t)}function NE(t){return Array.isArray(t)?mbe(t):t instanceof RegExp?t:typeof t=="object"?gbe(t):t}function mbe(t){let e=[];for(let n=0,o=t.length;n<o;n++)e[n]=NE(t[n]);return e}function gbe(t){let e={};for(let n in t)e[n]=NE(t[n]);return e}function QB(t,...e){return e.forEach(n=>{for(let o in n)t[o]=n[o]}),t}function e9(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?e9(t.substring(0,t.length-1)):t.substr(~e+1)}var Cw=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,bm=class{static hasCaptures(t){return t===null?!1:(Cw.lastIndex=0,Cw.test(t))}static replaceCaptures(t,e,n){return t.replace(Cw,(o,r,i,s)=>{let l=n[parseInt(r||i,10)];if(l){let a=e.substring(l.start,l.end);for(;a[0]===".";)a=a.substring(1);switch(s){case"downcase":return a.toLowerCase();case"upcase":return a.toUpperCase();default:return a}}else return o})}};function t9(t,e){return t<e?-1:t>e?1:0}function n9(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,o=e.length;if(n===o){for(let r=0;r<n;r++){let i=t9(t[r],e[r]);if(i!==0)return i}return 0}return n-o}function U4(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function o9(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var r9=class{constructor(t){I(this,"cache",new Map);this.fn=t}get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},cy=class{constructor(t,e,n){I(this,"_cachedMatchRoot",new r9(t=>this._root.match(t)));this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(vbe(t),e)}static createFromParsedTheme(t,e){return kbe(t,e)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,o=this._cachedMatchRoot.get(e).find(r=>bbe(t.parent,r.parentScopes));return o?new i9(o.fontStyle,o.foreground,o.background):null}},_w=class ng{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const o of n)e=new ng(e,o);return e}static from(...e){let n=null;for(let o=0;o<e.length;o++)n=new ng(n,e[o]);return n}push(e){return new ng(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let o=this;for(;o&&o!==e;)n.push(o.scopeName),o=o.parent;return o===e?n.reverse():void 0}};function bbe(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let o=e[n],r=!1;if(o===">"){if(n===e.length-1)return!1;o=e[++n],r=!0}for(;t&&!ybe(t.scopeName,o);){if(r)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function ybe(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var i9=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function vbe(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],o=0;for(let r=0,i=e.length;r<i;r++){let s=e[r];if(!s.settings)continue;let l;if(typeof s.scope=="string"){let d=s.scope;d=d.replace(/^[,]+/,""),d=d.replace(/[,]+$/,""),l=d.split(",")}else Array.isArray(s.scope)?l=s.scope:l=[""];let a=-1;if(typeof s.settings.fontStyle=="string"){a=0;let d=s.settings.fontStyle.split(" ");for(let f=0,h=d.length;f<h;f++)switch(d[f]){case"italic":a=a|1;break;case"bold":a=a|2;break;case"underline":a=a|4;break;case"strikethrough":a=a|8;break}}let c=null;typeof s.settings.foreground=="string"&&U4(s.settings.foreground)&&(c=s.settings.foreground);let u=null;typeof s.settings.background=="string"&&U4(s.settings.background)&&(u=s.settings.background);for(let d=0,f=l.length;d<f;d++){let p=l[d].trim().split(" "),m=p[p.length-1],b=null;p.length>1&&(b=p.slice(0,p.length-1),b.reverse()),n[o++]=new wbe(m,b,r,a,c,u)}}return n}var wbe=class{constructor(t,e,n,o,r,i){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=o,this.foreground=r,this.background=i}},un=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(un||{});function kbe(t,e){t.sort((a,c)=>{let u=t9(a.scope,c.scope);return u!==0||(u=n9(a.parentScopes,c.parentScopes),u!==0)?u:a.index-c.index});let n=0,o="#000000",r="#ffffff";for(;t.length>=1&&t[0].scope==="";){let a=t.shift();a.fontStyle!==-1&&(n=a.fontStyle),a.foreground!==null&&(o=a.foreground),a.background!==null&&(r=a.background)}let i=new xbe(e),s=new i9(n,i.getId(o),i.getId(r)),l=new _be(new dC(0,null,-1,0,0),[]);for(let a=0,c=t.length;a<c;a++){let u=t[a];l.insert(0,u.scope,u.parentScopes,u.fontStyle,i.getId(u.foreground),i.getId(u.background))}return new cy(i,s,l)}var xbe=class{constructor(t){I(this,"_isFrozen");I(this,"_lastColorId");I(this,"_id2color");I(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},Cbe=Object.freeze([]),dC=class s9{constructor(e,n,o,r,i){I(this,"scopeDepth");I(this,"parentScopes");I(this,"fontStyle");I(this,"foreground");I(this,"background");this.scopeDepth=e,this.parentScopes=n||Cbe,this.fontStyle=o,this.foreground=r,this.background=i}clone(){return new s9(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let o=0,r=e.length;o<r;o++)n[o]=e[o].clone();return n}acceptOverwrite(e,n,o,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),o!==0&&(this.foreground=o),r!==0&&(this.background=r)}},_be=class fC{constructor(e,n=[],o={}){I(this,"_rulesWithParentScopes");this._mainRule=e,this._children=o,this._rulesWithParentScopes=n}static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let o=0,r=0;for(;e.parentScopes[o]===">"&&o++,n.parentScopes[r]===">"&&r++,!(o>=e.parentScopes.length||r>=n.parentScopes.length);){const i=n.parentScopes[r].length-e.parentScopes[o].length;if(i!==0)return i;o++,r++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let o=e.indexOf("."),r,i;if(o===-1?(r=e,i=""):(r=e.substring(0,o),i=e.substring(o+1)),this._children.hasOwnProperty(r))return this._children[r].match(i)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(fC._cmpBySpecificity),n}insert(e,n,o,r,i,s){if(n===""){this._doInsertHere(e,o,r,i,s);return}let l=n.indexOf("."),a,c;l===-1?(a=n,c=""):(a=n.substring(0,l),c=n.substring(l+1));let u;this._children.hasOwnProperty(a)?u=this._children[a]:(u=new fC(this._mainRule.clone(),dC.cloneArr(this._rulesWithParentScopes)),this._children[a]=u),u.insert(e+1,c,o,r,i,s)}_doInsertHere(e,n,o,r,i){if(n===null){this._mainRule.acceptOverwrite(e,o,r,i);return}for(let s=0,l=this._rulesWithParentScopes.length;s<l;s++){let a=this._rulesWithParentScopes[s];if(n9(a.parentScopes,n)===0){a.acceptOverwrite(e,o,r,i);return}}o===-1&&(o=this._mainRule.fontStyle),r===0&&(r=this._mainRule.foreground),i===0&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new dC(e,n,o,r,i))}},Ru=class Eo{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Eo.getLanguageId(e),o=Eo.getTokenType(e),r=Eo.getFontStyle(e),i=Eo.getForeground(e),s=Eo.getBackground(e);console.log({languageId:n,tokenType:o,fontStyle:r,foreground:i,background:s})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,o,r,i,s,l){let a=Eo.getLanguageId(e),c=Eo.getTokenType(e),u=Eo.containsBalancedBrackets(e)?1:0,d=Eo.getFontStyle(e),f=Eo.getForeground(e),h=Eo.getBackground(e);return n!==0&&(a=n),o!==8&&(c=o),r!==null&&(u=r?1:0),i!==-1&&(d=i),s!==0&&(f=s),l!==0&&(h=l),(a<<0|c<<8|u<<10|d<<11|f<<15|h<<24)>>>0}};function uy(t,e){const n=[],o=Sbe(t);let r=o.next();for(;r!==null;){let a=0;if(r.length===2&&r.charAt(1)===":"){switch(r.charAt(0)){case"R":a=1;break;case"L":a=-1;break;default:console.log(`Unknown priority ${r} in scope selector`)}r=o.next()}let c=s();if(n.push({matcher:c,priority:a}),r!==",")break;r=o.next()}return n;function i(){if(r==="-"){r=o.next();const a=i();return c=>!!a&&!a(c)}if(r==="("){r=o.next();const a=l();return r===")"&&(r=o.next()),a}if(F4(r)){const a=[];do a.push(r),r=o.next();while(F4(r));return c=>e(a,c)}return null}function s(){const a=[];let c=i();for(;c;)a.push(c),c=i();return u=>a.every(d=>d(u))}function l(){const a=[];let c=s();for(;c&&(a.push(c),r==="|"||r===",");){do r=o.next();while(r==="|"||r===",");c=s()}return u=>a.some(d=>d(u))}}function F4(t){return!!t&&!!t.match(/[\w\.:]+/)}function Sbe(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const o=n[0];return n=e.exec(t),o}}}function l9(t){typeof t.dispose=="function"&&t.dispose()}var bh=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Ebe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Tbe=class{constructor(){I(this,"_references",[]);I(this,"_seenReferenceKeys",new Set);I(this,"visitedRule",new Set)}get references(){return this._references}add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Mbe=class{constructor(t,e){I(this,"seenFullScopeRequests",new Set);I(this,"seenPartialScopeRequests",new Set);I(this,"Q");this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new bh(this.initialScopeName)]}processQueue(){const t=this.Q;this.Q=[];const e=new Tbe;for(const n of t)Abe(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof bh){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Abe(t,e,n,o){const r=n.lookup(t.scopeName);if(!r){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const i=n.lookup(e);t instanceof bh?og({baseGrammar:i,selfGrammar:r},o):hC(t.ruleName,{baseGrammar:i,selfGrammar:r,repository:r.repository},o);const s=n.injections(t.scopeName);if(s)for(const l of s)o.add(new bh(l))}function hC(t,e,n){if(e.repository&&e.repository[t]){const o=e.repository[t];dy([o],e,n)}}function og(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&dy(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&dy(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function dy(t,e,n){for(const o of t){if(n.visitedRule.has(o))continue;n.visitedRule.add(o);const r=o.repository?QB({},e.repository,o.repository):e.repository;Array.isArray(o.patterns)&&dy(o.patterns,{...e,repository:r},n);const i=o.include;if(!i)continue;const s=a9(i);switch(s.kind){case 0:og({...e,selfGrammar:e.baseGrammar},n);break;case 1:og(e,n);break;case 2:hC(s.ruleName,{...e,repository:r},n);break;case 3:case 4:const l=s.scopeName===e.selfGrammar.scopeName?e.selfGrammar:s.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(l){const a={baseGrammar:e.baseGrammar,selfGrammar:l,repository:r};s.kind===4?hC(s.ruleName,a,n):og(a,n)}else s.kind===4?n.add(new Ebe(s.scopeName,s.ruleName)):n.add(new bh(s.scopeName));break}}}var Rbe=class{constructor(){I(this,"kind",0)}},Nbe=class{constructor(){I(this,"kind",1)}},Obe=class{constructor(t){I(this,"kind",2);this.ruleName=t}},Lbe=class{constructor(t){I(this,"kind",3);this.scopeName=t}},Dbe=class{constructor(t,e){I(this,"kind",4);this.scopeName=t,this.ruleName=e}};function a9(t){if(t==="$base")return new Rbe;if(t==="$self")return new Nbe;const e=t.indexOf("#");if(e===-1)return new Lbe(t);if(e===0)return new Obe(t.substring(1));{const n=t.substring(0,e),o=t.substring(e+1);return new Dbe(n,o)}}var Ibe=/\\(\d+)/,G4=/\\(\d+)/g,$be=-1,c9=-2;var bp=class{constructor(t,e,n,o){I(this,"$location");I(this,"id");I(this,"_nameIsCapturing");I(this,"_name");I(this,"_contentNameIsCapturing");I(this,"_contentName");this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=bm.hasCaptures(this._name),this._contentName=o||null,this._contentNameIsCapturing=bm.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${e9(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:bm.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:bm.replaceCaptures(this._contentName,t,e)}},Pbe=class extends bp{constructor(e,n,o,r,i){super(e,n,o,r);I(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,o,r){throw new Error("Not supported!")}},jbe=class extends bp{constructor(e,n,o,r,i){super(e,n,o,null);I(this,"_match");I(this,"captures");I(this,"_cachedCompiledPatterns");this._match=new yh(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e).compileAG(e,o,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new vh,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},q4=class extends bp{constructor(e,n,o,r,i){super(e,n,o,r);I(this,"hasMissingPatterns");I(this,"patterns");I(this,"_cachedCompiledPatterns");this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const o of this.patterns)e.getRule(o).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e).compileAG(e,o,r)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new vh,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},pC=class extends bp{constructor(e,n,o,r,i,s,l,a,c,u){super(e,n,o,r);I(this,"_begin");I(this,"beginCaptures");I(this,"_end");I(this,"endHasBackReferences");I(this,"endCaptures");I(this,"applyEndPatternLast");I(this,"hasMissingPatterns");I(this,"patterns");I(this,"_cachedCompiledPatterns");this._begin=new yh(i,this.id),this.beginCaptures=s,this._end=new yh(l||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=c||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e,n).compileAG(e,o,r)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new vh;for(const o of this.patterns)e.getRule(o).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},fy=class extends bp{constructor(e,n,o,r,i,s,l,a,c){super(e,n,o,r);I(this,"_begin");I(this,"beginCaptures");I(this,"whileCaptures");I(this,"_while");I(this,"whileHasBackReferences");I(this,"hasMissingPatterns");I(this,"patterns");I(this,"_cachedCompiledPatterns");I(this,"_cachedCompiledWhilePatterns");this._begin=new yh(i,this.id),this.beginCaptures=s,this.whileCaptures=a,this._while=new yh(l,c9),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,o,r){return this._getCachedCompiledPatterns(e).compileAG(e,o,r)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new vh;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,o,r){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,o,r)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new vh,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"￿"),this._cachedCompiledWhilePatterns}},u9=class sn{static createCaptureRule(e,n,o,r,i){return e.registerRule(s=>new Pbe(n,s,o,r,i))}static getCompiledRuleId(e,n,o){return e.id||n.registerRule(r=>{if(e.id=r,e.match)return new jbe(e.$vscodeTextmateLocation,e.id,e.name,e.match,sn._compileCaptures(e.captures,n,o));if(typeof e.begin>"u"){e.repository&&(o=QB({},o,e.repository));let i=e.patterns;return typeof i>"u"&&e.include&&(i=[{include:e.include}]),new q4(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,sn._compilePatterns(i,n,o))}return e.while?new fy(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,sn._compileCaptures(e.beginCaptures||e.captures,n,o),e.while,sn._compileCaptures(e.whileCaptures||e.captures,n,o),sn._compilePatterns(e.patterns,n,o)):new pC(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,sn._compileCaptures(e.beginCaptures||e.captures,n,o),e.end,sn._compileCaptures(e.endCaptures||e.captures,n,o),e.applyEndPatternLast,sn._compilePatterns(e.patterns,n,o))}),e.id}static _compileCaptures(e,n,o){let r=[];if(e){let i=0;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const l=parseInt(s,10);l>i&&(i=l)}for(let s=0;s<=i;s++)r[s]=null;for(const s in e){if(s==="$vscodeTextmateLocation")continue;const l=parseInt(s,10);let a=0;e[s].patterns&&(a=sn.getCompiledRuleId(e[s],n,o)),r[l]=sn.createCaptureRule(n,e[s].$vscodeTextmateLocation,e[s].name,e[s].contentName,a)}}return r}static _compilePatterns(e,n,o){let r=[];if(e)for(let i=0,s=e.length;i<s;i++){const l=e[i];let a=-1;if(l.include){const c=a9(l.include);switch(c.kind){case 0:case 1:a=sn.getCompiledRuleId(o[l.include],n,o);break;case 2:let u=o[c.ruleName];u&&(a=sn.getCompiledRuleId(u,n,o));break;case 3:case 4:const d=c.scopeName,f=c.kind===4?c.ruleName:null,h=n.getExternalGrammar(d,o);if(h)if(f){let p=h.repository[f];p&&(a=sn.getCompiledRuleId(p,n,h.repository))}else a=sn.getCompiledRuleId(h.repository.$self,n,h.repository);break}}else a=sn.getCompiledRuleId(l,n,o);if(a!==-1){const c=n.getRule(a);let u=!1;if((c instanceof q4||c instanceof pC||c instanceof fy)&&c.hasMissingPatterns&&c.patterns.length===0&&(u=!0),u)continue;r.push(a)}}return{patterns:r,hasMissingPatterns:(e?e.length:0)!==r.length}}},yh=class d9{constructor(e,n){I(this,"source");I(this,"ruleId");I(this,"hasAnchor");I(this,"hasBackReferences");I(this,"_anchorCache");if(e&&typeof e=="string"){const o=e.length;let r=0,i=[],s=!1;for(let l=0;l<o;l++)if(e.charAt(l)==="\\"&&l+1<o){const c=e.charAt(l+1);c==="z"?(i.push(e.substring(r,l)),i.push("$(?!\\n)(?<!\\n)"),r=l+2):(c==="A"||c==="G")&&(s=!0),l++}this.hasAnchor=s,r===0?this.source=e:(i.push(e.substring(r,o)),this.source=i.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Ibe.test(this.source):this.hasBackReferences=!1}clone(){return new d9(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let o=n.map(r=>e.substring(r.start,r.end));return G4.lastIndex=0,this.source.replace(G4,(r,i)=>o9(o[parseInt(i,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],o=[],r=[],i,s,l,a;for(i=0,s=this.source.length;i<s;i++)l=this.source.charAt(i),e[i]=l,n[i]=l,o[i]=l,r[i]=l,l==="\\"&&i+1<s&&(a=this.source.charAt(i+1),a==="A"?(e[i+1]="￿",n[i+1]="￿",o[i+1]="A",r[i+1]="A"):a==="G"?(e[i+1]="￿",n[i+1]="G",o[i+1]="￿",r[i+1]="G"):(e[i+1]=a,n[i+1]=a,o[i+1]=a,r[i+1]=a),i++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:o.join(""),A1_G1:r.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},vh=class{constructor(){I(this,"_items");I(this,"_hasAnchors");I(this,"_cached");I(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new W4(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let o=this._items.map(r=>r.resolveAnchors(e,n));return new W4(t,o,this._items.map(r=>r.ruleId))}},W4=class{constructor(t,e,n){I(this,"scanner");this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const o=this.scanner.findNextMatchSync(t,e,n);return o?{ruleId:this.rules[o.index],captureIndices:o.captureIndices}:null}},Sw=class{constructor(t,e){this.languageId=t,this.tokenType=e}},_i,Bbe=(_i=class{constructor(e,n){I(this,"_defaultAttributes");I(this,"_embeddedLanguagesMatcher");I(this,"_getBasicScopeAttributes",new r9(e=>{const n=this._scopeToLanguage(e),o=this._toStandardTokenType(e);return new Sw(n,o)}));this._defaultAttributes=new Sw(e,8),this._embeddedLanguagesMatcher=new zbe(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?_i._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(_i.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},I(_i,"_NULL_SCOPE_METADATA",new Sw(0,0)),I(_i,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),_i),zbe=class{constructor(t){I(this,"values");I(this,"scopesRegExp");if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,o])=>o9(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},K4=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function f9(t,e,n,o,r,i,s,l){const a=e.content.length;let c=!1,u=-1;if(s){const h=Hbe(t,e,n,o,r,i);r=h.stack,o=h.linePos,n=h.isFirstLine,u=h.anchorPosition}const d=Date.now();for(;!c;){if(l!==0&&Date.now()-d>l)return new K4(r,!0);f()}return new K4(r,!1);function f(){const h=Vbe(t,e,n,o,r,u);if(!h){i.produce(r,a),c=!0;return}const p=h.captureIndices,m=h.matchedRuleId,b=p&&p.length>0?p[0].end>o:!1;if(m===$be){const y=r.getRule(t);i.produce(r,p[0].start),r=r.withContentNameScopesList(r.nameScopesList),Ud(t,e,n,r,i,y.endCaptures,p),i.produce(r,p[0].end);const w=r;if(r=r.parent,u=w.getAnchorPos(),!b&&w.getEnterPos()===o){r=w,i.produce(r,a),c=!0;return}}else{const y=t.getRule(m);i.produce(r,p[0].start);const w=r,k=y.getName(e.content,p),x=r.contentNameScopesList.pushAttributed(k,t);if(r=r.push(m,o,u,p[0].end===a,null,x,x),y instanceof pC){const C=y;Ud(t,e,n,r,i,C.beginCaptures,p),i.produce(r,p[0].end),u=p[0].end;const E=C.getContentName(e.content,p),S=x.pushAttributed(E,t);if(r=r.withContentNameScopesList(S),C.endHasBackReferences&&(r=r.withEndRule(C.getEndWithResolvedBackReferences(e.content,p))),!b&&w.hasSameRuleAs(r)){r=r.pop(),i.produce(r,a),c=!0;return}}else if(y instanceof fy){const C=y;Ud(t,e,n,r,i,C.beginCaptures,p),i.produce(r,p[0].end),u=p[0].end;const E=C.getContentName(e.content,p),S=x.pushAttributed(E,t);if(r=r.withContentNameScopesList(S),C.whileHasBackReferences&&(r=r.withEndRule(C.getWhileWithResolvedBackReferences(e.content,p))),!b&&w.hasSameRuleAs(r)){r=r.pop(),i.produce(r,a),c=!0;return}}else if(Ud(t,e,n,r,i,y.captures,p),i.produce(r,p[0].end),r=r.pop(),!b){r=r.safePop(),i.produce(r,a),c=!0;return}}p[0].end>o&&(o=p[0].end,n=!1)}}function Hbe(t,e,n,o,r,i){let s=r.beginRuleCapturedEOL?0:-1;const l=[];for(let a=r;a;a=a.pop()){const c=a.getRule(t);c instanceof fy&&l.push({rule:c,stack:a})}for(let a=l.pop();a;a=l.pop()){const{ruleScanner:c,findOptions:u}=Gbe(a.rule,t,a.stack.endRule,n,o===s),d=c.findNextMatchSync(e,o,u);if(d){if(d.ruleId!==c9){r=a.stack.pop();break}d.captureIndices&&d.captureIndices.length&&(i.produce(a.stack,d.captureIndices[0].start),Ud(t,e,n,a.stack,i,a.rule.whileCaptures,d.captureIndices),i.produce(a.stack,d.captureIndices[0].end),s=d.captureIndices[0].end,d.captureIndices[0].end>o&&(o=d.captureIndices[0].end,n=!1))}else{r=a.stack.pop();break}}return{stack:r,linePos:o,anchorPosition:s,isFirstLine:n}}function Vbe(t,e,n,o,r,i){const s=Ube(t,e,n,o,r,i),l=t.getInjections();if(l.length===0)return s;const a=Fbe(l,t,e,n,o,r,i);if(!a)return s;if(!s)return a;const c=s.captureIndices[0].start,u=a.captureIndices[0].start;return u<c||a.priorityMatch&&u===c?a:s}function Ube(t,e,n,o,r,i){const s=r.getRule(t),{ruleScanner:l,findOptions:a}=h9(s,t,r.endRule,n,o===i),c=l.findNextMatchSync(e,o,a);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function Fbe(t,e,n,o,r,i,s){let l=Number.MAX_VALUE,a=null,c,u=0;const d=i.contentNameScopesList.getScopeNames();for(let f=0,h=t.length;f<h;f++){const p=t[f];if(!p.matcher(d))continue;const m=e.getRule(p.ruleId),{ruleScanner:b,findOptions:y}=h9(m,e,null,o,r===s),w=b.findNextMatchSync(n,r,y);if(!w)continue;const k=w.captureIndices[0].start;if(!(k>=l)&&(l=k,a=w.captureIndices,c=w.ruleId,u=p.priority,l===r))break}return a?{priorityMatch:u===-1,captureIndices:a,matchedRuleId:c}:null}function h9(t,e,n,o,r){return{ruleScanner:t.compileAG(e,n,o,r),findOptions:0}}function Gbe(t,e,n,o,r){return{ruleScanner:t.compileWhileAG(e,n,o,r),findOptions:0}}function Ud(t,e,n,o,r,i,s){if(i.length===0)return;const l=e.content,a=Math.min(i.length,s.length),c=[],u=s[0].end;for(let d=0;d<a;d++){const f=i[d];if(f===null)continue;const h=s[d];if(h.length===0)continue;if(h.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=h.start;)r.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?r.produceFromScopes(c[c.length-1].scopes,h.start):r.produce(o,h.start),f.retokenizeCapturedWithRuleId){const m=f.getName(l,s),b=o.contentNameScopesList.pushAttributed(m,t),y=f.getContentName(l,s),w=b.pushAttributed(y,t),k=o.push(f.retokenizeCapturedWithRuleId,h.start,-1,!1,null,b,w),x=t.createOnigString(l.substring(0,h.end));f9(t,x,n&&h.start===0,h.start,k,r,!1,0),l9(x);continue}const p=f.getName(l,s);if(p!==null){const b=(c.length>0?c[c.length-1].scopes:o.contentNameScopesList).pushAttributed(p,t);c.push(new qbe(b,h.end))}}for(;c.length>0;)r.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var qbe=class{constructor(t,e){I(this,"scopes");I(this,"endPos");this.scopes=t,this.endPos=e}};function Wbe(t,e,n,o,r,i,s,l){return new Zbe(t,e,n,o,r,i,s,l)}function Z4(t,e,n,o,r){const i=uy(e,hy),s=u9.getCompiledRuleId(n,o,r.repository);for(const l of i)t.push({debugSelector:e,matcher:l.matcher,ruleId:s,grammar:r,priority:l.priority})}function hy(t,e){if(e.length<t.length)return!1;let n=0;return t.every(o=>{for(let r=n;r<e.length;r++)if(Kbe(e[r],o))return n=r+1,!0;return!1})}function Kbe(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var Zbe=class{constructor(t,e,n,o,r,i,s,l){I(this,"_rootId");I(this,"_lastRuleId");I(this,"_ruleId2desc");I(this,"_includedGrammars");I(this,"_grammarRepository");I(this,"_grammar");I(this,"_injections");I(this,"_basicScopeAttributesProvider");I(this,"_tokenTypeMatchers");if(this._rootScopeName=t,this.balancedBracketSelectors=i,this._onigLib=l,this._basicScopeAttributesProvider=new Bbe(n,o),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=s,this._grammar=Y4(e,null),this._injections=null,this._tokenTypeMatchers=[],r)for(const a of Object.keys(r)){const c=uy(a,hy);for(const u of c)this._tokenTypeMatchers.push({matcher:u.matcher,type:r[a]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:r=>r===this._rootScopeName?this._grammar:this.getExternalGrammar(r),injections:r=>this._grammarRepository.injections(r)},e=[],n=this._rootScopeName,o=t.lookup(n);if(o){const r=o.injections;if(r)for(let s in r)Z4(e,s,r[s],this,o);const i=this._grammarRepository.injections(n);i&&i.forEach(s=>{const l=this.getExternalGrammar(s);if(l){const a=l.injectionSelector;a&&Z4(e,a,l,this,l)}})}return e.sort((r,i)=>r.priority-i.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=Y4(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const o=this._tokenize(t,e,!1,n);return{tokens:o.lineTokens.getResult(o.ruleStack,o.lineLength),ruleStack:o.ruleStack,stoppedEarly:o.stoppedEarly}}tokenizeLine2(t,e,n=0){const o=this._tokenize(t,e,!0,n);return{tokens:o.lineTokens.getBinaryResult(o.ruleStack,o.lineLength),ruleStack:o.ruleStack,stoppedEarly:o.stoppedEarly}}_tokenize(t,e,n,o){this._rootId===-1&&(this._rootId=u9.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let r;if(!e||e===mC.NULL){r=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),u=this.themeProvider.getDefaults(),d=Ru.set(0,c.languageId,c.tokenType,null,u.fontStyle,u.foregroundId,u.backgroundId),f=this.getRule(this._rootId).getName(null,null);let h;f?h=wf.createRootAndLookUpScopeName(f,d,this):h=wf.createRoot("unknown",d),e=new mC(null,this._rootId,-1,-1,!1,null,h,h)}else r=!1,e.reset();t=t+`
`;const i=this.createOnigString(t),s=i.content.length,l=new Xbe(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),a=f9(this,i,r,0,e,l,!0,o);return l9(i),{lineLength:s,lineTokens:l,ruleStack:a.stack,stoppedEarly:a.stoppedEarly}}};function Y4(t,e){return t=pbe(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var wf=class Sr{constructor(e,n,o){this.parent=e,this.scopePath=n,this.tokenAttributes=o}static fromExtension(e,n){let o=e,r=(e==null?void 0:e.scopePath)??null;for(const i of n)r=_w.push(r,i.scopeNames),o=new Sr(o,r,i.encodedTokenAttributes);return o}static createRoot(e,n){return new Sr(null,new _w(null,e),n)}static createRootAndLookUpScopeName(e,n,o){const r=o.getMetadataForScope(e),i=new _w(null,e),s=o.themeProvider.themeMatch(i),l=Sr.mergeAttributes(n,r,s);return new Sr(null,i,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Sr.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,o){let r=-1,i=0,s=0;return o!==null&&(r=o.fontStyle,i=o.foregroundId,s=o.backgroundId),Ru.set(e,n.languageId,n.tokenType,null,r,i,s)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Sr._pushAttributed(this,e,n);const o=e.split(/ /g);let r=this;for(const i of o)r=Sr._pushAttributed(r,i,n);return r}static _pushAttributed(e,n,o){const r=o.getMetadataForScope(n),i=e.scopePath.push(n),s=o.themeProvider.themeMatch(i),l=Sr.mergeAttributes(e.tokenAttributes,r,s);return new Sr(e,i,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var r;const n=[];let o=this;for(;o&&o!==e;)n.push({encodedTokenAttributes:o.tokenAttributes,scopeNames:o.scopePath.getExtensionIfDefined(((r=o.parent)==null?void 0:r.scopePath)??null)}),o=o.parent;return o===e?n.reverse():void 0}},Lo,mC=(Lo=class{constructor(e,n,o,r,i,s,l,a){I(this,"_stackElementBrand");I(this,"_enterPos");I(this,"_anchorPos");I(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=i,this.endRule=s,this.nameScopesList=l,this.contentNameScopesList=a,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=o,this._anchorPos=r}equals(e){return e===null?!1:Lo._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?wf.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Lo._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,o,r,i,s,l){return new Lo(this,e,n,o,r,i,s,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var o,r;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(o=this.nameScopesList)==null?void 0:o.toString()}, ${(r=this.contentNameScopesList)==null?void 0:r.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Lo(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,o;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((o=this.contentNameScopesList)==null?void 0:o.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const o=wf.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new Lo(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,o,wf.fromExtension(o,n.contentNameScopesList))}},I(Lo,"NULL",new Lo(null,0,0,0,!1,null,null,null)),Lo),Ybe=class{constructor(t,e){I(this,"balancedBracketScopes");I(this,"unbalancedBracketScopes");I(this,"allowAny",!1);this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):uy(n,hy).map(o=>o.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>uy(n,hy).map(o=>o.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},Xbe=class{constructor(t,e,n,o){I(this,"_emitBinaryTokens");I(this,"_lineText");I(this,"_tokens");I(this,"_binaryTokens");I(this,"_lastTokenEndIndex");I(this,"_tokenTypeOverrides");this.balancedBracketSelectors=o,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){var o;if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=(t==null?void 0:t.tokenAttributes)??0,i=!1;if((o=this.balancedBracketSelectors)!=null&&o.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=(t==null?void 0:t.getScopeNames())??[];for(const l of this._tokenTypeOverrides)l.matcher(s)&&(r=Ru.set(r,0,l.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(r=Ru.set(r,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=(t==null?void 0:t.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let o=0,r=this._binaryTokens.length;o<r;o++)n[o]=this._binaryTokens[o];return n}},Jbe=class{constructor(t,e){I(this,"_grammars",new Map);I(this,"_rawGrammars",new Map);I(this,"_injectionGrammars",new Map);I(this,"_theme");this._onigLib=e,this._theme=t}dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,o,r){if(!this._grammars.has(t)){let i=this._rawGrammars.get(t);if(!i)return null;this._grammars.set(t,Wbe(t,i,e,n,o,r,this,this._onigLib))}return this._grammars.get(t)}},Qbe=class{constructor(e){I(this,"_options");I(this,"_syncRegistry");I(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new Jbe(cy.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(cy.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,o){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:o})}loadGrammarWithConfiguration(e,n,o){return this._loadGrammar(e,n,o.embeddedLanguages,o.tokenTypes,new Ybe(o.balancedBracketSelectors||[],o.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,o,r,i){const s=new Mbe(this._syncRegistry,e);for(;s.Q.length>0;)s.Q.map(l=>this._loadSingleGrammar(l.scopeName)),s.processQueue();return this._grammarForScopeName(e,n,o,r,i)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const o=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,o)}}addGrammar(e,n=[],o=0,r=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,o,r)}_grammarForScopeName(e,n=0,o=null,r=null,i=null){return this._syncRegistry.grammarForScopeName(e,n,o,r,i)}},gC=mC.NULL;const eye=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class yp{constructor(e,n,o){this.normal=n,this.property=e,o&&(this.space=o)}}yp.prototype.normal={};yp.prototype.property={};yp.prototype.space=void 0;function p9(t,e){const n={},o={};for(const r of t)Object.assign(n,r.property),Object.assign(o,r.normal);return new yp(n,o,e)}function bC(t){return t.toLowerCase()}class Yn{constructor(e,n){this.attribute=n,this.property=e}}Yn.prototype.attribute="";Yn.prototype.booleanish=!1;Yn.prototype.boolean=!1;Yn.prototype.commaOrSpaceSeparated=!1;Yn.prototype.commaSeparated=!1;Yn.prototype.defined=!1;Yn.prototype.mustUseProperty=!1;Yn.prototype.number=!1;Yn.prototype.overloadedBoolean=!1;Yn.prototype.property="";Yn.prototype.spaceSeparated=!1;Yn.prototype.space=void 0;let tye=0;const fe=Ka(),_t=Ka(),yC=Ka(),G=Ka(),Ke=Ka(),tu=Ka(),eo=Ka();function Ka(){return 2**++tye}const vC=Object.freeze(Object.defineProperty({__proto__:null,boolean:fe,booleanish:_t,commaOrSpaceSeparated:eo,commaSeparated:tu,number:G,overloadedBoolean:yC,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),Ew=Object.keys(vC);class OE extends Yn{constructor(e,n,o,r){let i=-1;if(super(e,n),X4(this,"space",r),typeof o=="number")for(;++i<Ew.length;){const s=Ew[i];X4(this,Ew[i],(o&vC[s])===vC[s])}}}OE.prototype.defined=!0;function X4(t,e,n){n&&(t[e]=n)}function cd(t){const e={},n={};for(const[o,r]of Object.entries(t.properties)){const i=new OE(o,t.transform(t.attributes||{},o),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(i.mustUseProperty=!0),e[o]=i,n[bC(o)]=o,n[bC(i.attribute)]=o}return new yp(e,n,t.space)}const m9=cd({properties:{ariaActiveDescendant:null,ariaAtomic:_t,ariaAutoComplete:null,ariaBusy:_t,ariaChecked:_t,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:_t,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:_t,ariaFlowTo:Ke,ariaGrabbed:_t,ariaHasPopup:null,ariaHidden:_t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:G,ariaLive:null,ariaModal:_t,ariaMultiLine:_t,ariaMultiSelectable:_t,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:_t,ariaReadOnly:_t,ariaRelevant:null,ariaRequired:_t,ariaRoleDescription:Ke,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:_t,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function g9(t,e){return e in t?t[e]:e}function b9(t,e){return g9(t,e.toLowerCase())}const nye=cd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tu,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:fe,allowPaymentRequest:fe,allowUserMedia:fe,alt:null,as:null,async:fe,autoCapitalize:null,autoComplete:Ke,autoFocus:fe,autoPlay:fe,blocking:Ke,capture:null,charSet:null,checked:fe,cite:null,className:Ke,cols:G,colSpan:null,content:null,contentEditable:_t,controls:fe,controlsList:Ke,coords:G|tu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fe,defer:fe,dir:null,dirName:null,disabled:fe,download:yC,draggable:_t,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fe,formTarget:null,headers:Ke,height:G,hidden:yC,high:G,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:fe,inputMode:null,integrity:null,is:null,isMap:fe,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:fe,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fe,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:fe,muted:fe,name:null,nonce:null,noModule:fe,noValidate:fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fe,optimum:G,pattern:null,ping:Ke,placeholder:null,playsInline:fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fe,referrerPolicy:null,rel:Ke,required:fe,reversed:fe,rows:G,rowSpan:G,sandbox:Ke,scope:null,scoped:fe,seamless:fe,selected:fe,shadowRootClonable:fe,shadowRootDelegatesFocus:fe,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:_t,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:fe,useMap:null,value:_t,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fe,declare:fe,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:fe,noHref:fe,noShade:fe,noWrap:fe,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:_t,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fe,disableRemotePlayback:fe,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:b9}),oye=cd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:eo,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tu,g2:tu,glyphName:tu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:eo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:eo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:eo,rev:eo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:eo,requiredFeatures:eo,requiredFonts:eo,requiredFormats:eo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:eo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:eo,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:eo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:g9}),y9=cd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),v9=cd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:b9}),w9=cd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),rye=/[A-Z]/g,J4=/-[a-z]/g,iye=/^data[-\w.:]+$/i;function sye(t,e){const n=bC(e);let o=e,r=Yn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&iye.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(J4,aye);o="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!J4.test(i)){let s=i.replace(rye,lye);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=OE}return new r(o,e)}function lye(t){return"-"+t.toLowerCase()}function aye(t){return t.charAt(1).toUpperCase()}const cye=p9([m9,nye,y9,v9,w9],"html"),k9=p9([m9,oye,y9,v9,w9],"svg"),Q4={}.hasOwnProperty;function uye(t,e){const n=e||{};function o(r,...i){let s=o.invalid;const l=o.handlers;if(r&&Q4.call(r,t)){const a=String(r[t]);s=Q4.call(l,a)?l[a]:o.unknown}if(s)return s.call(this,r,...i)}return o.handlers=n.handlers||{},o.invalid=n.invalid,o.unknown=n.unknown,o}const dye=/["&'<>`]/g,fye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hye=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,pye=/[|\\{}()[\]^$+*?.]/g,eO=new WeakMap;function mye(t,e){if(t=t.replace(e.subset?gye(e.subset):dye,o),e.subset||e.escapeOnly)return t;return t.replace(fye,n).replace(hye,o);function n(r,i,s){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,s.charCodeAt(i+2),e)}function o(r,i,s){return e.format(r.charCodeAt(0),s.charCodeAt(i+1),e)}}function gye(t){let e=eO.get(t);return e||(e=bye(t),eO.set(t,e)),e}function bye(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(pye,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const yye=/[\dA-Fa-f]/;function vye(t,e,n){const o="&#x"+t.toString(16).toUpperCase();return n&&e&&!yye.test(String.fromCharCode(e))?o:o+";"}const wye=/\d/;function kye(t,e,n){const o="&#"+String(t);return n&&e&&!wye.test(String.fromCharCode(e))?o:o+";"}const xye=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Tw={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Cye=["cent","copy","divide","gt","lt","not","para","times"],x9={}.hasOwnProperty,wC={};let ym;for(ym in Tw)x9.call(Tw,ym)&&(wC[Tw[ym]]=ym);const _ye=/[^\dA-Za-z]/;function Sye(t,e,n,o){const r=String.fromCharCode(t);if(x9.call(wC,r)){const i=wC[r],s="&"+i;return n&&xye.includes(i)&&!Cye.includes(i)&&(!o||e&&e!==61&&_ye.test(String.fromCharCode(e)))?s:s+";"}return""}function Eye(t,e,n){let o=vye(t,e,n.omitOptionalSemicolons),r;if((n.useNamedReferences||n.useShortestReferences)&&(r=Sye(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const i=kye(t,e,n.omitOptionalSemicolons);i.length<o.length&&(o=i)}return r&&(!n.useShortestReferences||r.length<o.length)?r:o}function nu(t,e){return mye(t,Object.assign({format:Eye},e))}const Tye=/^>|^->|<!--|-->|--!>|<!-$/g,Mye=[">"],Aye=["<",">"];function Rye(t,e,n,o){return o.settings.bogusComments?"<?"+nu(t.value,Object.assign({},o.settings.characterReferences,{subset:Mye}))+">":"<!--"+t.value.replace(Tye,r)+"-->";function r(i){return nu(i,Object.assign({},o.settings.characterReferences,{subset:Aye}))}}function Nye(t,e,n,o){return"<!"+(o.settings.upperDoctype?"DOCTYPE":"doctype")+(o.settings.tightDoctype?"":" ")+"html>"}function tO(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let o=0,r=n.indexOf(e);for(;r!==-1;)o++,r=n.indexOf(e,r+e.length);return o}function cwe(t){const e=[],n=String(t||"");let o=n.indexOf(","),r=0,i=!1;for(;!i;){o===-1&&(o=n.length,i=!0);const s=n.slice(r,o).trim();(s||!i)&&e.push(s),r=o+1,o=n.indexOf(",",r)}return e}function Oye(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function uwe(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Lye(t){return t.join(" ").trim()}const Dye=/[ \t\n\f\r]/g;function LE(t){return typeof t=="object"?t.type==="text"?nO(t.value):!1:nO(t)}function nO(t){return t.replace(Dye,"")===""}const Pt=_9(1),C9=_9(-1),Iye=[];function _9(t){return e;function e(n,o,r){const i=n?n.children:Iye;let s=(o||0)+t,l=i[s];if(!r)for(;l&&LE(l);)s+=t,l=i[s];return l}}const $ye={}.hasOwnProperty;function S9(t){return e;function e(n,o,r){return $ye.call(t,n.tagName)&&t[n.tagName](n,o,r)}}const DE=S9({body:jye,caption:Mw,colgroup:Mw,dd:Vye,dt:Hye,head:Mw,html:Pye,li:zye,optgroup:Uye,option:Fye,p:Bye,rp:oO,rt:oO,tbody:qye,td:rO,tfoot:Wye,th:rO,thead:Gye,tr:Kye});function Mw(t,e,n){const o=Pt(n,e,!0);return!o||o.type!=="comment"&&!(o.type==="text"&&LE(o.value.charAt(0)))}function Pye(t,e,n){const o=Pt(n,e);return!o||o.type!=="comment"}function jye(t,e,n){const o=Pt(n,e);return!o||o.type!=="comment"}function Bye(t,e,n){const o=Pt(n,e);return o?o.type==="element"&&(o.tagName==="address"||o.tagName==="article"||o.tagName==="aside"||o.tagName==="blockquote"||o.tagName==="details"||o.tagName==="div"||o.tagName==="dl"||o.tagName==="fieldset"||o.tagName==="figcaption"||o.tagName==="figure"||o.tagName==="footer"||o.tagName==="form"||o.tagName==="h1"||o.tagName==="h2"||o.tagName==="h3"||o.tagName==="h4"||o.tagName==="h5"||o.tagName==="h6"||o.tagName==="header"||o.tagName==="hgroup"||o.tagName==="hr"||o.tagName==="main"||o.tagName==="menu"||o.tagName==="nav"||o.tagName==="ol"||o.tagName==="p"||o.tagName==="pre"||o.tagName==="section"||o.tagName==="table"||o.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function zye(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&o.tagName==="li"}function Hye(t,e,n){const o=Pt(n,e);return!!(o&&o.type==="element"&&(o.tagName==="dt"||o.tagName==="dd"))}function Vye(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&(o.tagName==="dt"||o.tagName==="dd")}function oO(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&(o.tagName==="rp"||o.tagName==="rt")}function Uye(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&o.tagName==="optgroup"}function Fye(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&(o.tagName==="option"||o.tagName==="optgroup")}function Gye(t,e,n){const o=Pt(n,e);return!!(o&&o.type==="element"&&(o.tagName==="tbody"||o.tagName==="tfoot"))}function qye(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&(o.tagName==="tbody"||o.tagName==="tfoot")}function Wye(t,e,n){return!Pt(n,e)}function Kye(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&o.tagName==="tr"}function rO(t,e,n){const o=Pt(n,e);return!o||o.type==="element"&&(o.tagName==="td"||o.tagName==="th")}const Zye=S9({body:Jye,colgroup:Qye,head:Xye,html:Yye,tbody:e0e});function Yye(t){const e=Pt(t,-1);return!e||e.type!=="comment"}function Xye(t){const e=new Set;for(const o of t.children)if(o.type==="element"&&(o.tagName==="base"||o.tagName==="title")){if(e.has(o.tagName))return!1;e.add(o.tagName)}const n=t.children[0];return!n||n.type==="element"}function Jye(t){const e=Pt(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&LE(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function Qye(t,e,n){const o=C9(n,e),r=Pt(t,-1,!0);return n&&o&&o.type==="element"&&o.tagName==="colgroup"&&DE(o,n.children.indexOf(o),n)?!1:!!(r&&r.type==="element"&&r.tagName==="col")}function e0e(t,e,n){const o=C9(n,e),r=Pt(t,-1);return n&&o&&o.type==="element"&&(o.tagName==="thead"||o.tagName==="tbody")&&DE(o,n.children.indexOf(o),n)?!1:!!(r&&r.type==="element"&&r.tagName==="tr")}const vm={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function t0e(t,e,n,o){const r=o.schema,i=r.space==="svg"?!1:o.settings.omitOptionalTags;let s=r.space==="svg"?o.settings.closeEmptyElements:o.settings.voids.includes(t.tagName.toLowerCase());const l=[];let a;r.space==="html"&&t.tagName==="svg"&&(o.schema=k9);const c=n0e(o,t.properties),u=o.all(r.space==="html"&&t.tagName==="template"?t.content:t);return o.schema=r,u&&(s=!1),(c||!i||!Zye(t,e,n))&&(l.push("<",t.tagName,c?" "+c:""),s&&(r.space==="svg"||o.settings.closeSelfClosing)&&(a=c.charAt(c.length-1),(!o.settings.tightSelfClosing||a==="/"||a&&a!=='"'&&a!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(u),!s&&(!i||!DE(t,e,n))&&l.push("</"+t.tagName+">"),l.join("")}function n0e(t,e){const n=[];let o=-1,r;if(e){for(r in e)if(e[r]!==null&&e[r]!==void 0){const i=o0e(t,r,e[r]);i&&n.push(i)}}for(;++o<n.length;){const i=t.settings.tightAttributes?n[o].charAt(n[o].length-1):void 0;o!==n.length-1&&i!=='"'&&i!=="'"&&(n[o]+=" ")}return n.join("")}function o0e(t,e,n){const o=sye(t.schema,e),r=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,i=t.settings.allowDangerousCharacters?0:1;let s=t.quote,l;if(o.overloadedBoolean&&(n===o.attribute||n==="")?n=!0:(o.boolean||o.overloadedBoolean)&&(typeof n!="string"||n===o.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const a=nu(o.attribute,Object.assign({},t.settings.characterReferences,{subset:vm.name[r][i]}));return n===!0||(n=Array.isArray(n)?(o.commaSeparated?Oye:Lye)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?a:(t.settings.preferUnquoted&&(l=nu(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:vm.unquoted[r][i]}))),l!==n&&(t.settings.quoteSmart&&tO(n,s)>tO(n,t.alternative)&&(s=t.alternative),l=s+nu(n,Object.assign({},t.settings.characterReferences,{subset:(s==="'"?vm.single:vm.double)[r][i],attribute:!0}))+s),a+(l&&"="+l))}const r0e=["<","&"];function E9(t,e,n,o){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:nu(t.value,Object.assign({},o.settings.characterReferences,{subset:r0e}))}function i0e(t,e,n,o){return o.settings.allowDangerousHtml?t.value:E9(t,e,n,o)}function s0e(t,e,n,o){return o.all(t)}const l0e=uye("type",{invalid:a0e,unknown:c0e,handlers:{comment:Rye,doctype:Nye,element:t0e,raw:i0e,root:s0e,text:E9}});function a0e(t){throw new Error("Expected node, not `"+t+"`")}function c0e(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const u0e={},d0e={},f0e=[];function h0e(t,e){const n=e||u0e,o=n.quote||'"',r=o==='"'?"'":'"';if(o!=='"'&&o!=="'")throw new Error("Invalid quote `"+o+"`, expected `'` or `\"`");return{one:p0e,all:m0e,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||eye,characterReferences:n.characterReferences||d0e,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?k9:cye,quote:o,alternative:r}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function p0e(t,e,n){return l0e(t,e,n,this)}function m0e(t){const e=[],n=t&&t.children||f0e;let o=-1;for(;++o<n.length;)e[o]=this.one(n[o],o,t);return e.join("")}function py(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},o=typeof t=="string"?t:t.name;for(const[r,i]of Object.entries((e==null?void 0:e.colorReplacements)||{}))typeof i=="string"?n[r]=i:r===o&&Object.assign(n,i);return n}function Xs(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function g0e(t){return Array.isArray(t)?t:[t]}async function T9(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function IE(t){return!t||["plaintext","txt","text","plain"].includes(t)}function M9(t){return t==="ansi"||IE(t)}function $E(t){return t==="none"}function A9(t){return $E(t)}function R9(t,e){var o;if(!e)return t;t.properties||(t.properties={}),(o=t.properties).class||(o.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function a1(t,e=!1){var i;const n=t.split(/(\r?\n)/g);let o=0;const r=[];for(let s=0;s<n.length;s+=2){const l=e?n[s]+(n[s+1]||""):n[s];r.push([l,o]),o+=n[s].length,o+=((i=n[s+1])==null?void 0:i.length)||0}return r}function b0e(t){const e=a1(t,!0).map(([r])=>r);function n(r){if(r===t.length)return{line:e.length-1,character:e[e.length-1].length};let i=r,s=0;for(const l of e){if(i<l.length)break;i-=l.length,s++}return{line:s,character:i}}function o(r,i){let s=0;for(let l=0;l<r;l++)s+=e[l].length;return s+=i,s}return{lines:e,indexToPos:n,posToIndex:o}}const PE="light-dark()",y0e=["color","background-color"];function v0e(t,e){let n=0;const o=[];for(const r of e)r>n&&o.push({...t,content:t.content.slice(n,r),offset:t.offset+n}),n=r;return n<t.content.length&&o.push({...t,content:t.content.slice(n),offset:t.offset+n}),o}function w0e(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((o,r)=>o-r);return n.length?t.map(o=>o.flatMap(r=>{const i=n.filter(s=>r.offset<s&&s<r.offset+r.content.length).map(s=>s-r.offset).sort((s,l)=>s-l);return i.length?v0e(r,i):r})):t}function k0e(t,e,n,o,r="css-vars"){const i={content:t.content,explanation:t.explanation,offset:t.offset},s=e.map(u=>my(t.variants[u])),l=new Set(s.flatMap(u=>Object.keys(u))),a={},c=(u,d)=>{const f=d==="color"?"":d==="background-color"?"-bg":`-${d}`;return n+e[u]+(d==="color"?"":f)};return s.forEach((u,d)=>{for(const f of l){const h=u[f]||"inherit";if(d===0&&o&&y0e.includes(f))if(o===PE&&s.length>1){const p=e.findIndex(w=>w==="light"),m=e.findIndex(w=>w==="dark");if(p===-1||m===-1)throw new Tt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const b=s[p][f]||"inherit",y=s[m][f]||"inherit";a[f]=`light-dark(${b}, ${y})`,r==="css-vars"&&(a[c(d,f)]=h)}else a[f]=h;else r==="css-vars"&&(a[c(d,f)]=h)}}),i.htmlStyle=a,i}function my(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&un.Italic&&(e["font-style"]="italic"),t.fontStyle&un.Bold&&(e["font-weight"]="bold");const n=[];t.fontStyle&un.Underline&&n.push("underline"),t.fontStyle&un.Strikethrough&&n.push("line-through"),n.length&&(e["text-decoration"]=n.join(" "))}return e}function kC(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const N9=new WeakMap;function c1(t,e){N9.set(t,e)}function wh(t){return N9.get(t)}class ud{constructor(...e){I(this,"_stacks",{});I(this,"lang");if(e.length===2){const[n,o]=e;this.lang=o,this._stacks=n}else{const[n,o,r]=e;this.lang=o,this._stacks={[r]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new ud(Object.fromEntries(g0e(n).map(o=>[o,gC])),e)}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return x0e(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function x0e(t){const e=[],n=new Set;function o(r){var s;if(n.has(r))return;n.add(r);const i=(s=r==null?void 0:r.nameScopesList)==null?void 0:s.scopeName;i&&e.push(i),r.parent&&o(r.parent)}return o(t),e}function C0e(t,e){if(!(t instanceof ud))throw new Tt("Invalid grammar state");return t.getInternalStack(e)}function _0e(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let o=function(s){if(typeof s=="number"){if(s<0||s>n.source.length)throw new Tt(`Invalid decoration offset: ${s}. Code length: ${n.source.length}`);return{...r.indexToPos(s),offset:s}}else{const l=r.lines[s.line];if(l===void 0)throw new Tt(`Invalid decoration position ${JSON.stringify(s)}. Lines length: ${r.lines.length}`);if(s.character<0||s.character>l.length)throw new Tt(`Invalid decoration position ${JSON.stringify(s)}. Line ${s.line} length: ${l.length}`);return{...s,offset:r.posToIndex(s.line,s.character)}}};const r=b0e(n.source),i=(n.options.decorations||[]).map(s=>({...s,start:o(s.start),end:o(s.end)}));S0e(i),t.set(n.meta,{decorations:i,converter:r,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){var s;if(!((s=this.options.decorations)!=null&&s.length))return;const r=e(this).decorations.flatMap(l=>[l.start.offset,l.end.offset]);return w0e(n,r)},code(n){var u;if(!((u=this.options.decorations)!=null&&u.length))return;const o=e(this),r=Array.from(n.children).filter(d=>d.type==="element"&&d.tagName==="span");if(r.length!==o.converter.lines.length)throw new Tt(`Number of lines in code element (${r.length}) does not match the number of lines in the source (${o.converter.lines.length}). Failed to apply decorations.`);function i(d,f,h,p){const m=r[d];let b="",y=-1,w=-1;if(f===0&&(y=0),h===0&&(w=0),h===Number.POSITIVE_INFINITY&&(w=m.children.length),y===-1||w===-1)for(let x=0;x<m.children.length;x++)b+=O9(m.children[x]),y===-1&&b.length===f&&(y=x+1),w===-1&&b.length===h&&(w=x+1);if(y===-1)throw new Tt(`Failed to find start index for decoration ${JSON.stringify(p.start)}`);if(w===-1)throw new Tt(`Failed to find end index for decoration ${JSON.stringify(p.end)}`);const k=m.children.slice(y,w);if(!p.alwaysWrap&&k.length===m.children.length)l(m,p,"line");else if(!p.alwaysWrap&&k.length===1&&k[0].type==="element")l(k[0],p,"token");else{const x={type:"element",tagName:"span",properties:{},children:k};l(x,p,"wrapper"),m.children.splice(y,k.length,x)}}function s(d,f){r[d]=l(r[d],f,"line")}function l(d,f,h){var b;const p=f.properties||{},m=f.transform||(y=>y);return d.tagName=f.tagName||"span",d.properties={...d.properties,...p,class:d.properties.class},(b=f.properties)!=null&&b.class&&R9(d,f.properties.class),d=m(d,h)||d,d}const a=[],c=o.decorations.sort((d,f)=>f.start.offset-d.start.offset||d.end.offset-f.end.offset);for(const d of c){const{start:f,end:h}=d;if(f.line===h.line)i(f.line,f.character,h.character,d);else if(f.line<h.line){i(f.line,f.character,Number.POSITIVE_INFINITY,d);for(let p=f.line+1;p<h.line;p++)a.unshift(()=>s(p,d));i(h.line,0,h.character,d)}}a.forEach(d=>d())}}}function S0e(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new Tt(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let o=e+1;o<t.length;o++){const r=t[o],i=n.start.offset<=r.start.offset&&r.start.offset<n.end.offset,s=n.start.offset<r.end.offset&&r.end.offset<=n.end.offset,l=r.start.offset<=n.start.offset&&n.start.offset<r.end.offset,a=r.start.offset<n.end.offset&&n.end.offset<=r.end.offset;if(i||s||l||a){if(i&&s||l&&a||l&&n.start.offset===n.end.offset||s&&r.start.offset===r.end.offset)continue;throw new Tt(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(r.start)} intersect.`)}}}}function O9(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(O9).join(""):""}const E0e=[_0e()];function gy(t){return[...t.transformers||[],...E0e]}var Kl=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Aw={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function T0e(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const o=t.indexOf("m",n);if(o!==-1)return{sequence:t.substring(n+2,o).split(";"),startPosition:n,position:o+1}}return{position:t.length}}function iO(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(o=>Number.parseInt(o));return n.length!==3||n.some(o=>Number.isNaN(o))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function M0e(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const o=Number.parseInt(n);if(!Number.isNaN(o))if(o===0)e.push({type:"resetAll"});else if(o<=9)Aw[o]&&e.push({type:"setDecoration",value:Aw[o]});else if(o<=29){const r=Aw[o-20];r&&(e.push({type:"resetDecoration",value:r}),r==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(o<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Kl[o-30]}});else if(o===38){const r=iO(t);r&&e.push({type:"setForegroundColor",value:r})}else if(o===39)e.push({type:"resetForegroundColor"});else if(o<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Kl[o-40]}});else if(o===48){const r=iO(t);r&&e.push({type:"setBackgroundColor",value:r})}else o===49?e.push({type:"resetBackgroundColor"}):o===53?e.push({type:"setDecoration",value:"overline"}):o===55?e.push({type:"resetDecoration",value:"overline"}):o>=90&&o<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Kl[o-90+8]}}):o>=100&&o<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Kl[o-100+8]}})}return e}function A0e(){let t=null,e=null,n=new Set;return{parse(o){const r=[];let i=0;do{const s=T0e(o,i),l=s.sequence?o.substring(i,s.startPosition):o.substring(i);if(l.length>0&&r.push({value:l,foreground:t,background:e,decorations:new Set(n)}),s.sequence){const a=M0e(s.sequence);for(const c of a)c.type==="resetAll"?(t=null,e=null,n.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&n.delete(c.value);for(const c of a)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&n.add(c.value)}i=s.position}while(i<o.length);return r}}}var R0e={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function N0e(t=R0e){function e(l){return t[l]}function n(l){return`#${l.map(a=>Math.max(0,Math.min(a,255)).toString(16).padStart(2,"0")).join("")}`}let o;function r(){if(o)return o;o=[];for(let c=0;c<Kl.length;c++)o.push(e(Kl[c]));let l=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let u=0;u<6;u++)for(let d=0;d<6;d++)o.push(n([l[c],l[u],l[d]]));let a=8;for(let c=0;c<24;c++,a+=10)o.push(n([a,a,a]));return o}function i(l){return r()[l]}function s(l){switch(l.type){case"named":return e(l.name);case"rgb":return n(l.rgb);case"table":return i(l.index)}}return{value:s}}function O0e(t,e,n){const o=py(t,n),r=a1(e),i=N0e(Object.fromEntries(Kl.map(l=>{var a;return[l,(a=t.colors)==null?void 0:a[`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`]]}))),s=A0e();return r.map(l=>s.parse(l[0]).map(a=>{let c,u;a.decorations.has("reverse")?(c=a.background?i.value(a.background):t.bg,u=a.foreground?i.value(a.foreground):t.fg):(c=a.foreground?i.value(a.foreground):t.fg,u=a.background?i.value(a.background):void 0),c=Xs(c,o),u=Xs(u,o),a.decorations.has("dim")&&(c=L0e(c));let d=un.None;return a.decorations.has("bold")&&(d|=un.Bold),a.decorations.has("italic")&&(d|=un.Italic),a.decorations.has("underline")&&(d|=un.Underline),a.decorations.has("strikethrough")&&(d|=un.Strikethrough),{content:a.value,offset:l[1],color:c,bgColor:u,fontStyle:d}}))}function L0e(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const o=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${o}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(o=>`${o}${o}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function jE(t,e,n={}){const{lang:o="text",theme:r=t.getLoadedThemes()[0]}=n;if(IE(o)||$E(r))return a1(e).map(a=>[{content:a[0],offset:a[1]}]);const{theme:i,colorMap:s}=t.setTheme(r);if(o==="ansi")return O0e(i,e,n);const l=t.getLanguage(o);if(n.grammarState){if(n.grammarState.lang!==l.name)throw new Tt(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${l.name}"`);if(!n.grammarState.themes.includes(i.name))throw new Tt(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${i.name}"`)}return I0e(e,l,i,s,n)}function D0e(...t){if(t.length===2)return wh(t[1]);const[e,n,o={}]=t,{lang:r="text",theme:i=e.getLoadedThemes()[0]}=o;if(IE(r)||$E(i))throw new Tt("Plain language does not have grammar state");if(r==="ansi")throw new Tt("ANSI language does not have grammar state");const{theme:s,colorMap:l}=e.setTheme(i),a=e.getLanguage(r);return new ud(by(n,a,s,l,o).stateStack,a.name,s.name)}function I0e(t,e,n,o,r){const i=by(t,e,n,o,r),s=new ud(by(t,e,n,o,r).stateStack,e.name,n.name);return c1(i.tokens,s),i.tokens}function by(t,e,n,o,r){const i=py(n,r),{tokenizeMaxLineLength:s=0,tokenizeTimeLimit:l=500}=r,a=a1(t);let c=r.grammarState?C0e(r.grammarState,n.name)??gC:r.grammarContextCode!=null?by(r.grammarContextCode,e,n,o,{...r,grammarState:void 0,grammarContextCode:void 0}).stateStack:gC,u=[];const d=[];for(let f=0,h=a.length;f<h;f++){const[p,m]=a[f];if(p===""){u=[],d.push([]);continue}if(s>0&&p.length>=s){u=[],d.push([{content:p,offset:m,color:"",fontStyle:0}]);continue}let b,y,w;r.includeExplanation&&(b=e.tokenizeLine(p,c,l),y=b.tokens,w=0);const k=e.tokenizeLine2(p,c,l),x=k.tokens.length/2;for(let C=0;C<x;C++){const E=k.tokens[2*C],S=C+1<x?k.tokens[2*C+2]:p.length;if(E===S)continue;const _=k.tokens[2*C+1],T=Xs(o[Ru.getForeground(_)],i),M=Ru.getFontStyle(_),$={content:p.substring(E,S),offset:m+E,color:T,fontStyle:M};if(r.includeExplanation){const D=[];if(r.includeExplanation!=="scopeName")for(const H of n.settings){let U;switch(typeof H.scope){case"string":U=H.scope.split(/,/).map(R=>R.trim());break;case"object":U=H.scope;break;default:continue}D.push({settings:H,selectors:U.map(R=>R.split(/ /))})}$.explanation=[];let z=0;for(;E+z<S;){const H=y[w],U=p.substring(H.startIndex,H.endIndex);z+=U.length,$.explanation.push({content:U,scopes:r.includeExplanation==="scopeName"?$0e(H.scopes):P0e(D,H.scopes)}),w+=1}}u.push($)}d.push(u),u=[],c=k.ruleStack}return{tokens:d,stateStack:c}}function $0e(t){return t.map(e=>({scopeName:e}))}function P0e(t,e){const n=[];for(let o=0,r=e.length;o<r;o++){const i=e[o];n[o]={scopeName:i,themeMatches:B0e(t,i,e.slice(0,o))}}return n}function sO(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function j0e(t,e,n){if(!sO(t[t.length-1],e))return!1;let o=t.length-2,r=n.length-1;for(;o>=0&&r>=0;)sO(t[o],n[r])&&(o-=1),r-=1;return o===-1}function B0e(t,e,n){const o=[];for(const{selectors:r,settings:i}of t)for(const s of r)if(j0e(s,e,n)){o.push(i);break}return o}function L9(t,e,n){const o=Object.entries(n.themes).filter(a=>a[1]).map(a=>({color:a[0],theme:a[1]})),r=o.map(a=>{const c=jE(t,e,{...n,theme:a.theme}),u=wh(c),d=typeof a.theme=="string"?a.theme:a.theme.name;return{tokens:c,state:u,theme:d}}),i=z0e(...r.map(a=>a.tokens)),s=i[0].map((a,c)=>a.map((u,d)=>{const f={content:u.content,variants:{},offset:u.offset};return"includeExplanation"in n&&n.includeExplanation&&(f.explanation=u.explanation),i.forEach((h,p)=>{const{content:m,explanation:b,offset:y,...w}=h[c][d];f.variants[o[p].color]=w}),f})),l=r[0].state?new ud(Object.fromEntries(r.map(a=>{var c;return[a.theme,(c=a.state)==null?void 0:c.getInternalStack(a.theme)]})),r[0].state.lang):void 0;return l&&c1(s,l),s}function z0e(...t){const e=t.map(()=>[]),n=t.length;for(let o=0;o<t[0].length;o++){const r=t.map(a=>a[o]),i=e.map(()=>[]);e.forEach((a,c)=>a.push(i[c]));const s=r.map(()=>0),l=r.map(a=>a[0]);for(;l.every(a=>a);){const a=Math.min(...l.map(c=>c.content.length));for(let c=0;c<n;c++){const u=l[c];u.content.length===a?(i[c].push(u),s[c]+=1,l[c]=r[c][s[c]]):(i[c].push({...u,content:u.content.slice(0,a)}),l[c]={...u,content:u.content.slice(a),offset:u.offset+a})}}}return e}function yy(t,e,n){let o,r,i,s,l,a;if("themes"in n){const{defaultColor:c="light",cssVariablePrefix:u="--shiki-",colorsRendering:d="css-vars"}=n,f=Object.entries(n.themes).filter(y=>y[1]).map(y=>({color:y[0],theme:y[1]})).sort((y,w)=>y.color===c?-1:w.color===c?1:0);if(f.length===0)throw new Tt("`themes` option must not be empty");const h=L9(t,e,n);if(a=wh(h),c&&PE!==c&&!f.find(y=>y.color===c))throw new Tt(`\`themes\` option must contain the defaultColor key \`${c}\``);const p=f.map(y=>t.getTheme(y.theme)),m=f.map(y=>y.color);i=h.map(y=>y.map(w=>k0e(w,m,u,c,d))),a&&c1(i,a);const b=f.map(y=>py(y.theme,n));r=lO(f,p,b,u,c,"fg",d),o=lO(f,p,b,u,c,"bg",d),s=`shiki-themes ${p.map(y=>y.name).join(" ")}`,l=c?void 0:[r,o].join(";")}else if("theme"in n){const c=py(n.theme,n);i=jE(t,e,n);const u=t.getTheme(n.theme);o=Xs(u.bg,c),r=Xs(u.fg,c),s=u.name,a=wh(i)}else throw new Tt("Invalid options, either `theme` or `themes` must be provided");return{tokens:i,fg:r,bg:o,themeName:s,rootStyle:l,grammarState:a}}function lO(t,e,n,o,r,i,s){return t.map((l,a)=>{const c=Xs(e[a][i],n[a])||"inherit",u=`${o+l.color}${i==="bg"?"-bg":""}:${c}`;if(a===0&&r){if(r===PE&&t.length>1){const d=t.findIndex(m=>m.color==="light"),f=t.findIndex(m=>m.color==="dark");if(d===-1||f===-1)throw new Tt('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const h=Xs(e[d][i],n[d])||"inherit",p=Xs(e[f][i],n[f])||"inherit";return`light-dark(${h}, ${p});${u}`}return c}return s==="css-vars"?u:null}).filter(l=>!!l).join(";")}function vy(t,e,n,o={meta:{},options:n,codeToHast:(r,i)=>vy(t,r,i),codeToTokens:(r,i)=>yy(t,r,i)}){var p,m;let r=e;for(const b of gy(n))r=((p=b.preprocess)==null?void 0:p.call(o,r,n))||r;let{tokens:i,fg:s,bg:l,themeName:a,rootStyle:c,grammarState:u}=yy(t,r,n);const{mergeWhitespaces:d=!0,mergeSameStyleTokens:f=!1}=n;d===!0?i=V0e(i):d==="never"&&(i=U0e(i)),f&&(i=F0e(i));const h={...o,get source(){return r}};for(const b of gy(n))i=((m=b.tokens)==null?void 0:m.call(h,i))||i;return H0e(i,{...n,fg:s,bg:l,themeName:a,rootStyle:c},h,u)}function H0e(t,e,n,o=wh(t)){var p,m,b;const r=gy(e),i=[],s={type:"root",children:[]},{structure:l="classic",tabindex:a="0"}=e;let c={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...a!==!1&&a!=null?{tabindex:a.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([y])=>!y.startsWith("_")))},children:[]},u={type:"element",tagName:"code",properties:{},children:i};const d=[],f={...n,structure:l,addClassToHast:R9,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return s},get pre(){return c},get code(){return u},get lines(){return d}};if(t.forEach((y,w)=>{var C,E;w&&(l==="inline"?s.children.push({type:"element",tagName:"br",properties:{},children:[]}):l==="classic"&&i.push({type:"text",value:`
`}));let k={type:"element",tagName:"span",properties:{class:"line"},children:[]},x=0;for(const S of y){let _={type:"element",tagName:"span",properties:{...S.htmlAttrs},children:[{type:"text",value:S.content}]};const T=kC(S.htmlStyle||my(S));T&&(_.properties.style=T);for(const M of r)_=((C=M==null?void 0:M.span)==null?void 0:C.call(f,_,w+1,x,k,S))||_;l==="inline"?s.children.push(_):l==="classic"&&k.children.push(_),x+=S.content.length}if(l==="classic"){for(const S of r)k=((E=S==null?void 0:S.line)==null?void 0:E.call(f,k,w+1))||k;d.push(k),i.push(k)}}),l==="classic"){for(const y of r)u=((p=y==null?void 0:y.code)==null?void 0:p.call(f,u))||u;c.children.push(u);for(const y of r)c=((m=y==null?void 0:y.pre)==null?void 0:m.call(f,c))||c;s.children.push(c)}let h=s;for(const y of r)h=((b=y==null?void 0:y.root)==null?void 0:b.call(f,h))||h;return o&&c1(h,o),h}function V0e(t){return t.map(e=>{const n=[];let o="",r=0;return e.forEach((i,s)=>{const a=!(i.fontStyle&&(i.fontStyle&un.Underline||i.fontStyle&un.Strikethrough));a&&i.content.match(/^\s+$/)&&e[s+1]?(r||(r=i.offset),o+=i.content):o?(a?n.push({...i,offset:r,content:o+i.content}):n.push({content:o,offset:r},i),r=0,o=""):n.push(i)}),n})}function U0e(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const o=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!o)return n;const[,r,i,s]=o;if(!r&&!s)return n;const l=[{...n,offset:n.offset+r.length,content:i}];return r&&l.unshift({content:r,offset:n.offset}),s&&l.push({content:s,offset:n.offset+r.length+i.length}),l}))}function F0e(t){return t.map(e=>{const n=[];for(const o of e){if(n.length===0){n.push({...o});continue}const r=n[n.length-1],i=kC(r.htmlStyle||my(r)),s=kC(o.htmlStyle||my(o)),l=r.fontStyle&&(r.fontStyle&un.Underline||r.fontStyle&un.Strikethrough),a=o.fontStyle&&(o.fontStyle&un.Underline||o.fontStyle&un.Strikethrough);!l&&!a&&i===s?r.content+=o.content:n.push({...o})}return n})}const G0e=h0e;function q0e(t,e,n){var i;const o={meta:{},options:n,codeToHast:(s,l)=>vy(t,s,l),codeToTokens:(s,l)=>yy(t,s,l)};let r=G0e(vy(t,e,n,o));for(const s of gy(n))r=((i=s.postprocess)==null?void 0:i.call(o,r,n))||r;return r}const aO={light:"#333333",dark:"#bbbbbb"},cO={light:"#fffffe",dark:"#1e1e1e"},uO="__shiki_resolved";function BE(t){var l,a,c,u,d;if(t!=null&&t[uO])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:o}=e;if(!n||!o){const f=e.settings?e.settings.find(h=>!h.name&&!h.scope):void 0;(l=f==null?void 0:f.settings)!=null&&l.foreground&&(o=f.settings.foreground),(a=f==null?void 0:f.settings)!=null&&a.background&&(n=f.settings.background),!o&&((c=e==null?void 0:e.colors)!=null&&c["editor.foreground"])&&(o=e.colors["editor.foreground"]),!n&&((u=e==null?void 0:e.colors)!=null&&u["editor.background"])&&(n=e.colors["editor.background"]),o||(o=e.type==="light"?aO.light:aO.dark),n||(n=e.type==="light"?cO.light:cO.dark),e.fg=o,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let r=0;const i=new Map;function s(f){var p;if(i.has(f))return i.get(f);r+=1;const h=`#${r.toString(16).padStart(8,"0").toLowerCase()}`;return(p=e.colorReplacements)!=null&&p[`#${h}`]?s(f):(i.set(f,h),h)}e.settings=e.settings.map(f=>{var b,y;const h=((b=f.settings)==null?void 0:b.foreground)&&!f.settings.foreground.startsWith("#"),p=((y=f.settings)==null?void 0:y.background)&&!f.settings.background.startsWith("#");if(!h&&!p)return f;const m={...f,settings:{...f.settings}};if(h){const w=s(f.settings.foreground);e.colorReplacements[w]=f.settings.foreground,m.settings.foreground=w}if(p){const w=s(f.settings.background);e.colorReplacements[w]=f.settings.background,m.settings.background=w}return m});for(const f of Object.keys(e.colors||{}))if((f==="editor.foreground"||f==="editor.background"||f.startsWith("terminal.ansi"))&&!((d=e.colors[f])!=null&&d.startsWith("#"))){const h=s(e.colors[f]);e.colorReplacements[h]=e.colors[f],e.colors[f]=h}return Object.defineProperty(e,uO,{enumerable:!1,writable:!1,value:!0}),e}async function D9(t){return Array.from(new Set((await Promise.all(t.filter(e=>!M9(e)).map(async e=>await T9(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function I9(t){return(await Promise.all(t.map(async n=>A9(n)?null:BE(await T9(n))))).filter(n=>!!n)}let W0e=3;function K0e(t,e=3){e>W0e||console.trace(`[SHIKI DEPRECATE]: ${t}`)}class Ic extends Error{constructor(e){super(e),this.name="ShikiError"}}class Z0e extends Qbe{constructor(n,o,r,i={}){super(n);I(this,"_resolvedThemes",new Map);I(this,"_resolvedGrammars",new Map);I(this,"_langMap",new Map);I(this,"_langGraph",new Map);I(this,"_textmateThemeCache",new WeakMap);I(this,"_loadedThemesCache",null);I(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=o,this._langs=r,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const o=BE(n);return o.name&&(this._resolvedThemes.set(o.name,o),this._loadedThemesCache=null),o}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let o=this._textmateThemeCache.get(n);o||(o=cy.createFromRawTheme(n),this._textmateThemeCache.set(n,o)),this._syncRegistry.setTheme(o)}getGrammar(n){if(this._alias[n]){const o=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],o.has(n))throw new Ic(`Circular alias \`${Array.from(o).join(" -> ")} -> ${n}\``);o.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var s,l,a,c;if(this.getGrammar(n.name))return;const o=new Set([...this._langMap.values()].filter(u=>{var d;return(d=u.embeddedLangsLazy)==null?void 0:d.includes(n.name)}));this._resolver.addLanguage(n);const r={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const i=this.loadGrammarWithConfiguration(n.scopeName,1,r);if(i.name=n.name,this._resolvedGrammars.set(n.name,i),n.aliases&&n.aliases.forEach(u=>{this._alias[u]=n.name}),this._loadedLanguagesCache=null,o.size)for(const u of o)this._resolvedGrammars.delete(u.name),this._loadedLanguagesCache=null,(l=(s=this._syncRegistry)==null?void 0:s._injectionGrammars)==null||l.delete(u.scopeName),(c=(a=this._syncRegistry)==null?void 0:a._grammars)==null||c.delete(u.scopeName),this.loadLanguage(this._langMap.get(u.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const i of n)this.resolveEmbeddedLanguages(i);const o=Array.from(this._langGraph.entries()),r=o.filter(([i,s])=>!s);if(r.length){const i=o.filter(([s,l])=>{var a;return l&&((a=l.embeddedLangs)==null?void 0:a.some(c=>r.map(([u])=>u).includes(c)))}).filter(s=>!r.includes(s));throw new Ic(`Missing languages ${r.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of o)this._resolver.addLanguage(s);for(const[i,s]of o)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const o of n.embeddedLangs)this._langGraph.set(o,this._langMap.get(o))}}class Y0e{constructor(e,n){I(this,"_langs",new Map);I(this,"_scopeToLang",new Map);I(this,"_injections",new Map);I(this,"_onigLib");this._onigLib={createOnigScanner:o=>e.createScanner(o),createOnigString:o=>e.createString(o)},n.forEach(o=>this.addLanguage(o))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let o=[];for(let r=1;r<=n.length;r++){const i=n.slice(0,r).join(".");o=[...o,...this._injections.get(i)||[]]}return o}}let Nd=0;function X0e(t){Nd+=1,t.warnings!==!1&&Nd>=10&&Nd%10===0&&console.warn(`[Shiki] ${Nd} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new Ic("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),o=(t.themes||[]).flat(1).map(BE),r=new Y0e(t.engine,n),i=new Z0e(r,o,n,t.langAlias);let s;function l(w){b();const k=i.getGrammar(typeof w=="string"?w:w.name);if(!k)throw new Ic(`Language \`${w}\` not found, you may need to load it first`);return k}function a(w){if(w==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};b();const k=i.getTheme(w);if(!k)throw new Ic(`Theme \`${w}\` not found, you may need to load it first`);return k}function c(w){b();const k=a(w);s!==w&&(i.setTheme(k),s=w);const x=i.getColorMap();return{theme:k,colorMap:x}}function u(){return b(),i.getLoadedThemes()}function d(){return b(),i.getLoadedLanguages()}function f(...w){b(),i.loadLanguages(w.flat(1))}async function h(...w){return f(await D9(w))}function p(...w){b();for(const k of w.flat(1))i.loadTheme(k)}async function m(...w){return b(),p(await I9(w))}function b(){if(e)throw new Ic("Shiki instance has been disposed")}function y(){e||(e=!0,i.dispose(),Nd-=1)}return{setTheme:c,getTheme:a,getLanguage:l,getLoadedThemes:u,getLoadedLanguages:d,loadLanguage:h,loadLanguageSync:f,loadTheme:m,loadThemeSync:p,dispose:y,[Symbol.dispose]:y}}async function J0e(t){t.engine||K0e("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,o]=await Promise.all([I9(t.themes||[]),D9(t.langs||[]),t.engine]);return X0e({...t,themes:e,langs:n,engine:o})}async function Q0e(t){const e=await J0e(t);return{getLastGrammarState:(...n)=>D0e(e,...n),codeToTokensBase:(n,o)=>jE(e,n,o),codeToTokensWithThemes:(n,o)=>L9(e,n,o),codeToTokens:(n,o)=>yy(e,n,o),codeToHast:(n,o)=>vy(e,n,o),codeToHtml:(n,o)=>q0e(e,n,o),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function e1e(t){const e=t.langs,n=t.themes,o=t.engine;async function r(i){function s(d){var f;if(typeof d=="string"){if(M9(d))return[];d=((f=i.langAlias)==null?void 0:f[d])||d;const h=e[d];if(!h)throw new Tt(`Language \`${d}\` is not included in this bundle. You may want to load it from external source.`);return h}return d}function l(d){if(A9(d))return"none";if(typeof d=="string"){const f=n[d];if(!f)throw new Tt(`Theme \`${d}\` is not included in this bundle. You may want to load it from external source.`);return f}return d}const a=(i.themes??[]).map(d=>l(d)),c=(i.langs??[]).map(d=>s(d)),u=await Q0e({engine:i.engine??o(),...i,themes:a,langs:c});return{...u,loadLanguage(...d){return u.loadLanguage(...d.map(s))},loadTheme(...d){return u.loadTheme(...d.map(l))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return r}function dd(t){if([...t].length!==1)throw new Error(`Expected "${t}" to be a single code point`);return t.codePointAt(0)}function t1e(t,e,n){return t.has(e)||t.set(e,n),t.get(e)}const zE=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]),Ht=String.raw;function fd(t,e){if(t==null)throw new Error(e??"Value expected");return t}const $9=Ht`\[\^?`,P9=`c.? | C(?:-.?)?|${Ht`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${Ht`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${Ht`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${Ht`o\{[^\}]*\}?`}|${Ht`\d{1,3}`}`,HE=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,wm=new RegExp(Ht`
  \\ (?:
    ${P9}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*[^\)]*\)?
  )?
  | (?:${HE.source})+
  | ${$9}
  | .
`.replace(/\s+/g,""),"gsu"),Rw=new RegExp(Ht`
  \\ (?:
    ${P9}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${$9}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function n1e(t,e={}){const n={flags:"",...e,rules:{captureGroup:!1,singleline:!1,...e.rules}};if(typeof t!="string")throw new Error("String expected as pattern");const o=k1e(n.flags),r=[o.extended],i={captureGroup:n.rules.captureGroup,getCurrentModX(){return r.at(-1)},numOpenGroups:0,popModX(){r.pop()},pushModX(d){r.push(d)},replaceCurrentModX(d){r[r.length-1]=d},singleline:n.rules.singleline};let s=[],l;for(wm.lastIndex=0;l=wm.exec(t);){const d=o1e(i,t,l[0],wm.lastIndex);d.tokens?s.push(...d.tokens):d.token&&s.push(d.token),d.lastIndex!==void 0&&(wm.lastIndex=d.lastIndex)}const a=[];let c=0;s.filter(d=>d.type==="GroupOpen").forEach(d=>{d.kind==="capturing"?d.number=++c:d.raw==="("&&a.push(d)}),c||a.forEach((d,f)=>{d.kind="capturing",d.number=f+1});const u=c||a.length;return{tokens:s.map(d=>d.type==="EscapedNumber"?C1e(d,u):d).flat(),flags:o}}function o1e(t,e,n,o){const[r,i]=n;if(n==="["||n==="[^"){const s=r1e(e,n,o);return{tokens:s.tokens,lastIndex:s.lastIndex}}if(r==="\\"){if("AbBGyYzZ".includes(i))return{token:dO(n,n)};if(/^\\g[<']/.test(n)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:p1e(n)}}if(/^\\k[<']/.test(n)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(n))throw new Error(`Invalid group name "${n}"`);return{token:B9(n)}}if(i==="K")return{token:z9("keep",n)};if(i==="N"||i==="R")return{token:Zl("newline",n,{negate:i==="N"})};if(i==="O")return{token:Zl("any",n)};if(i==="X")return{token:Zl("text_segment",n)};const s=j9(n,{inCharClass:!1});return Array.isArray(s)?{tokens:s}:{token:s}}if(r==="("){if(i==="*")return{token:y1e(n)};if(n==="(?{")throw new Error(`Unsupported callout "${n}"`);if(n.startsWith("(?#")){if(e[o]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:o+1}}if(/^\(\?[-imx]+[:)]$/.test(n))return{token:b1e(n,t)};if(t.pushModX(t.getCurrentModX()),t.numOpenGroups++,n==="("&&!t.captureGroup||n==="(?:")return{token:yc("group",n)};if(n==="(?>")return{token:yc("atomic",n)};if(n==="(?="||n==="(?!"||n==="(?<="||n==="(?<!")return{token:yc(n[2]==="<"?"lookbehind":"lookahead",n,{negate:n.endsWith("!")})};if(n==="("&&t.captureGroup||n.startsWith("(?<")&&n.endsWith(">")||n.startsWith("(?'")&&n.endsWith("'"))return{token:yc("capturing",n,{...n!=="("&&{name:n.slice(3,-1)}})};if(n.startsWith("(?~")){if(n==="(?~|")throw new Error(`Unsupported absence function kind "${n}"`);return{token:yc("absence_repeater",n)}}throw n==="(?("?new Error(`Unsupported conditional "${n}"`):new Error(`Invalid or unsupported group option "${n}"`)}if(n===")"){if(t.popModX(),t.numOpenGroups--,t.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:d1e(n)}}if(t.getCurrentModX()){if(n==="#"){const s=e.indexOf(`
`,o);return{lastIndex:s===-1?e.length:s}}if(/^\s$/.test(n)){const s=/\s+/y;return s.lastIndex=o,{lastIndex:s.exec(e)?s.lastIndex:o}}}if(n===".")return{token:Zl("dot",n)};if(n==="^"||n==="$"){const s=t.singleline?{"^":Ht`\A`,$:Ht`\Z`}[n]:n;return{token:dO(s,n)}}return n==="|"?{token:s1e(n)}:HE.test(n)?{tokens:_1e(n)}:{token:Li(dd(n),n)}}function r1e(t,e,n){const o=[fO(e[1]==="^",e)];let r=1,i;for(Rw.lastIndex=n;i=Rw.exec(t);){const s=i[0];if(s[0]==="["&&s[1]!==":")r++,o.push(fO(s[1]==="^",s));else if(s==="]"){if(o.at(-1).type==="CharacterClassOpen")o.push(Li(93,s));else if(r--,o.push(l1e(s)),!r)break}else{const l=i1e(s);Array.isArray(l)?o.push(...l):o.push(l)}}return{tokens:o,lastIndex:Rw.lastIndex||t.length}}function i1e(t){if(t[0]==="\\")return j9(t,{inCharClass:!0});if(t[0]==="["){const e=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(t);if(!e||!zE.has(e.groups.name))throw new Error(`Invalid POSIX class "${t}"`);return Zl("posix",t,{value:e.groups.name,negate:!!e.groups.negate})}return t==="-"?a1e(t):t==="&&"?c1e(t):Li(dd(t),t)}function j9(t,{inCharClass:e}){const n=t[1];if(n==="c"||n==="C")return g1e(t);if("dDhHsSwW".includes(n))return v1e(t);if(t.startsWith(Ht`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${t}"`);if(/^\\[pP]\{/.test(t)){if(t.length===3)throw new Error(`Incomplete or invalid Unicode property "${t}"`);return w1e(t)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(t))try{const o=t.split(/\\x/).slice(1).map(s=>parseInt(s,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(o)),i=new TextEncoder;return[...r].map(s=>{const l=[...i.encode(s)].map(a=>`\\x${a.toString(16)}`).join("");return Li(dd(s),l)})}catch{throw new Error(`Multibyte code "${t}" incomplete or invalid in Oniguruma`)}if(n==="u"||n==="x")return Li(x1e(t),t);if(hO.has(n))return Li(hO.get(n),t);if(/\d/.test(n))return u1e(e,t);if(t==="\\")throw new Error(Ht`Incomplete escape "\"`);if(n==="M")throw new Error(`Unsupported meta "${t}"`);if([...t].length===2)return Li(t.codePointAt(1),t);throw new Error(`Unexpected escape "${t}"`)}function s1e(t){return{type:"Alternator",raw:t}}function dO(t,e){return{type:"Assertion",kind:t,raw:e}}function B9(t){return{type:"Backreference",raw:t}}function Li(t,e){return{type:"Character",value:t,raw:e}}function l1e(t){return{type:"CharacterClassClose",raw:t}}function a1e(t){return{type:"CharacterClassHyphen",raw:t}}function c1e(t){return{type:"CharacterClassIntersector",raw:t}}function fO(t,e){return{type:"CharacterClassOpen",negate:t,raw:e}}function Zl(t,e,n={}){return{type:"CharacterSet",kind:t,...n,raw:e}}function z9(t,e,n={}){return t==="keep"?{type:"Directive",kind:t,raw:e}:{type:"Directive",kind:t,flags:fd(n.flags),raw:e}}function u1e(t,e){return{type:"EscapedNumber",inCharClass:t,raw:e}}function d1e(t){return{type:"GroupClose",raw:t}}function yc(t,e,n={}){return{type:"GroupOpen",kind:t,...n,raw:e}}function f1e(t,e,n,o){return{type:"NamedCallout",kind:t,tag:e,arguments:n,raw:o}}function h1e(t,e,n,o){return{type:"Quantifier",kind:t,min:e,max:n,raw:o}}function p1e(t){return{type:"Subroutine",raw:t}}const m1e=new Set(["COUNT","CMP","ERROR","FAIL","MAX","MISMATCH","SKIP","TOTAL_COUNT"]),hO=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]);function g1e(t){const e=t[1]==="c"?t[2]:t[3];if(!e||!/[A-Za-z]/.test(e))throw new Error(`Unsupported control character "${t}"`);return Li(dd(e.toUpperCase())-64,t)}function b1e(t,e){let{on:n,off:o}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(t).groups;o??(o="");const r=(e.getCurrentModX()||n.includes("x"))&&!o.includes("x"),i=mO(n),s=mO(o),l={};if(i&&(l.enable=i),s&&(l.disable=s),t.endsWith(")"))return e.replaceCurrentModX(r),z9("flags",t,{flags:l});if(t.endsWith(":"))return e.pushModX(r),e.numOpenGroups++,yc("group",t,{...(i||s)&&{flags:l}});throw new Error(`Unexpected flag modifier "${t}"`)}function y1e(t){const e=/\(\*(?<name>[A-Za-z_]\w*)?(?:\[(?<tag>(?:[A-Za-z_]\w*)?)\])?(?:\{(?<args>[^}]*)\})?\)/.exec(t);if(!e)throw new Error(`Incomplete or invalid named callout "${t}"`);const{name:n,tag:o,args:r}=e.groups;if(!n)throw new Error(`Invalid named callout "${t}"`);if(o==="")throw new Error(`Named callout tag with empty value not allowed "${t}"`);const i=r?r.split(",").filter(u=>u!=="").map(u=>/^[+-]?\d+$/.test(u)?+u:u):[],[s,l,a]=i,c=m1e.has(n)?n.toLowerCase():"custom";switch(c){case"fail":case"mismatch":case"skip":if(i.length>0)throw new Error(`Named callout arguments not allowed "${i}"`);break;case"error":if(i.length>1)throw new Error(`Named callout allows only one argument "${i}"`);if(typeof s=="string")throw new Error(`Named callout argument must be a number "${s}"`);break;case"max":if(!i.length||i.length>2)throw new Error(`Named callout must have one or two arguments "${i}"`);if(typeof s=="string"&&!/^[A-Za-z_]\w*$/.test(s))throw new Error(`Named callout argument one must be a tag or number "${s}"`);if(i.length===2&&(typeof l=="number"||!/^[<>X]$/.test(l)))throw new Error(`Named callout optional argument two must be '<', '>', or 'X' "${l}"`);break;case"count":case"total_count":if(i.length>1)throw new Error(`Named callout allows only one argument "${i}"`);if(i.length===1&&(typeof s=="number"||!/^[<>X]$/.test(s)))throw new Error(`Named callout optional argument must be '<', '>', or 'X' "${s}"`);break;case"cmp":if(i.length!==3)throw new Error(`Named callout must have three arguments "${i}"`);if(typeof s=="string"&&!/^[A-Za-z_]\w*$/.test(s))throw new Error(`Named callout argument one must be a tag or number "${s}"`);if(typeof l=="number"||!/^(?:[<>!=]=|[<>])$/.test(l))throw new Error(`Named callout argument two must be '==', '!=', '>', '<', '>=', or '<=' "${l}"`);if(typeof a=="string"&&!/^[A-Za-z_]\w*$/.test(a))throw new Error(`Named callout argument three must be a tag or number "${a}"`);break;case"custom":throw new Error(`Undefined callout name "${n}"`);default:throw new Error(`Unexpected named callout kind "${c}"`)}return f1e(c,o??null,(r==null?void 0:r.split(","))??null,t)}function pO(t){let e=null,n,o;if(t[0]==="{"){const{minStr:r,maxStr:i}=/^\{(?<minStr>\d*)(?:,(?<maxStr>\d*))?/.exec(t).groups,s=1e5;if(+r>s||i&&+i>s)throw new Error("Quantifier value unsupported in Oniguruma");if(n=+r,o=i===void 0?+r:i===""?1/0:+i,n>o&&(e="possessive",[n,o]=[o,n]),t.endsWith("?")){if(e==="possessive")throw new Error('Unsupported possessive interval quantifier chain with "?"');e="lazy"}else e||(e="greedy")}else n=t[0]==="+"?1:0,o=t[0]==="?"?1:1/0,e=t[1]==="+"?"possessive":t[1]==="?"?"lazy":"greedy";return h1e(e,n,o,t)}function v1e(t){const e=t[1].toLowerCase();return Zl({d:"digit",h:"hex",s:"space",w:"word"}[e],t,{negate:t[1]!==e})}function w1e(t){const{p:e,neg:n,value:o}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(t).groups;return Zl("property",t,{value:o,negate:e==="P"&&!n||e==="p"&&!!n})}function mO(t){const e={};return t.includes("i")&&(e.ignoreCase=!0),t.includes("m")&&(e.dotAll=!0),t.includes("x")&&(e.extended=!0),Object.keys(e).length?e:null}function k1e(t){const e={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1,textSegmentMode:null};for(let n=0;n<t.length;n++){const o=t[n];if(!"imxDPSWy".includes(o))throw new Error(`Invalid flag "${o}"`);if(o==="y"){if(!/^y{[gw]}/.test(t.slice(n)))throw new Error('Invalid or unspecified flag "y" mode');e.textSegmentMode=t[n+2]==="g"?"grapheme":"word",n+=3;continue}e[{i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"}[o]]=!0}return e}function x1e(t){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(t))throw new Error(`Incomplete or invalid escape "${t}"`);const e=t[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(t).groups.hex:t.slice(2);return parseInt(e,16)}function C1e(t,e){const{raw:n,inCharClass:o}=t,r=n.slice(1);if(!o&&(r!=="0"&&r.length===1||r[0]!=="0"&&+r<=e))return[B9(n)];const i=[],s=r.match(/^[0-7]+|\d/g);for(let l=0;l<s.length;l++){const a=s[l];let c;if(l===0&&a!=="8"&&a!=="9"){if(c=parseInt(a,8),c>127)throw new Error(Ht`Octal encoded byte above 177 unsupported "${n}"`)}else c=dd(a);i.push(Li(c,(l===0?"\\":"")+a))}return i}function _1e(t){const e=[],n=new RegExp(HE,"gy");let o;for(;o=n.exec(t);){const r=o[0];if(r[0]==="{"){const i=/^\{(?<min>\d+),(?<max>\d+)\}\??$/.exec(r);if(i){const{min:s,max:l}=i.groups;if(+s>+l&&r.endsWith("?")){n.lastIndex--,e.push(pO(r.slice(0,-1)));continue}}}e.push(pO(r))}return e}function H9(t,e){if(!Array.isArray(t.body))throw new Error("Expected node with body array");if(t.body.length!==1)return!1;const n=t.body[0];return!e||Object.keys(e).every(o=>e[o]===n[o])}function S1e(t){return E1e.has(t.type)}const E1e=new Set(["AbsenceFunction","Backreference","CapturingGroup","Character","CharacterClass","CharacterSet","Group","Quantifier","Subroutine"]);function V9(t,e={}){const n={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...e,rules:{captureGroup:!1,singleline:!1,...e.rules}},o=n1e(t,{flags:n.flags,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline}}),r=(f,h)=>{const p=o.tokens[i.nextIndex];switch(i.parent=f,i.nextIndex++,p.type){case"Alternator":return Oa();case"Assertion":return T1e(p);case"Backreference":return M1e(p,i);case"Character":return u1(p.value,{useLastValid:!!h.isCheckingRangeEnd});case"CharacterClassHyphen":return A1e(p,i,h);case"CharacterClassOpen":return R1e(p,i,h);case"CharacterSet":return N1e(p,i);case"Directive":return P1e(p.kind,{flags:p.flags});case"GroupOpen":return O1e(p,i,h);case"NamedCallout":return B1e(p.kind,p.tag,p.arguments);case"Quantifier":return L1e(p,i);case"Subroutine":return D1e(p,i);default:throw new Error(`Unexpected token type "${p.type}"`)}},i={capturingGroups:[],hasNumberedRef:!1,namedGroupsByName:new Map,nextIndex:0,normalizeUnknownPropertyNames:n.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:n.skipBackrefValidation,skipLookbehindValidation:n.skipLookbehindValidation,skipPropertyNameValidation:n.skipPropertyNameValidation,subroutines:[],tokens:o.tokens,unicodePropertyMap:n.unicodePropertyMap,walk:r},s=H1e(j1e(o.flags));let l=s.body[0];for(;i.nextIndex<o.tokens.length;){const f=r(l,{});f.type==="Alternative"?(s.body.push(f),l=f):l.body.push(f)}const{capturingGroups:a,hasNumberedRef:c,namedGroupsByName:u,subroutines:d}=i;if(c&&u.size&&!n.rules.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:f}of d)if(typeof f=="number"){if(f>a.length)throw new Error("Subroutine uses a group number that's not defined");f&&(a[f-1].isSubroutined=!0)}else if(u.has(f)){if(u.get(f).length>1)throw new Error(Ht`Subroutine uses a duplicate group name "\g<${f}>"`);u.get(f)[0].isSubroutined=!0}else throw new Error(Ht`Subroutine uses a group name that's not defined "\g<${f}>"`);return s}function T1e({kind:t}){return xC(fd({"^":"line_start",$:"line_end","\\A":"string_start","\\b":"word_boundary","\\B":"word_boundary","\\G":"search_start","\\y":"text_segment_boundary","\\Y":"text_segment_boundary","\\z":"string_end","\\Z":"string_end_newline"}[t],`Unexpected assertion kind "${t}"`),{negate:t===Ht`\B`||t===Ht`\Y`})}function M1e({raw:t},e){const n=/^\\k[<']/.test(t),o=n?t.slice(3,-1):t.slice(1),r=(i,s=!1)=>{const l=e.capturingGroups.length;let a=!1;if(i>l)if(e.skipBackrefValidation)a=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,CC(s?l+1-i:i,{orphan:a})};if(n){const i=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(o);if(i)return r(+i.groups.num,!!i.groups.sign);if(/[-+]/.test(o))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(o))throw new Error(`Group name not defined to the left "${t}"`);return CC(o)}return r(+o)}function A1e(t,e,n){const{tokens:o,walk:r}=e,i=e.parent,s=i.body.at(-1),l=o[e.nextIndex];if(!n.isCheckingRangeEnd&&s&&s.type!=="CharacterClass"&&s.type!=="CharacterClassRange"&&l&&l.type!=="CharacterClassOpen"&&l.type!=="CharacterClassClose"&&l.type!=="CharacterClassIntersector"){const a=r(i,{...n,isCheckingRangeEnd:!0});if(s.type==="Character"&&a.type==="Character")return i.body.pop(),$1e(s,a);throw new Error("Invalid character class range")}return u1(dd("-"))}function R1e({negate:t},e,n){const{tokens:o,walk:r}=e,i=o[e.nextIndex],s=[rg()];let l=yO(i);for(;l.type!=="CharacterClassClose";){if(l.type==="CharacterClassIntersector")s.push(rg()),e.nextIndex++;else{const c=s.at(-1);c.body.push(r(c,n))}l=yO(o[e.nextIndex],i)}const a=rg({negate:t});return s.length===1?a.body=s[0].body:(a.kind="intersection",a.body=s.map(c=>c.body.length===1?c.body[0]:c)),e.nextIndex++,a}function N1e({kind:t,negate:e,value:n},o){const{normalizeUnknownPropertyNames:r,skipPropertyNameValidation:i,unicodePropertyMap:s}=o;if(t==="property"){const l=d1(n);if(zE.has(l)&&!(s!=null&&s.has(l)))t="posix",n=l;else return vc(n,{negate:e,normalizeUnknownPropertyNames:r,skipPropertyNameValidation:i,unicodePropertyMap:s})}return t==="posix"?z1e(n,{negate:e}):_C(t,{negate:e})}function O1e(t,e,n){const{tokens:o,capturingGroups:r,namedGroupsByName:i,skipLookbehindValidation:s,walk:l}=e,a=V1e(t),c=a.type==="AbsenceFunction",u=bO(a),d=u&&a.negate;if(a.type==="CapturingGroup"&&(r.push(a),a.name&&t1e(i,a.name,[]).push(a)),c&&n.isInAbsenceFunction)throw new Error("Nested absence function not supported by Oniguruma");let f=vO(o[e.nextIndex]);for(;f.type!=="GroupClose";){if(f.type==="Alternator")a.body.push(Oa()),e.nextIndex++;else{const h=a.body.at(-1),p=l(h,{...n,isInAbsenceFunction:n.isInAbsenceFunction||c,isInLookbehind:n.isInLookbehind||u,isInNegLookbehind:n.isInNegLookbehind||d});if(h.body.push(p),(u||n.isInLookbehind)&&!s){const m="Lookbehind includes a pattern not allowed by Oniguruma";if(d||n.isInNegLookbehind){if(gO(p)||p.type==="CapturingGroup")throw new Error(m)}else if(gO(p)||bO(p)&&p.negate)throw new Error(m)}}f=vO(o[e.nextIndex])}return e.nextIndex++,a}function L1e({kind:t,min:e,max:n},o){const r=o.parent,i=r.body.at(-1);if(!i||!S1e(i))throw new Error("Quantifier requires a repeatable token");const s=F9(t,e,n,i);return r.body.pop(),s}function D1e({raw:t},e){const{capturingGroups:n,subroutines:o}=e;let r=t.slice(3,-1);const i=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(r);if(i){const l=+i.groups.num,a=n.length;if(e.hasNumberedRef=!0,r={"":l,"+":a+l,"-":a+1-l}[i.groups.sign],r<1)throw new Error("Invalid subroutine number")}else r==="0"&&(r=0);const s=G9(r);return o.push(s),s}function I1e(t,e){return{type:"AbsenceFunction",kind:t,body:vp(e==null?void 0:e.body)}}function Oa(t){return{type:"Alternative",body:q9(t==null?void 0:t.body)}}function xC(t,e){const n={type:"Assertion",kind:t};return(t==="word_boundary"||t==="text_segment_boundary")&&(n.negate=!!(e!=null&&e.negate)),n}function CC(t,e){const n=!!(e!=null&&e.orphan);return{type:"Backreference",ref:t,...n&&{orphan:n}}}function U9(t,e){const n={name:void 0,isSubroutined:!1,...e};if(n.name!==void 0&&!U1e(n.name))throw new Error(`Group name "${n.name}" invalid in Oniguruma`);return{type:"CapturingGroup",number:t,...n.name&&{name:n.name},...n.isSubroutined&&{isSubroutined:n.isSubroutined},body:vp(e==null?void 0:e.body)}}function u1(t,e){const n={useLastValid:!1,...e};if(t>1114111){const o=t.toString(16);if(n.useLastValid)t=1114111;else throw t>1310719?new Error(`Invalid code point out of range "\\x{${o}}"`):new Error(`Invalid code point out of range in JS "\\x{${o}}"`)}return{type:"Character",value:t}}function rg(t){const e={kind:"union",negate:!1,...t};return{type:"CharacterClass",kind:e.kind,negate:e.negate,body:q9(t==null?void 0:t.body)}}function $1e(t,e){if(e.value<t.value)throw new Error("Character class range out of order");return{type:"CharacterClassRange",min:t,max:e}}function _C(t,e){const n=!!(e!=null&&e.negate),o={type:"CharacterSet",kind:t};return(t==="digit"||t==="hex"||t==="newline"||t==="space"||t==="word")&&(o.negate=n),(t==="text_segment"||t==="newline"&&!n)&&(o.variableLength=!0),o}function P1e(t,e={}){if(t==="keep")return{type:"Directive",kind:t};if(t==="flags")return{type:"Directive",kind:t,flags:fd(e.flags)};throw new Error(`Unexpected directive kind "${t}"`)}function j1e(t){return{type:"Flags",...t}}function rr(t){const e=t==null?void 0:t.atomic,n=t==null?void 0:t.flags;if(e&&n)throw new Error("Atomic group cannot have flags");return{type:"Group",...e&&{atomic:e},...n&&{flags:n},body:vp(t==null?void 0:t.body)}}function Hl(t){const e={behind:!1,negate:!1,...t};return{type:"LookaroundAssertion",kind:e.behind?"lookbehind":"lookahead",negate:e.negate,body:vp(t==null?void 0:t.body)}}function B1e(t,e,n){return{type:"NamedCallout",kind:t,tag:e,arguments:n}}function z1e(t,e){const n=!!(e!=null&&e.negate);if(!zE.has(t))throw new Error(`Invalid POSIX class "${t}"`);return{type:"CharacterSet",kind:"posix",value:t,negate:n}}function F9(t,e,n,o){if(e>n)throw new Error("Invalid reversed quantifier range");return{type:"Quantifier",kind:t,min:e,max:n,body:o}}function H1e(t,e){return{type:"Regex",body:vp(e==null?void 0:e.body),flags:t}}function G9(t){return{type:"Subroutine",ref:t}}function vc(t,e){var r;const n={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...e};let o=(r=n.unicodePropertyMap)==null?void 0:r.get(d1(t));if(!o){if(n.normalizeUnknownPropertyNames)o=F1e(t);else if(n.unicodePropertyMap&&!n.skipPropertyNameValidation)throw new Error(Ht`Invalid Unicode property "\p{${t}}"`)}return{type:"CharacterSet",kind:"property",value:o??t,negate:n.negate}}function V1e({flags:t,kind:e,name:n,negate:o,number:r}){switch(e){case"absence_repeater":return I1e("repeater");case"atomic":return rr({atomic:!0});case"capturing":return U9(r,{name:n});case"group":return rr({flags:t});case"lookahead":case"lookbehind":return Hl({behind:e==="lookbehind",negate:o});default:throw new Error(`Unexpected group kind "${e}"`)}}function vp(t){if(t===void 0)t=[Oa()];else if(!Array.isArray(t)||!t.length||!t.every(e=>e.type==="Alternative"))throw new Error("Invalid body; expected array of one or more Alternative nodes");return t}function q9(t){if(t===void 0)t=[];else if(!Array.isArray(t)||!t.every(e=>!!e.type))throw new Error("Invalid body; expected array of nodes");return t}function gO(t){return t.type==="LookaroundAssertion"&&t.kind==="lookahead"}function bO(t){return t.type==="LookaroundAssertion"&&t.kind==="lookbehind"}function U1e(t){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(t)}function F1e(t){return t.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase())}function d1(t){return t.replace(/[- _]+/g,"").toLowerCase()}function yO(t,e){return fd(t,`${(e==null?void 0:e.type)==="Character"&&e.value===93?"Empty":"Unclosed"} character class`)}function vO(t){return fd(t,"Unclosed group")}function kf(t,e,n=null){function o(i,s){for(let l=0;l<i.length;l++){const a=r(i[l],s,l,i);l=Math.max(-1,l+a)}}function r(i,s=null,l=null,a=null){var y,w;let c=0,u=!1;const d={node:i,parent:s,key:l,container:a,root:t,remove(){km(a).splice(Math.max(0,ac(l)+c),1),c--,u=!0},removeAllNextSiblings(){return km(a).splice(ac(l)+1)},removeAllPrevSiblings(){const k=ac(l)+c;return c-=k,km(a).splice(0,Math.max(0,k))},replaceWith(k,x={}){const C=!!x.traverse;a?a[Math.max(0,ac(l)+c)]=k:fd(s,"Can't replace root node")[l]=k,C&&r(k,s,l,a),u=!0},replaceWithMultiple(k,x={}){const C=!!x.traverse;if(km(a).splice(Math.max(0,ac(l)+c),1,...k),c+=k.length-1,C){let E=0;for(let S=0;S<k.length;S++)E+=r(k[S],s,ac(l)+S+E,a)}u=!0},skip(){u=!0}},{type:f}=i,h=e["*"],p=e[f],m=typeof h=="function"?h:h==null?void 0:h.enter,b=typeof p=="function"?p:p==null?void 0:p.enter;if(m==null||m(d,n),b==null||b(d,n),!u)switch(f){case"AbsenceFunction":case"CapturingGroup":case"Group":o(i.body,i);break;case"Alternative":case"CharacterClass":o(i.body,i);break;case"Assertion":case"Backreference":case"Character":case"CharacterSet":case"Directive":case"Flags":case"NamedCallout":case"Subroutine":break;case"CharacterClassRange":r(i.min,i,"min"),r(i.max,i,"max");break;case"LookaroundAssertion":o(i.body,i);break;case"Quantifier":r(i.body,i,"body");break;case"Regex":o(i.body,i),r(i.flags,i,"flags");break;default:throw new Error(`Unexpected node type "${f}"`)}return(y=p==null?void 0:p.exit)==null||y.call(p,d,n),(w=h==null?void 0:h.exit)==null||w.call(h,d,n),c}return r(t),t}function km(t){if(!Array.isArray(t))throw new Error("Container expected");return t}function ac(t){if(typeof t!="number")throw new Error("Numeric key expected");return t}const G1e=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function q1e(t,e){for(let n=0;n<t.length;n++)t[n]>=e&&t[n]++}function W1e(t,e,n,o){return t.slice(0,e)+o+t.slice(e+n.length)}const Vo=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function VE(t,e,n,o){const r=new RegExp(String.raw`${e}|(?<$skip>\[\^?|\\?.)`,"gsu"),i=[!1];let s=0,l="";for(const a of t.matchAll(r)){const{0:c,groups:{$skip:u}}=a;if(!u&&(!o||o===Vo.DEFAULT==!s)){n instanceof Function?l+=n(a,{context:s?Vo.CHAR_CLASS:Vo.DEFAULT,negated:i[i.length-1]}):l+=n;continue}c[0]==="["?(s++,i.push(c[1]==="^")):c==="]"&&s&&(s--,i.pop()),l+=c}return l}function W9(t,e,n,o){VE(t,e,n,o)}function K1e(t,e,n=0,o){if(!new RegExp(e,"su").test(t))return null;const r=new RegExp(`${e}|(?<$skip>\\\\?.)`,"gsu");r.lastIndex=n;let i=0,s;for(;s=r.exec(t);){const{0:l,groups:{$skip:a}}=s;if(!a&&(!o||o===Vo.DEFAULT==!i))return s;l==="["?i++:l==="]"&&i&&i--,r.lastIndex==s.index&&r.lastIndex++}return null}function xm(t,e,n){return!!K1e(t,e,0,n)}function Z1e(t,e){const n=/\\?./gsu;n.lastIndex=e;let o=t.length,r=0,i=1,s;for(;s=n.exec(t);){const[l]=s;if(l==="[")r++;else if(r)l==="]"&&r--;else if(l==="(")i++;else if(l===")"&&(i--,!i)){o=s.index;break}}return t.slice(e,o)}const wO=new RegExp(String.raw`(?<noncapturingStart>${G1e})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function Y1e(t,e){const n=(e==null?void 0:e.hiddenCaptures)??[];let o=(e==null?void 0:e.captureTransfers)??new Map;if(!/\(\?>/.test(t))return{pattern:t,captureTransfers:o,hiddenCaptures:n};const r="(?>",i="(?:(?=(",s=[0],l=[];let a=0,c=0,u=NaN,d;do{d=!1;let f=0,h=0,p=!1,m;for(wO.lastIndex=Number.isNaN(u)?0:u+i.length;m=wO.exec(t);){const{0:b,index:y,groups:{capturingStart:w,noncapturingStart:k}}=m;if(b==="[")f++;else if(f)b==="]"&&f--;else if(b===r&&!p)u=y,p=!0;else if(p&&k)h++;else if(w)p?h++:(a++,s.push(a+c));else if(b===")"&&p){if(!h){c++;const x=a+c;if(t=`${t.slice(0,u)}${i}${t.slice(u+r.length,y)}))<$$${x}>)${t.slice(y+1)}`,d=!0,l.push(x),q1e(n,x),o.size){const C=new Map;o.forEach((E,S)=>{C.set(S>=x?S+1:S,E.map(_=>_>=x?_+1:_))}),o=C}break}h--}}}while(d);return n.push(...l),t=VE(t,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:f,groups:{backrefNum:h,wrappedBackrefNum:p}})=>{if(h){const m=+h;if(m>s.length-1)throw new Error(`Backref "${f}" greater than number of captures`);return`\\${s[m]}`}return`\\${p}`},Vo.DEFAULT),{pattern:t,captureTransfers:o,hiddenCaptures:n}}const K9=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,Nw=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${K9})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function X1e(t){if(!new RegExp(`${K9}\\+`).test(t))return{pattern:t};const e=[];let n=null,o=null,r="",i=0,s;for(Nw.lastIndex=0;s=Nw.exec(t);){const{0:l,index:a,groups:{qBase:c,qMod:u,invalidQ:d}}=s;if(l==="[")i||(o=a),i++;else if(l==="]")i?i--:o=null;else if(!i)if(u==="+"&&r&&!r.startsWith("(")){if(d)throw new Error(`Invalid quantifier "${l}"`);let f=-1;if(/^\{\d+\}$/.test(c))t=W1e(t,a+c.length,u,"");else{if(r===")"||r==="]"){const h=r===")"?n:o;if(h===null)throw new Error(`Invalid unmatched "${r}"`);t=`${t.slice(0,h)}(?>${t.slice(h,a)}${c})${t.slice(a+l.length)}`}else t=`${t.slice(0,a-r.length)}(?>${r}${c})${t.slice(a+l.length)}`;f+=4}Nw.lastIndex+=f}else l[0]==="("?e.push(a):l===")"&&(n=e.length?e.pop():null);r=l}return{pattern:t}}const Bo=String.raw,J1e=Bo`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,SC=Bo`\(\?R=(?<rDepth>[^\)]+)\)|${J1e}`,f1=Bo`\(\?<(?![=!])(?<captureName>[^>]+)>`,Z9=Bo`${f1}|(?<unnamed>\()(?!\?)`,Ol=new RegExp(Bo`${f1}|${SC}|\(\?|\\?.`,"gsu"),Ow="Cannot use multiple overlapping recursions";function Q1e(t,e){const{hiddenCaptures:n,mode:o}={hiddenCaptures:[],mode:"plugin",...e};let r=(e==null?void 0:e.captureTransfers)??new Map;if(!new RegExp(SC,"su").test(t))return{pattern:t,captureTransfers:r,hiddenCaptures:n};if(o==="plugin"&&xm(t,Bo`\(\?\(DEFINE\)`,Vo.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const i=[],s=xm(t,Bo`\\[1-9]`,Vo.DEFAULT),l=new Map,a=[];let c=!1,u=0,d=0,f;for(Ol.lastIndex=0;f=Ol.exec(t);){const{0:h,groups:{captureName:p,rDepth:m,gRNameOrNum:b,gRDepth:y}}=f;if(h==="[")u++;else if(u)h==="]"&&u--;else if(m){if(kO(m),c)throw new Error(Ow);if(s)throw new Error(`${o==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const w=t.slice(0,f.index),k=t.slice(Ol.lastIndex);if(xm(k,SC,Vo.DEFAULT))throw new Error(Ow);const x=+m-1;t=xO(w,k,x,!1,n,i,d),r=_O(r,w,x,i.length,0,d);break}else if(b){kO(y);let w=!1;for(const D of a)if(D.name===b||D.num===+b){if(w=!0,D.hasRecursedWithin)throw new Error(Ow);break}if(!w)throw new Error(Bo`Recursive \g cannot be used outside the referenced group "${o==="external"?b:Bo`\g<${b}&R=${y}>`}"`);const k=l.get(b),x=Z1e(t,k);if(s&&xm(x,Bo`${f1}|\((?!\?)`,Vo.DEFAULT))throw new Error(`${o==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const C=t.slice(k,f.index),E=x.slice(C.length+h.length),S=i.length,_=+y-1,T=xO(C,E,_,!0,n,i,d);r=_O(r,C,_,i.length-S,S,d);const M=t.slice(0,k),$=t.slice(k+x.length);t=`${M}${T}${$}`,Ol.lastIndex+=T.length-h.length-C.length-E.length,a.forEach(D=>D.hasRecursedWithin=!0),c=!0}else if(p)d++,l.set(String(d),Ol.lastIndex),l.set(p,Ol.lastIndex),a.push({num:d,name:p});else if(h[0]==="("){const w=h==="(";w&&(d++,l.set(String(d),Ol.lastIndex)),a.push(w?{num:d}:{})}else h===")"&&a.pop()}return n.push(...i),{pattern:t,captureTransfers:r,hiddenCaptures:n}}function kO(t){const e=`Max depth must be integer between 2 and 100; used ${t}`;if(!/^[1-9]\d*$/.test(t))throw new Error(e);if(t=+t,t<2||t>100)throw new Error(e)}function xO(t,e,n,o,r,i,s){const l=new Set;o&&W9(t+e,f1,({groups:{captureName:c}})=>{l.add(c)},Vo.DEFAULT);const a=[n,o?l:null,r,i,s];return`${t}${CO(`(?:${t}`,"forward",...a)}(?:)${CO(`${e})`,"backward",...a)}${e}`}function CO(t,e,n,o,r,i,s){const a=u=>e==="forward"?u+2:n-u+2-1;let c="";for(let u=0;u<n;u++){const d=a(u);c+=VE(t,Bo`${Z9}|\\k<(?<backref>[^>]+)>`,({0:f,groups:{captureName:h,unnamed:p,backref:m}})=>{if(m&&o&&!o.has(m))return f;const b=`_$${d}`;if(p||h){const y=s+i.length+1;return i.push(y),eve(r,y),p?f:`(?<${h}${b}>`}return Bo`\k<${m}${b}>`},Vo.DEFAULT)}return c}function eve(t,e){for(let n=0;n<t.length;n++)t[n]>=e&&t[n]++}function _O(t,e,n,o,r,i){if(t.size&&o){let s=0;W9(e,Z9,()=>s++,Vo.DEFAULT);const l=i-s+r,a=new Map;return t.forEach((c,u)=>{const d=(o-s*n)/n,f=s*n,h=u>l+s?u+o:u,p=[];for(const m of c)if(m<=l)p.push(m);else if(m>l+s+d)p.push(m+o);else if(m<=l+s)for(let b=0;b<=n;b++)p.push(m+s*b);else for(let b=0;b<=n;b++)p.push(m+f+d*b);a.set(h,p)}),a}return t}var Lt=String.fromCodePoint,ae=String.raw,Vi={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};Vi.bugFlagVLiteralHyphenIsRange=Vi.unicodeSets?(()=>{try{new RegExp(ae`[\d\-a]`,"v")}catch{return!0}return!1})():!1;Vi.bugNestedClassIgnoresNegation=Vi.unicodeSets&&new RegExp("[[^a]]","v").test("a");function wy(t,{enable:e,disable:n}){return{dotAll:!(n!=null&&n.dotAll)&&!!(e!=null&&e.dotAll||t.dotAll),ignoreCase:!(n!=null&&n.ignoreCase)&&!!(e!=null&&e.ignoreCase||t.ignoreCase)}}function kh(t,e,n){return t.has(e)||t.set(e,n),t.get(e)}function EC(t,e){return SO[t]>=SO[e]}function tve(t,e){if(t==null)throw new Error(e??"Value expected");return t}var SO={ES2025:2025,ES2024:2024,ES2018:2018},nve={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function Y9(t={}){if({}.toString.call(t)!=="[object Object]")throw new Error("Unexpected options");if(t.target!==void 0&&!nve[t.target])throw new Error(`Unexpected target "${t.target}"`);const e={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...t,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...t.rules}};return e.target==="auto"&&(e.target=Vi.flagGroups?"ES2025":Vi.unicodeSets?"ES2024":"ES2018"),e}var ove="[	-\r ]",rve=new Set([Lt(304),Lt(305)]),gi=ae`[\p{L}\p{M}\p{N}\p{Pc}]`;function X9(t){if(rve.has(t))return[t];const e=new Set,n=t.toLowerCase(),o=n.toUpperCase(),r=lve.get(n),i=ive.get(n),s=sve.get(n);return[...o].length===1&&e.add(o),s&&e.add(s),r&&e.add(r),e.add(n),i&&e.add(i),[...e]}var UE=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(t=>[d1(t),t])),ive=new Map([["s",Lt(383)],[Lt(383),"s"]]),sve=new Map([[Lt(223),Lt(7838)],[Lt(107),Lt(8490)],[Lt(229),Lt(8491)],[Lt(969),Lt(8486)]]),lve=new Map([fs(453),fs(456),fs(459),fs(498),...Lw(8072,8079),...Lw(8088,8095),...Lw(8104,8111),fs(8124),fs(8140),fs(8188)]),ave=new Map([["alnum",ae`[\p{Alpha}\p{Nd}]`],["alpha",ae`\p{Alpha}`],["ascii",ae`\p{ASCII}`],["blank",ae`[\p{Zs}\t]`],["cntrl",ae`\p{Cc}`],["digit",ae`\p{Nd}`],["graph",ae`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",ae`\p{Lower}`],["print",ae`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",ae`[\p{P}\p{S}]`],["space",ae`\p{space}`],["upper",ae`\p{Upper}`],["word",ae`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",ae`\p{AHex}`]]);function cve(t,e){const n=[];for(let o=t;o<=e;o++)n.push(o);return n}function fs(t){const e=Lt(t);return[e.toLowerCase(),e]}function Lw(t,e){return cve(t,e).map(n=>fs(n))}var J9=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]);function uve(t,e){const n={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...e};Q9(t);const o={accuracy:n.accuracy,asciiWordBoundaries:n.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:EC(n.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:t.flags.digitIsAscii,spaceIsAscii:t.flags.spaceIsAscii,wordIsAscii:t.flags.wordIsAscii};kf(t,dve,o);const r={dotAll:t.flags.dotAll,ignoreCase:t.flags.ignoreCase},i={currentFlags:r,prevFlags:null,globalFlags:r,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:o.subroutineRefMap};kf(t,fve,i);const s={groupsByName:i.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:i.reffedNodesByReferencer};return kf(t,hve,s),t._originMap=i.groupOriginByCopy,t._strategy=o.strategy,t}var dve={AbsenceFunction({node:t,parent:e,replaceWith:n}){const{body:o,kind:r}=t;if(r==="repeater"){const i=rr();i.body[0].body.push(Hl({negate:!0,body:o}),vc("Any"));const s=rr();s.body[0].body.push(F9("greedy",0,1/0,i)),n(vt(s,e),{traverse:!0})}else throw new Error('Unsupported absence function "(?~|"')},Alternative:{enter({node:t,parent:e,key:n},{flagDirectivesByAlt:o}){const r=t.body.filter(i=>i.kind==="flags");for(let i=n+1;i<e.body.length;i++){const s=e.body[i];kh(o,s,[]).push(...r)}},exit({node:t},{flagDirectivesByAlt:e}){var n;if((n=e.get(t))!=null&&n.length){const o=t7(e.get(t));if(o){const r=rr({flags:o});r.body[0].body=t.body,t.body=[vt(r,t)]}}}},Assertion({node:t,parent:e,key:n,container:o,root:r,remove:i,replaceWith:s},l){const{kind:a,negate:c}=t,{asciiWordBoundaries:u,avoidSubclass:d,supportedGNodes:f,wordIsAscii:h}=l;if(a==="text_segment_boundary")throw new Error(`Unsupported text segment boundary "\\${c?"Y":"y"}"`);if(a==="line_end")s(vt(Hl({body:[Oa({body:[xC("string_end")]}),Oa({body:[u1(10)]})]}),e));else if(a==="line_start")s(vt(bi(ae`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),e));else if(a==="search_start")if(f.has(t))r.flags.sticky=!0,i();else{const p=o[n-1];if(p&&vve(p))s(vt(Hl({negate:!0}),e));else{if(d)throw new Error(ae`Uses "\G" in a way that requires a subclass`);s(hs(xC("string_start"),e)),l.strategy="clip_search"}}else if(!(a==="string_end"||a==="string_start"))if(a==="string_end_newline")s(vt(bi(ae`(?=\n?\z)`),e));else if(a==="word_boundary"){if(!h&&!u){const p=`(?:(?<=${gi})(?!${gi})|(?<!${gi})(?=${gi}))`,m=`(?:(?<=${gi})(?=${gi})|(?<!${gi})(?!${gi}))`;s(vt(bi(c?m:p),e))}}else throw new Error(`Unexpected assertion kind "${a}"`)},Backreference({node:t},{jsGroupNameMap:e}){let{ref:n}=t;typeof n=="string"&&!Iw(n)&&(n=Dw(n,e),t.ref=n)},CapturingGroup({node:t},{jsGroupNameMap:e,subroutineRefMap:n}){let{name:o}=t;o&&!Iw(o)&&(o=Dw(o,e),t.name=o),n.set(t.number,t),o&&n.set(o,t)},CharacterClassRange({node:t,parent:e,replaceWith:n}){if(e.kind==="intersection"){const o=rg({body:[t]});n(vt(o,e),{traverse:!0})}},CharacterSet({node:t,parent:e,replaceWith:n},{accuracy:o,minTargetEs2024:r,digitIsAscii:i,spaceIsAscii:s,wordIsAscii:l}){const{kind:a,negate:c,value:u}=t;if(i&&(a==="digit"||u==="digit")){n(hs(_C("digit",{negate:c}),e));return}if(s&&(a==="space"||u==="space")){n(vt($w(bi(ove),c),e));return}if(l&&(a==="word"||u==="word")){n(hs(_C("word",{negate:c}),e));return}if(a==="any")n(hs(vc("Any"),e));else if(a==="digit")n(hs(vc("Nd",{negate:c}),e));else if(a!=="dot")if(a==="text_segment"){if(o==="strict")throw new Error(ae`Use of "\X" requires non-strict accuracy`);const d="\\p{Emoji}(?:\\p{EMod}|\\uFE0F\\u20E3?|[\\x{E0020}-\\x{E007E}]+\\x{E007F})?",f=ae`\p{RI}{2}|${d}(?:\u200D${d})*`;n(vt(bi(ae`(?>\r\n|${r?ae`\p{RGI_Emoji}`:f}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),e))}else if(a==="hex")n(hs(vc("AHex",{negate:c}),e));else if(a==="newline")n(vt(bi(c?`[^
]`:`(?>\r
?|[
\v\f\u2028\u2029])`),e));else if(a==="posix")if(!r&&(u==="graph"||u==="print")){if(o==="strict")throw new Error(`POSIX class "${u}" requires min target ES2024 or non-strict accuracy`);let d={graph:"!-~",print:" -~"}[u];c&&(d=`\0-${Lt(d.codePointAt(0)-1)}${Lt(d.codePointAt(2)+1)}-􏿿`),n(vt(bi(`[${d}]`),e))}else n(vt($w(bi(ave.get(u)),c),e));else if(a==="property")UE.has(d1(u))||(t.key="sc");else if(a==="space")n(hs(vc("space",{negate:c}),e));else if(a==="word")n(vt($w(bi(gi),c),e));else throw new Error(`Unexpected character set kind "${a}"`)},Directive({node:t,parent:e,root:n,remove:o,replaceWith:r,removeAllPrevSiblings:i,removeAllNextSiblings:s}){const{kind:l,flags:a}=t;if(l==="flags")if(!a.enable&&!a.disable)o();else{const c=rr({flags:a});c.body[0].body=s(),r(vt(c,e),{traverse:!0})}else if(l==="keep"){const c=n.body[0],d=n.body.length===1&&H9(c,{type:"Group"})&&c.body[0].body.length===1?c.body[0]:n;if(e.parent!==d||d.body.length>1)throw new Error(ae`Uses "\K" in a way that's unsupported`);const f=Hl({behind:!0});f.body[0].body=i(),r(vt(f,e))}else throw new Error(`Unexpected directive kind "${l}"`)},Flags({node:t,parent:e}){if(t.posixIsAscii)throw new Error('Unsupported flag "P"');if(t.textSegmentMode==="word")throw new Error('Unsupported flag "y{w}"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii","textSegmentMode"].forEach(n=>delete t[n]),Object.assign(t,{global:!1,hasIndices:!1,multiline:!1,sticky:t.sticky??!1}),e.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:t}){if(!t.flags)return;const{enable:e,disable:n}=t.flags;e!=null&&e.extended&&delete e.extended,n!=null&&n.extended&&delete n.extended,e!=null&&e.dotAll&&(n!=null&&n.dotAll)&&delete e.dotAll,e!=null&&e.ignoreCase&&(n!=null&&n.ignoreCase)&&delete e.ignoreCase,e&&!Object.keys(e).length&&delete t.flags.enable,n&&!Object.keys(n).length&&delete t.flags.disable,!t.flags.enable&&!t.flags.disable&&delete t.flags},LookaroundAssertion({node:t},e){const{kind:n}=t;n==="lookbehind"&&(e.passedLookbehind=!0)},NamedCallout({node:t,parent:e,replaceWith:n}){const{kind:o}=t;if(o==="fail")n(vt(Hl({negate:!0}),e));else throw new Error(`Unsupported named callout "(*${o.toUpperCase()}"`)},Quantifier({node:t}){if(t.body.type==="Quantifier"){const e=rr();e.body[0].body.push(t.body),t.body=vt(e,t)}},Regex:{enter({node:t},{supportedGNodes:e}){const n=[];let o=!1,r=!1;for(const i of t.body)if(i.body.length===1&&i.body[0].kind==="search_start")i.body.pop();else{const s=o7(i.body);s?(o=!0,Array.isArray(s)?n.push(...s):n.push(s)):r=!0}o&&!r&&n.forEach(i=>e.add(i))},exit(t,{accuracy:e,passedLookbehind:n,strategy:o}){if(e==="strict"&&n&&o)throw new Error(ae`Uses "\G" in a way that requires non-strict accuracy`)}},Subroutine({node:t},{jsGroupNameMap:e}){let{ref:n}=t;typeof n=="string"&&!Iw(n)&&(n=Dw(n,e),t.ref=n)}},fve={Backreference({node:t},{multiplexCapturesToLeftByRef:e,reffedNodesByReferencer:n}){const{orphan:o,ref:r}=t;o||n.set(t,[...e.get(r).map(({node:i})=>i)])},CapturingGroup:{enter({node:t,parent:e,replaceWith:n,skip:o},{groupOriginByCopy:r,groupsByName:i,multiplexCapturesToLeftByRef:s,openRefs:l,reffedNodesByReferencer:a}){const c=r.get(t);if(c&&l.has(t.number)){const d=hs(EO(t.number),e);a.set(d,l.get(t.number)),n(d);return}l.set(t.number,t),s.set(t.number,[]),t.name&&kh(s,t.name,[]);const u=s.get(t.name??t.number);for(let d=0;d<u.length;d++){const f=u[d];if(c===f.node||c&&c===f.origin||t===f.origin){u.splice(d,1);break}}if(s.get(t.number).push({node:t,origin:c}),t.name&&s.get(t.name).push({node:t,origin:c}),t.name){const d=kh(i,t.name,new Map);let f=!1;if(c)f=!0;else for(const h of d.values())if(!h.hasDuplicateNameToRemove){f=!0;break}i.get(t.name).set(t,{node:t,hasDuplicateNameToRemove:f})}},exit({node:t},{openRefs:e}){e.delete(t.number)}},Group:{enter({node:t},e){e.prevFlags=e.currentFlags,t.flags&&(e.currentFlags=wy(e.currentFlags,t.flags))},exit(t,e){e.currentFlags=e.prevFlags}},Subroutine({node:t,parent:e,replaceWith:n},o){const{isRecursive:r,ref:i}=t;if(r){let u=e;for(;(u=u.parent)&&!(u.type==="CapturingGroup"&&(u.name===i||u.number===i)););o.reffedNodesByReferencer.set(t,u);return}const s=o.subroutineRefMap.get(i),l=i===0,a=l?EO(0):e7(s,o.groupOriginByCopy,null);let c=a;if(!l){const u=t7(gve(s,f=>f.type==="Group"&&!!f.flags)),d=u?wy(o.globalFlags,u):o.globalFlags;pve(d,o.currentFlags)||(c=rr({flags:bve(d)}),c.body[0].body.push(a))}n(vt(c,e),{traverse:!l})}},hve={Backreference({node:t,parent:e,replaceWith:n},o){if(t.orphan){o.highestOrphanBackref=Math.max(o.highestOrphanBackref,t.ref);return}const i=o.reffedNodesByReferencer.get(t).filter(s=>mve(s,t));if(!i.length)n(vt(Hl({negate:!0}),e));else if(i.length>1){const s=rr({atomic:!0,body:i.reverse().map(l=>Oa({body:[CC(l.number)]}))});n(vt(s,e))}else t.ref=i[0].number},CapturingGroup({node:t},e){t.number=++e.numCapturesToLeft,t.name&&e.groupsByName.get(t.name).get(t).hasDuplicateNameToRemove&&delete t.name},Regex:{exit({node:t},e){const n=Math.max(e.highestOrphanBackref-e.numCapturesToLeft,0);for(let o=0;o<n;o++){const r=U9();t.body.at(-1).body.push(r)}}},Subroutine({node:t},e){!t.isRecursive||t.ref===0||(t.ref=e.reffedNodesByReferencer.get(t).number)}};function Q9(t){kf(t,{"*"({node:e,parent:n}){e.parent=n}})}function pve(t,e){return t.dotAll===e.dotAll&&t.ignoreCase===e.ignoreCase}function mve(t,e){let n=e;do{if(n.type==="Regex")return!1;if(n.type==="Alternative")continue;if(n===t)return!1;const o=n7(n.parent);for(const r of o){if(r===n)break;if(r===t||r7(r,t))return!0}}while(n=n.parent);throw new Error("Unexpected path")}function e7(t,e,n,o){const r=Array.isArray(t)?[]:{};for(const[i,s]of Object.entries(t))i==="parent"?r.parent=Array.isArray(n)?o:n:s&&typeof s=="object"?r[i]=e7(s,e,r,n):(i==="type"&&s==="CapturingGroup"&&e.set(r,e.get(t)??t),r[i]=s);return r}function EO(t){const e=G9(t);return e.isRecursive=!0,e}function gve(t,e){const n=[];for(;t=t.parent;)(!e||e(t))&&n.push(t);return n}function Dw(t,e){if(e.has(t))return e.get(t);const n=`$${e.size}_${t.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return e.set(t,n),n}function t7(t){const e=["dotAll","ignoreCase"],n={enable:{},disable:{}};return t.forEach(({flags:o})=>{e.forEach(r=>{var i,s;(i=o.enable)!=null&&i[r]&&(delete n.disable[r],n.enable[r]=!0),(s=o.disable)!=null&&s[r]&&(n.disable[r]=!0)})}),Object.keys(n.enable).length||delete n.enable,Object.keys(n.disable).length||delete n.disable,n.enable||n.disable?n:null}function bve({dotAll:t,ignoreCase:e}){const n={};return(t||e)&&(n.enable={},t&&(n.enable.dotAll=!0),e&&(n.enable.ignoreCase=!0)),(!t||!e)&&(n.disable={},!t&&(n.disable.dotAll=!0),!e&&(n.disable.ignoreCase=!0)),n}function n7(t){if(!t)throw new Error("Node expected");const{body:e}=t;return Array.isArray(e)?e:e?[e]:null}function o7(t){const e=t.find(n=>n.kind==="search_start"||wve(n,{negate:!1})||!yve(n));if(!e)return null;if(e.kind==="search_start")return e;if(e.type==="LookaroundAssertion")return e.body[0].body[0];if(e.type==="CapturingGroup"||e.type==="Group"){const n=[];for(const o of e.body){const r=o7(o.body);if(!r)return null;Array.isArray(r)?n.push(...r):n.push(r)}return n}return null}function r7(t,e){const n=n7(t)??[];for(const o of n)if(o===e||r7(o,e))return!0;return!1}function yve({type:t}){return t==="Assertion"||t==="Directive"||t==="LookaroundAssertion"}function vve(t){const e=["Character","CharacterClass","CharacterSet"];return e.includes(t.type)||t.type==="Quantifier"&&t.min&&e.includes(t.body.type)}function wve(t,e){const n={negate:null,...e};return t.type==="LookaroundAssertion"&&(n.negate===null||t.negate===n.negate)&&t.body.length===1&&H9(t.body[0],{type:"Assertion",kind:"search_start"})}function Iw(t){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(t)}function bi(t,e){const o=V9(t,{...e,unicodePropertyMap:UE}).body;return o.length>1||o[0].body.length>1?rr({body:o}):o[0].body[0]}function $w(t,e){return t.negate=e,t}function hs(t,e){return t.parent=e,t}function vt(t,e){return Q9(t),t.parent=e,t}function kve(t,e){const n=Y9(e),o=EC(n.target,"ES2024"),r=EC(n.target,"ES2025"),i=n.rules.recursionLimit;if(!Number.isInteger(i)||i<2||i>20)throw new Error("Invalid recursionLimit; use 2-20");let s=null,l=null;if(!r){const h=[t.flags.ignoreCase];kf(t,xve,{getCurrentModI:()=>h.at(-1),popModI(){h.pop()},pushModI(p){h.push(p)},setHasCasedChar(){h.at(-1)?s=!0:l=!0}})}const a={dotAll:t.flags.dotAll,ignoreCase:!!((t.flags.ignoreCase||s)&&!l)};let c=t;const u={accuracy:n.accuracy,appliedGlobalFlags:a,captureMap:new Map,currentFlags:{dotAll:t.flags.dotAll,ignoreCase:t.flags.ignoreCase},inCharClass:!1,lastNode:c,originMap:t._originMap,recursionLimit:i,useAppliedIgnoreCase:!!(!r&&s&&l),useFlagMods:r,useFlagV:o,verbose:n.verbose};function d(h){return u.lastNode=c,c=h,tve(Cve[h.type],`Unexpected node type "${h.type}"`)(h,u,d)}const f={pattern:t.body.map(d).join("|"),flags:d(t.flags),options:{...t.options}};return o||(delete f.options.force.v,f.options.disable.v=!0,f.options.unicodeSetsPlugin=null),f._captureTransfers=new Map,f._hiddenCaptures=[],u.captureMap.forEach((h,p)=>{h.hidden&&f._hiddenCaptures.push(p),h.transferTo&&kh(f._captureTransfers,h.transferTo,[]).push(p)}),f}var xve={"*":{enter({node:t},e){if(MO(t)){const n=e.getCurrentModI();e.pushModI(t.flags?wy({ignoreCase:n},t.flags).ignoreCase:n)}},exit({node:t},e){MO(t)&&e.popModI()}},Backreference(t,e){e.setHasCasedChar()},Character({node:t},e){FE(Lt(t.value))&&e.setHasCasedChar()},CharacterClassRange({node:t,skip:e},n){e(),i7(t,{firstOnly:!0}).length&&n.setHasCasedChar()},CharacterSet({node:t},e){t.kind==="property"&&J9.has(t.value)&&e.setHasCasedChar()}},Cve={Alternative({body:t},e,n){return t.map(n).join("")},Assertion({kind:t,negate:e}){if(t==="string_end")return"$";if(t==="string_start")return"^";if(t==="word_boundary")return e?ae`\B`:ae`\b`;throw new Error(`Unexpected assertion kind "${t}"`)},Backreference({ref:t},e){if(typeof t!="number")throw new Error("Unexpected named backref in transformed AST");if(!e.useFlagMods&&e.accuracy==="strict"&&e.currentFlags.ignoreCase&&!e.captureMap.get(t).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+t},CapturingGroup(t,e,n){const{body:o,name:r,number:i}=t,s={ignoreCase:e.currentFlags.ignoreCase},l=e.originMap.get(t);return l&&(s.hidden=!0,i>l.number&&(s.transferTo=l.number)),e.captureMap.set(i,s),`(${r?`?<${r}>`:""}${o.map(n).join("|")})`},Character({value:t},e){const n=Lt(t),o=cc(t,{escDigit:e.lastNode.type==="Backreference",inCharClass:e.inCharClass,useFlagV:e.useFlagV});if(o!==n)return o;if(e.useAppliedIgnoreCase&&e.currentFlags.ignoreCase&&FE(n)){const r=X9(n);return e.inCharClass?r.join(""):r.length>1?`[${r.join("")}]`:r[0]}return n},CharacterClass(t,e,n){const{kind:o,negate:r,parent:i}=t;let{body:s}=t;if(o==="intersection"&&!e.useFlagV)throw new Error("Use of class intersection requires min target ES2024");Vi.bugFlagVLiteralHyphenIsRange&&e.useFlagV&&s.some(AO)&&(s=[u1(45),...s.filter(c=>!AO(c))]);const l=()=>`[${r?"^":""}${s.map(n).join(o==="intersection"?"&&":"")}]`;if(!e.inCharClass){if((!e.useFlagV||Vi.bugNestedClassIgnoresNegation)&&!r){const u=s.filter(d=>d.type==="CharacterClass"&&d.kind==="union"&&d.negate);if(u.length){const d=rr(),f=d.body[0];return d.parent=i,f.parent=d,s=s.filter(h=>!u.includes(h)),t.body=s,s.length?(t.parent=f,f.body.push(t)):d.body.pop(),u.forEach(h=>{const p=Oa({body:[h]});h.parent=p,p.parent=d,d.body.push(p)}),n(d)}}e.inCharClass=!0;const c=l();return e.inCharClass=!1,c}const a=s[0];if(o==="union"&&!r&&a&&((!e.useFlagV||!e.verbose)&&i.kind==="union"&&!(Vi.bugFlagVLiteralHyphenIsRange&&e.useFlagV)||!e.verbose&&i.kind==="intersection"&&s.length===1&&a.type!=="CharacterClassRange"))return s.map(n).join("");if(!e.useFlagV&&i.type==="CharacterClass")throw new Error("Use of nested character class requires min target ES2024");return l()},CharacterClassRange(t,e){const n=t.min.value,o=t.max.value,r={escDigit:!1,inCharClass:!0,useFlagV:e.useFlagV},i=cc(n,r),s=cc(o,r),l=new Set;if(e.useAppliedIgnoreCase&&e.currentFlags.ignoreCase){const a=i7(t);Mve(a).forEach(u=>{l.add(Array.isArray(u)?`${cc(u[0],r)}-${cc(u[1],r)}`:cc(u,r))})}return`${i}-${s}${[...l].join("")}`},CharacterSet({kind:t,negate:e,value:n,key:o},r){if(t==="dot")return r.currentFlags.dotAll?r.appliedGlobalFlags.dotAll||r.useFlagMods?".":"[^]":ae`[^\n]`;if(t==="digit")return e?ae`\D`:ae`\d`;if(t==="property"){if(r.useAppliedIgnoreCase&&r.currentFlags.ignoreCase&&J9.has(n))throw new Error(`Unicode property "${n}" can't be case-insensitive when other chars have specific case`);return`${e?ae`\P`:ae`\p`}{${o?`${o}=`:""}${n}}`}if(t==="word")return e?ae`\W`:ae`\w`;throw new Error(`Unexpected character set kind "${t}"`)},Flags(t,e){return(e.appliedGlobalFlags.ignoreCase?"i":"")+(t.dotAll?"s":"")+(t.sticky?"y":"")},Group({atomic:t,body:e,flags:n,parent:o},r,i){const s=r.currentFlags;n&&(r.currentFlags=wy(s,n));const l=e.map(i).join("|"),a=!r.verbose&&e.length===1&&o.type!=="Quantifier"&&!t&&(!r.useFlagMods||!n)?l:`(?${Ave(t,n,r.useFlagMods)}${l})`;return r.currentFlags=s,a},LookaroundAssertion({body:t,kind:e,negate:n},o,r){return`(?${`${e==="lookahead"?"":"<"}${n?"!":"="}`}${t.map(r).join("|")})`},Quantifier(t,e,n){return n(t.body)+Rve(t)},Subroutine({isRecursive:t,ref:e},n){if(!t)throw new Error("Unexpected non-recursive subroutine in transformed AST");const o=n.recursionLimit;return e===0?`(?R=${o})`:ae`\g<${e}&R=${o}>`}},_ve=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Sve=new Set(["-","\\","]","^","["]),Eve=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),TO=new Map([[9,ae`\t`],[10,ae`\n`],[11,ae`\v`],[12,ae`\f`],[13,ae`\r`],[8232,ae`\u2028`],[8233,ae`\u2029`],[65279,ae`\uFEFF`]]),Tve=new RegExp("^\\p{Cased}$","u");function FE(t){return Tve.test(t)}function i7(t,e){const n=!!(e!=null&&e.firstOnly),o=t.min.value,r=t.max.value,i=[];if(o<65&&(r===65535||r>=131071)||o===65536&&r>=131071)return i;for(let s=o;s<=r;s++){const l=Lt(s);if(!FE(l))continue;const a=X9(l).filter(c=>{const u=c.codePointAt(0);return u<o||u>r});if(a.length&&(i.push(...a),n))break}return i}function cc(t,{escDigit:e,inCharClass:n,useFlagV:o}){if(TO.has(t))return TO.get(t);if(t<32||t>126&&t<160||t>262143||e&&Nve(t))return t>255?`\\u{${t.toString(16).toUpperCase()}}`:`\\x${t.toString(16).toUpperCase().padStart(2,"0")}`;const r=n?o?Eve:Sve:_ve,i=Lt(t);return(r.has(i)?"\\":"")+i}function Mve(t){const e=t.map(r=>r.codePointAt(0)).sort((r,i)=>r-i),n=[];let o=null;for(let r=0;r<e.length;r++)e[r+1]===e[r]+1?o??(o=e[r]):o===null?n.push(e[r]):(n.push([o,e[r]]),o=null);return n}function Ave(t,e,n){if(t)return">";let o="";if(e&&n){const{enable:r,disable:i}=e;o=(r!=null&&r.ignoreCase?"i":"")+(r!=null&&r.dotAll?"s":"")+(i?"-":"")+(i!=null&&i.ignoreCase?"i":"")+(i!=null&&i.dotAll?"s":"")}return`${o}:`}function Rve({kind:t,max:e,min:n}){let o;return!n&&e===1?o="?":!n&&e===1/0?o="*":n===1&&e===1/0?o="+":n===e?o=`{${n}}`:o=`{${n},${e===1/0?"":e}}`,o+{greedy:"",lazy:"?",possessive:"+"}[t]}function MO({type:t}){return t==="CapturingGroup"||t==="Group"||t==="LookaroundAssertion"}function Nve(t){return t>47&&t<58}function AO({type:t,value:e}){return t==="Character"&&e===45}var Ms,ki,Yl,As,Xl,xh,TC,Js,Ove=(Js=class extends RegExp{constructor(n,o,r){var e=(...Wwe)=>(super(...Wwe),Al(this,xh),Al(this,Ms,new Map),Al(this,ki,null),Al(this,Yl),Al(this,As,null),Al(this,Xl,null),I(this,"rawOptions",{}),this);const i=!!(r!=null&&r.lazyCompile);if(n instanceof RegExp){if(r)throw new Error("Cannot provide options when copying a regexp");const s=n;e(s,o),er(this,Yl,s.source),s instanceof Js&&(er(this,Ms,kn(s,Ms)),er(this,As,kn(s,As)),er(this,Xl,kn(s,Xl)),this.rawOptions=s.rawOptions)}else{const s={hiddenCaptures:[],strategy:null,transfers:[],...r};e(i?"":n,o),er(this,Yl,n),er(this,Ms,Dve(s.hiddenCaptures,s.transfers)),er(this,Xl,s.strategy),this.rawOptions=r??{}}i||er(this,ki,this)}get source(){return kn(this,Yl)||"(?:)"}exec(n){if(!kn(this,ki)){const{lazyCompile:i,...s}=this.rawOptions;er(this,ki,new Js(kn(this,Yl),this.flags,s))}const o=this.global||this.sticky,r=this.lastIndex;if(kn(this,Xl)==="clip_search"&&o&&r){this.lastIndex=0;const i=b1(this,xh,TC).call(this,n.slice(r));return i&&(Lve(i,r,n,this.hasIndices),this.lastIndex+=r),i}return b1(this,xh,TC).call(this,n)}},Ms=new WeakMap,ki=new WeakMap,Yl=new WeakMap,As=new WeakMap,Xl=new WeakMap,xh=new WeakSet,TC=function(n){kn(this,ki).lastIndex=this.lastIndex;const o=QE(Js.prototype,this,"exec").call(kn(this,ki),n);if(this.lastIndex=kn(this,ki).lastIndex,!o||!kn(this,Ms).size)return o;const r=[...o];o.length=1;let i;this.hasIndices&&(i=[...o.indices],o.indices.length=1);const s=[0];for(let l=1;l<r.length;l++){const{hidden:a,transferTo:c}=kn(this,Ms).get(l)??{};if(a?s.push(null):(s.push(o.length),o.push(r[l]),this.hasIndices&&o.indices.push(i[l])),c&&r[l]!==void 0){const u=s[c];if(!u)throw new Error(`Invalid capture transfer to "${u}"`);if(o[u]=r[l],this.hasIndices&&(o.indices[u]=i[l]),o.groups){kn(this,As)||er(this,As,Ive(this.source));const d=kn(this,As).get(c);d&&(o.groups[d]=r[l],this.hasIndices&&(o.indices.groups[d]=i[l]))}}}return o},Js);function Lve(t,e,n,o){if(t.index+=e,t.input=n,o){const r=t.indices;for(let s=0;s<r.length;s++){const l=r[s];l&&(r[s]=[l[0]+e,l[1]+e])}const i=r.groups;i&&Object.keys(i).forEach(s=>{const l=i[s];l&&(i[s]=[l[0]+e,l[1]+e])})}}function Dve(t,e){const n=new Map;for(const o of t)n.set(o,{hidden:!0});for(const[o,r]of e)for(const i of r)kh(n,i,{}).transferTo=o;return n}function Ive(t){const e=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map;let o=0,r=0,i;for(;i=e.exec(t);){const{0:s,groups:{capture:l,name:a}}=i;s==="["?o++:o?s==="]"&&o--:l&&(r++,a&&n.set(r,a))}return n}function $ve(t,e){const n=Pve(t,e);return n.options?new Ove(n.pattern,n.flags,n.options):new RegExp(n.pattern,n.flags)}function Pve(t,e){const n=Y9(e),o=V9(t,{flags:n.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:n.rules.captureGroup,singleline:n.rules.singleline},skipBackrefValidation:n.rules.allowOrphanBackrefs,unicodePropertyMap:UE}),r=uve(o,{accuracy:n.accuracy,asciiWordBoundaries:n.rules.asciiWordBoundaries,avoidSubclass:n.avoidSubclass,bestEffortTarget:n.target}),i=kve(r,n),s=Q1e(i.pattern,{captureTransfers:i._captureTransfers,hiddenCaptures:i._hiddenCaptures,mode:"external"}),l=X1e(s.pattern),a=Y1e(l.pattern,{captureTransfers:s.captureTransfers,hiddenCaptures:s.hiddenCaptures}),c={pattern:a.pattern,flags:`${n.hasIndices?"d":""}${n.global?"g":""}${i.flags}${i.options.disable.v?"u":"v"}`};if(n.avoidSubclass){if(n.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const u=a.hiddenCaptures.sort((p,m)=>p-m),d=Array.from(a.captureTransfers),f=r._strategy,h=c.pattern.length>=n.lazyCompileLength;(u.length||d.length||f||h)&&(c.options={...u.length&&{hiddenCaptures:u},...d.length&&{transfers:d},...f&&{strategy:f},...h&&{lazyCompile:h}})}return c}const RO=4294967295;class jve{constructor(e,n={}){I(this,"regexps");this.patterns=e,this.options=n;const{forgiving:o=!1,cache:r,regexConstructor:i}=n;if(!i)throw new Error("Option `regexConstructor` is not provided");this.regexps=e.map(s=>{if(typeof s!="string")return s;const l=r==null?void 0:r.get(s);if(l){if(l instanceof RegExp)return l;if(o)return null;throw l}try{const a=i(s);return r==null||r.set(s,a),a}catch(a){if(r==null||r.set(s,a),o)return null;throw a}})}findNextMatchSync(e,n,o){const r=typeof e=="string"?e:e.content,i=[];function s(l,a,c=0){return{index:l,captureIndices:a.indices.map(u=>u==null?{start:RO,end:RO,length:0}:{start:u[0]+c,end:u[1]+c,length:u[1]-u[0]})}}for(let l=0;l<this.regexps.length;l++){const a=this.regexps[l];if(a)try{a.lastIndex=n;const c=a.exec(r);if(!c)continue;if(c.index===n)return s(l,c,0);i.push([l,c,0])}catch(c){if(this.options.forgiving)continue;throw c}}if(i.length){const l=Math.min(...i.map(a=>a[1].index));for(const[a,c,u]of i)if(c.index===l)return s(a,c,u)}return null}}function Bve(t,e){return $ve(t,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...e})}function zve(t={}){const e=Object.assign({target:"auto",cache:new Map},t);return e.regexConstructor||(e.regexConstructor=n=>Bve(n,{target:e.target})),{createScanner(n){return new jve(n,e)},createString(n){return{content:n}}}}const Hve={c:()=>W(()=>import("./c-B6ociGGK.js"),[]),cpp:()=>W(()=>import("./cpp-BqZ_kfVw.js"),__vite__mapDeps([24,25,26,27,28])),"c++":()=>W(()=>import("./cpp-BqZ_kfVw.js"),__vite__mapDeps([24,25,26,27,28])),css:()=>W(()=>import("./css-BKxHr3mG.js"),[]),glsl:()=>W(()=>import("./glsl-BlnWkMnX.js"),__vite__mapDeps([26,27])),graphql:()=>W(()=>import("./graphql-D1QIL7v4.js"),__vite__mapDeps([29,30,31,32,33])),gql:()=>W(()=>import("./graphql-D1QIL7v4.js"),__vite__mapDeps([29,30,31,32,33])),haml:()=>W(()=>import("./haml-DYQ5Raw_.js"),__vite__mapDeps([34,30,35])),html:()=>W(()=>import("./html-_CtrMXVV.js"),__vite__mapDeps([36,30,35])),java:()=>W(()=>import("./java-DLI_khhB.js"),[]),javascript:()=>W(()=>import("./javascript-CxUlOQ-X.js"),[]),js:()=>W(()=>import("./javascript-CxUlOQ-X.js"),[]),json:()=>W(()=>import("./json-CAhrKACI.js"),[]),jsonc:()=>W(()=>import("./jsonc-hsrVBXzx.js"),[]),jsonl:()=>W(()=>import("./jsonl-BjDRLQe5.js"),[]),jsx:()=>W(()=>import("./jsx-DbRGCyVa.js"),[]),julia:()=>W(()=>import("./julia-CAXZXNQ5.js"),__vite__mapDeps([37,24,25,26,27,28,38,30,39])),jl:()=>W(()=>import("./julia-CAXZXNQ5.js"),__vite__mapDeps([37,24,25,26,27,28,38,30,39])),less:()=>W(()=>import("./less-D3bHxoAm.js"),[]),markdown:()=>W(()=>import("./markdown-LZ1JUHFQ.js"),[]),md:()=>W(()=>import("./markdown-LZ1JUHFQ.js"),[]),mdx:()=>W(()=>import("./mdx-sxjLnBTp.js"),[]),php:()=>W(()=>import("./php-DtO2DGWl.js"),__vite__mapDeps([40,36,30,35,41,42,28,43])),postcss:()=>W(()=>import("./postcss-B6Y8ymK-.js"),[]),pug:()=>W(()=>import("./pug-Bp_cTtA2.js"),__vite__mapDeps([44,30,35,36])),jade:()=>W(()=>import("./pug-Bp_cTtA2.js"),__vite__mapDeps([44,30,35,36])),python:()=>W(()=>import("./python-4XIAyWkg.js"),[]),py:()=>W(()=>import("./python-4XIAyWkg.js"),[]),r:()=>W(()=>import("./r-CUAhxbms.js"),[]),regexp:()=>W(()=>import("./regexp-YoNQ8D_6.js"),[]),regex:()=>W(()=>import("./regexp-YoNQ8D_6.js"),[]),sass:()=>W(()=>import("./sass-pz5lImlE.js"),[]),scss:()=>W(()=>import("./scss-AO_2IGcQ.js"),__vite__mapDeps([45,35])),shellscript:()=>W(()=>import("./shellscript-TI4x4yAC.js"),[]),bash:()=>W(()=>import("./shellscript-TI4x4yAC.js"),[]),sh:()=>W(()=>import("./shellscript-TI4x4yAC.js"),[]),shell:()=>W(()=>import("./shellscript-TI4x4yAC.js"),[]),zsh:()=>W(()=>import("./shellscript-TI4x4yAC.js"),[]),sql:()=>W(()=>import("./sql-zWlBUtGr.js"),[]),svelte:()=>W(()=>import("./svelte-IGJS9Wd7.js"),__vite__mapDeps([46,30,31,35,47])),typescript:()=>W(()=>import("./typescript-DejEMwvl.js"),[]),ts:()=>W(()=>import("./typescript-DejEMwvl.js"),[]),vue:()=>W(()=>import("./vue-DQemjDMT.js"),__vite__mapDeps([48,35,30,31,43,36])),"vue-html":()=>W(()=>import("./vue-html-8d91lQvp.js"),__vite__mapDeps([49,48,35,30,31,43,36])),wasm:()=>W(()=>import("./wasm-BzdluPJ6.js"),[]),wgsl:()=>W(()=>import("./wgsl-BphOKwv5.js"),[]),xml:()=>W(()=>import("./xml-CgiBKJwk.js"),__vite__mapDeps([41,42])),yaml:()=>W(()=>import("./yaml-CXaUqZnb.js"),[]),yml:()=>W(()=>import("./yaml-CXaUqZnb.js"),[]),tsx:()=>W(()=>import("./tsx-H7r9otmT.js"),[]),typescriptreact:()=>W(()=>import("./tsx-H7r9otmT.js"),[]),haskell:()=>W(()=>import("./haskell-2Nl0Fn7Q.js"),[]),hs:()=>W(()=>import("./haskell-2Nl0Fn7Q.js"),[]),"c#":()=>W(()=>import("./csharp-kXBWrZj1.js"),[]),csharp:()=>W(()=>import("./csharp-kXBWrZj1.js"),[]),cs:()=>W(()=>import("./csharp-kXBWrZj1.js"),[]),latex:()=>W(()=>import("./latex-uR87f9me.js"),__vite__mapDeps([50,39])),lua:()=>W(()=>import("./lua-DlUiX2YH.js"),__vite__mapDeps([51,27])),mermaid:()=>W(()=>import("./mermaid-iOpavu_n.js"),[]),mmd:()=>W(()=>import("./mermaid-iOpavu_n.js"),[]),ruby:()=>W(()=>import("./ruby-Bi3pRY5H.js"),__vite__mapDeps([52,36,30,35,34,41,42,28,29,31,32,33,24,25,26,27,53,51,54])),rb:()=>W(()=>import("./ruby-Bi3pRY5H.js"),__vite__mapDeps([52,36,30,35,34,41,42,28,29,31,32,33,24,25,26,27,53,51,54])),rust:()=>W(()=>import("./rust-DYFNg61u.js"),[]),rs:()=>W(()=>import("./rust-DYFNg61u.js"),[]),scala:()=>W(()=>import("./scala-BcJIBIep.js"),[]),swift:()=>W(()=>import("./swift-fve9TYiY.js"),[]),kotlin:()=>W(()=>import("./kotlin-BwJ23xF7.js"),[]),kt:()=>W(()=>import("./kotlin-BwJ23xF7.js"),[]),kts:()=>W(()=>import("./kotlin-BwJ23xF7.js"),[]),"objective-c":()=>W(()=>import("./objective-c-nEInZmwg.js"),[]),objc:()=>W(()=>import("./objective-c-nEInZmwg.js"),[])},Vve={"github-dark":()=>W(()=>import("./github-dark-DHJKELXO.js"),[]),"github-light":()=>W(()=>import("./github-light-DAi9KRSo.js"),[])},Uve=e1e({langs:Hve,themes:Vve,engine:()=>zve()}),NO={defaultLanguage:"javascript",supportedLanguages:{text:{name:"Plain Text",aliases:["text","txt","plain"]},c:{name:"C",aliases:["c"]},cpp:{name:"C++",aliases:["cpp","c++"]},css:{name:"CSS",aliases:["css"]},glsl:{name:"GLSL",aliases:["glsl"]},graphql:{name:"GraphQL",aliases:["graphql","gql"]},haml:{name:"Ruby Haml",aliases:["haml"]},html:{name:"HTML",aliases:["html"]},java:{name:"Java",aliases:["java"]},javascript:{name:"JavaScript",aliases:["javascript","js"]},json:{name:"JSON",aliases:["json"]},jsonc:{name:"JSON with Comments",aliases:["jsonc"]},jsonl:{name:"JSON Lines",aliases:["jsonl"]},jsx:{name:"JSX",aliases:["jsx"]},julia:{name:"Julia",aliases:["julia","jl"]},less:{name:"Less",aliases:["less"]},markdown:{name:"Markdown",aliases:["markdown","md"]},mdx:{name:"MDX",aliases:["mdx"]},php:{name:"PHP",aliases:["php"]},postcss:{name:"PostCSS",aliases:["postcss"]},pug:{name:"Pug",aliases:["pug","jade"]},python:{name:"Python",aliases:["python","py"]},r:{name:"R",aliases:["r"]},regexp:{name:"RegExp",aliases:["regexp","regex"]},sass:{name:"Sass",aliases:["sass"]},scss:{name:"SCSS",aliases:["scss"]},shellscript:{name:"Shell",aliases:["shellscript","bash","sh","shell","zsh"]},sql:{name:"SQL",aliases:["sql"]},svelte:{name:"Svelte",aliases:["svelte"]},typescript:{name:"TypeScript",aliases:["typescript","ts"]},vue:{name:"Vue",aliases:["vue"]},"vue-html":{name:"Vue HTML",aliases:["vue-html"]},wasm:{name:"WebAssembly",aliases:["wasm"]},wgsl:{name:"WGSL",aliases:["wgsl"]},xml:{name:"XML",aliases:["xml"]},yaml:{name:"YAML",aliases:["yaml","yml"]},tsx:{name:"TSX",aliases:["tsx","typescriptreact"]},haskell:{name:"Haskell",aliases:["haskell","hs"]},csharp:{name:"C#",aliases:["c#","csharp","cs"]},latex:{name:"LaTeX",aliases:["latex"]},lua:{name:"Lua",aliases:["lua"]},mermaid:{name:"Mermaid",aliases:["mermaid","mmd"]},ruby:{name:"Ruby",aliases:["ruby","rb"]},rust:{name:"Rust",aliases:["rust","rs"]},scala:{name:"Scala",aliases:["scala"]},swift:{name:"Swift",aliases:["swift"]},kotlin:{name:"Kotlin",aliases:["kotlin","kt","kts"]},"objective-c":{name:"Objective C",aliases:["objective-c","objc"]}},createHighlighter:()=>Uve({themes:["github-dark","github-light"],langs:[]})},Fve="0.1.8",OO="zhTW",Gve={...uC,zhTW:{slash_menu:{two_columns:{title:"兩列",subtext:"兩列並排",aliases:["列","行","分割"],group:"基礎"},three_columns:{title:"三列",subtext:"三列並排",aliases:["列","行","分割"],group:"基礎"}}}};function qve({isDark:t,toggleTheme:e,onPreviewClick:n,handleExportJSON:o,handleImportJSON:r}){return g.jsx(bu,{shadow:"sm",p:"md",style:{borderRadius:0,borderBottom:`1px solid ${t?"#373A40":"#E9ECEF"}`,backgroundColor:t?"#1A1B1E":"#FFFFFF"},children:g.jsxs(Bf,{justify:"space-between",align:"center",children:[g.jsx(a0,{order:3,style:{color:t?"#FFFFFF":"#000000"},children:`v ${Fve}`}),g.jsxs(Bf,{children:[g.jsx(Is,{variant:"filled",onClick:n,style:{backgroundColor:"#228BE6",color:"#FFFFFF"},children:"HTML 預覽"}),g.jsx(Is,{variant:"outline",onClick:o,style:{borderColor:t?"#373A40":"#CED4DA",color:t?"#FFFFFF":"#000000"},children:"匯出 JSON"}),g.jsx(Is,{variant:"outline",onClick:()=>{const i=window.document.getElementById("import-json-input");i&&i.click()},style:{borderColor:t?"#373A40":"#CED4DA",color:t?"#FFFFFF":"#000000"},children:"匯入 JSON"}),g.jsx("input",{id:"import-json-input",type:"file",accept:"application/json",style:{display:"none"},onChange:r}),g.jsx(Is,{variant:"outline",onClick:e,leftSection:t?g.jsx(cbe,{size:16}):g.jsx(abe,{size:16}),style:{borderColor:t?"#373A40":"#CED4DA",color:t?"#FFFFFF":"#000000"},children:t?"淺色模式":"深色模式"})]})]})})}function Wve(){const{...t}=fh,e=zge(td.create({blockSpecs:{...t,alert:ube},inlineContentSpecs:qb,styleSpecs:hh})),n=Vge,o={...Lae[OO]||v2,multi_column:Gve[OO]||uC.en};function r({opened:T,onClose:M,html:$,isDarkMode:D}){const z=ph({codeBlock:NO,schema:e,dropCursor:n,dictionary:o,initialContent:[{type:"paragraph",content:[]}]});return v.useEffect(()=>{async function H(){const U=await z.tryParseHTMLToBlocks($);z.replaceBlocks(z.document,U)}T&&H()},[$,T]),g.jsx(wr,{opened:T,onClose:M,title:"預覽",fullScreen:!0,styles:{header:{backgroundColor:D?"#1A1B1E":"#FFFFFF",borderBottom:`1px solid ${D?"#373A40":"#E9ECEF"}`},title:{color:D?"#FFFFFF":"#000000",fontWeight:600},content:{backgroundColor:D?"#1A1B1E":"#FFFFFF"},body:{height:"calc(100vh - 80px)",overflow:"hidden",scrollbarWidth:"none",msOverflowStyle:"none","&::WebkitScrollbar":{display:"none"}},close:{color:D?"#FFFFFF":"#000000","&:hover":{backgroundColor:D?"#373A40":"#F1F3F4"}}},children:g.jsx("div",{style:{height:"100%"},children:g.jsx(bu,{p:"md",style:{backgroundColor:D?"#25262B":"#F8F9FA",border:`1px solid ${D?"#373A40":"#E9ECEF"}`,height:"100%",overflow:"auto"},children:g.jsx(cC,{editor:z,theme:D?"dark":"light",editable:!1})})})})}const[i,s]=v.useState(""),[l,a]=v.useState(""),[c,u]=v.useState([]),[d,f]=v.useState(!1),[h,p]=v.useState(!1),m=()=>{f(!d)},b=ph({codeBlock:NO,schema:e,dropCursor:n,dictionary:o,initialContent:fbe}),[y,w]=v.useState(""),k=async()=>{const T=await b.blocksToFullHTML(b.document);w(T),p(!0)},x=()=>{p(!1),w("")};z0(async T=>{u(T.document);const M=await T.blocksToFullHTML(T.document);a(M);const $=await T.blocksToMarkdownLossy(T.document);s($)},b);const C=T=>({title:"提示",subtext:"Alert區塊",onItemClick:()=>ht(T,{type:"alert",content:[{type:"text",text:"alert"}]}),aliases:["alert","notification","emphasize","warning","error","info","success"],group:"Other",icon:g.jsx(hbe,{size:18})}),E=v.useMemo(()=>{const T=[...fae(T6(b),ebe(b)),C(b)];return async M=>Ej(T,M)},[b]),S=()=>{setTimeout(()=>{const T=JSON.stringify(b.document,null,2),M=new Blob([T],{type:"application/json"}),$=URL.createObjectURL(M),D=window.document.createElement("a");D.href=$,D.download="blocknote.json",window.document.body.appendChild(D),D.click(),window.document.body.removeChild(D),URL.revokeObjectURL($)},50)},_=T=>{var D;const M=(D=T.target.files)==null?void 0:D[0];if(!M)return;const $=new FileReader;$.onload=z=>{var H;try{const U=JSON.parse((H=z.target)==null?void 0:H.result);Array.isArray(U)?b.replaceBlocks(b.document,U):alert("JSON 格式錯誤，請確認為區塊陣列！")}catch{alert("無法解析 JSON 檔案！")}T.target.value=""},$.readAsText(M)};return g.jsx(P_,{children:g.jsxs("div",{style:{minHeight:"100vh",backgroundColor:d?"#1A1B1E":"#FFFFFF",transition:"background-color 0.3s ease"},children:[g.jsx(qve,{isDark:d,toggleTheme:m,onPreviewClick:k,handleExportJSON:S,handleImportJSON:_}),g.jsx("div",{onClick:()=>{console.log(...oC(b.dictionary)),console.log("defaultInlineContentSpecs",qb),console.log("defaultStyleSpecs",hh),console.log("multiColumnLocales",uC),console.log("defaultBlockSpecs",fh)},children:"console.log"}),g.jsxs("div",{style:{padding:"20px"},children:[g.jsxs(cC,{editor:b,slashMenu:!1,formattingToolbar:!1,sideMenu:!1,theme:d?"dark":"light",children:[g.jsx(_6,{sideMenu:T=>g.jsxs(C6,{...T,children:[g.jsx(dbe,{editor:b,block:T.block}),g.jsx(w6,{...T}),g.jsx(x6,{...T})]})}),g.jsx(M6,{triggerCharacter:"/",getItems:E}),g.jsx(F2,{formattingToolbar:()=>g.jsx(U2,{blockTypeSelectItems:[...oC(b.dictionary)]})})]}),[{title:"JSON --變更編輯器後即時更新",content:JSON.stringify(c,null,2)},{title:"HTML --變更編輯器後即時更新",content:l},{title:"Markdown(Lossy) --變更編輯器後即時更新",content:i}].map((T,M)=>g.jsxs(bu,{mt:"xl",p:"md",style:{backgroundColor:d?"#25262B":"#F8F9FA",border:`1px solid ${d?"#373A40":"#E9ECEF"}`},children:[g.jsx(a0,{order:4,mb:"md",style:{color:d?"#FFFFFF":"#000000"},children:T.title}),g.jsx("pre",{style:{color:d?"#C1C2C5":"#495057",fontSize:"12px",overflow:"auto",maxHeight:"300px"},children:g.jsx("code",{children:T.content})})]},M))]}),g.jsx(r,{opened:h,onClose:x,html:y,isDarkMode:d})]})})}const Kve=RL.createRoot(document.getElementById("root"));Kve.render(g.jsx(ee.StrictMode,{children:g.jsx(P_,{children:g.jsx(Wve,{})})}));export{Ove as E,cwe as a,tO as c,sye as f,LO as g,cye as h,bC as n,uwe as p,k9 as s,h0e as t,LE as w,uye as z};
//# sourceMappingURL=index-DT8POuuP.js.map

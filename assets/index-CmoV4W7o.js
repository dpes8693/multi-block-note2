const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-zmo21ssV.js","assets/index-Bkohaulx.js","assets/index-Ch_qCilz.js","assets/default-0Dp3JUBc.js","assets/index-DdbShWyY.js","assets/index-nOtcpH01.js","assets/index-5Zz36bbo.js","assets/index-C2o2j-tx.js","assets/index-c2V3InAJ.js","assets/index-D4Wp6AEg.js","assets/index-O4_y2vqi.js","assets/index-CfyObm-o.js","assets/index-CS_xzTwR.js","assets/index-BdmKeUBW.js","assets/index-D7-7PmSP.js","assets/index-DpipQwVu.js","assets/index-DTzQ7r7Q.js","assets/index-3OOFrDax.js","assets/index-C_aolqmU.js","assets/index-BuQLf8Am.js","assets/blank-line-D3C7De5j.js","assets/index-hRuAkC1j.js","assets/index-UBgLExeH.js","assets/index-CtreMsrK.js","assets/index--n2O05f-.js","assets/index-Tlm8e_FK.js","assets/index-BxE2facF.js","assets/index-DoJwJBw7.js","assets/index-BCPnb1JI.js"])))=>i.map(i=>d[i]);
function mj(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(o,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function i4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s4={exports:{}},$g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj=Symbol.for("react.transitional.element"),bj=Symbol.for("react.fragment");function l4(t,e,n){var o=null;if(n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:gj,type:t,key:o,ref:e!==void 0?e:null,props:n}}$g.Fragment=bj;$g.jsx=l4;$g.jsxs=l4;s4.exports=$g;var g=s4.exports,a4={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=Symbol.for("react.transitional.element"),yj=Symbol.for("react.portal"),vj=Symbol.for("react.fragment"),wj=Symbol.for("react.strict_mode"),kj=Symbol.for("react.profiler"),xj=Symbol.for("react.consumer"),Cj=Symbol.for("react.context"),Sj=Symbol.for("react.forward_ref"),_j=Symbol.for("react.suspense"),Ej=Symbol.for("react.memo"),c4=Symbol.for("react.lazy"),m_=Symbol.iterator;function Mj(t){return t===null||typeof t!="object"?null:(t=m_&&t[m_]||t["@@iterator"],typeof t=="function"?t:null)}var u4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d4=Object.assign,f4={};function Bc(t,e,n){this.props=t,this.context=e,this.refs=f4,this.updater=n||u4}Bc.prototype.isReactComponent={};Bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h4(){}h4.prototype=Bc.prototype;function rk(t,e,n){this.props=t,this.context=e,this.refs=f4,this.updater=n||u4}var ik=rk.prototype=new h4;ik.constructor=rk;d4(ik,Bc.prototype);ik.isPureReactComponent=!0;var g_=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},p4=Object.prototype.hasOwnProperty;function sk(t,e,n,o,r,i){return n=i.ref,{$$typeof:ok,type:t,key:e,ref:n!==void 0?n:null,props:i}}function Tj(t,e){return sk(t.type,e,void 0,void 0,void 0,t.props)}function lk(t){return typeof t=="object"&&t!==null&&t.$$typeof===ok}function Aj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var b_=/\/+/g;function Ey(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Aj(""+t.key):e.toString(36)}function y_(){}function Nj(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(y_,y_):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function va(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ok:case yj:s=!0;break;case c4:return s=t._init,va(s(t._payload),e,n,o,r)}}if(s)return r=r(t),s=o===""?"."+Ey(t,0):o,g_(r)?(n="",s!=null&&(n=s.replace(b_,"$&/")+"/"),va(r,e,n,"",function(c){return c})):r!=null&&(lk(r)&&(r=Tj(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(b_,"$&/")+"/")+s)),e.push(r)),1;s=0;var l=o===""?".":o+":";if(g_(t))for(var a=0;a<t.length;a++)o=t[a],i=l+Ey(o,a),s+=va(o,e,n,i,r);else if(a=Mj(t),typeof a=="function")for(t=a.call(t),a=0;!(o=t.next()).done;)o=o.value,i=l+Ey(o,a++),s+=va(o,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return va(Nj(t),e,n,o,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function uh(t,e,n){if(t==null)return t;var o=[],r=0;return va(t,o,"","",function(i){return e.call(n,i,r++)}),o}function Rj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var v_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Oj(){}ue.Children={map:uh,forEach:function(t,e,n){uh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uh(t,function(){e++}),e},toArray:function(t){return uh(t,function(e){return e})||[]},only:function(t){if(!lk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Bc;ue.Fragment=vj;ue.Profiler=kj;ue.PureComponent=rk;ue.StrictMode=wj;ue.Suspense=_j;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et;ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return et.H.useMemoCache(t)}};ue.cache=function(t){return function(){return t.apply(null,arguments)}};ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var o=d4({},t.props),r=t.key,i=void 0;if(e!=null)for(s in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(r=""+e.key),e)!p4.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(o[s]=e[s]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];o.children=l}return sk(t.type,r,void 0,void 0,i,o)};ue.createContext=function(t){return t={$$typeof:Cj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:xj,_context:t},t};ue.createElement=function(t,e,n){var o,r={},i=null;if(e!=null)for(o in e.key!==void 0&&(i=""+e.key),e)p4.call(e,o)&&o!=="key"&&o!=="__self"&&o!=="__source"&&(r[o]=e[o]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];r.children=l}if(t&&t.defaultProps)for(o in s=t.defaultProps,s)r[o]===void 0&&(r[o]=s[o]);return sk(t,i,void 0,void 0,null,r)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Sj,render:t}};ue.isValidElement=lk;ue.lazy=function(t){return{$$typeof:c4,_payload:{_status:-1,_result:t},_init:Rj}};ue.memo=function(t,e){return{$$typeof:Ej,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=et.T,n={};et.T=n;try{var o=t(),r=et.S;r!==null&&r(n,o),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o.then(Oj,v_)}catch(i){v_(i)}finally{et.T=e}};ue.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()};ue.use=function(t){return et.H.use(t)};ue.useActionState=function(t,e,n){return et.H.useActionState(t,e,n)};ue.useCallback=function(t,e){return et.H.useCallback(t,e)};ue.useContext=function(t){return et.H.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t,e){return et.H.useDeferredValue(t,e)};ue.useEffect=function(t,e,n){var o=et.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(t,e)};ue.useId=function(){return et.H.useId()};ue.useImperativeHandle=function(t,e,n){return et.H.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return et.H.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return et.H.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return et.H.useMemo(t,e)};ue.useOptimistic=function(t,e){return et.H.useOptimistic(t,e)};ue.useReducer=function(t,e,n){return et.H.useReducer(t,e,n)};ue.useRef=function(t){return et.H.useRef(t)};ue.useState=function(t){return et.H.useState(t)};ue.useSyncExternalStore=function(t,e,n){return et.H.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return et.H.useTransition()};ue.version="19.1.0";a4.exports=ue;var v=a4.exports;const X=i4(v),Dj=mj({__proto__:null,default:X},[v]);var m4={exports:{}},zg={},g4={exports:{}},b4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,O){var R=N.length;N.push(O);e:for(;0<R;){var L=R-1>>>1,q=N[L];if(0<r(q,O))N[L]=O,N[R]=q,R=L;else break e}}function n(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var O=N[0],R=N.pop();if(R!==O){N[0]=R;e:for(var L=0,q=N.length,G=q>>>1;L<G;){var ne=2*(L+1)-1,pe=N[ne],Oe=ne+1,Ie=N[Oe];if(0>r(pe,R))Oe<q&&0>r(Ie,pe)?(N[L]=Ie,N[Oe]=R,L=Oe):(N[L]=pe,N[ne]=R,L=ne);else if(Oe<q&&0>r(Ie,R))N[L]=Ie,N[Oe]=R,L=Oe;else break e}}return O}function r(N,O){var R=N.sortIndex-O.sortIndex;return R!==0?R:N.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function x(N){for(var O=n(c);O!==null;){if(O.callback===null)o(c);else if(O.startTime<=N)o(c),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(c)}}function C(N){if(m=!1,x(N),!p)if(n(a)!==null)p=!0,E||(E=!0,I());else{var O=n(c);O!==null&&U(C,O.startTime-N)}}var E=!1,_=-1,S=5,M=-1;function T(){return b?!0:!(t.unstable_now()-M<S)}function B(){if(b=!1,E){var N=t.unstable_now();M=N;var O=!0;try{e:{p=!1,m&&(m=!1,w(_),_=-1),h=!0;var R=f;try{t:{for(x(N),d=n(a);d!==null&&!(d.expirationTime>N&&T());){var L=d.callback;if(typeof L=="function"){d.callback=null,f=d.priorityLevel;var q=L(d.expirationTime<=N);if(N=t.unstable_now(),typeof q=="function"){d.callback=q,x(N),O=!0;break t}d===n(a)&&o(a),x(N)}else o(a);d=n(a)}if(d!==null)O=!0;else{var G=n(c);G!==null&&U(C,G.startTime-N),O=!1}}break e}finally{d=null,f=R,h=!1}O=void 0}}finally{O?I():E=!1}}}var I;if(typeof k=="function")I=function(){k(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=B,I=function(){F.postMessage(null)}}else I=function(){y(B,0)};function U(N,O){_=y(function(){N(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var R=f;f=O;try{return N()}finally{f=R}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(N,O){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var R=f;f=N;try{return O()}finally{f=R}},t.unstable_scheduleCallback=function(N,O,R){var L=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?L+R:L):R=L,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=R+q,N={id:u++,callback:O,priorityLevel:N,startTime:R,expirationTime:q,sortIndex:-1},R>L?(N.sortIndex=R,e(c,N),n(a)===null&&N===n(c)&&(m?(w(_),_=-1):m=!0,U(C,R-L))):(N.sortIndex=q,e(a,N),p||h||(p=!0,E||(E=!0,I()))),N},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(N){var O=f;return function(){var R=f;f=O;try{return N.apply(this,arguments)}finally{f=R}}}})(b4);g4.exports=b4;var Lj=g4.exports,y4={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj=v;function v4(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ni(){}var un={d:{f:Ni,r:function(){throw Error(v4(522))},D:Ni,C:Ni,L:Ni,m:Ni,X:Ni,S:Ni,M:Ni},p:0,findDOMNode:null},Bj=Symbol.for("react.portal");function $j(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bj,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}var Vu=jj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Pg(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=un;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(v4(299));return $j(t,e,null,n)};bn.flushSync=function(t){var e=Vu.T,n=un.p;try{if(Vu.T=null,un.p=2,t)return t()}finally{Vu.T=e,un.p=n,un.d.f()}};bn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,un.d.C(t,e))};bn.prefetchDNS=function(t){typeof t=="string"&&un.d.D(t)};bn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,o=Pg(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?un.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:o,integrity:r,fetchPriority:i}):n==="script"&&un.d.X(t,{crossOrigin:o,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};bn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Pg(e.as,e.crossOrigin);un.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&un.d.M(t)};bn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,o=Pg(n,e.crossOrigin);un.d.L(t,n,{crossOrigin:o,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};bn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Pg(e.as,e.crossOrigin);un.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else un.d.m(t)};bn.requestFormReset=function(t){un.d.r(t)};bn.unstable_batchedUpdates=function(t,e){return t(e)};bn.useFormState=function(t,e,n){return Vu.H.useFormState(t,e,n)};bn.useFormStatus=function(){return Vu.H.useHostTransitionStatus()};bn.version="19.1.0";function w4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w4)}catch(t){console.error(t)}}w4(),y4.exports=bn;var Jn=y4.exports;const ak=i4(Jn);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=Lj,k4=v,zj=Jn;function j(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x4(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function C4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w_(t){if(hf(t)!==t)throw Error(j(188))}function Pj(t){var e=t.alternate;if(!e){if(e=hf(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return w_(r),t;if(i===o)return w_(r),e;i=i.sibling}throw Error(j(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,o=i;break}if(l===o){s=!0,o=r,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,o=r;break}if(l===o){s=!0,o=i,n=r;break}l=l.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==o)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function S4(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=S4(t),e!==null)return e;t=t.sibling}return null}var Xe=Object.assign,Ij=Symbol.for("react.element"),dh=Symbol.for("react.transitional.element"),Ru=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),_4=Symbol.for("react.strict_mode"),R1=Symbol.for("react.profiler"),Hj=Symbol.for("react.provider"),E4=Symbol.for("react.consumer"),Jr=Symbol.for("react.context"),ck=Symbol.for("react.forward_ref"),O1=Symbol.for("react.suspense"),D1=Symbol.for("react.suspense_list"),uk=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),L1=Symbol.for("react.activity"),Vj=Symbol.for("react.memo_cache_sentinel"),k_=Symbol.iterator;function pu(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var Uj=Symbol.for("react.client.reference");function j1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Uj?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ma:return"Fragment";case R1:return"Profiler";case _4:return"StrictMode";case O1:return"Suspense";case D1:return"SuspenseList";case L1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ru:return"Portal";case Jr:return(t.displayName||"Context")+".Provider";case E4:return(t._context.displayName||"Context")+".Consumer";case ck:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uk:return e=t.displayName||null,e!==null?e:j1(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return j1(t(e))}catch{}}return null}var Ou=Array.isArray,oe=k4.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=zj.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dl={pending:!1,data:null,method:null,action:null},B1=[],Ta=-1;function Mr(t){return{current:t}}function Ot(t){0>Ta||(t.current=B1[Ta],B1[Ta]=null,Ta--)}function tt(t,e){Ta++,B1[Ta]=t.current,t.current=e}var hr=Mr(null),gd=Mr(null),ss=Mr(null),Lp=Mr(null);function jp(t,e){switch(tt(ss,e),tt(gd,t),tt(hr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?E2(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=E2(e),t=UN(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ot(hr),tt(hr,t)}function lc(){Ot(hr),Ot(gd),Ot(ss)}function $1(t){t.memoizedState!==null&&tt(Lp,t);var e=hr.current,n=UN(e,t.type);e!==n&&(tt(gd,t),tt(hr,n))}function Bp(t){gd.current===t&&(Ot(hr),Ot(gd)),Lp.current===t&&(Ot(Lp),Ed._currentValue=dl)}var z1=Object.prototype.hasOwnProperty,dk=Mt.unstable_scheduleCallback,My=Mt.unstable_cancelCallback,Fj=Mt.unstable_shouldYield,qj=Mt.unstable_requestPaint,pr=Mt.unstable_now,Gj=Mt.unstable_getCurrentPriorityLevel,M4=Mt.unstable_ImmediatePriority,T4=Mt.unstable_UserBlockingPriority,$p=Mt.unstable_NormalPriority,Zj=Mt.unstable_LowPriority,A4=Mt.unstable_IdlePriority,Kj=Mt.log,Wj=Mt.unstable_setDisableYieldValue,pf=null,Zn=null;function Yi(t){if(typeof Kj=="function"&&Wj(t),Zn&&typeof Zn.setStrictMode=="function")try{Zn.setStrictMode(pf,t)}catch{}}var Kn=Math.clz32?Math.clz32:Jj,Yj=Math.log,Xj=Math.LN2;function Jj(t){return t>>>=0,t===0?32:31-(Yj(t)/Xj|0)|0}var fh=256,hh=4194304;function Xs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ig(t,e,n){var o=t.pendingLanes;if(o===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=o&134217727;return l!==0?(o=l&~i,o!==0?r=Xs(o):(s&=l,s!==0?r=Xs(s):n||(n=l&~t,n!==0&&(r=Xs(n))))):(l=o&~i,l!==0?r=Xs(l):s!==0?r=Xs(s):n||(n=o&~t,n!==0&&(r=Xs(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function mf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Qj(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N4(){var t=fh;return fh<<=1,!(fh&4194048)&&(fh=256),t}function R4(){var t=hh;return hh<<=1,!(hh&62914560)&&(hh=4194304),t}function Ty(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function e7(t,e,n,o,r,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,a=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var u=31-Kn(n),d=1<<u;l[u]=0,a[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];h!==null&&(h.lane&=-536870913)}n&=~d}o!==0&&O4(t,o,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function O4(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var o=31-Kn(e);t.entangledLanes|=e,t.entanglements[o]=t.entanglements[o]|1073741824|n&4194090}function D4(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-Kn(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}function fk(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hk(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function L4(){var t=_e.p;return t!==0?t:(t=window.event,t===void 0?32:QN(t.type))}function t7(t,e){var n=_e.p;try{return _e.p=t,e()}finally{_e.p=n}}var As=Math.random().toString(36).slice(2),Xt="__reactFiber$"+As,Ln="__reactProps$"+As,$c="__reactContainer$"+As,P1="__reactEvents$"+As,n7="__reactListeners$"+As,o7="__reactHandles$"+As,x_="__reactResources$"+As,bf="__reactMarker$"+As;function pk(t){delete t[Xt],delete t[Ln],delete t[P1],delete t[n7],delete t[o7]}function Aa(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$c]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A2(t);t!==null;){if(n=t[Xt])return n;t=A2(t)}return e}t=n,n=t.parentNode}return null}function zc(t){if(t=t[Xt]||t[$c]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Du(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(j(33))}function Ua(t){var e=t[x_];return e||(e=t[x_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Nt(t){t[bf]=!0}var j4=new Set,B4={};function ql(t,e){ac(t,e),ac(t+"Capture",e)}function ac(t,e){for(B4[t]=e,t=0;t<e.length;t++)j4.add(e[t])}var r7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),C_={},S_={};function i7(t){return z1.call(S_,t)?!0:z1.call(C_,t)?!1:r7.test(t)?S_[t]=!0:(C_[t]=!0,!1)}function np(t,e,n){if(i7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var o=e.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ph(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ir(t,e,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+o)}}var Ay,__;function wa(t){if(Ay===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ay=e&&e[1]||"",__=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ay+t+__}var Ny=!1;function Ry(t,e){if(!t||Ny)return"";Ny=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(t,[],d)}else{try{d.call()}catch(h){f=h}t.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),s=i[0],l=i[1];if(s&&l){var a=s.split(`
`),c=l.split(`
`);for(r=o=0;o<a.length&&!a[o].includes("DetermineComponentFrameRoot");)o++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(o===a.length||r===c.length)for(o=a.length-1,r=c.length-1;1<=o&&0<=r&&a[o]!==c[r];)r--;for(;1<=o&&0<=r;o--,r--)if(a[o]!==c[r]){if(o!==1||r!==1)do if(o--,r--,0>r||a[o]!==c[r]){var u=`
`+a[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=r);break}}}finally{Ny=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?wa(n):""}function s7(t){switch(t.tag){case 26:case 27:case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 15:return Ry(t.type,!1);case 11:return Ry(t.type.render,!1);case 1:return Ry(t.type,!0);case 31:return wa("Activity");default:return""}}function E_(t){try{var e="";do e+=s7(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ho(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l7(t){var e=$4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zp(t){t._valueTracker||(t._valueTracker=l7(t))}function z4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=$4(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Pp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var a7=/[\n"\\]/g;function go(t){return t.replace(a7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function I1(t,e,n,o,r,i,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ho(e)):t.value!==""+ho(e)&&(t.value=""+ho(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?H1(t,s,ho(e)):n!=null?H1(t,s,ho(n)):o!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+ho(l):t.removeAttribute("name")}function P4(t,e,n,o,r,i,s,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+ho(n):"",e=e!=null?""+ho(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}o=o??r,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=l?t.checked:!!o,t.defaultChecked=!!o,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function H1(t,e,n){e==="number"&&Pp(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Fa(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+ho(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function I4(t,e,n){if(e!=null&&(e=""+ho(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ho(n):""}function H4(t,e,n,o){if(e==null){if(o!=null){if(n!=null)throw Error(j(92));if(Ou(o)){if(1<o.length)throw Error(j(93));o=o[0]}n=o}n==null&&(n=""),e=n}n=ho(e),t.defaultValue=n,o=t.textContent,o===n&&o!==""&&o!==null&&(t.value=o)}function cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var c7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function M_(t,e,n){var o=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,n):typeof n!="number"||n===0||c7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function V4(t,e,n){if(e!=null&&typeof e!="object")throw Error(j(62));if(t=t.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||e!=null&&e.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var r in e)o=e[r],e.hasOwnProperty(r)&&n[r]!==o&&M_(t,r,o)}else for(var i in e)e.hasOwnProperty(i)&&M_(t,i,e[i])}function mk(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function op(t){return d7.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var V1=null;function gk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Na=null,qa=null;function T_(t){var e=zc(t);if(e&&(t=e.stateNode)){var n=t[Ln]||null;e:switch(t=e.stateNode,e.type){case"input":if(I1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+go(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=o[Ln]||null;if(!r)throw Error(j(90));I1(o,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)o=n[e],o.form===t.form&&z4(o)}break e;case"textarea":I4(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}}}var Oy=!1;function U4(t,e,n){if(Oy)return t(e,n);Oy=!0;try{var o=t(e);return o}finally{if(Oy=!1,(Na!==null||qa!==null)&&(Yg(),Na&&(e=Na,t=qa,qa=Na=null,T_(e),t)))for(e=0;e<t.length;e++)T_(t[e])}}function bd(t,e){var n=t.stateNode;if(n===null)return null;var o=n[Ln]||null;if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),U1=!1;if(mi)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){U1=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{U1=!1}var Xi=null,bk=null,rp=null;function F4(){if(rp)return rp;var t,e=bk,n=e.length,o,r="value"in Xi?Xi.value:Xi.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(o=1;o<=s&&e[n-o]===r[i-o];o++);return rp=r.slice(t,1<o?1-o:void 0)}function ip(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mh(){return!0}function A_(){return!1}function jn(t){function e(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mh:A_,this.isPropagationStopped=A_,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mh)},persist:function(){},isPersistent:mh}),e}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=jn(Gl),yf=Xe({},Gl,{view:0,detail:0}),f7=jn(yf),Dy,Ly,gu,Vg=Xe({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gu&&(gu&&t.type==="mousemove"?(Dy=t.screenX-gu.screenX,Ly=t.screenY-gu.screenY):Ly=Dy=0,gu=t),Dy)},movementY:function(t){return"movementY"in t?t.movementY:Ly}}),N_=jn(Vg),h7=Xe({},Vg,{dataTransfer:0}),p7=jn(h7),m7=Xe({},yf,{relatedTarget:0}),jy=jn(m7),g7=Xe({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),b7=jn(g7),y7=Xe({},Gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v7=jn(y7),w7=Xe({},Gl,{data:0}),R_=jn(w7),k7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C7[t])?!!e[t]:!1}function yk(){return S7}var _7=Xe({},yf,{key:function(t){if(t.key){var e=k7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ip(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?x7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yk,charCode:function(t){return t.type==="keypress"?ip(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ip(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E7=jn(_7),M7=Xe({},Vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O_=jn(M7),T7=Xe({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yk}),A7=jn(T7),N7=Xe({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),R7=jn(N7),O7=Xe({},Vg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D7=jn(O7),L7=Xe({},Gl,{newState:0,oldState:0}),j7=jn(L7),B7=[9,13,27,32],vk=mi&&"CompositionEvent"in window,Uu=null;mi&&"documentMode"in document&&(Uu=document.documentMode);var $7=mi&&"TextEvent"in window&&!Uu,q4=mi&&(!vk||Uu&&8<Uu&&11>=Uu),D_=" ",L_=!1;function G4(t,e){switch(t){case"keyup":return B7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function z7(t,e){switch(t){case"compositionend":return Z4(e);case"keypress":return e.which!==32?null:(L_=!0,D_);case"textInput":return t=e.data,t===D_&&L_?null:t;default:return null}}function P7(t,e){if(Ra)return t==="compositionend"||!vk&&G4(t,e)?(t=F4(),rp=bk=Xi=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q4&&e.locale!=="ko"?null:e.data;default:return null}}var I7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I7[t.type]:e==="textarea"}function K4(t,e,n,o){Na?qa?qa.push(o):qa=[o]:Na=o,e=om(e,"onChange"),0<e.length&&(n=new Hg("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var Fu=null,yd=null;function H7(t){IN(t,0)}function Ug(t){var e=Du(t);if(z4(e))return t}function B_(t,e){if(t==="change")return e}var W4=!1;if(mi){var By;if(mi){var $y="oninput"in document;if(!$y){var $_=document.createElement("div");$_.setAttribute("oninput","return;"),$y=typeof $_.oninput=="function"}By=$y}else By=!1;W4=By&&(!document.documentMode||9<document.documentMode)}function z_(){Fu&&(Fu.detachEvent("onpropertychange",Y4),yd=Fu=null)}function Y4(t){if(t.propertyName==="value"&&Ug(yd)){var e=[];K4(e,yd,t,gk(t)),U4(H7,e)}}function V7(t,e,n){t==="focusin"?(z_(),Fu=e,yd=n,Fu.attachEvent("onpropertychange",Y4)):t==="focusout"&&z_()}function U7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ug(yd)}function F7(t,e){if(t==="click")return Ug(e)}function q7(t,e){if(t==="input"||t==="change")return Ug(e)}function G7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:G7;function vd(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!z1.call(e,r)||!Qn(t[r],e[r]))return!1}return!0}function P_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var n=P_(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P_(n)}}function X4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J4(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Pp(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pp(t.document)}return e}function wk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Z7=mi&&"documentMode"in document&&11>=document.documentMode,Oa=null,F1=null,qu=null,q1=!1;function H_(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;q1||Oa==null||Oa!==Pp(o)||(o=Oa,"selectionStart"in o&&wk(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qu&&vd(qu,o)||(qu=o,o=om(F1,"onSelect"),0<o.length&&(e=new Hg("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=Oa)))}function Ws(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Da={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},zy={},Q4={};mi&&(Q4=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Zl(t){if(zy[t])return zy[t];if(!Da[t])return t;var e=Da[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q4)return zy[t]=e[n];return t}var e3=Zl("animationend"),t3=Zl("animationiteration"),n3=Zl("animationstart"),K7=Zl("transitionrun"),W7=Zl("transitionstart"),Y7=Zl("transitioncancel"),o3=Zl("transitionend"),r3=new Map,G1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");G1.push("scrollEnd");function Xo(t,e){r3.set(t,e),ql(e,[t])}var V_=new WeakMap;function bo(t,e){if(typeof t=="object"&&t!==null){var n=V_.get(t);return n!==void 0?n:(e={value:t,source:e,stack:E_(e)},V_.set(t,e),e)}return{value:t,source:e,stack:E_(e)}}var uo=[],La=0,kk=0;function Fg(){for(var t=La,e=kk=La=0;e<t;){var n=uo[e];uo[e++]=null;var o=uo[e];uo[e++]=null;var r=uo[e];uo[e++]=null;var i=uo[e];if(uo[e++]=null,o!==null&&r!==null){var s=o.pending;s===null?r.next=r:(r.next=s.next,s.next=r),o.pending=r}i!==0&&i3(n,r,i)}}function qg(t,e,n,o){uo[La++]=t,uo[La++]=e,uo[La++]=n,uo[La++]=o,kk|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function xk(t,e,n,o){return qg(t,e,n,o),Ip(t)}function Pc(t,e){return qg(t,null,null,e),Ip(t)}function i3(t,e,n){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Kn(n),t=i.hiddenUpdates,o=t[r],o===null?t[r]=[e]:o.push(e),e.lane=n|536870912),i):null}function Ip(t){if(50<td)throw td=0,hv=null,Error(j(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ja={};function X7(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,o){return new X7(t,e,n,o)}function Ck(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function s3(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function sp(t,e,n,o,r,i){var s=0;if(o=t,typeof t=="function")Ck(t)&&(s=1);else if(typeof t=="string")s=QB(t,n,hr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L1:return t=Fn(31,n,e,r),t.elementType=L1,t.lanes=i,t;case Ma:return fl(n.children,r,i,e);case _4:s=8,r|=24;break;case R1:return t=Fn(12,n,e,r|2),t.elementType=R1,t.lanes=i,t;case O1:return t=Fn(13,n,e,r),t.elementType=O1,t.lanes=i,t;case D1:return t=Fn(19,n,e,r),t.elementType=D1,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hj:case Jr:s=10;break e;case E4:s=9;break e;case ck:s=11;break e;case uk:s=14;break e;case Bi:s=16,o=null;break e}s=29,n=Error(j(130,t===null?"null":typeof t,"")),o=null}return e=Fn(s,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function fl(t,e,n,o){return t=Fn(7,t,o,e),t.lanes=n,t}function Py(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function Iy(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ba=[],$a=0,Hp=null,Vp=0,po=[],mo=0,hl=null,Qr=1,ei="";function Js(t,e){Ba[$a++]=Vp,Ba[$a++]=Hp,Hp=t,Vp=e}function l3(t,e,n){po[mo++]=Qr,po[mo++]=ei,po[mo++]=hl,hl=t;var o=Qr;t=ei;var r=32-Kn(o)-1;o&=~(1<<r),n+=1;var i=32-Kn(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Qr=1<<32-Kn(e)+r|n<<r|o,ei=i+t}else Qr=1<<i|n<<r|o,ei=t}function Sk(t){t.return!==null&&(Js(t,1),l3(t,1,0))}function _k(t){for(;t===Hp;)Hp=Ba[--$a],Ba[$a]=null,Vp=Ba[--$a],Ba[$a]=null;for(;t===hl;)hl=po[--mo],po[mo]=null,ei=po[--mo],po[mo]=null,Qr=po[--mo],po[mo]=null}var cn=null,at=null,Se=!1,pl=null,ar=!1,Z1=Error(j(519));function Ml(t){var e=Error(j(418,""));throw wd(bo(e,t)),Z1}function U_(t){var e=t.stateNode,n=t.type,o=t.memoizedProps;switch(e[Xt]=t,e[Ln]=o,n){case"dialog":ge("cancel",e),ge("close",e);break;case"iframe":case"object":case"embed":ge("load",e);break;case"video":case"audio":for(n=0;n<Cd.length;n++)ge(Cd[n],e);break;case"source":ge("error",e);break;case"img":case"image":case"link":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"input":ge("invalid",e),P4(e,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),zp(e);break;case"select":ge("invalid",e);break;case"textarea":ge("invalid",e),H4(e,o.value,o.defaultValue,o.children),zp(e)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||o.suppressHydrationWarning===!0||VN(e.textContent,n)?(o.popover!=null&&(ge("beforetoggle",e),ge("toggle",e)),o.onScroll!=null&&ge("scroll",e),o.onScrollEnd!=null&&ge("scrollend",e),o.onClick!=null&&(e.onclick=Qg),e=!0):e=!1,e||Ml(t)}function F_(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:cn=cn.return}}function bu(t){if(t!==cn)return!1;if(!Se)return F_(t),Se=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||vv(t.type,t.memoizedProps)),n=!n),n&&at&&Ml(t),F_(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){at=Vo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}at=null}}else e===27?(e=at,Ns(t.type)?(t=xv,xv=null,at=t):at=e):at=cn?Vo(t.stateNode.nextSibling):null;return!0}function vf(){at=cn=null,Se=!1}function q_(){var t=pl;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),pl=null),t}function wd(t){pl===null?pl=[t]:pl.push(t)}var K1=Mr(null),Kl=null,ti=null;function Hi(t,e,n){tt(K1,e._currentValue),e._currentValue=n}function li(t){t._currentValue=K1.current,Ot(K1)}function W1(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Y1(t,e,n,o){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var s=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var a=0;a<e.length;a++)if(l.context===e[a]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),W1(i.return,n,t),o||(s=null);break e}i=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(j(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),W1(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function wf(t,e,n,o){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(j(387));if(s=s.memoizedProps,s!==null){var l=r.type;Qn(r.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(r===Lp.current){if(s=r.alternate,s===null)throw Error(j(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Ed):t=[Ed])}r=r.return}t!==null&&Y1(e,t,n,o),e.flags|=262144}function Up(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tl(t){Kl=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return a3(Kl,t)}function gh(t,e){return Kl===null&&Tl(t),a3(t,e)}function a3(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ti===null){if(t===null)throw Error(j(308));ti=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ti=ti.next=e;return n}var J7=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,o){t.push(o)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Q7=Mt.unstable_scheduleCallback,eB=Mt.unstable_NormalPriority,_t={$$typeof:Jr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ek(){return{controller:new J7,data:new Map,refCount:0}}function kf(t){t.refCount--,t.refCount===0&&Q7(eB,function(){t.controller.abort()})}var Gu=null,X1=0,uc=0,Ga=null;function tB(t,e){if(Gu===null){var n=Gu=[];X1=0,uc=Wk(),Ga={status:"pending",value:void 0,then:function(o){n.push(o)}}}return X1++,e.then(G_,G_),e}function G_(){if(--X1===0&&Gu!==null){Ga!==null&&(Ga.status="fulfilled");var t=Gu;Gu=null,uc=0,Ga=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function nB(t,e){var n=[],o={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){o.status="fulfilled",o.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(o.status="rejected",o.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),o}var Z_=oe.S;oe.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&tB(t,e),Z_!==null&&Z_(t,e)};var ml=Mr(null);function Mk(){var t=ml.current;return t!==null?t:Ze.pooledCache}function lp(t,e){e===null?tt(ml,ml.current):tt(ml,e.pool)}function c3(){var t=Mk();return t===null?null:{parent:_t._currentValue,pool:t}}var xf=Error(j(460)),u3=Error(j(474)),Gg=Error(j(542)),J1={then:function(){}};function K_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bh(){}function d3(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(bh,bh),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Y_(t),t;default:if(typeof e.status=="string")e.then(bh,bh);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(j(482));t=e,t.status="pending",t.then(function(o){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=o}},function(o){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=o}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Y_(t),t}throw Zu=e,xf}}var Zu=null;function W_(){if(Zu===null)throw Error(j(459));var t=Zu;return Zu=null,t}function Y_(t){if(t===xf||t===Gg)throw Error(j(483))}var $i=!1;function Tk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Q1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function as(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Ne&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,e=Ip(t),i3(t,null,n),e}return qg(t,o,e,n),Ip(t)}function Ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,D4(t,n)}}function Hy(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ev=!1;function Wu(){if(ev){var t=Ga;if(t!==null)throw t}}function Yu(t,e,n,o){ev=!1;var r=t.updateQueue;$i=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var a=l,c=a.next;a.next=null,s===null?i=c:s.next=c,s=a;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(i!==null){var d=r.baseState;s=0,u=c=a=null,l=i;do{var f=l.lane&-536870913,h=f!==l.lane;if(h?(ke&f)===f:(o&f)===f){f!==0&&f===uc&&(ev=!0),u!==null&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var p=t,m=l;f=e;var b=n;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(b,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(b,d,f):p,f==null)break e;d=Xe({},d,f);break e;case 2:$i=!0}}f=l.callback,f!==null&&(t.flags|=64,h&&(t.flags|=8192),h=r.callbacks,h===null?r.callbacks=[f]:h.push(f))}else h={lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=h,a=d):u=u.next=h,s|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);u===null&&(a=d),r.baseState=a,r.firstBaseUpdate=c,r.lastBaseUpdate=u,i===null&&(r.shared.lanes=0),vs|=s,t.lanes=s,t.memoizedState=d}}function f3(t,e){if(typeof t!="function")throw Error(j(191,t));t.call(e)}function h3(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)f3(n[t],e)}var dc=Mr(null),Fp=Mr(0);function X_(t,e){t=yi,tt(Fp,t),tt(dc,e),yi=t|e.baseLanes}function tv(){tt(Fp,yi),tt(dc,dc.current)}function Ak(){yi=Fp.current,Ot(dc),Ot(Fp)}var bs=0,de=null,Le=null,yt=null,qp=!1,Za=!1,Al=!1,Gp=0,kd=0,Ka=null,oB=0;function ht(){throw Error(j(321))}function Nk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Rk(t,e,n,o,r,i){return bs=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oe.H=t===null||t.memoizedState===null?F3:q3,Al=!1,i=n(o,r),Al=!1,Za&&(i=m3(e,n,o,r)),p3(t),i}function p3(t){oe.H=Zp;var e=Le!==null&&Le.next!==null;if(bs=0,yt=Le=de=null,qp=!1,kd=0,Ka=null,e)throw Error(j(300));t===null||Rt||(t=t.dependencies,t!==null&&Up(t)&&(Rt=!0))}function m3(t,e,n,o){de=t;var r=0;do{if(Za&&(Ka=null),kd=0,Za=!1,25<=r)throw Error(j(301));if(r+=1,yt=Le=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}oe.H=uB,i=e(n,o)}while(Za);return i}function rB(){var t=oe.H,e=t.useState()[0];return e=typeof e.then=="function"?Cf(e):e,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(de.flags|=1024),e}function Ok(){var t=Gp!==0;return Gp=0,t}function Dk(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Lk(t){if(qp){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}qp=!1}bs=0,yt=Le=de=null,Za=!1,kd=Gp=0,Ka=null}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?de.memoizedState=yt=t:yt=yt.next=t,yt}function kt(){if(Le===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=yt===null?de.memoizedState:yt.next;if(e!==null)yt=e,Le=t;else{if(t===null)throw de.alternate===null?Error(j(467)):Error(j(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},yt===null?de.memoizedState=yt=t:yt=yt.next=t}return yt}function jk(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cf(t){var e=kd;return kd+=1,Ka===null&&(Ka=[]),t=d3(Ka,t,e),e=de,(yt===null?e.memoizedState:yt.next)===null&&(e=e.alternate,oe.H=e===null||e.memoizedState===null?F3:q3),t}function Zg(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cf(t);if(t.$$typeof===Jr)return Jt(t)}throw Error(j(438,String(t)))}function Bk(t){var e=null,n=de.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var o=de.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(e={data:o.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=jk(),de.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),o=0;o<t;o++)n[o]=Vj;return e.index++,n}function gi(t,e){return typeof e=="function"?e(t):e}function ap(t){var e=kt();return $k(e,Le,t)}function $k(t,e,n){var o=t.queue;if(o===null)throw Error(j(311));o.lastRenderedReducer=n;var r=t.baseQueue,i=o.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}e.baseQueue=r=i,o.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=s=null,a=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ke&d)===d:(bs&d)===d){var f=c.revertLane;if(f===0)a!==null&&(a=a.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===uc&&(u=!0);else if((bs&f)===f){c=c.next,f===uc&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},a===null?(l=a=d,s=i):a=a.next=d,de.lanes|=f,vs|=f;d=c.action,Al&&n(i,d),i=c.hasEagerState?c.eagerState:n(i,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},a===null?(l=a=f,s=i):a=a.next=f,de.lanes|=d,vs|=d;c=c.next}while(c!==null&&c!==e);if(a===null?s=i:a.next=l,!Qn(i,t.memoizedState)&&(Rt=!0,u&&(n=Ga,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=a,o.lastRenderedState=i}return r===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Vy(t){var e=kt(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);Qn(i,e.memoizedState)||(Rt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function g3(t,e,n){var o=de,r=kt(),i=Se;if(i){if(n===void 0)throw Error(j(407));n=n()}else n=e();var s=!Qn((Le||r).memoizedState,n);s&&(r.memoizedState=n,Rt=!0),r=r.queue;var l=v3.bind(null,o,r,t);if(Sf(2048,8,l,[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,fc(9,Kg(),y3.bind(null,o,r,n,e),null),Ze===null)throw Error(j(349));i||bs&124||b3(o,e,n)}return n}function b3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e=jk(),de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y3(t,e,n,o){e.value=n,e.getSnapshot=o,w3(e)&&k3(t)}function v3(t,e,n){return n(function(){w3(e)&&k3(t)})}function w3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function k3(t){var e=Pc(t,2);e!==null&&Yn(e,t,2)}function nv(t){var e=kn();if(typeof t=="function"){var n=t;if(t=n(),Al){Yi(!0);try{n()}finally{Yi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:t},e}function x3(t,e,n,o){return t.baseState=n,$k(t,Le,typeof o=="function"?o:gi)}function iB(t,e,n,o,r){if(Wg(t))throw Error(j(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};oe.T!==null?n(!0):i.isTransition=!1,o(i),n=e.pending,n===null?(i.next=e.pending=i,C3(e,i)):(i.next=n.next,e.pending=n.next=i)}}function C3(t,e){var n=e.action,o=e.payload,r=t.state;if(e.isTransition){var i=oe.T,s={};oe.T=s;try{var l=n(r,o),a=oe.S;a!==null&&a(s,l),J_(t,e,l)}catch(c){ov(t,e,c)}finally{oe.T=i}}else try{i=n(r,o),J_(t,e,i)}catch(c){ov(t,e,c)}}function J_(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){Q_(t,e,o)},function(o){return ov(t,e,o)}):Q_(t,e,n)}function Q_(t,e,n){e.status="fulfilled",e.value=n,S3(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,C3(t,n)))}function ov(t,e,n){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do e.status="rejected",e.reason=n,S3(e),e=e.next;while(e!==o)}t.action=null}function S3(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function _3(t,e){return e}function e2(t,e){if(Se){var n=Ze.formState;if(n!==null){e:{var o=de;if(Se){if(at){t:{for(var r=at,i=ar;r.nodeType!==8;){if(!i){r=null;break t}if(r=Vo(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){at=Vo(r.nextSibling),o=r.data==="F!";break e}}Ml(o)}o=!1}o&&(e=n[0])}}return n=kn(),n.memoizedState=n.baseState=e,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_3,lastRenderedState:e},n.queue=o,n=H3.bind(null,de,o),o.dispatch=n,o=nv(!1),i=Hk.bind(null,de,!1,o.queue),o=kn(),r={state:e,dispatch:null,action:t,pending:null},o.queue=r,n=iB.bind(null,de,r,i,n),r.dispatch=n,o.memoizedState=t,[e,n,!1]}function t2(t){var e=kt();return E3(e,Le,t)}function E3(t,e,n){if(e=$k(t,e,_3)[0],t=ap(gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var o=Cf(e)}catch(s){throw s===xf?Gg:s}else o=e;e=kt();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(de.flags|=2048,fc(9,Kg(),sB.bind(null,r,n),null)),[o,i,t]}function sB(t,e){t.action=e}function n2(t){var e=kt(),n=Le;if(n!==null)return E3(e,n,t);kt(),e=e.memoizedState,n=kt();var o=n.queue.dispatch;return n.memoizedState=t,[e,o,!1]}function fc(t,e,n,o){return t={tag:t,create:n,deps:o,inst:e,next:null},e=de.updateQueue,e===null&&(e=jk(),de.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t),t}function Kg(){return{destroy:void 0,resource:void 0}}function M3(){return kt().memoizedState}function cp(t,e,n,o){var r=kn();o=o===void 0?null:o,de.flags|=t,r.memoizedState=fc(1|e,Kg(),n,o)}function Sf(t,e,n,o){var r=kt();o=o===void 0?null:o;var i=r.memoizedState.inst;Le!==null&&o!==null&&Nk(o,Le.memoizedState.deps)?r.memoizedState=fc(e,i,n,o):(de.flags|=t,r.memoizedState=fc(1|e,i,n,o))}function o2(t,e){cp(8390656,8,t,e)}function T3(t,e){Sf(2048,8,t,e)}function A3(t,e){return Sf(4,2,t,e)}function N3(t,e){return Sf(4,4,t,e)}function R3(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O3(t,e,n){n=n!=null?n.concat([t]):null,Sf(4,4,R3.bind(null,e,t),n)}function zk(){}function D3(t,e){var n=kt();e=e===void 0?null:e;var o=n.memoizedState;return e!==null&&Nk(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function L3(t,e){var n=kt();e=e===void 0?null:e;var o=n.memoizedState;if(e!==null&&Nk(e,o[1]))return o[0];if(o=t(),Al){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[o,e],o}function Pk(t,e,n){return n===void 0||bs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=SN(),de.lanes|=t,vs|=t,n)}function j3(t,e,n,o){return Qn(n,e)?n:dc.current!==null?(t=Pk(t,n,o),Qn(t,e)||(Rt=!0),t):bs&42?(t=SN(),de.lanes|=t,vs|=t,e):(Rt=!0,t.memoizedState=n)}function B3(t,e,n,o,r){var i=_e.p;_e.p=i!==0&&8>i?i:8;var s=oe.T,l={};oe.T=l,Hk(t,!1,e,n);try{var a=r(),c=oe.S;if(c!==null&&c(l,a),a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=nB(a,o);Xu(t,e,u,Wn(t))}else Xu(t,e,o,Wn(t))}catch(d){Xu(t,e,{then:function(){},status:"rejected",reason:d},Wn())}finally{_e.p=i,oe.T=s}}function lB(){}function rv(t,e,n,o){if(t.tag!==5)throw Error(j(476));var r=$3(t).queue;B3(t,r,e,dl,n===null?lB:function(){return z3(t),n(o)})}function $3(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:dl,baseState:dl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:dl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function z3(t){var e=$3(t).next.queue;Xu(t,e,{},Wn())}function Ik(){return Jt(Ed)}function P3(){return kt().memoizedState}function I3(){return kt().memoizedState}function aB(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Wn();t=ls(n);var o=as(e,t,n);o!==null&&(Yn(o,e,n),Ku(o,e,n)),e={cache:Ek()},t.payload=e;return}e=e.return}}function cB(t,e,n){var o=Wn();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wg(t)?V3(e,n):(n=xk(t,e,n,o),n!==null&&(Yn(n,t,o),U3(n,e,o)))}function H3(t,e,n){var o=Wn();Xu(t,e,n,o)}function Xu(t,e,n,o){var r={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wg(t))V3(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,l=i(s,n);if(r.hasEagerState=!0,r.eagerState=l,Qn(l,s))return qg(t,e,r,0),Ze===null&&Fg(),!1}catch{}finally{}if(n=xk(t,e,r,o),n!==null)return Yn(n,t,o),U3(n,e,o),!0}return!1}function Hk(t,e,n,o){if(o={lane:2,revertLane:Wk(),action:o,hasEagerState:!1,eagerState:null,next:null},Wg(t)){if(e)throw Error(j(479))}else e=xk(t,n,o,2),e!==null&&Yn(e,t,2)}function Wg(t){var e=t.alternate;return t===de||e!==null&&e===de}function V3(t,e){Za=qp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U3(t,e,n){if(n&4194048){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,D4(t,n)}}var Zp={readContext:Jt,use:Zg,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},F3={readContext:Jt,use:Zg,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:o2,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,cp(4194308,4,R3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cp(4194308,4,t,e)},useInsertionEffect:function(t,e){cp(4,2,t,e)},useMemo:function(t,e){var n=kn();e=e===void 0?null:e;var o=t();if(Al){Yi(!0);try{t()}finally{Yi(!1)}}return n.memoizedState=[o,e],o},useReducer:function(t,e,n){var o=kn();if(n!==void 0){var r=n(e);if(Al){Yi(!0);try{n(e)}finally{Yi(!1)}}}else r=e;return o.memoizedState=o.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},o.queue=t,t=t.dispatch=cB.bind(null,de,t),[o.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:function(t){t=nv(t);var e=t.queue,n=H3.bind(null,de,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:zk,useDeferredValue:function(t,e){var n=kn();return Pk(n,t,e)},useTransition:function(){var t=nv(!1);return t=B3.bind(null,de,t.queue,!0,!1),kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var o=de,r=kn();if(Se){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ze===null)throw Error(j(349));ke&124||b3(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,o2(v3.bind(null,o,i,t),[t]),o.flags|=2048,fc(9,Kg(),y3.bind(null,o,i,n,e),null),n},useId:function(){var t=kn(),e=Ze.identifierPrefix;if(Se){var n=ei,o=Qr;n=(o&~(1<<32-Kn(o)-1)).toString(32)+n,e="«"+e+"R"+n,n=Gp++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=oB++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Ik,useFormState:e2,useActionState:e2,useOptimistic:function(t){var e=kn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Hk.bind(null,de,!0,n),n.dispatch=e,[t,e]},useMemoCache:Bk,useCacheRefresh:function(){return kn().memoizedState=aB.bind(null,de)}},q3={readContext:Jt,use:Zg,useCallback:D3,useContext:Jt,useEffect:T3,useImperativeHandle:O3,useInsertionEffect:A3,useLayoutEffect:N3,useMemo:L3,useReducer:ap,useRef:M3,useState:function(){return ap(gi)},useDebugValue:zk,useDeferredValue:function(t,e){var n=kt();return j3(n,Le.memoizedState,t,e)},useTransition:function(){var t=ap(gi)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:Cf(t),e]},useSyncExternalStore:g3,useId:P3,useHostTransitionStatus:Ik,useFormState:t2,useActionState:t2,useOptimistic:function(t,e){var n=kt();return x3(n,Le,t,e)},useMemoCache:Bk,useCacheRefresh:I3},uB={readContext:Jt,use:Zg,useCallback:D3,useContext:Jt,useEffect:T3,useImperativeHandle:O3,useInsertionEffect:A3,useLayoutEffect:N3,useMemo:L3,useReducer:Vy,useRef:M3,useState:function(){return Vy(gi)},useDebugValue:zk,useDeferredValue:function(t,e){var n=kt();return Le===null?Pk(n,t,e):j3(n,Le.memoizedState,t,e)},useTransition:function(){var t=Vy(gi)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:Cf(t),e]},useSyncExternalStore:g3,useId:P3,useHostTransitionStatus:Ik,useFormState:n2,useActionState:n2,useOptimistic:function(t,e){var n=kt();return Le!==null?x3(n,Le,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Bk,useCacheRefresh:I3},Wa=null,xd=0;function yh(t){var e=xd;return xd+=1,Wa===null&&(Wa=[]),d3(Wa,t,e)}function yu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function vh(t,e){throw e.$$typeof===Ij?Error(j(525)):(t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function r2(t){var e=t._init;return e(t._payload)}function G3(t){function e(y,w){if(t){var k=y.deletions;k===null?(y.deletions=[w],y.flags|=16):k.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function o(y){for(var w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function r(y,w){return y=si(y,w),y.index=0,y.sibling=null,y}function i(y,w,k){return y.index=k,t?(k=y.alternate,k!==null?(k=k.index,k<w?(y.flags|=67108866,w):k):(y.flags|=67108866,w)):(y.flags|=1048576,w)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function l(y,w,k,x){return w===null||w.tag!==6?(w=Py(k,y.mode,x),w.return=y,w):(w=r(w,k),w.return=y,w)}function a(y,w,k,x){var C=k.type;return C===Ma?u(y,w,k.props.children,x,k.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bi&&r2(C)===w.type)?(w=r(w,k.props),yu(w,k),w.return=y,w):(w=sp(k.type,k.key,k.props,null,y.mode,x),yu(w,k),w.return=y,w)}function c(y,w,k,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Iy(k,y.mode,x),w.return=y,w):(w=r(w,k.children||[]),w.return=y,w)}function u(y,w,k,x,C){return w===null||w.tag!==7?(w=fl(k,y.mode,x,C),w.return=y,w):(w=r(w,k),w.return=y,w)}function d(y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Py(""+w,y.mode,k),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:return k=sp(w.type,w.key,w.props,null,y.mode,k),yu(k,w),k.return=y,k;case Ru:return w=Iy(w,y.mode,k),w.return=y,w;case Bi:var x=w._init;return w=x(w._payload),d(y,w,k)}if(Ou(w)||pu(w))return w=fl(w,y.mode,k,null),w.return=y,w;if(typeof w.then=="function")return d(y,yh(w),k);if(w.$$typeof===Jr)return d(y,gh(y,w),k);vh(y,w)}return null}function f(y,w,k,x){var C=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return C!==null?null:l(y,w,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dh:return k.key===C?a(y,w,k,x):null;case Ru:return k.key===C?c(y,w,k,x):null;case Bi:return C=k._init,k=C(k._payload),f(y,w,k,x)}if(Ou(k)||pu(k))return C!==null?null:u(y,w,k,x,null);if(typeof k.then=="function")return f(y,w,yh(k),x);if(k.$$typeof===Jr)return f(y,w,gh(y,k),x);vh(y,k)}return null}function h(y,w,k,x,C){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return y=y.get(k)||null,l(w,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:return y=y.get(x.key===null?k:x.key)||null,a(w,y,x,C);case Ru:return y=y.get(x.key===null?k:x.key)||null,c(w,y,x,C);case Bi:var E=x._init;return x=E(x._payload),h(y,w,k,x,C)}if(Ou(x)||pu(x))return y=y.get(k)||null,u(w,y,x,C,null);if(typeof x.then=="function")return h(y,w,k,yh(x),C);if(x.$$typeof===Jr)return h(y,w,k,gh(w,x),C);vh(w,x)}return null}function p(y,w,k,x){for(var C=null,E=null,_=w,S=w=0,M=null;_!==null&&S<k.length;S++){_.index>S?(M=_,_=null):M=_.sibling;var T=f(y,_,k[S],x);if(T===null){_===null&&(_=M);break}t&&_&&T.alternate===null&&e(y,_),w=i(T,w,S),E===null?C=T:E.sibling=T,E=T,_=M}if(S===k.length)return n(y,_),Se&&Js(y,S),C;if(_===null){for(;S<k.length;S++)_=d(y,k[S],x),_!==null&&(w=i(_,w,S),E===null?C=_:E.sibling=_,E=_);return Se&&Js(y,S),C}for(_=o(_);S<k.length;S++)M=h(_,y,S,k[S],x),M!==null&&(t&&M.alternate!==null&&_.delete(M.key===null?S:M.key),w=i(M,w,S),E===null?C=M:E.sibling=M,E=M);return t&&_.forEach(function(B){return e(y,B)}),Se&&Js(y,S),C}function m(y,w,k,x){if(k==null)throw Error(j(151));for(var C=null,E=null,_=w,S=w=0,M=null,T=k.next();_!==null&&!T.done;S++,T=k.next()){_.index>S?(M=_,_=null):M=_.sibling;var B=f(y,_,T.value,x);if(B===null){_===null&&(_=M);break}t&&_&&B.alternate===null&&e(y,_),w=i(B,w,S),E===null?C=B:E.sibling=B,E=B,_=M}if(T.done)return n(y,_),Se&&Js(y,S),C;if(_===null){for(;!T.done;S++,T=k.next())T=d(y,T.value,x),T!==null&&(w=i(T,w,S),E===null?C=T:E.sibling=T,E=T);return Se&&Js(y,S),C}for(_=o(_);!T.done;S++,T=k.next())T=h(_,y,S,T.value,x),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?S:T.key),w=i(T,w,S),E===null?C=T:E.sibling=T,E=T);return t&&_.forEach(function(I){return e(y,I)}),Se&&Js(y,S),C}function b(y,w,k,x){if(typeof k=="object"&&k!==null&&k.type===Ma&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case dh:e:{for(var C=k.key;w!==null;){if(w.key===C){if(C=k.type,C===Ma){if(w.tag===7){n(y,w.sibling),x=r(w,k.props.children),x.return=y,y=x;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Bi&&r2(C)===w.type){n(y,w.sibling),x=r(w,k.props),yu(x,k),x.return=y,y=x;break e}n(y,w);break}else e(y,w);w=w.sibling}k.type===Ma?(x=fl(k.props.children,y.mode,x,k.key),x.return=y,y=x):(x=sp(k.type,k.key,k.props,null,y.mode,x),yu(x,k),x.return=y,y=x)}return s(y);case Ru:e:{for(C=k.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){n(y,w.sibling),x=r(w,k.children||[]),x.return=y,y=x;break e}else{n(y,w);break}else e(y,w);w=w.sibling}x=Iy(k,y.mode,x),x.return=y,y=x}return s(y);case Bi:return C=k._init,k=C(k._payload),b(y,w,k,x)}if(Ou(k))return p(y,w,k,x);if(pu(k)){if(C=pu(k),typeof C!="function")throw Error(j(150));return k=C.call(k),m(y,w,k,x)}if(typeof k.then=="function")return b(y,w,yh(k),x);if(k.$$typeof===Jr)return b(y,w,gh(y,k),x);vh(y,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,w!==null&&w.tag===6?(n(y,w.sibling),x=r(w,k),x.return=y,y=x):(n(y,w),x=Py(k,y.mode,x),x.return=y,y=x),s(y)):n(y,w)}return function(y,w,k,x){try{xd=0;var C=b(y,w,k,x);return Wa=null,C}catch(_){if(_===xf||_===Gg)throw _;var E=Fn(29,_,null,y.mode);return E.lanes=x,E.return=y,E}finally{}}}var hc=G3(!0),Z3=G3(!1),Eo=Mr(null),mr=null;function Vi(t){var e=t.alternate;tt(Et,Et.current&1),tt(Eo,t),mr===null&&(e===null||dc.current!==null||e.memoizedState!==null)&&(mr=t)}function K3(t){if(t.tag===22){if(tt(Et,Et.current),tt(Eo,t),mr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(mr=t)}}else Ui()}function Ui(){tt(Et,Et.current),tt(Eo,Eo.current)}function ni(t){Ot(Eo),mr===t&&(mr=null),Ot(Et)}var Et=Mr(0);function Kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||kv(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Uy(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var iv={enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Wn(),r=ls(o);r.payload=e,n!=null&&(r.callback=n),e=as(t,r,o),e!==null&&(Yn(e,t,o),Ku(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Wn(),r=ls(o);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=as(t,r,o),e!==null&&(Yn(e,t,o),Ku(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),o=ls(n);o.tag=2,e!=null&&(o.callback=e),e=as(t,o,n),e!==null&&(Yn(e,t,n),Ku(e,t,n))}};function i2(t,e,n,o,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,s):e.prototype&&e.prototype.isPureReactComponent?!vd(n,o)||!vd(r,i):!0}function s2(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&iv.enqueueReplaceState(e,e.state,null)}function Nl(t,e){var n=e;if("ref"in e){n={};for(var o in e)o!=="ref"&&(n[o]=e[o])}if(t=t.defaultProps){n===e&&(n=Xe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Wp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function W3(t){Wp(t)}function Y3(t){console.error(t)}function X3(t){Wp(t)}function Yp(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(o){setTimeout(function(){throw o})}}function l2(t,e,n){try{var o=t.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function sv(t,e,n){return n=ls(n),n.tag=3,n.payload={element:null},n.callback=function(){Yp(t,e)},n}function J3(t){return t=ls(t),t.tag=3,t}function Q3(t,e,n,o){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=o.value;t.payload=function(){return r(i)},t.callback=function(){l2(e,n,o)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){l2(e,n,o),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var l=o.stack;this.componentDidCatch(o.value,{componentStack:l!==null?l:""})})}function dB(t,e,n,o,r){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(e=n.alternate,e!==null&&wf(e,n,r,!0),n=Eo.current,n!==null){switch(n.tag){case 13:return mr===null?pv():n.alternate===null&&ut===0&&(ut=3),n.flags&=-257,n.flags|=65536,n.lanes=r,o===J1?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([o]):e.add(o),e0(t,o,r)),!1;case 22:return n.flags|=65536,o===J1?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([o]):n.add(o)),e0(t,o,r)),!1}throw Error(j(435,n.tag))}return e0(t,o,r),pv(),!1}if(Se)return e=Eo.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,o!==Z1&&(t=Error(j(422),{cause:o}),wd(bo(t,n)))):(o!==Z1&&(e=Error(j(423),{cause:o}),wd(bo(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,o=bo(o,n),r=sv(t.stateNode,o,r),Hy(t,r),ut!==4&&(ut=2)),!1;var i=Error(j(520),{cause:o});if(i=bo(i,n),ed===null?ed=[i]:ed.push(i),ut!==4&&(ut=2),e===null)return!0;o=bo(o,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=sv(n.stateNode,o,t),Hy(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(cs===null||!cs.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=J3(r),Q3(r,t,n,o),Hy(n,r),!1}n=n.return}while(n!==null);return!1}var eN=Error(j(461)),Rt=!1;function Ht(t,e,n,o){e.child=t===null?Z3(e,null,n,o):hc(e,t.child,n,o)}function a2(t,e,n,o,r){n=n.render;var i=e.ref;if("ref"in o){var s={};for(var l in o)l!=="ref"&&(s[l]=o[l])}else s=o;return Tl(e),o=Rk(t,e,n,s,i,r),l=Ok(),t!==null&&!Rt?(Dk(t,e,r),bi(t,e,r)):(Se&&l&&Sk(e),e.flags|=1,Ht(t,e,o,r),e.child)}function c2(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!Ck(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,tN(t,e,i,o,r)):(t=sp(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Vk(t,r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:vd,n(s,o)&&t.ref===e.ref)return bi(t,e,r)}return e.flags|=1,t=si(i,o),t.ref=e.ref,t.return=e,e.child=t}function tN(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(vd(i,o)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=o=i,Vk(t,r))t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,bi(t,e,r)}return lv(t,e,n,o,r)}function nN(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if(e.flags&128){if(o=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~o}else e.childLanes=0,e.child=null;return u2(t,e,o,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&lp(e,i!==null?i.cachePool:null),i!==null?X_(e,i):tv(),K3(e);else return e.lanes=e.childLanes=536870912,u2(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(lp(e,i.cachePool),X_(e,i),Ui(),e.memoizedState=null):(t!==null&&lp(e,null),tv(),Ui());return Ht(t,e,r,n),e.child}function u2(t,e,n,o){var r=Mk();return r=r===null?null:{parent:_t._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&lp(e,null),tv(),K3(e),t!==null&&wf(t,e,o,!0),null}function up(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function lv(t,e,n,o,r){return Tl(e),n=Rk(t,e,n,o,void 0,r),o=Ok(),t!==null&&!Rt?(Dk(t,e,r),bi(t,e,r)):(Se&&o&&Sk(e),e.flags|=1,Ht(t,e,n,r),e.child)}function d2(t,e,n,o,r,i){return Tl(e),e.updateQueue=null,n=m3(e,o,n,r),p3(t),o=Ok(),t!==null&&!Rt?(Dk(t,e,i),bi(t,e,i)):(Se&&o&&Sk(e),e.flags|=1,Ht(t,e,n,i),e.child)}function f2(t,e,n,o,r){if(Tl(e),e.stateNode===null){var i=ja,s=n.contextType;typeof s=="object"&&s!==null&&(i=Jt(s)),i=new n(o,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=iv,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=o,i.state=e.memoizedState,i.refs={},Tk(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?Jt(s):ja,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Uy(e,n,s,o),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&iv.enqueueReplaceState(i,i.state,null),Yu(e,o,i,r),Wu(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),o=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,a=Nl(n,l);i.props=a;var c=i.context,u=n.contextType;s=ja,typeof u=="object"&&u!==null&&(s=Jt(u));var d=n.getDerivedStateFromProps;u=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||c!==s)&&s2(e,i,o,s),$i=!1;var f=e.memoizedState;i.state=f,Yu(e,o,i,r),Wu(),c=e.memoizedState,l||f!==c||$i?(typeof d=="function"&&(Uy(e,n,d,o),c=e.memoizedState),(a=$i||i2(e,n,a,o,f,c,s))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),i.props=o,i.state=c,i.context=s,o=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{i=e.stateNode,Q1(t,e),s=e.memoizedProps,u=Nl(n,s),i.props=u,d=e.pendingProps,f=i.context,c=n.contextType,a=ja,typeof c=="object"&&c!==null&&(a=Jt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==d||f!==a)&&s2(e,i,o,a),$i=!1,f=e.memoizedState,i.state=f,Yu(e,o,i,r),Wu();var h=e.memoizedState;s!==d||f!==h||$i||t!==null&&t.dependencies!==null&&Up(t.dependencies)?(typeof l=="function"&&(Uy(e,n,l,o),h=e.memoizedState),(u=$i||i2(e,n,u,o,f,h,a)||t!==null&&t.dependencies!==null&&Up(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,h,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,h,a)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=h),i.props=o,i.state=h,i.context=a,o=u):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),o=!1)}return i=o,up(t,e),o=(e.flags&128)!==0,i||o?(i=e.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&o?(e.child=hc(e,t.child,null,r),e.child=hc(e,null,n,r)):Ht(t,e,n,r),e.memoizedState=i.state,t=e.child):t=bi(t,e,r),t}function h2(t,e,n,o){return vf(),e.flags|=256,Ht(t,e,n,o),e.child}var Fy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qy(t){return{baseLanes:t,cachePool:c3()}}function Gy(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ko),t}function oN(t,e,n){var o=e.pendingProps,r=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Se){if(r?Vi(e):Ui(),Se){var l=at,a;if(a=l){e:{for(a=l,l=ar;a.nodeType!==8;){if(!l){l=null;break e}if(a=Vo(a.nextSibling),a===null){l=null;break e}}l=a}l!==null?(e.memoizedState={dehydrated:l,treeContext:hl!==null?{id:Qr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},a=Fn(18,null,null,0),a.stateNode=l,a.return=e,e.child=a,cn=e,at=null,a=!0):a=!1}a||Ml(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return kv(l)?e.lanes=32:e.lanes=536870912,null;ni(e)}return l=o.children,o=o.fallback,r?(Ui(),r=e.mode,l=Xp({mode:"hidden",children:l},r),o=fl(o,r,n,null),l.return=e,o.return=e,l.sibling=o,e.child=l,r=e.child,r.memoizedState=qy(n),r.childLanes=Gy(t,s,n),e.memoizedState=Fy,o):(Vi(e),av(e,l))}if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null)){if(i)e.flags&256?(Vi(e),e.flags&=-257,e=Zy(t,e,n)):e.memoizedState!==null?(Ui(),e.child=t.child,e.flags|=128,e=null):(Ui(),r=o.fallback,l=e.mode,o=Xp({mode:"visible",children:o.children},l),r=fl(r,l,n,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,hc(e,t.child,null,n),o=e.child,o.memoizedState=qy(n),o.childLanes=Gy(t,s,n),e.memoizedState=Fy,e=r);else if(Vi(e),kv(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;s=c,o=Error(j(419)),o.stack="",o.digest=s,wd({value:o,source:null,stack:null}),e=Zy(t,e,n)}else if(Rt||wf(t,e,n,!1),s=(n&t.childLanes)!==0,Rt||s){if(s=Ze,s!==null&&(o=n&-n,o=o&42?1:fk(o),o=o&(s.suspendedLanes|n)?0:o,o!==0&&o!==a.retryLane))throw a.retryLane=o,Pc(t,o),Yn(s,t,o),eN;l.data==="$?"||pv(),e=Zy(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=a.treeContext,at=Vo(l.nextSibling),cn=e,Se=!0,pl=null,ar=!1,t!==null&&(po[mo++]=Qr,po[mo++]=ei,po[mo++]=hl,Qr=t.id,ei=t.overflow,hl=e),e=av(e,o.children),e.flags|=4096);return e}return r?(Ui(),r=o.fallback,l=e.mode,a=t.child,c=a.sibling,o=si(a,{mode:"hidden",children:o.children}),o.subtreeFlags=a.subtreeFlags&65011712,c!==null?r=si(c,r):(r=fl(r,l,n,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,l=t.child.memoizedState,l===null?l=qy(n):(a=l.cachePool,a!==null?(c=_t._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=c3(),l={baseLanes:l.baseLanes|n,cachePool:a}),r.memoizedState=l,r.childLanes=Gy(t,s,n),e.memoizedState=Fy,o):(Vi(e),n=t.child,t=n.sibling,n=si(n,{mode:"visible",children:o.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function av(t,e){return e=Xp({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Xp(t,e){return t=Fn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zy(t,e,n){return hc(e,t.child,null,n),t=av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p2(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),W1(t.return,e,n)}function Ky(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function rN(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Ht(t,e,o.children,n),o=Et.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p2(t,n,e);else if(t.tag===19)p2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(tt(Et,o),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Kp(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ky(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Kp(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ky(e,!0,n,null,i);break;case"together":Ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))if(t!==null){if(wf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vk(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Up(t)))}function fB(t,e,n){switch(e.tag){case 3:jp(e,e.stateNode.containerInfo),Hi(e,_t,t.memoizedState.cache),vf();break;case 27:case 5:$1(e);break;case 4:jp(e,e.stateNode.containerInfo);break;case 10:Hi(e,e.type,e.memoizedProps.value);break;case 13:var o=e.memoizedState;if(o!==null)return o.dehydrated!==null?(Vi(e),e.flags|=128,null):n&e.child.childLanes?oN(t,e,n):(Vi(e),t=bi(t,e,n),t!==null?t.sibling:null);Vi(e);break;case 19:var r=(t.flags&128)!==0;if(o=(n&e.childLanes)!==0,o||(wf(t,e,n,!1),o=(n&e.childLanes)!==0),r){if(o)return rN(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),tt(Et,Et.current),o)break;return null;case 22:case 23:return e.lanes=0,nN(t,e,n);case 24:Hi(e,_t,t.memoizedState.cache)}return bi(t,e,n)}function iN(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Rt=!0;else{if(!Vk(t,n)&&!(e.flags&128))return Rt=!1,fB(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Se&&e.flags&1048576&&l3(e,Vp,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var o=e.elementType,r=o._init;if(o=r(o._payload),e.type=o,typeof o=="function")Ck(o)?(t=Nl(o,t),e.tag=1,e=f2(null,e,o,t,n)):(e.tag=0,e=lv(null,e,o,t,n));else{if(o!=null){if(r=o.$$typeof,r===ck){e.tag=11,e=a2(null,e,o,t,n);break e}else if(r===uk){e.tag=14,e=c2(null,e,o,t,n);break e}}throw e=j1(o)||o,Error(j(306,e,""))}}return e;case 0:return lv(t,e,e.type,e.pendingProps,n);case 1:return o=e.type,r=Nl(o,e.pendingProps),f2(t,e,o,r,n);case 3:e:{if(jp(e,e.stateNode.containerInfo),t===null)throw Error(j(387));o=e.pendingProps;var i=e.memoizedState;r=i.element,Q1(t,e),Yu(e,o,null,n);var s=e.memoizedState;if(o=s.cache,Hi(e,_t,o),o!==i.cache&&Y1(e,[_t],n,!0),Wu(),o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=h2(t,e,o,n);break e}else if(o!==r){r=bo(Error(j(424)),e),wd(r),e=h2(t,e,o,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Vo(t.firstChild),cn=e,Se=!0,pl=null,ar=!0,n=Z3(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(vf(),o===r){e=bi(t,e,n);break e}Ht(t,e,o,n)}e=e.child}return e;case 26:return up(t,e),t===null?(n=R2(e.type,null,e.pendingProps,null))?e.memoizedState=n:Se||(n=e.type,t=e.pendingProps,o=rm(ss.current).createElement(n),o[Xt]=e,o[Ln]=t,qt(o,n,t),Nt(o),e.stateNode=o):e.memoizedState=R2(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $1(e),t===null&&Se&&(o=e.stateNode=qN(e.type,e.pendingProps,ss.current),cn=e,ar=!0,r=at,Ns(e.type)?(xv=r,at=Vo(o.firstChild)):at=r),Ht(t,e,e.pendingProps.children,n),up(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Se&&((r=o=at)&&(o=IB(o,e.type,e.pendingProps,ar),o!==null?(e.stateNode=o,cn=e,at=Vo(o.firstChild),ar=!1,r=!0):r=!1),r||Ml(e)),$1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vv(r,i)?o=null:s!==null&&vv(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=Rk(t,e,rB,null,null,n),Ed._currentValue=r),up(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Se&&((t=n=at)&&(n=HB(n,e.pendingProps,ar),n!==null?(e.stateNode=n,cn=e,at=null,t=!0):t=!1),t||Ml(e)),null;case 13:return oN(t,e,n);case 4:return jp(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=hc(e,null,o,n):Ht(t,e,o,n),e.child;case 11:return a2(t,e,e.type,e.pendingProps,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:return o=e.pendingProps,Hi(e,e.type,o.value),Ht(t,e,o.children,n),e.child;case 9:return r=e.type._context,o=e.pendingProps.children,Tl(e),r=Jt(r),o=o(r),e.flags|=1,Ht(t,e,o,n),e.child;case 14:return c2(t,e,e.type,e.pendingProps,n);case 15:return tN(t,e,e.type,e.pendingProps,n);case 19:return rN(t,e,n);case 31:return o=e.pendingProps,n=e.mode,o={mode:o.mode,children:o.children},t===null?(n=Xp(o,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=si(t.child,o),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return nN(t,e,n);case 24:return Tl(e),o=Jt(_t),t===null?(r=Mk(),r===null&&(r=Ze,i=Ek(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:o,cache:r},Tk(e),Hi(e,_t,r)):(t.lanes&n&&(Q1(t,e),Yu(e,null,null,n),Wu()),r=t.memoizedState,i=e.memoizedState,r.parent!==o?(r={parent:o,cache:o},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Hi(e,_t,o)):(o=i.cache,Hi(e,_t,o),o!==r.cache&&Y1(e,[_t],n,!0))),Ht(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(j(156,e.tag))}function Hr(t){t.flags|=4}function m2(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!KN(e)){if(e=Eo.current,e!==null&&((ke&4194048)===ke?mr!==null:(ke&62914560)!==ke&&!(ke&536870912)||e!==mr))throw Zu=J1,u3;t.flags|=8192}}function wh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?R4():536870912,t.lanes|=e,pc|=e)}function vu(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&65011712,o|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function hB(t,e,n){var o=e.pendingProps;switch(_k(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return ot(e),null;case 3:return n=e.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),e.memoizedState.cache!==o&&(e.flags|=2048),li(_t),lc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bu(e)?Hr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,q_())),ot(e),null;case 26:return n=e.memoizedState,t===null?(Hr(e),n!==null?(ot(e),m2(e,n)):(ot(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Hr(e),ot(e),m2(e,n)):(ot(e),e.flags&=-16777217):(t.memoizedProps!==o&&Hr(e),ot(e),e.flags&=-16777217),null;case 27:Bp(e),n=ss.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Hr(e);else{if(!o){if(e.stateNode===null)throw Error(j(166));return ot(e),null}t=hr.current,bu(e)?U_(e):(t=qN(r,o,n),e.stateNode=t,Hr(e))}return ot(e),null;case 5:if(Bp(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==o&&Hr(e);else{if(!o){if(e.stateNode===null)throw Error(j(166));return ot(e),null}if(t=hr.current,bu(e))U_(e);else{switch(r=rm(ss.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?r.createElement(n,{is:o.is}):r.createElement(n)}}t[Xt]=e,t[Ln]=o;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(qt(t,n,o),n){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hr(e)}}return ot(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==o&&Hr(e);else{if(typeof o!="string"&&e.stateNode===null)throw Error(j(166));if(t=ss.current,bu(e)){if(t=e.stateNode,n=e.memoizedProps,o=null,r=cn,r!==null)switch(r.tag){case 27:case 5:o=r.memoizedProps}t[Xt]=e,t=!!(t.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||VN(t.nodeValue,n)),t||Ml(e)}else t=rm(t).createTextNode(o),t[Xt]=e,e.stateNode=t}return ot(e),null;case 13:if(o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=bu(e),o!==null&&o.dehydrated!==null){if(t===null){if(!r)throw Error(j(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[Xt]=e}else vf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),r=!1}else r=q_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(ni(e),e):(ni(e),null)}if(ni(e),e.flags&128)return e.lanes=n,e;if(n=o!==null,t=t!==null&&t.memoizedState!==null,n){o=e.child,r=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(r=o.alternate.memoizedState.cachePool.pool);var i=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==r&&(o.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),wh(e,e.updateQueue),ot(e),null;case 4:return lc(),t===null&&Yk(e.stateNode.containerInfo),ot(e),null;case 10:return li(e.type),ot(e),null;case 19:if(Ot(Et),r=e.memoizedState,r===null)return ot(e),null;if(o=(e.flags&128)!==0,i=r.rendering,i===null)if(o)vu(r,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Kp(t),i!==null){for(e.flags|=128,vu(r,!1),t=i.updateQueue,e.updateQueue=t,wh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)s3(n,t),n=n.sibling;return tt(Et,Et.current&1|2),e.child}t=t.sibling}r.tail!==null&&pr()>Qp&&(e.flags|=128,o=!0,vu(r,!1),e.lanes=4194304)}else{if(!o)if(t=Kp(i),t!==null){if(e.flags|=128,o=!0,t=t.updateQueue,e.updateQueue=t,wh(e,t),vu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Se)return ot(e),null}else 2*pr()-r.renderingStartTime>Qp&&n!==536870912&&(e.flags|=128,o=!0,vu(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=pr(),e.sibling=null,t=Et.current,tt(Et,o?t&1|2:t&1),e):(ot(e),null);case 22:case 23:return ni(e),Ak(),o=e.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(e.flags|=8192):o&&(e.flags|=8192),o?n&536870912&&!(e.flags&128)&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),n=e.updateQueue,n!==null&&wh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),o=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),o!==n&&(e.flags|=2048),t!==null&&Ot(ml),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),li(_t),ot(e),null;case 25:return null;case 30:return null}throw Error(j(156,e.tag))}function pB(t,e){switch(_k(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return li(_t),lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bp(e),null;case 13:if(ni(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));vf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ot(Et),null;case 4:return lc(),null;case 10:return li(e.type),null;case 22:case 23:return ni(e),Ak(),t!==null&&Ot(ml),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return li(_t),null;case 25:return null;default:return null}}function sN(t,e){switch(_k(e),e.tag){case 3:li(_t),lc();break;case 26:case 27:case 5:Bp(e);break;case 4:lc();break;case 13:ni(e);break;case 19:Ot(Et);break;case 10:li(e.type);break;case 22:case 23:ni(e),Ak(),t!==null&&Ot(ml);break;case 24:li(_t)}}function _f(t,e){try{var n=e.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var r=o.next;n=r;do{if((n.tag&t)===t){o=void 0;var i=n.create,s=n.inst;o=i(),s.destroy=o}n=n.next}while(n!==r)}}catch(l){ze(e,e.return,l)}}function ys(t,e,n){try{var o=e.updateQueue,r=o!==null?o.lastEffect:null;if(r!==null){var i=r.next;o=i;do{if((o.tag&t)===t){var s=o.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=e;var a=n,c=l;try{c()}catch(u){ze(r,a,u)}}}o=o.next}while(o!==i)}}catch(u){ze(e,e.return,u)}}function lN(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{h3(e,n)}catch(o){ze(t,t.return,o)}}}function aN(t,e,n){n.props=Nl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(o){ze(t,e,o)}}function Ju(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof n=="function"?t.refCleanup=n(o):n.current=o}}catch(r){ze(t,e,r)}}function ur(t,e){var n=t.ref,o=t.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(r){ze(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function cN(t){var e=t.type,n=t.memoizedProps,o=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(r){ze(t,t.return,r)}}function Wy(t,e,n){try{var o=t.stateNode;jB(o,t.type,n,e),o[Ln]=e}catch(r){ze(t,t.return,r)}}function uN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ns(t.type)||t.tag===4}function Yy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cv(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qg));else if(o!==4&&(o===27&&Ns(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}function Jp(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(o===27&&Ns(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}function dN(t){var e=t.stateNode,n=t.memoizedProps;try{for(var o=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);qt(e,o,n),e[Xt]=t,e[Ln]=n}catch(i){ze(t,t.return,i)}}var Yr=!1,pt=!1,Xy=!1,g2=typeof WeakSet=="function"?WeakSet:Set,At=null;function mB(t,e){if(t=t.containerInfo,bv=am,t=J4(t),wk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(l=s+r),d!==i||o!==0&&d.nodeType!==3||(a=s+o),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===r&&(l=s),f===i&&++u===o&&(a=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(yv={focusedElem:t,selectionRange:n},am=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){switch(e=At,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var p=Nl(n.type,r,n.elementType===n.type);t=o.getSnapshotBeforeUpdate(p,i),o.__reactInternalSnapshotBeforeUpdate=t}catch(m){ze(n,n.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)wv(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wv(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(j(163))}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}}function fN(t,e,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(t,n),o&4&&_f(5,n);break;case 1:if(Ri(t,n),o&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){ze(n,n.return,s)}else{var r=Nl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){ze(n,n.return,s)}}o&64&&lN(n),o&512&&Ju(n,n.return);break;case 3:if(Ri(t,n),o&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{h3(t,e)}catch(s){ze(n,n.return,s)}}break;case 27:e===null&&o&4&&dN(n);case 26:case 5:Ri(t,n),e===null&&o&4&&cN(n),o&512&&Ju(n,n.return);break;case 12:Ri(t,n);break;case 13:Ri(t,n),o&4&&mN(t,n),o&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=SB.bind(null,n),VB(t,n))));break;case 22:if(o=n.memoizedState!==null||Yr,!o){e=e!==null&&e.memoizedState!==null||pt,r=Yr;var i=pt;Yr=o,(pt=e)&&!i?Li(t,n,(n.subtreeFlags&8772)!==0):Ri(t,n),Yr=r,pt=i}break;case 30:break;default:Ri(t,n)}}function hN(t){var e=t.alternate;e!==null&&(t.alternate=null,hN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&pk(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,xn=!1;function Vr(t,e,n){for(n=n.child;n!==null;)pN(t,e,n),n=n.sibling}function pN(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(pf,n)}catch{}switch(n.tag){case 26:pt||ur(n,e),Vr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pt||ur(n,e);var o=Je,r=xn;Ns(n.type)&&(Je=n.stateNode,xn=!1),Vr(t,e,n),nd(n.stateNode),Je=o,xn=r;break;case 5:pt||ur(n,e);case 6:if(o=Je,r=xn,Je=null,Vr(t,e,n),Je=o,xn=r,Je!==null)if(xn)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(i){ze(n,e,i)}else try{Je.removeChild(n.stateNode)}catch(i){ze(n,e,i)}break;case 18:Je!==null&&(xn?(t=Je,T2(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ad(t)):T2(Je,n.stateNode));break;case 4:o=Je,r=xn,Je=n.stateNode.containerInfo,xn=!0,Vr(t,e,n),Je=o,xn=r;break;case 0:case 11:case 14:case 15:pt||ys(2,n,e),pt||ys(4,n,e),Vr(t,e,n);break;case 1:pt||(ur(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"&&aN(n,e,o)),Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:pt=(o=pt)||n.memoizedState!==null,Vr(t,e,n),pt=o;break;default:Vr(t,e,n)}}function mN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ad(t)}catch(n){ze(e,e.return,n)}}function gB(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new g2),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new g2),e;default:throw Error(j(435,t.tag))}}function Jy(t,e){var n=gB(t);e.forEach(function(o){var r=_B.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}function zn(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o],i=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(Ns(l.type)){Je=l.stateNode,xn=!1;break e}break;case 5:Je=l.stateNode,xn=!1;break e;case 3:case 4:Je=l.stateNode.containerInfo,xn=!0;break e}l=l.return}if(Je===null)throw Error(j(160));pN(i,s,r),Je=null,xn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)gN(e,t),e=e.sibling}var jo=null;function gN(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(e,t),Pn(t),o&4&&(ys(3,t,t.return),_f(3,t),ys(5,t,t.return));break;case 1:zn(e,t),Pn(t),o&512&&(pt||n===null||ur(n,n.return)),o&64&&Yr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var r=jo;if(zn(e,t),Pn(t),o&512&&(pt||n===null||ur(n,n.return)),o&4){var i=n!==null?n.memoizedState:null;if(o=t.memoizedState,n===null)if(o===null)if(t.stateNode===null){e:{o=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(o){case"title":i=r.getElementsByTagName("title")[0],(!i||i[bf]||i[Xt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(o),r.head.insertBefore(i,r.querySelector("head > title"))),qt(i,o,n),i[Xt]=t,Nt(i),o=i;break e;case"link":var s=D2("link","href",r).get(o+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(i=s[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}i=r.createElement(o),qt(i,o,n),r.head.appendChild(i);break;case"meta":if(s=D2("meta","content",r).get(o+(n.content||""))){for(l=0;l<s.length;l++)if(i=s[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}i=r.createElement(o),qt(i,o,n),r.head.appendChild(i);break;default:throw Error(j(468,o))}i[Xt]=t,Nt(i),o=i}t.stateNode=o}else L2(r,t.type,t.stateNode);else t.stateNode=O2(r,o,t.memoizedProps);else i!==o?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,o===null?L2(r,t.type,t.stateNode):O2(r,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Wy(t,t.memoizedProps,n.memoizedProps)}break;case 27:zn(e,t),Pn(t),o&512&&(pt||n===null||ur(n,n.return)),n!==null&&o&4&&Wy(t,t.memoizedProps,n.memoizedProps);break;case 5:if(zn(e,t),Pn(t),o&512&&(pt||n===null||ur(n,n.return)),t.flags&32){r=t.stateNode;try{cc(r,"")}catch(h){ze(t,t.return,h)}}o&4&&t.stateNode!=null&&(r=t.memoizedProps,Wy(t,r,n!==null?n.memoizedProps:r)),o&1024&&(Xy=!0);break;case 6:if(zn(e,t),Pn(t),o&4){if(t.stateNode===null)throw Error(j(162));o=t.memoizedProps,n=t.stateNode;try{n.nodeValue=o}catch(h){ze(t,t.return,h)}}break;case 3:if(hp=null,r=jo,jo=im(e.containerInfo),zn(e,t),jo=r,Pn(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Ad(e.containerInfo)}catch(h){ze(t,t.return,h)}Xy&&(Xy=!1,bN(t));break;case 4:o=jo,jo=im(t.stateNode.containerInfo),zn(e,t),Pn(t),jo=o;break;case 12:zn(e,t),Pn(t);break;case 13:zn(e,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zk=pr()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Jy(t,o)));break;case 22:r=t.memoizedState!==null;var a=n!==null&&n.memoizedState!==null,c=Yr,u=pt;if(Yr=c||r,pt=u||a,zn(e,t),pt=u,Yr=c,Pn(t),o&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||a||Yr||pt||Qs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){a=n=e;try{if(i=a.stateNode,r)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=a.stateNode;var d=a.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(h){ze(a,a.return,h)}}}else if(e.tag===6){if(n===null){a=e;try{a.stateNode.nodeValue=r?"":a.memoizedProps}catch(h){ze(a,a.return,h)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}o&4&&(o=t.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,Jy(t,n))));break;case 19:zn(e,t),Pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Jy(t,o)));break;case 30:break;case 21:break;default:zn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{for(var n,o=t.return;o!==null;){if(uN(o)){n=o;break}o=o.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var r=n.stateNode,i=Yy(t);Jp(t,i,r);break;case 5:var s=n.stateNode;n.flags&32&&(cc(s,""),n.flags&=-33);var l=Yy(t);Jp(t,l,s);break;case 3:case 4:var a=n.stateNode.containerInfo,c=Yy(t);cv(t,c,a);break;default:throw Error(j(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bN(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;bN(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ri(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)fN(t,e.alternate,e),e=e.sibling}function Qs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ys(4,e,e.return),Qs(e);break;case 1:ur(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&aN(e,e.return,n),Qs(e);break;case 27:nd(e.stateNode);case 26:case 5:ur(e,e.return),Qs(e);break;case 22:e.memoizedState===null&&Qs(e);break;case 30:Qs(e);break;default:Qs(e)}t=t.sibling}}function Li(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var o=e.alternate,r=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Li(r,i,n),_f(4,i);break;case 1:if(Li(r,i,n),o=i,r=o.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ze(o,o.return,c)}if(o=i,r=o.updateQueue,r!==null){var l=o.stateNode;try{var a=r.shared.hiddenCallbacks;if(a!==null)for(r.shared.hiddenCallbacks=null,r=0;r<a.length;r++)f3(a[r],l)}catch(c){ze(o,o.return,c)}}n&&s&64&&lN(i),Ju(i,i.return);break;case 27:dN(i);case 26:case 5:Li(r,i,n),n&&o===null&&s&4&&cN(i),Ju(i,i.return);break;case 12:Li(r,i,n);break;case 13:Li(r,i,n),n&&s&4&&mN(r,i);break;case 22:i.memoizedState===null&&Li(r,i,n),Ju(i,i.return);break;case 30:break;default:Li(r,i,n)}e=e.sibling}}function Uk(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&kf(n))}function Fk(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&kf(t))}function nr(t,e,n,o){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yN(t,e,n,o),e=e.sibling}function yN(t,e,n,o){var r=e.flags;switch(e.tag){case 0:case 11:case 15:nr(t,e,n,o),r&2048&&_f(9,e);break;case 1:nr(t,e,n,o);break;case 3:nr(t,e,n,o),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&kf(t)));break;case 12:if(r&2048){nr(t,e,n,o),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,l=i.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(a){ze(e,e.return,a)}}else nr(t,e,n,o);break;case 13:nr(t,e,n,o);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?nr(t,e,n,o):Qu(t,e):i._visibility&2?nr(t,e,n,o):(i._visibility|=2,ka(t,e,n,o,(e.subtreeFlags&10256)!==0)),r&2048&&Uk(s,e);break;case 24:nr(t,e,n,o),r&2048&&Fk(e.alternate,e);break;default:nr(t,e,n,o)}}function ka(t,e,n,o,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,s=e,l=n,a=o,c=s.flags;switch(s.tag){case 0:case 11:case 15:ka(i,s,l,a,r),_f(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?ka(i,s,l,a,r):Qu(i,s):(u._visibility|=2,ka(i,s,l,a,r)),r&&c&2048&&Uk(s.alternate,s);break;case 24:ka(i,s,l,a,r),r&&c&2048&&Fk(s.alternate,s);break;default:ka(i,s,l,a,r)}e=e.sibling}}function Qu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,o=e,r=o.flags;switch(o.tag){case 22:Qu(n,o),r&2048&&Uk(o.alternate,o);break;case 24:Qu(n,o),r&2048&&Fk(o.alternate,o);break;default:Qu(n,o)}e=e.sibling}}var Lu=8192;function sa(t){if(t.subtreeFlags&Lu)for(t=t.child;t!==null;)vN(t),t=t.sibling}function vN(t){switch(t.tag){case 26:sa(t),t.flags&Lu&&t.memoizedState!==null&&t$(jo,t.memoizedState,t.memoizedProps);break;case 5:sa(t);break;case 3:case 4:var e=jo;jo=im(t.stateNode.containerInfo),sa(t),jo=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Lu,Lu=16777216,sa(t),Lu=e):sa(t));break;default:sa(t)}}function wN(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var o=e[n];At=o,xN(o,t)}wN(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kN(t),t=t.sibling}function kN(t){switch(t.tag){case 0:case 11:case 15:wu(t),t.flags&2048&&ys(9,t,t.return);break;case 3:wu(t);break;case 12:wu(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,dp(t)):wu(t);break;default:wu(t)}}function dp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var o=e[n];At=o,xN(o,t)}wN(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ys(8,e,e.return),dp(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,dp(e));break;default:dp(e)}t=t.sibling}}function xN(t,e){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:ys(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:kf(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,At=o;else e:for(n=t;At!==null;){o=At;var r=o.sibling,i=o.return;if(hN(o),o===n){At=null;break e}if(r!==null){r.return=i,At=r;break e}At=i}}}var bB={getCacheForType:function(t){var e=Jt(_t),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},yB=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ze=null,be=null,ke=0,Ae=0,Un=null,Ji=!1,Ic=!1,qk=!1,yi=0,ut=0,vs=0,gl=0,Gk=0,ko=0,pc=0,ed=null,Sn=null,uv=!1,Zk=0,Qp=1/0,em=null,cs=null,Ft=0,us=null,mc=null,Ya=0,dv=0,fv=null,CN=null,td=0,hv=null;function Wn(){if(Ne&2&&ke!==0)return ke&-ke;if(oe.T!==null){var t=uc;return t!==0?t:Wk()}return L4()}function SN(){ko===0&&(ko=!(ke&536870912)||Se?N4():536870912);var t=Eo.current;return t!==null&&(t.flags|=32),ko}function Yn(t,e,n){(t===Ze&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(gc(t,0),Qi(t,ke,ko,!1)),gf(t,n),(!(Ne&2)||t!==Ze)&&(t===Ze&&(!(Ne&2)&&(gl|=n),ut===4&&Qi(t,ke,ko,!1)),Tr(t))}function _N(t,e,n){if(Ne&6)throw Error(j(327));var o=!n&&(e&124)===0&&(e&t.expiredLanes)===0||mf(t,e),r=o?kB(t,e):Qy(t,e,!0),i=o;do{if(r===0){Ic&&!o&&Qi(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!vB(n)){r=Qy(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;r=ed;var a=l.current.memoizedState.isDehydrated;if(a&&(gc(l,s).flags|=256),s=Qy(l,s,!1),s!==2){if(qk&&!a){l.errorRecoveryDisabledLanes|=i,gl|=i,r=4;break e}i=Sn,Sn=r,i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i))}r=s}if(i=!1,r!==2)continue}}if(r===1){gc(t,0),Qi(t,e,0,!0);break}e:{switch(o=t,i=r,i){case 0:case 1:throw Error(j(345));case 4:if((e&4194048)!==e)break;case 6:Qi(o,e,ko,!Ji);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(j(329))}if((e&62914560)===e&&(r=Zk+300-pr(),10<r)){if(Qi(o,e,ko,!Ji),Ig(o,0,!0)!==0)break e;o.timeoutHandle=FN(b2.bind(null,o,n,Sn,em,uv,e,ko,gl,pc,Ji,i,2,-0,0),r);break e}b2(o,n,Sn,em,uv,e,ko,gl,pc,Ji,i,0,-0,0)}}break}while(!0);Tr(t)}function b2(t,e,n,o,r,i,s,l,a,c,u,d,f,h){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(_d={stylesheets:null,count:0,unsuspend:e$},vN(e),d=n$(),d!==null)){t.cancelPendingCommit=d(v2.bind(null,t,e,i,n,o,r,s,l,a,u,1,f,h)),Qi(t,i,s,!c);return}v2(t,e,i,n,o,r,s,l,a)}function vB(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!Qn(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e,n,o){e&=~Gk,e&=~gl,t.suspendedLanes|=e,t.pingedLanes&=~e,o&&(t.warmLanes|=e),o=t.expirationTimes;for(var r=e;0<r;){var i=31-Kn(r),s=1<<i;o[i]=-1,r&=~s}n!==0&&O4(t,n,e)}function Yg(){return Ne&6?!0:(Ef(0),!1)}function Kk(){if(be!==null){if(Ae===0)var t=be.return;else t=be,ti=Kl=null,Lk(t),Wa=null,xd=0,t=be;for(;t!==null;)sN(t.alternate,t),t=t.return;be=null}}function gc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,$B(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Kk(),Ze=t,be=n=si(t.current,null),ke=e,Ae=0,Un=null,Ji=!1,Ic=mf(t,e),qk=!1,pc=ko=Gk=gl=vs=ut=0,Sn=ed=null,uv=!1,e&8&&(e|=e&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=e;0<o;){var r=31-Kn(o),i=1<<r;e|=t[r],o&=~i}return yi=e,Fg(),n}function EN(t,e){de=null,oe.H=Zp,e===xf||e===Gg?(e=W_(),Ae=3):e===u3?(e=W_(),Ae=4):Ae=e===eN?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Un=e,be===null&&(ut=1,Yp(t,bo(e,t.current)))}function MN(){var t=oe.H;return oe.H=Zp,t===null?Zp:t}function TN(){var t=oe.A;return oe.A=bB,t}function pv(){ut=4,Ji||(ke&4194048)!==ke&&Eo.current!==null||(Ic=!0),!(vs&134217727)&&!(gl&134217727)||Ze===null||Qi(Ze,ke,ko,!1)}function Qy(t,e,n){var o=Ne;Ne|=2;var r=MN(),i=TN();(Ze!==t||ke!==e)&&(em=null,gc(t,e)),e=!1;var s=ut;e:do try{if(Ae!==0&&be!==null){var l=be,a=Un;switch(Ae){case 8:Kk(),s=6;break e;case 3:case 2:case 9:case 6:Eo.current===null&&(e=!0);var c=Ae;if(Ae=0,Un=null,za(t,l,a,c),n&&Ic){s=0;break e}break;default:c=Ae,Ae=0,Un=null,za(t,l,a,c)}}wB(),s=ut;break}catch(u){EN(t,u)}while(!0);return e&&t.shellSuspendCounter++,ti=Kl=null,Ne=o,oe.H=r,oe.A=i,be===null&&(Ze=null,ke=0,Fg()),s}function wB(){for(;be!==null;)AN(be)}function kB(t,e){var n=Ne;Ne|=2;var o=MN(),r=TN();Ze!==t||ke!==e?(em=null,Qp=pr()+500,gc(t,e)):Ic=mf(t,e);e:do try{if(Ae!==0&&be!==null){e=be;var i=Un;t:switch(Ae){case 1:Ae=0,Un=null,za(t,e,i,1);break;case 2:case 9:if(K_(i)){Ae=0,Un=null,y2(e);break}e=function(){Ae!==2&&Ae!==9||Ze!==t||(Ae=7),Tr(t)},i.then(e,e);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:K_(i)?(Ae=0,Un=null,y2(e)):(Ae=0,Un=null,za(t,e,i,7));break;case 5:var s=null;switch(be.tag){case 26:s=be.memoizedState;case 5:case 27:var l=be;if(!s||KN(s)){Ae=0,Un=null;var a=l.sibling;if(a!==null)be=a;else{var c=l.return;c!==null?(be=c,Xg(c)):be=null}break t}}Ae=0,Un=null,za(t,e,i,5);break;case 6:Ae=0,Un=null,za(t,e,i,6);break;case 8:Kk(),ut=6;break e;default:throw Error(j(462))}}xB();break}catch(u){EN(t,u)}while(!0);return ti=Kl=null,oe.H=o,oe.A=r,Ne=n,be!==null?0:(Ze=null,ke=0,Fg(),ut)}function xB(){for(;be!==null&&!Fj();)AN(be)}function AN(t){var e=iN(t.alternate,t,yi);t.memoizedProps=t.pendingProps,e===null?Xg(t):be=e}function y2(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=d2(n,e,e.pendingProps,e.type,void 0,ke);break;case 11:e=d2(n,e,e.pendingProps,e.type.render,e.ref,ke);break;case 5:Lk(e);default:sN(n,e),e=be=s3(e,yi),e=iN(n,e,yi)}t.memoizedProps=t.pendingProps,e===null?Xg(t):be=e}function za(t,e,n,o){ti=Kl=null,Lk(e),Wa=null,xd=0;var r=e.return;try{if(dB(t,r,e,n,ke)){ut=1,Yp(t,bo(n,t.current)),be=null;return}}catch(i){if(r!==null)throw be=r,i;ut=1,Yp(t,bo(n,t.current)),be=null;return}e.flags&32768?(Se||o===1?t=!0:Ic||ke&536870912?t=!1:(Ji=t=!0,(o===2||o===9||o===3||o===6)&&(o=Eo.current,o!==null&&o.tag===13&&(o.flags|=16384))),NN(e,t)):Xg(e)}function Xg(t){var e=t;do{if(e.flags&32768){NN(e,Ji);return}t=e.return;var n=hB(e.alternate,e,yi);if(n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);ut===0&&(ut=5)}function NN(t,e){do{var n=pB(t.alternate,t);if(n!==null){n.flags&=32767,be=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){be=t;return}be=t=n}while(t!==null);ut=6,be=null}function v2(t,e,n,o,r,i,s,l,a){t.cancelPendingCommit=null;do Jg();while(Ft!==0);if(Ne&6)throw Error(j(327));if(e!==null){if(e===t.current)throw Error(j(177));if(i=e.lanes|e.childLanes,i|=kk,e7(t,n,i,s,l,a),t===Ze&&(be=Ze=null,ke=0),mc=e,us=t,Ya=n,dv=i,fv=r,CN=o,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,EB($p,function(){return jN(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(e.flags&13878)!==0,e.subtreeFlags&13878||o){o=oe.T,oe.T=null,r=_e.p,_e.p=2,s=Ne,Ne|=4;try{mB(t,e,n)}finally{Ne=s,_e.p=r,oe.T=o}}Ft=1,RN(),ON(),DN()}}function RN(){if(Ft===1){Ft=0;var t=us,e=mc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=oe.T,oe.T=null;var o=_e.p;_e.p=2;var r=Ne;Ne|=4;try{gN(e,t);var i=yv,s=J4(t.containerInfo),l=i.focusedElem,a=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&X4(l.ownerDocument.documentElement,l)){if(a!==null&&wk(l)){var c=a.start,u=a.end;if(u===void 0&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=l.textContent.length,m=Math.min(a.start,p),b=a.end===void 0?m:Math.min(a.end,p);!h.extend&&m>b&&(s=b,b=m,m=s);var y=I_(l,m),w=I_(l,b);if(y&&w&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==w.node||h.focusOffset!==w.offset)){var k=d.createRange();k.setStart(y.node,y.offset),h.removeAllRanges(),m>b?(h.addRange(k),h.extend(w.node,w.offset)):(k.setEnd(w.node,w.offset),h.addRange(k))}}}}for(d=[],h=l;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var x=d[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}am=!!bv,yv=bv=null}finally{Ne=r,_e.p=o,oe.T=n}}t.current=e,Ft=2}}function ON(){if(Ft===2){Ft=0;var t=us,e=mc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=oe.T,oe.T=null;var o=_e.p;_e.p=2;var r=Ne;Ne|=4;try{fN(t,e.alternate,e)}finally{Ne=r,_e.p=o,oe.T=n}}Ft=3}}function DN(){if(Ft===4||Ft===3){Ft=0,qj();var t=us,e=mc,n=Ya,o=CN;e.subtreeFlags&10256||e.flags&10256?Ft=5:(Ft=0,mc=us=null,LN(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(cs=null),hk(n),e=e.stateNode,Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(pf,e,void 0,(e.current.flags&128)===128)}catch{}if(o!==null){e=oe.T,r=_e.p,_e.p=2,oe.T=null;try{for(var i=t.onRecoverableError,s=0;s<o.length;s++){var l=o[s];i(l.value,{componentStack:l.stack})}}finally{oe.T=e,_e.p=r}}Ya&3&&Jg(),Tr(t),r=t.pendingLanes,n&4194090&&r&42?t===hv?td++:(td=0,hv=t):td=0,Ef(0)}}function LN(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,kf(e)))}function Jg(t){return RN(),ON(),DN(),jN()}function jN(){if(Ft!==5)return!1;var t=us,e=dv;dv=0;var n=hk(Ya),o=oe.T,r=_e.p;try{_e.p=32>n?32:n,oe.T=null,n=fv,fv=null;var i=us,s=Ya;if(Ft=0,mc=us=null,Ya=0,Ne&6)throw Error(j(331));var l=Ne;if(Ne|=4,kN(i.current),yN(i,i.current,s,n),Ne=l,Ef(0,!1),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(pf,i)}catch{}return!0}finally{_e.p=r,oe.T=o,LN(t,e)}}function w2(t,e,n){e=bo(n,e),e=sv(t.stateNode,e,2),t=as(t,e,2),t!==null&&(gf(t,2),Tr(t))}function ze(t,e,n){if(t.tag===3)w2(t,t,n);else for(;e!==null;){if(e.tag===3){w2(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cs===null||!cs.has(o))){t=bo(n,t),n=J3(2),o=as(e,n,2),o!==null&&(Q3(n,o,e,t),gf(o,2),Tr(o));break}}e=e.return}}function e0(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new yB;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(qk=!0,r.add(n),t=CB.bind(null,t,e,n),e.then(t,t))}function CB(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ze===t&&(ke&n)===n&&(ut===4||ut===3&&(ke&62914560)===ke&&300>pr()-Zk?!(Ne&2)&&gc(t,0):Gk|=n,pc===ke&&(pc=0)),Tr(t)}function BN(t,e){e===0&&(e=R4()),t=Pc(t,e),t!==null&&(gf(t,e),Tr(t))}function SB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BN(t,n)}function _B(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(j(314))}o!==null&&o.delete(e),BN(t,n)}function EB(t,e){return dk(t,e)}var tm=null,xa=null,mv=!1,nm=!1,t0=!1,bl=0;function Tr(t){t!==xa&&t.next===null&&(xa===null?tm=xa=t:xa=xa.next=t),nm=!0,mv||(mv=!0,TB())}function Ef(t,e){if(!t0&&nm){t0=!0;do for(var n=!1,o=tm;o!==null;){if(t!==0){var r=o.pendingLanes;if(r===0)var i=0;else{var s=o.suspendedLanes,l=o.pingedLanes;i=(1<<31-Kn(42|t)+1)-1,i&=r&~(s&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,k2(o,i))}else i=ke,i=Ig(o,o===Ze?i:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),!(i&3)||mf(o,i)||(n=!0,k2(o,i));o=o.next}while(n);t0=!1}}function MB(){$N()}function $N(){nm=mv=!1;var t=0;bl!==0&&(BB()&&(t=bl),bl=0);for(var e=pr(),n=null,o=tm;o!==null;){var r=o.next,i=zN(o,e);i===0?(o.next=null,n===null?tm=r:n.next=r,r===null&&(xa=n)):(n=o,(t!==0||i&3)&&(nm=!0)),o=r}Ef(t)}function zN(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-Kn(i),l=1<<s,a=r[s];a===-1?(!(l&n)||l&o)&&(r[s]=Qj(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}if(e=Ze,n=ke,n=Ig(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,n===0||t===e&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&My(o),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||mf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(o!==null&&My(o),hk(n)){case 2:case 8:n=T4;break;case 32:n=$p;break;case 268435456:n=A4;break;default:n=$p}return o=PN.bind(null,t),n=dk(n,o),t.callbackPriority=e,t.callbackNode=n,e}return o!==null&&o!==null&&My(o),t.callbackPriority=2,t.callbackNode=null,2}function PN(t,e){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Jg()&&t.callbackNode!==n)return null;var o=ke;return o=Ig(t,t===Ze?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(_N(t,o,e),zN(t,pr()),t.callbackNode!=null&&t.callbackNode===n?PN.bind(null,t):null)}function k2(t,e){if(Jg())return null;_N(t,e,!0)}function TB(){zB(function(){Ne&6?dk(M4,MB):$N()})}function Wk(){return bl===0&&(bl=N4()),bl}function x2(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:op(""+t)}function C2(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function AB(t,e,n,o,r){if(e==="submit"&&n&&n.stateNode===r){var i=x2((r[Ln]||null).action),s=o.submitter;s&&(e=(e=s[Ln]||null)?x2(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var l=new Hg("action","action",null,o,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(bl!==0){var a=s?C2(r,s):new FormData(r);rv(n,{pending:!0,data:a,method:r.method,action:i},null,a)}}else typeof i=="function"&&(l.preventDefault(),a=s?C2(r,s):new FormData(r),rv(n,{pending:!0,data:a,method:r.method,action:i},i,a))},currentTarget:r}]})}}for(var n0=0;n0<G1.length;n0++){var o0=G1[n0],NB=o0.toLowerCase(),RB=o0[0].toUpperCase()+o0.slice(1);Xo(NB,"on"+RB)}Xo(e3,"onAnimationEnd");Xo(t3,"onAnimationIteration");Xo(n3,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(K7,"onTransitionRun");Xo(W7,"onTransitionStart");Xo(Y7,"onTransitionCancel");Xo(o3,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ql("onBeforeInput",["compositionend","keypress","textInput","paste"]);ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function IN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var l=o[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=c;try{i(r)}catch(u){Wp(u)}r.currentTarget=null,i=a}else for(s=0;s<o.length;s++){if(l=o[s],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=c;try{i(r)}catch(u){Wp(u)}r.currentTarget=null,i=a}}}}function ge(t,e){var n=e[P1];n===void 0&&(n=e[P1]=new Set);var o=t+"__bubble";n.has(o)||(HN(e,t,2,!1),n.add(o))}function r0(t,e,n){var o=0;e&&(o|=4),HN(n,t,o,e)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Yk(t){if(!t[kh]){t[kh]=!0,j4.forEach(function(n){n!=="selectionchange"&&(OB.has(n)||r0(n,!1,t),r0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kh]||(e[kh]=!0,r0("selectionchange",!1,e))}}function HN(t,e,n,o){switch(QN(e)){case 2:var r=i$;break;case 8:r=s$;break;default:r=ex}n=r.bind(null,e,n,t),r=void 0,!U1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function i0(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var l=o.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=o.return;s!==null;){var a=s.tag;if((a===3||a===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=Aa(l),s===null)return;if(a=s.tag,a===5||a===6||a===26||a===27){o=i=s;continue e}l=l.parentNode}}o=o.return}U4(function(){var c=i,u=gk(n),d=[];e:{var f=r3.get(t);if(f!==void 0){var h=Hg,p=t;switch(t){case"keypress":if(ip(n)===0)break e;case"keydown":case"keyup":h=E7;break;case"focusin":p="focus",h=jy;break;case"focusout":p="blur",h=jy;break;case"beforeblur":case"afterblur":h=jy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=N_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=p7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=A7;break;case e3:case t3:case n3:h=b7;break;case o3:h=R7;break;case"scroll":case"scrollend":h=f7;break;case"wheel":h=D7;break;case"copy":case"cut":case"paste":h=v7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=O_;break;case"toggle":case"beforetoggle":h=j7}var m=(e&4)!==0,b=!m&&(t==="scroll"||t==="scrollend"),y=m?f!==null?f+"Capture":null:f;m=[];for(var w=c,k;w!==null;){var x=w;if(k=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||k===null||y===null||(x=bd(w,y),x!=null&&m.push(Sd(w,x,k))),b)break;w=w.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==V1&&(p=n.relatedTarget||n.fromElement)&&(Aa(p)||p[$c]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Aa(p):null,p!==null&&(b=hf(p),m=p.tag,p!==b||m!==5&&m!==27&&m!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=N_,x="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=O_,x="onPointerLeave",y="onPointerEnter",w="pointer"),b=h==null?f:Du(h),k=p==null?f:Du(p),f=new m(x,w+"leave",h,n,u),f.target=b,f.relatedTarget=k,x=null,Aa(u)===c&&(m=new m(y,w+"enter",p,n,u),m.target=k,m.relatedTarget=b,x=m),b=x,h&&p)t:{for(m=h,y=p,w=0,k=m;k;k=la(k))w++;for(k=0,x=y;x;x=la(x))k++;for(;0<w-k;)m=la(m),w--;for(;0<k-w;)y=la(y),k--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=la(m),y=la(y)}m=null}else m=null;h!==null&&S2(d,f,h,m,!1),p!==null&&b!==null&&S2(d,b,p,m,!0)}}e:{if(f=c?Du(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=B_;else if(j_(f))if(W4)C=q7;else{C=U7;var E=V7}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&mk(c.elementType)&&(C=B_):C=F7;if(C&&(C=C(t,c))){K4(d,C,n,u);break e}E&&E(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&H1(f,"number",f.value)}switch(E=c?Du(c):window,t){case"focusin":(j_(E)||E.contentEditable==="true")&&(Oa=E,F1=c,qu=null);break;case"focusout":qu=F1=Oa=null;break;case"mousedown":q1=!0;break;case"contextmenu":case"mouseup":case"dragend":q1=!1,H_(d,n,u);break;case"selectionchange":if(Z7)break;case"keydown":case"keyup":H_(d,n,u)}var _;if(vk)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ra?G4(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(q4&&n.locale!=="ko"&&(Ra||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ra&&(_=F4()):(Xi=u,bk="value"in Xi?Xi.value:Xi.textContent,Ra=!0)),E=om(c,S),0<E.length&&(S=new R_(S,t,null,n,u),d.push({event:S,listeners:E}),_?S.data=_:(_=Z4(n),_!==null&&(S.data=_)))),(_=$7?z7(t,n):P7(t,n))&&(S=om(c,"onBeforeInput"),0<S.length&&(E=new R_("onBeforeInput","beforeinput",null,n,u),d.push({event:E,listeners:S}),E.data=_)),AB(d,t,c,n,u)}IN(d,e)})}function Sd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function om(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=bd(t,n),r!=null&&o.unshift(Sd(t,r,i)),r=bd(t,e),r!=null&&o.push(Sd(t,r,i))),t.tag===3)return o;t=t.return}return[]}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function S2(t,e,n,o,r){for(var i=e._reactName,s=[];n!==null&&n!==o;){var l=n,a=l.alternate,c=l.stateNode;if(l=l.tag,a!==null&&a===o)break;l!==5&&l!==26&&l!==27||c===null||(a=c,r?(c=bd(n,i),c!=null&&s.unshift(Sd(n,c,a))):r||(c=bd(n,i),c!=null&&s.push(Sd(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var DB=/\r\n?/g,LB=/\u0000|\uFFFD/g;function _2(t){return(typeof t=="string"?t:""+t).replace(DB,`
`).replace(LB,"")}function VN(t,e){return e=_2(e),_2(t)===e}function Qg(){}function De(t,e,n,o,r,i){switch(n){case"children":typeof o=="string"?e==="body"||e==="textarea"&&o===""||cc(t,o):(typeof o=="number"||typeof o=="bigint")&&e!=="body"&&cc(t,""+o);break;case"className":ph(t,"class",o);break;case"tabIndex":ph(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ph(t,n,o);break;case"style":V4(t,o,i);break;case"data":if(e!=="object"){ph(t,"data",o);break}case"src":case"href":if(o===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(n);break}o=op(""+o),t.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&De(t,e,"name",r.name,r,null),De(t,e,"formEncType",r.formEncType,r,null),De(t,e,"formMethod",r.formMethod,r,null),De(t,e,"formTarget",r.formTarget,r,null)):(De(t,e,"encType",r.encType,r,null),De(t,e,"method",r.method,r,null),De(t,e,"target",r.target,r,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(n);break}o=op(""+o),t.setAttribute(n,o);break;case"onClick":o!=null&&(t.onclick=Qg);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(j(61));if(n=o.__html,n!=null){if(r.children!=null)throw Error(j(60));t.innerHTML=n}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}n=op(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,""+o):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":o===!0?t.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(n,o):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(n,o):t.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(n):t.setAttribute(n,o);break;case"popover":ge("beforetoggle",t),ge("toggle",t),np(t,"popover",o);break;case"xlinkActuate":Ir(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ir(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ir(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ir(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ir(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ir(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ir(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ir(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ir(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":np(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=u7.get(n)||n,np(t,n,o))}}function gv(t,e,n,o,r,i){switch(n){case"style":V4(t,o,i);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(j(61));if(n=o.__html,n!=null){if(r.children!=null)throw Error(j(60));t.innerHTML=n}}break;case"children":typeof o=="string"?cc(t,o):(typeof o=="number"||typeof o=="bigint")&&cc(t,""+o);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!B4.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[Ln]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof o=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,o,r);break e}n in t?t[n]=o:o===!0?t.setAttribute(n,""):np(t,n,o)}}}function qt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var o=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":o=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,e));default:De(t,e,i,s,n,null)}}r&&De(t,e,"srcSet",n.srcSet,n,null),o&&De(t,e,"src",n.src,n,null);return;case"input":ge("invalid",t);var l=i=s=r=null,a=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var u=n[o];if(u!=null)switch(o){case"name":r=u;break;case"type":s=u;break;case"checked":a=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(j(137,e));break;default:De(t,e,o,u,n,null)}}P4(t,i,l,a,c,s,r,!1),zp(t);return;case"select":ge("invalid",t),o=s=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:De(t,e,r,l,n,null)}e=i,n=s,t.multiple=!!o,e!=null?Fa(t,!!o,e,!1):n!=null&&Fa(t,!!o,n,!0);return;case"textarea":ge("invalid",t),i=r=o=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":o=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(j(91));break;default:De(t,e,s,l,n,null)}H4(t,o,r,i),zp(t);return;case"option":for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:De(t,e,a,o,n,null)}return;case"dialog":ge("beforetoggle",t),ge("toggle",t),ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(o=0;o<Cd.length;o++)ge(Cd[o],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(o=n[c],o!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,e));default:De(t,e,c,o,n,null)}return;default:if(mk(e)){for(u in n)n.hasOwnProperty(u)&&(o=n[u],o!==void 0&&gv(t,e,u,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(o=n[l],o!=null&&De(t,e,l,o,n,null))}function jB(t,e,n,o){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,s=null,l=null,a=null,c=null,u=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":a=d;default:o.hasOwnProperty(h)||De(t,e,h,null,o,d)}}for(var f in o){var h=o[f];if(d=n[f],o.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":i=h;break;case"name":r=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(j(137,e));break;default:h!==d&&De(t,e,f,h,o,d)}}I1(t,s,l,a,c,u,i,r);return;case"select":h=s=l=f=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null)switch(i){case"value":break;case"multiple":h=a;default:o.hasOwnProperty(i)||De(t,e,i,null,o,a)}for(r in o)if(i=o[r],a=n[r],o.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==a&&De(t,e,r,i,o,a)}e=l,n=s,o=h,f!=null?Fa(t,!!n,f,!1):!!o!=!!n&&(e!=null?Fa(t,!!n,e,!0):Fa(t,!!n,n?[]:"",!1));return;case"textarea":h=f=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!o.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:De(t,e,l,null,o,r)}for(s in o)if(r=o[s],i=n[s],o.hasOwnProperty(s)&&(r!=null||i!=null))switch(s){case"value":f=r;break;case"defaultValue":h=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(j(91));break;default:r!==i&&De(t,e,s,r,o,i)}I4(t,f,h);return;case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&f!=null&&!o.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:De(t,e,p,null,o,f)}for(a in o)if(f=o[a],h=n[a],o.hasOwnProperty(a)&&f!==h&&(f!=null||h!=null))switch(a){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:De(t,e,a,f,o,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&f!=null&&!o.hasOwnProperty(m)&&De(t,e,m,null,o,f);for(c in o)if(f=o[c],h=n[c],o.hasOwnProperty(c)&&f!==h&&(f!=null||h!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,e));break;default:De(t,e,c,f,o,h)}return;default:if(mk(e)){for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!==void 0&&!o.hasOwnProperty(b)&&gv(t,e,b,void 0,o,f);for(u in o)f=o[u],h=n[u],!o.hasOwnProperty(u)||f===h||f===void 0&&h===void 0||gv(t,e,u,f,o,h);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!o.hasOwnProperty(y)&&De(t,e,y,null,o,f);for(d in o)f=o[d],h=n[d],!o.hasOwnProperty(d)||f===h||f==null&&h==null||De(t,e,d,f,o,h)}var bv=null,yv=null;function rm(t){return t.nodeType===9?t:t.ownerDocument}function E2(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UN(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s0=null;function BB(){var t=window.event;return t&&t.type==="popstate"?t===s0?!1:(s0=t,!0):(s0=null,!1)}var FN=typeof setTimeout=="function"?setTimeout:void 0,$B=typeof clearTimeout=="function"?clearTimeout:void 0,M2=typeof Promise=="function"?Promise:void 0,zB=typeof queueMicrotask=="function"?queueMicrotask:typeof M2<"u"?function(t){return M2.resolve(null).then(t).catch(PB)}:FN;function PB(t){setTimeout(function(){throw t})}function Ns(t){return t==="head"}function T2(t,e){var n=e,o=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<o&&8>o){n=o;var s=t.ownerDocument;if(n&1&&nd(s.documentElement),n&2&&nd(s.body),n&4)for(n=s.head,nd(n),s=n.firstChild;s;){var l=s.nextSibling,a=s.nodeName;s[bf]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(r===0){t.removeChild(i),Ad(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:o=n.charCodeAt(0)-48;else o=0;n=i}while(n);Ad(e)}function wv(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wv(n),pk(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function IB(t,e,n,o){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[bf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Vo(t.nextSibling),t===null)break}return null}function HB(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vo(t.nextSibling),t===null))return null;return t}function kv(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function VB(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var o=function(){e(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var xv=null;function A2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function qN(t,e,n){switch(e=rm(n),t){case"html":if(t=e.documentElement,!t)throw Error(j(452));return t;case"head":if(t=e.head,!t)throw Error(j(453));return t;case"body":if(t=e.body,!t)throw Error(j(454));return t;default:throw Error(j(451))}}function nd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);pk(t)}var Mo=new Map,N2=new Set;function im(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=_e.d;_e.d={f:UB,r:FB,D:qB,C:GB,L:ZB,m:KB,X:YB,S:WB,M:XB};function UB(){var t=xi.f(),e=Yg();return t||e}function FB(t){var e=zc(t);e!==null&&e.tag===5&&e.type==="form"?z3(e):xi.r(t)}var Hc=typeof document>"u"?null:document;function GN(t,e,n){var o=Hc;if(o&&typeof e=="string"&&e){var r=go(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),N2.has(r)||(N2.add(r),t={rel:t,crossOrigin:n,href:e},o.querySelector(r)===null&&(e=o.createElement("link"),qt(e,"link",t),Nt(e),o.head.appendChild(e)))}}function qB(t){xi.D(t),GN("dns-prefetch",t,null)}function GB(t,e){xi.C(t,e),GN("preconnect",t,e)}function ZB(t,e,n){xi.L(t,e,n);var o=Hc;if(o&&t&&e){var r='link[rel="preload"][as="'+go(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+go(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+go(n.imageSizes)+'"]')):r+='[href="'+go(t)+'"]';var i=r;switch(e){case"style":i=bc(t);break;case"script":i=Vc(t)}Mo.has(i)||(t=Xe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Mo.set(i,t),o.querySelector(r)!==null||e==="style"&&o.querySelector(Mf(i))||e==="script"&&o.querySelector(Tf(i))||(e=o.createElement("link"),qt(e,"link",t),Nt(e),o.head.appendChild(e)))}}function KB(t,e){xi.m(t,e);var n=Hc;if(n&&t){var o=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+go(o)+'"][href="'+go(t)+'"]',i=r;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Vc(t)}if(!Mo.has(i)&&(t=Xe({rel:"modulepreload",href:t},e),Mo.set(i,t),n.querySelector(r)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Tf(i)))return}o=n.createElement("link"),qt(o,"link",t),Nt(o),n.head.appendChild(o)}}}function WB(t,e,n){xi.S(t,e,n);var o=Hc;if(o&&t){var r=Ua(o).hoistableStyles,i=bc(t);e=e||"default";var s=r.get(i);if(!s){var l={loading:0,preload:null};if(s=o.querySelector(Mf(i)))l.loading=5;else{t=Xe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Mo.get(i))&&Xk(t,n);var a=s=o.createElement("link");Nt(a),qt(a,"link",t),a._p=new Promise(function(c,u){a.onload=c,a.onerror=u}),a.addEventListener("load",function(){l.loading|=1}),a.addEventListener("error",function(){l.loading|=2}),l.loading|=4,fp(s,e,o)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(i,s)}}}function YB(t,e){xi.X(t,e);var n=Hc;if(n&&t){var o=Ua(n).hoistableScripts,r=Vc(t),i=o.get(r);i||(i=n.querySelector(Tf(r)),i||(t=Xe({src:t,async:!0},e),(e=Mo.get(r))&&Jk(t,e),i=n.createElement("script"),Nt(i),qt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}}function XB(t,e){xi.M(t,e);var n=Hc;if(n&&t){var o=Ua(n).hoistableScripts,r=Vc(t),i=o.get(r);i||(i=n.querySelector(Tf(r)),i||(t=Xe({src:t,async:!0,type:"module"},e),(e=Mo.get(r))&&Jk(t,e),i=n.createElement("script"),Nt(i),qt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}}function R2(t,e,n,o){var r=(r=ss.current)?im(r):null;if(!r)throw Error(j(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=bc(n.href),n=Ua(r).hoistableStyles,o=n.get(e),o||(o={type:"style",instance:null,count:0,state:null},n.set(e,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=bc(n.href);var i=Ua(r).hoistableStyles,s=i.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=r.querySelector(Mf(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Mo.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mo.set(t,n),i||JB(r,t,n,s.state))),e&&o===null)throw Error(j(528,""));return s}if(e&&o!==null)throw Error(j(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Vc(n),n=Ua(r).hoistableScripts,o=n.get(e),o||(o={type:"script",instance:null,count:0,state:null},n.set(e,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,t))}}function bc(t){return'href="'+go(t)+'"'}function Mf(t){return'link[rel="stylesheet"]['+t+"]"}function ZN(t){return Xe({},t,{"data-precedence":t.precedence,precedence:null})}function JB(t,e,n,o){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?o.loading=1:(e=t.createElement("link"),o.preload=e,e.addEventListener("load",function(){return o.loading|=1}),e.addEventListener("error",function(){return o.loading|=2}),qt(e,"link",n),Nt(e),t.head.appendChild(e))}function Vc(t){return'[src="'+go(t)+'"]'}function Tf(t){return"script[async]"+t}function O2(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var o=t.querySelector('style[data-href~="'+go(n.href)+'"]');if(o)return e.instance=o,Nt(o),o;var r=Xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),qt(o,"style",r),fp(o,n.precedence,t),e.instance=o;case"stylesheet":r=bc(n.href);var i=t.querySelector(Mf(r));if(i)return e.state.loading|=4,e.instance=i,Nt(i),i;o=ZN(n),(r=Mo.get(r))&&Xk(o,r),i=(t.ownerDocument||t).createElement("link"),Nt(i);var s=i;return s._p=new Promise(function(l,a){s.onload=l,s.onerror=a}),qt(i,"link",o),e.state.loading|=4,fp(i,n.precedence,t),e.instance=i;case"script":return i=Vc(n.src),(r=t.querySelector(Tf(i)))?(e.instance=r,Nt(r),r):(o=n,(r=Mo.get(i))&&(o=Xe({},n),Jk(o,r)),t=t.ownerDocument||t,r=t.createElement("script"),Nt(r),qt(r,"link",o),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(j(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(o=e.instance,e.state.loading|=4,fp(o,n.precedence,t));return e.instance}function fp(t,e,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=o.length?o[o.length-1]:null,i=r,s=0;s<o.length;s++){var l=o[s];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Xk(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Jk(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hp=null;function D2(t,e,n){if(hp===null){var o=new Map,r=hp=new Map;r.set(n,o)}else r=hp,o=r.get(n),o||(o=new Map,r.set(n,o));if(o.has(t))return o;for(o.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[bf]||i[Xt]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var l=o.get(s);l?l.push(i):o.set(s,[i])}}return o}function L2(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function QB(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function KN(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var _d=null;function e$(){}function t$(t,e,n){if(_d===null)throw Error(j(475));var o=_d;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=bc(n.href),i=t.querySelector(Mf(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=sm.bind(o),t.then(o,o)),e.state.loading|=4,e.instance=i,Nt(i);return}i=t.ownerDocument||t,n=ZN(n),(r=Mo.get(r))&&Xk(n,r),i=i.createElement("link"),Nt(i);var s=i;s._p=new Promise(function(l,a){s.onload=l,s.onerror=a}),qt(i,"link",n),e.instance=i}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(o.count++,e=sm.bind(o),t.addEventListener("load",e),t.addEventListener("error",e))}}function n$(){if(_d===null)throw Error(j(475));var t=_d;return t.stylesheets&&t.count===0&&Cv(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Cv(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function sm(){if(this.count--,this.count===0){if(this.stylesheets)Cv(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var lm=null;function Cv(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,lm=new Map,e.forEach(o$,t),lm=null,sm.call(t))}function o$(t,e){if(!(e.state.loading&4)){var n=lm.get(t);if(n)var o=n.get(null);else{n=new Map,lm.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var s=r[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),o=s)}o&&n.set(null,o)}r=e.instance,s=r.getAttribute("data-precedence"),i=n.get(s)||o,i===o&&n.set(null,r),n.set(s,r),this.count++,o=sm.bind(this),r.addEventListener("load",o),r.addEventListener("error",o),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Ed={$$typeof:Jr,Provider:null,Consumer:null,_currentValue:dl,_currentValue2:dl,_threadCount:0};function r$(t,e,n,o,r,i,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ty(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.hiddenUpdates=Ty(null),this.identifierPrefix=o,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function WN(t,e,n,o,r,i,s,l,a,c,u,d){return t=new r$(t,e,n,s,l,a,c,d),e=1,i===!0&&(e|=24),i=Fn(3,null,null,e),t.current=i,i.stateNode=t,e=Ek(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:e},Tk(i),t}function YN(t){return t?(t=ja,t):ja}function XN(t,e,n,o,r,i){r=YN(r),o.context===null?o.context=r:o.pendingContext=r,o=ls(e),o.payload={element:n},i=i===void 0?null:i,i!==null&&(o.callback=i),n=as(t,o,e),n!==null&&(Yn(n,t,e),Ku(n,t,e))}function j2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qk(t,e){j2(t,e),(t=t.alternate)&&j2(t,e)}function JN(t){if(t.tag===13){var e=Pc(t,67108864);e!==null&&Yn(e,t,67108864),Qk(t,67108864)}}var am=!0;function i$(t,e,n,o){var r=oe.T;oe.T=null;var i=_e.p;try{_e.p=2,ex(t,e,n,o)}finally{_e.p=i,oe.T=r}}function s$(t,e,n,o){var r=oe.T;oe.T=null;var i=_e.p;try{_e.p=8,ex(t,e,n,o)}finally{_e.p=i,oe.T=r}}function ex(t,e,n,o){if(am){var r=Sv(o);if(r===null)i0(t,e,o,cm,n),B2(t,o);else if(a$(r,t,e,n,o))o.stopPropagation();else if(B2(t,o),e&4&&-1<l$.indexOf(t)){for(;r!==null;){var i=zc(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Xs(i.pendingLanes);if(s!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var a=1<<31-Kn(s);l.entanglements[1]|=a,s&=~a}Tr(i),!(Ne&6)&&(Qp=pr()+500,Ef(0))}}break;case 13:l=Pc(i,2),l!==null&&Yn(l,i,2),Yg(),Qk(i,2)}if(i=Sv(o),i===null&&i0(t,e,o,cm,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else i0(t,e,o,null,n)}}function Sv(t){return t=gk(t),tx(t)}var cm=null;function tx(t){if(cm=null,t=Aa(t),t!==null){var e=hf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=C4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return cm=t,null}function QN(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gj()){case M4:return 2;case T4:return 8;case $p:case Zj:return 32;case A4:return 268435456;default:return 32}default:return 32}}var _v=!1,ds=null,fs=null,hs=null,Md=new Map,Td=new Map,Fi=[],l$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B2(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(e.pointerId)}}function ku(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=zc(e),e!==null&&JN(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function a$(t,e,n,o,r){switch(e){case"focusin":return ds=ku(ds,t,e,n,o,r),!0;case"dragenter":return fs=ku(fs,t,e,n,o,r),!0;case"mouseover":return hs=ku(hs,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return Md.set(i,ku(Md.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Td.set(i,ku(Td.get(i)||null,t,e,n,o,r)),!0}return!1}function e5(t){var e=Aa(t.target);if(e!==null){var n=hf(e);if(n!==null){if(e=n.tag,e===13){if(e=C4(n),e!==null){t.blockedOn=e,t7(t.priority,function(){if(n.tag===13){var o=Wn();o=fk(o);var r=Pc(n,o);r!==null&&Yn(r,n,o),Qk(n,o)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sv(t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);V1=o,n.target.dispatchEvent(o),V1=null}else return e=zc(n),e!==null&&JN(e),t.blockedOn=n,!1;e.shift()}return!0}function $2(t,e,n){pp(t)&&n.delete(e)}function c$(){_v=!1,ds!==null&&pp(ds)&&(ds=null),fs!==null&&pp(fs)&&(fs=null),hs!==null&&pp(hs)&&(hs=null),Md.forEach($2),Td.forEach($2)}function xh(t,e){t.blockedOn===e&&(t.blockedOn=null,_v||(_v=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,c$)))}var Ch=null;function z2(t){Ch!==t&&(Ch=t,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,function(){Ch===t&&(Ch=null);for(var e=0;e<t.length;e+=3){var n=t[e],o=t[e+1],r=t[e+2];if(typeof o!="function"){if(tx(o||n)===null)continue;break}var i=zc(n);i!==null&&(t.splice(e,3),e-=3,rv(i,{pending:!0,data:r,method:n.method,action:o},o,r))}}))}function Ad(t){function e(a){return xh(a,t)}ds!==null&&xh(ds,t),fs!==null&&xh(fs,t),hs!==null&&xh(hs,t),Md.forEach(e),Td.forEach(e);for(var n=0;n<Fi.length;n++){var o=Fi[n];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)e5(n),n.blockedOn===null&&Fi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var r=n[o],i=n[o+1],s=r[Ln]||null;if(typeof i=="function")s||z2(n);else if(s){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,s=i[Ln]||null)l=s.formAction;else if(tx(r)!==null)continue}else l=s.action;typeof l=="function"?n[o+1]=l:(n.splice(o,3),o-=3),z2(n)}}}function nx(t){this._internalRoot=t}eb.prototype.render=nx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));var n=e.current,o=Wn();XN(n,o,t,e,null,null)};eb.prototype.unmount=nx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;XN(t.current,2,null,t,null,null),Yg(),e[$c]=null}};function eb(t){this._internalRoot=t}eb.prototype.unstable_scheduleHydration=function(t){if(t){var e=L4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&e5(t)}};var P2=k4.version;if(P2!=="19.1.0")throw Error(j(527,P2,"19.1.0"));_e.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Pj(e),t=t!==null?S4(t):null,t=t===null?null:t.stateNode,t};var u$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{pf=Sh.inject(u$),Zn=Sh}catch{}}zg.createRoot=function(t,e){if(!x4(t))throw Error(j(299));var n=!1,o="",r=W3,i=Y3,s=X3,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=WN(t,1,!1,null,null,n,o,r,i,s,l,null),t[$c]=e.current,Yk(t),new nx(e)};zg.hydrateRoot=function(t,e,n){if(!x4(t))throw Error(j(299));var o=!1,r="",i=W3,s=Y3,l=X3,a=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(a=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=WN(t,1,!0,e,n??null,o,r,i,s,l,a,c),e.context=YN(null),n=e.current,o=Wn(),o=fk(o),r=ls(o),r.callback=null,as(n,r,o),n=o,e.current.lanes=n,gf(e,n),Tr(e),t[$c]=e.current,Yk(t),new eb(e)};zg.version="19.1.0";function t5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t5)}catch(t){console.error(t)}}t5(),m4.exports=zg;var n5=m4.exports,cr=function(){return cr=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cr.apply(this,arguments)};function o5(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function d$(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}var mp="right-scroll-bar-position",gp="width-before-scroll-bar",f$="with-scroll-bars-hidden",h$="--removed-body-scroll-bar-size";function l0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function p$(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=e,n.facade}var m$=typeof window<"u"?v.useLayoutEffect:v.useEffect,I2=new WeakMap;function g$(t,e){var n=p$(null,function(o){return t.forEach(function(r){return l0(r,o)})});return m$(function(){var o=I2.get(n);if(o){var r=new Set(o),i=new Set(t),s=n.current;r.forEach(function(l){i.has(l)||l0(l,null)}),i.forEach(function(l){r.has(l)||l0(l,s)})}I2.set(n,t)},[t]),n}function b$(t){return t}function y$(t,e){e===void 0&&(e=b$);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var s=e(i,o);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(o=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){o=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(i),s=n}var a=function(){var u=s;s=[],u.forEach(i)},c=function(){return Promise.resolve().then(a)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return r}function v$(t){t===void 0&&(t={});var e=y$(null);return e.options=cr({async:!0,ssr:!1},t),e}var r5=function(t){var e=t.sideCar,n=o5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,cr({},n))};r5.isSideCarExport=!0;function w$(t,e){return t.useMedium(e),r5}var i5=v$(),a0=function(){},tb=v.forwardRef(function(t,e){var n=v.useRef(null),o=v.useState({onScrollCapture:a0,onWheelCapture:a0,onTouchMoveCapture:a0}),r=o[0],i=o[1],s=t.forwardProps,l=t.children,a=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,p=t.noIsolation,m=t.inert,b=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,k=t.gapMode,x=o5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=g$([n,e]),_=cr(cr({},x),r);return v.createElement(v.Fragment,null,u&&v.createElement(C,{sideCar:i5,removeScrollBar:c,shards:d,noRelative:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:k}),s?v.cloneElement(v.Children.only(l),cr(cr({},_),{ref:E})):v.createElement(w,cr({},_,{className:a,ref:E}),l))});tb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tb.classNames={fullWidth:gp,zeroRight:mp};var k$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function x$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=k$();return e&&t.setAttribute("nonce",e),t}function C$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function S$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var _$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=x$())&&(C$(e,n),S$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},E$=function(){var t=_$();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},s5=function(){var t=E$(),e=function(n){var o=n.styles,r=n.dynamic;return t(o,r),null};return e},M$={left:0,top:0,right:0,gap:0},c0=function(t){return parseInt(t||"",10)||0},T$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[c0(n),c0(o),c0(r)]},A$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M$;var e=T$(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},N$=s5(),Xa="data-scroll-locked",R$=function(t,e,n,o){var r=t.left,i=t.top,s=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(f$,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Xa,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mp,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(gp,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(mp," .").concat(mp,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(gp," .").concat(gp,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Xa,`] {
    `).concat(h$,": ").concat(l,`px;
  }
`)},H2=function(){var t=parseInt(document.body.getAttribute(Xa)||"0",10);return isFinite(t)?t:0},O$=function(){v.useEffect(function(){return document.body.setAttribute(Xa,(H2()+1).toString()),function(){var t=H2()-1;t<=0?document.body.removeAttribute(Xa):document.body.setAttribute(Xa,t.toString())}},[])},D$=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,r=o===void 0?"margin":o;O$();var i=v.useMemo(function(){return A$(r)},[r]);return v.createElement(N$,{styles:R$(i,!e,r,n?"":"!important")})},Ev=!1;if(typeof window<"u")try{var _h=Object.defineProperty({},"passive",{get:function(){return Ev=!0,!0}});window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{Ev=!1}var aa=Ev?{passive:!1}:!1,L$=function(t){return t.tagName==="TEXTAREA"},l5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!L$(t)&&n[e]==="visible")},j$=function(t){return l5(t,"overflowY")},B$=function(t){return l5(t,"overflowX")},V2=function(t,e){var n=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=a5(t,o);if(r){var i=c5(t,o),s=i[1],l=i[2];if(s>l)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},$$=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},z$=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},a5=function(t,e){return t==="v"?j$(e):B$(e)},c5=function(t,e){return t==="v"?$$(e):z$(e)},P$=function(t,e){return t==="h"&&e==="rtl"?-1:1},I$=function(t,e,n,o,r){var i=P$(t,window.getComputedStyle(e).direction),s=i*o,l=n.target,a=e.contains(l),c=!1,u=s>0,d=0,f=0;do{if(!l)break;var h=c5(t,l),p=h[0],m=h[1],b=h[2],y=m-b-i*p;(p||y)&&a5(t,l)&&(d+=y,f+=p);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!a&&l!==document.body||a&&(e.contains(l)||e===l));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Eh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},U2=function(t){return[t.deltaX,t.deltaY]},F2=function(t){return t&&"current"in t?t.current:t},H$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},V$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},U$=0,ca=[];function F$(t){var e=v.useRef([]),n=v.useRef([0,0]),o=v.useRef(),r=v.useState(U$++)[0],i=v.useState(s5)[0],s=v.useRef(t);v.useEffect(function(){s.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var m=d$([t.lockRef.current],(t.shards||[]).map(F2),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var y=Eh(m),w=n.current,k="deltaX"in m?m.deltaX:w[0]-y[0],x="deltaY"in m?m.deltaY:w[1]-y[1],C,E=m.target,_=Math.abs(k)>Math.abs(x)?"h":"v";if("touches"in m&&_==="h"&&E.type==="range")return!1;var S=V2(_,E);if(!S)return!0;if(S?C=_:(C=_==="v"?"h":"v",S=V2(_,E)),!S)return!1;if(!o.current&&"changedTouches"in m&&(k||x)&&(o.current=C),!C)return!0;var M=o.current||C;return I$(M,b,m,M==="h"?k:x)},[]),a=v.useCallback(function(m){var b=m;if(!(!ca.length||ca[ca.length-1]!==i)){var y="deltaY"in b?U2(b):Eh(b),w=e.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&H$(C.delta,y)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var k=(s.current.shards||[]).map(F2).filter(Boolean).filter(function(C){return C.contains(b.target)}),x=k.length>0?l(b,k[0]):!s.current.noIsolation;x&&b.cancelable&&b.preventDefault()}}},[]),c=v.useCallback(function(m,b,y,w){var k={name:m,delta:b,target:y,should:w,shadowParent:q$(y)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(x){return x!==k})},1)},[]),u=v.useCallback(function(m){n.current=Eh(m),o.current=void 0},[]),d=v.useCallback(function(m){c(m.type,U2(m),m.target,l(m,t.lockRef.current))},[]),f=v.useCallback(function(m){c(m.type,Eh(m),m.target,l(m,t.lockRef.current))},[]);v.useEffect(function(){return ca.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",a,aa),document.addEventListener("touchmove",a,aa),document.addEventListener("touchstart",u,aa),function(){ca=ca.filter(function(m){return m!==i}),document.removeEventListener("wheel",a,aa),document.removeEventListener("touchmove",a,aa),document.removeEventListener("touchstart",u,aa)}},[]);var h=t.removeScrollBar,p=t.inert;return v.createElement(v.Fragment,null,p?v.createElement(i,{styles:V$(r)}):null,h?v.createElement(D$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function q$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const G$=w$(i5,F$);var u5=v.forwardRef(function(t,e){return v.createElement(tb,cr({},t,{ref:e,sideCar:G$}))});u5.classNames=tb.classNames;function gr(t){return Object.keys(t)}function u0(t){return t&&typeof t=="object"&&!Array.isArray(t)}function ox(t,e){const n={...t},o=e;return u0(t)&&u0(e)&&Object.keys(e).forEach(r=>{u0(o[r])&&r in t?n[r]=ox(n[r],o[r]):n[r]=o[r]}),n}function Z$(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function K$(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function W$(t){const e=K$(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function q2(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function d5(t,{shouldScale:e=!1}={}){function n(o){if(o===0||o==="0")return`0${t}`;if(typeof o=="number"){const r=`${o/16}${t}`;return e?q2(r):r}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(i=>n(i)).join(",");if(o.includes(" "))return o.split(" ").map(i=>n(i)).join(" ");const r=o.replace("px","");if(!Number.isNaN(Number(r))){const i=`${Number(r)/16}${t}`;return e?q2(i):i}}return o}return n}const z=d5("rem",{shouldScale:!0}),G2=d5("em");function rx(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function f5(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(o=>e.test(o))}return!1}function nb(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==v.Fragment:!1}function Uc(t){const e=v.createContext(null);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>{const r=v.useContext(e);if(r===null)throw new Error(t);return r}]}function h5(t=null){const e=v.createContext(t);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>v.useContext(e)]}function um(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function Y$(t,e,n){for(let o=t-1;o>=0;o-=1)if(!e[o].disabled)return o;if(n){for(let o=e.length-1;o>-1;o-=1)if(!e[o].disabled)return o}return t}function X$(t,e,n){for(let o=t+1;o<e.length;o+=1)if(!e[o].disabled)return o;if(n){for(let o=0;o<e.length;o+=1)if(!e[o].disabled)return o}return t}function J$(t,e,n){return um(t,n)===um(e,n)}function p5({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:o=!0,activateOnFocus:r=!1,dir:i="rtl",orientation:s}){return l=>{var f;n==null||n(l);const a=Array.from(((f=um(l.currentTarget,t))==null?void 0:f.querySelectorAll(e))||[]).filter(h=>J$(l.currentTarget,h,t)),c=a.findIndex(h=>l.currentTarget===h),u=X$(c,a,o),d=Y$(c,a,o);switch(l.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{l.stopPropagation(),l.preventDefault(),a[d].focus(),r&&a[d].click();break}case"ArrowDown":{l.stopPropagation(),l.preventDefault(),a[u].focus(),r&&a[u].click();break}case"Home":{l.stopPropagation(),l.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const h=a.length-1;!a[h].disabled&&a[h].focus();break}}}}const Q$={app:100,modal:200,popover:300,overlay:400,max:9999};function Wl(t){return Q$[t]}const ez=()=>{};function tz(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||ez:n=>{var o;n.key==="Escape"&&(t(n),(o=e.onTrigger)==null||o.call(e))}}function Fo(t,e="size",n=!0){if(t!==void 0)return f5(t)?n?z(t):t:`var(--${e}-${t})`}function ix(t){return Fo(t,"mantine-spacing")}function Yl(t){return t===void 0?"var(--mantine-radius-default)":Fo(t,"mantine-radius")}function dm(t){return Fo(t,"mantine-font-size")}function sx(t){if(t)return Fo(t,"mantine-shadow",!1)}function Tn(t,e){return n=>{t==null||t(n),e==null||e(n)}}function nz(t,e,n){var o;return n?Array.from(((o=um(n,e))==null?void 0:o.querySelectorAll(t))||[]).findIndex(r=>r===n):null}function oz(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function el(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var o;return(o=e.current)==null?void 0:o.call(e,...n)},[])}function ob(t,e){const n=typeof e=="number"?e:e.delay,o=typeof e=="number"?!1:e.flushOnUnmount,r=el(t),i=v.useRef(0),s=v.useRef(()=>{}),l=Object.assign(v.useCallback((...a)=>{window.clearTimeout(i.current);const c=()=>{i.current!==0&&(i.current=0,r(...a))};s.current=c,l.flush=c,i.current=window.setTimeout(c,n)},[r,n]),{flush:s.current});return v.useEffect(()=>()=>{window.clearTimeout(i.current),o&&l.flush()},[l,o]),l}const Z2=["mousedown","touchstart"];function m5(t,e,n){const o=v.useRef(null);return v.useEffect(()=>{const r=i=>{const{target:s}=i??{};if(Array.isArray(n)){const l=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(c=>!!c&&!i.composedPath().includes(c))&&!l&&t()}else o.current&&!o.current.contains(s)&&t()};return(e||Z2).forEach(i=>document.addEventListener(i,r)),()=>{(e||Z2).forEach(i=>document.removeEventListener(i,r))}},[o,t,n]),o}function rz(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function iz(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function sz(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[o,r]=v.useState(n?e:iz(t)),i=v.useRef(null);return v.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(t),r(i.current.matches),rz(i.current,s=>r(s.matches))},[t]),o}const Rs=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Co(t,e){const n=v.useRef(!1);v.useEffect(()=>()=>{n.current=!1},[]),v.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function lx({opened:t,shouldReturnFocus:e=!0}){const n=v.useRef(null),o=()=>{var r;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((r=n.current)==null||r.focus({preventScroll:!0}))};return Co(()=>{let r=-1;const i=s=>{s.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",i),t?n.current=document.activeElement:e&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",i)}},[t,e]),o}const lz=/input|select|textarea|button|object/,g5="a, input, select, textarea, button, object, [tabindex]";function az(t){return t.style.display==="none"}function cz(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(az(n))return!1;n=n.parentNode}return!0}function b5(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function Mv(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(b5(t));return(lz.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&cz(t)}function y5(t){const e=b5(t);return(Number.isNaN(e)||e>=0)&&Mv(t)}function uz(t){return Array.from(t.querySelectorAll(g5)).filter(y5)}function dz(t,e){const n=uz(t);if(!n.length){e.preventDefault();return}const o=n[e.shiftKey?0:n.length-1],r=t.getRootNode();let i=o===r.activeElement||t===r.activeElement;const s=r.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(i=n.filter(u=>u.getAttribute("type")==="radio"&&u.getAttribute("name")===s.getAttribute("name")).includes(o)),!i)return;e.preventDefault();const a=n[e.shiftKey?n.length-1:0];a&&a.focus()}function ax(t=!0){const e=v.useRef(null),n=r=>{let i=r.querySelector("[data-autofocus]");if(!i){const s=Array.from(r.querySelectorAll(g5));i=s.find(y5)||s.find(Mv)||null,!i&&Mv(r)&&(i=r)}i&&i.focus({preventScroll:!0})},o=v.useCallback(r=>{t&&r!==null&&e.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&n(r)}),e.current=r):e.current=null)},[t]);return v.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const r=i=>{i.key==="Tab"&&e.current&&dz(e.current,i)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),o}const fz=X.useId||(()=>{});function hz(){const t=fz();return t?`mantine-${t.replace(/:/g,"")}`:""}function Os(t){const e=hz(),[n,o]=v.useState(e);return Rs(()=>{o(oz())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function pz(t,e,n){v.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function Nd(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function Af(...t){const e=new Map;return n=>{if(t.forEach(o=>{const r=Nd(o,n);r&&e.set(o,r)}),e.size>0)return()=>{t.forEach(o=>{const r=e.get(o);r?r():Nd(o,null)}),e.clear()}}}function ft(...t){return v.useCallback(Af(...t),t)}function Ds({value:t,defaultValue:e,finalValue:n,onChange:o=()=>{}}){const[r,i]=v.useState(e!==void 0?e:n),s=(l,...a)=>{i(l),o==null||o(l,...a)};return t!==void 0?[t,o,!0]:[r,s,!1]}function cx(t,e){return sz("(prefers-reduced-motion: reduce)",t,e)}function mz(){const[t,e]=v.useState(!1),n=v.useRef(null),o=v.useCallback(()=>e(!0),[]),r=v.useCallback(()=>e(!1),[]);return v.useEffect(()=>{const i=n.current;if(i)return i.addEventListener("mouseenter",o),i.addEventListener("mouseleave",r),()=>{i==null||i.removeEventListener("mouseenter",o),i==null||i.removeEventListener("mouseleave",r)}},[n.current]),{ref:n,hovered:t}}function gz(t=!1,e){const{onOpen:n,onClose:o}={},[r,i]=v.useState(t),s=v.useCallback(()=>{i(c=>c||(n==null||n(),!0))},[n]),l=v.useCallback(()=>{i(c=>c&&(o==null||o(),!1))},[o]),a=v.useCallback(()=>{r?l():s()},[l,s,r]);return[r,{open:s,close:l,toggle:a}]}function bz(t){return t.currentTarget instanceof HTMLElement&&t.relatedTarget instanceof HTMLElement?t.currentTarget.contains(t.relatedTarget):!1}function v5({onBlur:t,onFocus:e}={}){const n=v.useRef(null),[o,r]=v.useState(!1),i=v.useRef(!1),s=c=>{r(c),i.current=c},l=c=>{i.current||(s(!0),e==null||e(c))},a=c=>{i.current&&!bz(c)&&(s(!1),t==null||t(c))};return v.useEffect(()=>{const c=n.current;if(c)return c.addEventListener("focusin",l),c.addEventListener("focusout",a),()=>{c==null||c.removeEventListener("focusin",l),c==null||c.removeEventListener("focusout",a)}},[l,a]),{ref:n,focused:o}}function yz(t){var n;const e=X.version;return typeof X.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}function w5(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=w5(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function it(){for(var t,e,n=0,o="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=w5(t))&&(o&&(o+=" "),o+=e);return o}const vz={};function wz(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([o,r])=>{e[o]?e[o]=it(e[o],r):e[o]=r})}),e}function rb({theme:t,classNames:e,props:n,stylesCtx:o}){const i=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,o):s||vz);return wz(i)}function fm({theme:t,styles:e,props:n,stylesCtx:o}){return(Array.isArray(e)?e:[e]).reduce((i,s)=>typeof s=="function"?{...i,...s(t,n,o)}:{...i,...s},{})}const k5=v.createContext(null);function Ls(){const t=v.useContext(k5);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function kz(){return Ls().cssVariablesResolver}function xz(){return Ls().classNamesPrefix}function ux(){return Ls().getStyleNonce}function Cz(){return Ls().withStaticClasses}function Sz(){return Ls().headless}function _z(){var t;return(t=Ls().stylesTransform)==null?void 0:t.sx}function Ez(){var t;return(t=Ls().stylesTransform)==null?void 0:t.styles}function ib(){return Ls().env||"default"}function Mz(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function Tz(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),o=n>>16&255,r=n>>8&255,i=n&255;return{r:o,g:r,b:i,a:1}}function Az(t){const[e,n,o,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:o,a:r===void 0?1:r}}function Nz(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),r=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*i-1))*r,a=o/60,c=l*(1-Math.abs(a%2-1)),u=i-l/2;let d,f,h;return a>=0&&a<1?(d=l,f=c,h=0):a>=1&&a<2?(d=c,f=l,h=0):a>=2&&a<3?(d=0,f=l,h=c):a>=3&&a<4?(d=0,f=c,h=l):a>=4&&a<5?(d=c,f=0,h=l):(d=l,f=0,h=c),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((h+u)*255),a:s||1}}function dx(t){return Mz(t)?Tz(t):t.startsWith("rgb")?Az(t):t.startsWith("hsl")?Nz(t):{r:0,g:0,b:0,a:1}}function Mh(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:o,b:r,a:i}=dx(t),s=1-e,l=a=>Math.round(a*s);return`rgba(${l(n)}, ${l(o)}, ${l(r)}, ${i})`}function Rd(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function d0(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Rz(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function Oz(t){if(t.startsWith("oklch("))return(Rz(t)||0)/100;const{r:e,g:n,b:o}=dx(t),r=e/255,i=n/255,s=o/255,l=d0(r),a=d0(i),c=d0(s);return .2126*l+.7152*a+.0722*c}function xu(t,e=.179){return t.startsWith("var(")?!1:Oz(t)>e}function Xl({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:xu(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:xu(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:xu(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[o,r]=t.split("."),i=r?Number(r):void 0,s=o in e.colors;if(s){const l=i!==void 0?e.colors[o][i]:e.colors[o][Rd(e,n||"light")];return{color:o,value:l,shade:i,isThemeColor:s,isLight:xu(l,e.luminanceThreshold),variable:r?`--mantine-color-${o}-${i}`:`--mantine-color-${o}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:xu(t,e.luminanceThreshold),shade:i,variable:void 0}}function Tv(t,e){const n=Xl({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function K2(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},o=Tv(n.from,e),r=Tv(n.to,e);return`linear-gradient(${n.deg}deg, ${o} 0%, ${r} 100%)`}function rr(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const i=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${i}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:o,b:r}=dx(t);return`rgba(${n}, ${o}, ${r}, ${e})`}const ua=rr,Dz=({color:t,theme:e,variant:n,gradient:o,autoContrast:r})=>{const i=Xl({color:t,theme:e}),s=typeof r=="boolean"?r:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const l=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:l,border:`${z(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${z(1)} solid transparent`}:{background:t,hover:Mh(t,.1),color:l,border:`${z(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${z(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:rr(l,.1),hover:rr(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${z(1)} solid transparent`}}return{background:rr(t,.1),hover:rr(t,.12),color:t,border:`${z(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${z(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:rr(e.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${z(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:rr(t,.05),color:t,border:`${z(1)} solid ${t}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${z(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:"transparent",hover:rr(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${z(1)} solid transparent`}}return{background:"transparent",hover:rr(t,.12),color:t,border:`${z(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${z(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${z(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${z(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Mh(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${z(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Mh(e.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${z(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Mh(e.white,.01),color:t,border:`${z(1)} solid transparent`}:n==="gradient"?{background:K2(o,e),hover:K2(o,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${z(1)} solid var(--mantine-color-default-border)`}:{}},Lz={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},W2="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fx={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Lz,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Dz,autoContrast:!1,luminanceThreshold:.3,fontFamily:W2,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:W2,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:z(34),lineHeight:"1.3"},h2:{fontSize:z(26),lineHeight:"1.35"},h3:{fontSize:z(22),lineHeight:"1.4"},h4:{fontSize:z(18),lineHeight:"1.45"},h5:{fontSize:z(16),lineHeight:"1.5"},h6:{fontSize:z(14),lineHeight:"1.5"}}},fontSizes:{xs:z(12),sm:z(14),md:z(16),lg:z(18),xl:z(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:z(2),sm:z(4),md:z(8),lg:z(16),xl:z(32)},spacing:{xs:z(10),sm:z(12),md:z(16),lg:z(20),xl:z(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${z(1)} ${z(3)} rgba(0, 0, 0, 0.05), 0 ${z(1)} ${z(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${z(1)} ${z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${z(10)} ${z(15)} ${z(-5)}, rgba(0, 0, 0, 0.04) 0 ${z(7)} ${z(7)} ${z(-5)}`,md:`0 ${z(1)} ${z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${z(20)} ${z(25)} ${z(-5)}, rgba(0, 0, 0, 0.04) 0 ${z(10)} ${z(10)} ${z(-5)}`,lg:`0 ${z(1)} ${z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${z(28)} ${z(23)} ${z(-7)}, rgba(0, 0, 0, 0.04) 0 ${z(12)} ${z(12)} ${z(-7)}`,xl:`0 ${z(1)} ${z(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${z(36)} ${z(28)} ${z(-7)}, rgba(0, 0, 0, 0.04) 0 ${z(17)} ${z(17)} ${z(-7)}`},other:{},components:{}};function Y2(t){return t==="auto"||t==="dark"||t==="light"}function jz({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(t);return Y2(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{e=o=>{o.storageArea===window.localStorage&&o.key===t&&Y2(o.newValue)&&n(o.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const Bz="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",X2="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function f0(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function J2(t){if(!(t.primaryColor in t.colors))throw new Error(Bz);if(typeof t.primaryShade=="object"&&(!f0(t.primaryShade.dark)||!f0(t.primaryShade.light)))throw new Error(X2);if(typeof t.primaryShade=="number"&&!f0(t.primaryShade))throw new Error(X2)}function $z(t,e){var o;if(!e)return J2(t),t;const n=ox(t,e);return e.fontFamily&&!((o=e.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=e.fontFamily),J2(n),n}const hx=v.createContext(null),zz=()=>v.useContext(hx)||fx;function Ar(){const t=v.useContext(hx);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function x5({theme:t,children:e,inherit:n=!0}){const o=zz(),r=v.useMemo(()=>$z(n?o:fx,t),[t,o,n]);return g.jsx(hx.Provider,{value:r,children:e})}x5.displayName="@mantine/core/MantineThemeProvider";function Pz(){const t=Ar(),e=ux(),n=gr(t.breakpoints).reduce((o,r)=>{const i=t.breakpoints[r].includes("px"),s=W$(t.breakpoints[r]),l=i?`${s-.1}px`:G2(s-.1),a=i?`${s}px`:G2(s);return`${o}@media (max-width: ${l}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${a}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function h0(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Cu(t,e){return(Array.isArray(t)?t:[t]).reduce((o,r)=>`${r}{${o}}`,e)}function Iz(t,e){const n=h0(t.variables),o=n?Cu(e,n):"",r=h0(t.dark),i=h0(t.light),s=r?Cu(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",l=i?Cu(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,i):"";return`${o}${s}${l}`}function Hz({color:t,theme:e,autoContrast:n}){return e.autoContrast&&Xl({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Q2(t,e){return Hz({color:t.colors[t.primaryColor][Rd(t,e)],theme:t,autoContrast:null})}function Th({theme:t,color:e,colorScheme:n,name:o=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const l=Rd(t,"light"),a={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${l===9?8:l+1})`,[`--mantine-color-${o}-light`]:ua(t.colors[e][l],.1),[`--mantine-color-${o}-light-hover`]:ua(t.colors[e][l],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline-hover`]:ua(t.colors[e][l],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...a}:a}const i=Rd(t,"dark"),s={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${i===9?8:i+1})`,[`--mantine-color-${o}-light`]:ua(t.colors[e][Math.max(0,i-2)],.15),[`--mantine-color-${o}-light-hover`]:ua(t.colors[e][Math.max(0,i-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(i-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(i-4,0)})`,[`--mantine-color-${o}-outline-hover`]:ua(t.colors[e][Math.max(i-4,0)],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...s}:s}function Vz(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function da(t,e,n){gr(e).forEach(o=>Object.assign(t,{[`--mantine-${n}-${o}`]:e[o]}))}const C5=t=>{const e=Rd(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:z(t.defaultRadius),o={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Q2(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-primary-color-contrast":Q2(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};da(o.variables,t.breakpoints,"breakpoint"),da(o.variables,t.spacing,"spacing"),da(o.variables,t.fontSizes,"font-size"),da(o.variables,t.lineHeights,"line-height"),da(o.variables,t.shadows,"shadow"),da(o.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((i,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),gr(t.colors).forEach(i=>{const s=t.colors[i];if(Vz(s)){Object.assign(o.light,Th({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,Th({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((l,a)=>{o.variables[`--mantine-color-${i}-${a}`]=l}),Object.assign(o.light,Th({theme:t,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,Th({theme:t,color:i,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return gr(r).forEach(i=>{o.variables[`--mantine-${i}-font-size`]=r[i].fontSize,o.variables[`--mantine-${i}-line-height`]=r[i].lineHeight,o.variables[`--mantine-${i}-font-weight`]=r[i].fontWeight||t.headings.fontWeight}),o};function Uz({theme:t,generator:e}){const n=C5(t),o=e==null?void 0:e(t);return o?ox(n,o):n}const p0=C5(fx);function Fz(t){const e={variables:{},light:{},dark:{}};return gr(t.variables).forEach(n=>{p0.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),gr(t.light).forEach(n=>{p0.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),gr(t.dark).forEach(n=>{p0.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function qz(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function S5({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=Ar(),o=ux(),r=kz(),i=Uz({theme:n,generator:r}),s=t===":root"&&e,l=s?Fz(i):i,a=Iz(l,t);return a?g.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${a}${s?"":qz(t)}`}}):null}S5.displayName="@mantine/CssVariables";function fa(t,e){var r,i;const n=typeof window<"u"&&"matchMedia"in window&&((r=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:r.matches),o=t!=="auto"?t:n?"dark":"light";(i=e())==null||i.setAttribute("data-mantine-color-scheme",o)}function Gz({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:o}){const r=v.useRef(null),[i,s]=v.useState(()=>t.get(e)),l=o||i,a=v.useCallback(u=>{o||(fa(u,n),s(u),t.set(u))},[t.set,l,o]),c=v.useCallback(()=>{s(e),fa(e,n),t.clear()},[t.clear,e]);return v.useEffect(()=>(t.subscribe(a),t.unsubscribe),[t.subscribe,t.unsubscribe]),Rs(()=>{fa(t.get(e),n)},[]),v.useEffect(()=>{var d;if(o)return fa(o,n),()=>{};o===void 0&&fa(i,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{i==="auto"&&fa(f.matches?"dark":"light",n)};return(d=r.current)==null||d.addEventListener("change",u),()=>{var f;return(f=r.current)==null?void 0:f.removeEventListener("change",u)}},[i,o]),{colorScheme:l,setColorScheme:a,clearColorScheme:c}}function Zz({respectReducedMotion:t,getRootElement:e}){Rs(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}function px({theme:t,children:e,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:r=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:l=":root",classNamesPrefix:a="mantine",colorSchemeManager:c=jz(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:b,setColorScheme:y,clearColorScheme:w}=Gz({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return Zz({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),g.jsx(k5.Provider,{value:{colorScheme:b,setColorScheme:y,clearColorScheme:w,getRootElement:d,classNamesPrefix:a,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:l,withStaticClasses:o,stylesTransform:p,env:m},children:g.jsxs(x5,{theme:t,children:[s&&g.jsx(S5,{cssVariablesSelector:l,deduplicateCssVariables:i}),r&&g.jsx(Pz,{}),e]})})}px.displayName="@mantine/core/MantineProvider";function _5({classNames:t,styles:e,props:n,stylesCtx:o}){const r=Ar();return{resolvedClassNames:rb({theme:r,classNames:t,props:n,stylesCtx:o||void 0}),resolvedStyles:fm({theme:r,styles:e,props:n,stylesCtx:o||void 0})}}const Kz={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Wz({theme:t,options:e,unstyled:n}){return it((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||Kz[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function Yz({selector:t,stylesCtx:e,options:n,props:o,theme:r}){return rb({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:e})[t]}function eE({selector:t,stylesCtx:e,theme:n,classNames:o,props:r}){return rb({theme:n,classNames:o,props:r,stylesCtx:e})[t]}function Xz({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function Jz({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Qz({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:o}){return o===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function eP({themeName:t,theme:e,selector:n,props:o,stylesCtx:r}){return t.map(i=>{var s,l;return(l=rb({theme:e,classNames:(s=e.components[i])==null?void 0:s.classNames,props:o,stylesCtx:r}))==null?void 0:l[n]})}function tP({options:t,classes:e,selector:n,unstyled:o}){return t!=null&&t.variant&&!o?e[`${n}--${t.variant}`]:void 0}function nP({theme:t,options:e,themeName:n,selector:o,classNamesPrefix:r,classNames:i,classes:s,unstyled:l,className:a,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return it(Wz({theme:t,options:e,unstyled:l||h}),eP({theme:t,themeName:n,selector:o,props:u,stylesCtx:d}),tP({options:e,classes:s,selector:o,unstyled:l}),eE({selector:o,stylesCtx:d,theme:t,classNames:i,props:u}),eE({selector:o,stylesCtx:d,theme:t,classNames:p,props:u}),Yz({selector:o,stylesCtx:d,options:e,props:u,theme:t}),Xz({rootSelector:c,selector:o,className:a}),Jz({selector:o,classes:s,unstyled:l||h}),f&&!h&&Qz({themeName:n,classNamesPrefix:r,selector:o,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function oP({theme:t,themeName:e,props:n,stylesCtx:o,selector:r}){return e.map(i=>{var s;return fm({theme:t,styles:(s=t.components[i])==null?void 0:s.styles,props:n,stylesCtx:o})[r]}).reduce((i,s)=>({...i,...s}),{})}function Av({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...Av({style:o,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function rP(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(o=>{e[o]={...e[o],...rx(n[o])}}),e),{})}function iP({vars:t,varsResolver:e,theme:n,props:o,stylesCtx:r,selector:i,themeName:s,headless:l}){var a;return(a=rP([l?{}:e==null?void 0:e(n,o,r),...s.map(c=>{var u,d,f;return(f=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:f.call(d,n,o,r)}),t==null?void 0:t(n,o,r)]))==null?void 0:a[i]}function sP({theme:t,themeName:e,selector:n,options:o,props:r,stylesCtx:i,rootSelector:s,styles:l,style:a,vars:c,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&oP({theme:t,themeName:e,props:r,stylesCtx:i,selector:n}),...!f&&fm({theme:t,styles:l,props:r,stylesCtx:i})[n],...!f&&fm({theme:t,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||r,stylesCtx:i})[n],...iP({theme:t,props:r,stylesCtx:i,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...s===n?Av({style:a,theme:t}):null,...Av({style:o==null?void 0:o.style,theme:t})}}function lP({props:t,stylesCtx:e,themeName:n}){var s;const o=Ar(),r=(s=Ez())==null?void 0:s();return{getTransformedStyles:l=>r?[...l.map(c=>r(c,{props:t,theme:o,ctx:e})),...n.map(c=>{var u;return r((u=o.components[c])==null?void 0:u.styles,{props:t,theme:o,ctx:e})})].filter(Boolean):[],withStylesTransform:!!r}}function yn({name:t,classes:e,props:n,stylesCtx:o,className:r,style:i,rootSelector:s="root",unstyled:l,classNames:a,styles:c,vars:u,varsResolver:d,attributes:f}){const h=Ar(),p=xz(),m=Cz(),b=Sz(),y=(Array.isArray(t)?t:[t]).filter(x=>x),{withStylesTransform:w,getTransformedStyles:k}=lP({props:n,stylesCtx:o,themeName:y});return(x,C)=>({className:nP({theme:h,options:C,themeName:y,selector:x,classNamesPrefix:p,classNames:a,classes:e,unstyled:l,className:r,rootSelector:s,props:n,stylesCtx:o,withStaticClasses:m,headless:b,transformedStyles:k([C==null?void 0:C.styles,c])}),style:sP({theme:h,themeName:y,selector:x,options:C,props:n,stylesCtx:o,rootSelector:s,styles:c,style:i,vars:u,varsResolver:d,headless:b,withStylesTransform:w}),...f==null?void 0:f[x]})}function ve(t,e,n){var s;const o=Ar(),r=(s=o.components[t])==null?void 0:s.defaultProps,i=typeof r=="function"?r(o):r;return{...e,...i,...rx(n)}}function m0(t){return gr(t).reduce((e,n)=>t[n]!==void 0?`${e}${Z$(n)}:${t[n]};`:e,"").trim()}function aP({selector:t,styles:e,media:n,container:o}){const r=e?m0(e):"",i=Array.isArray(n)?n.map(l=>`@media${l.query}{${t}{${m0(l.styles)}}}`):[],s=Array.isArray(o)?o.map(l=>`@container ${l.query}{${t}{${m0(l.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}${s.join("")}`.trim()}function cP(t){const e=ux();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:aP(t)}})}function uP(t){const{m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bdrs:x,bg:C,c:E,opacity:_,ff:S,fz:M,fw:T,lts:B,ta:I,lh:V,fs:F,tt:U,td:N,w:O,miw:R,maw:L,h:q,mih:G,mah:ne,bgsz:pe,bgp:Oe,bgr:Ie,bga:He,pos:Ve,top:zt,left:Ke,bottom:Ct,right:lo,inset:$r,display:Do,flex:Lo,hiddenFrom:zr,visibleFrom:Ks,lightHidden:Ti,darkHidden:Ai,sx:Pr,...bt}=t;return{styleProps:rx({m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bg:C,c:E,opacity:_,ff:S,fz:M,fw:T,lts:B,ta:I,lh:V,fs:F,tt:U,td:N,w:O,miw:R,maw:L,h:q,mih:G,mah:ne,bgsz:pe,bgp:Oe,bgr:Ie,bga:He,pos:Ve,top:zt,left:Ke,bottom:Ct,right:lo,inset:$r,display:Do,flex:Lo,bdrs:x,hiddenFrom:zr,visibleFrom:Ks,lightHidden:Ti,darkHidden:Ai,sx:Pr}),rest:bt}}const dP={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function mx(t,e){const n=Xl({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function fP(t,e){const n=Xl({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:mx(t,e)}function hP(t,e){if(typeof t=="number")return z(t);if(typeof t=="string"){const[n,o,...r]=t.split(" ").filter(s=>s.trim()!=="");let i=`${z(n)}`;return o&&(i+=` ${o}`),r.length>0&&(i+=` ${mx(r.join(" "),e)}`),i.trim()}return t}const tE={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function pP(t){return typeof t=="string"&&t in tE?tE[t]:t}const mP=["h1","h2","h3","h4","h5","h6"];function gP(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&mP.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?z(t):t}function bP(t){return t}const yP=["h1","h2","h3","h4","h5","h6"];function vP(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&yP.includes(t)?`var(--mantine-${t}-line-height)`:t}function wP(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?z(t):t}function kP(t){return typeof t=="number"?z(t):t}function xP(t,e){if(typeof t=="number")return z(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return z(t);const o=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return t}const g0={color:mx,textColor:fP,fontSize:gP,spacing:xP,radius:wP,identity:bP,size:kP,lineHeight:vP,fontFamily:pP,border:hP};function nE(t){return t.replace("(min-width: ","").replace("em)","")}function CP({media:t,...e}){const o=Object.keys(t).sort((r,i)=>Number(nE(r))-Number(nE(i))).map(r=>({query:r,styles:t[r]}));return{...e,media:o}}function SP(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function _P(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function EP(t){return typeof t=="object"&&t!==null?gr(t).filter(e=>e!=="base"):[]}function MP(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function TP({styleProps:t,data:e,theme:n}){return CP(gr(t).reduce((o,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return o;const i=e[r],s=Array.isArray(i.property)?i.property:[i.property],l=_P(t[r]);if(!SP(t[r]))return s.forEach(c=>{o.inlineStyles[c]=g0[i.type](l,n)}),o;o.hasResponsiveStyles=!0;const a=EP(t[r]);return s.forEach(c=>{l!=null&&(o.styles[c]=g0[i.type](l,n)),a.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;o.media[d]={...o.media[d],[c]:g0[i.type](MP(t[r],u),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function AP(){return`__m__-${v.useId().replace(/:/g,"")}`}function E5(t){return t.startsWith("data-")?t:`data-${t}`}function NP(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return o===void 0||o===""||o===!1||o===null||(e[E5(n)]=t[n]),e},{})}function M5(t){return t?typeof t=="string"?{[E5(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...M5(n)}),{}):NP(t):null}function Nv(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...Nv(o,e)}),{}):typeof t=="function"?t(e):t??{}}function RP({theme:t,style:e,vars:n,styleProps:o}){const r=Nv(e,t),i=Nv(n,t);return{...r,...i,...o}}const T5=v.forwardRef(({component:t,style:e,__vars:n,className:o,variant:r,mod:i,size:s,hiddenFrom:l,visibleFrom:a,lightHidden:c,darkHidden:u,renderRoot:d,__size:f,...h},p)=>{var S;const m=Ar(),b=t||"div",{styleProps:y,rest:w}=uP(h),k=_z(),x=(S=k==null?void 0:k())==null?void 0:S(y.sx),C=AP(),E=TP({styleProps:y,theme:m,data:dP}),_={ref:p,style:RP({theme:m,style:e,vars:n,styleProps:E.inlineStyles}),className:it(o,x,{[C]:E.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${a}`]:a}),"data-variant":r,"data-size":f5(s)?void 0:s||void 0,size:f,...M5(i),...w};return g.jsxs(g.Fragment,{children:[E.hasResponsiveStyles&&g.jsx(cP,{selector:`.${C}`,styles:E.styles,media:E.media}),typeof d=="function"?d(_):g.jsx(b,{..._})]})});T5.displayName="@mantine/core/Box";const Me=T5;function A5(t){return t}function OP(t){const e=t;return n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o}}function nt(t){const e=v.forwardRef(t);return e.extend=A5,e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e}function Jl(t){const e=v.forwardRef(t);return e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e.extend=A5,e}const DP=v.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Nf(){return v.useContext(DP)}function sb(){return typeof window<"u"}function Fc(t){return N5(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Nr(t){var e;return(e=(N5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function N5(t){return sb()?t instanceof Node||t instanceof An(t).Node:!1}function Ue(t){return sb()?t instanceof Element||t instanceof An(t).Element:!1}function eo(t){return sb()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function Rv(t){return!sb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}const LP=new Set(["inline","contents"]);function Rf(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=To(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!LP.has(r)}const jP=new Set(["table","td","th"]);function BP(t){return jP.has(Fc(t))}const $P=[":popover-open",":modal"];function lb(t){return $P.some(e=>{try{return t.matches(e)}catch{return!1}})}const zP=["transform","translate","scale","rotate","perspective"],PP=["transform","translate","scale","rotate","perspective","filter"],IP=["paint","layout","strict","content"];function gx(t){const e=ab(),n=Ue(t)?To(t):t;return zP.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||PP.some(o=>(n.willChange||"").includes(o))||IP.some(o=>(n.contain||"").includes(o))}function HP(t){let e=vi(t);for(;eo(e)&&!ws(e);){if(gx(e))return e;if(lb(e))return null;e=vi(e)}return null}function ab(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VP=new Set(["html","body","#document"]);function ws(t){return VP.has(Fc(t))}function To(t){return An(t).getComputedStyle(t)}function cb(t){return Ue(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vi(t){if(Fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rv(t)&&t.host||Nr(t);return Rv(e)?e.host:e}function R5(t){const e=vi(t);return ws(e)?t.ownerDocument?t.ownerDocument.body:t.body:eo(e)&&Rf(e)?e:R5(e)}function ai(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=R5(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=An(r);if(i){const l=Ov(s);return e.concat(s,s.visualViewport||[],Rf(r)?r:[],l&&n?ai(l):[])}return e.concat(r,ai(r,[],n))}function Ov(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dv(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function yc(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Rv(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function O5(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function D5(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}function UP(t){return qP()?!1:!oE()&&t.width===0&&t.height===0||oE()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function L5(){return/apple/i.test(navigator.vendor)}function oE(){const t=/android/i;return t.test(O5())||t.test(D5())}function FP(){return O5().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function qP(){return D5().includes("jsdom/")}function Lv(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}function GP(t){return"nativeEvent"in t}function ZP(t){return t.matches("html,body")}function es(t){return(t==null?void 0:t.ownerDocument)||document}function b0(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Ca(t){return"composedPath"in t?t.composedPath()[0]:t.target}const KP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function WP(t){return eo(t)&&t.matches(KP)}const YP=["top","right","bottom","left"],qo=Math.min,Yt=Math.max,hm=Math.round,Ah=Math.floor,br=t=>({x:t,y:t}),XP={left:"right",right:"left",bottom:"top",top:"bottom"},JP={start:"end",end:"start"};function jv(t,e,n){return Yt(t,qo(e,n))}function wr(t,e){return typeof t=="function"?t(e):t}function Go(t){return t.split("-")[0]}function qc(t){return t.split("-")[1]}function bx(t){return t==="x"?"y":"x"}function yx(t){return t==="y"?"height":"width"}const QP=new Set(["top","bottom"]);function zo(t){return QP.has(Go(t))?"y":"x"}function vx(t){return bx(zo(t))}function eI(t,e,n){n===void 0&&(n=!1);const o=qc(t),r=vx(t),i=yx(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=pm(s)),[s,pm(s)]}function tI(t){const e=pm(t);return[Bv(t),e,Bv(e)]}function Bv(t){return t.replace(/start|end/g,e=>JP[e])}const rE=["left","right"],iE=["right","left"],nI=["top","bottom"],oI=["bottom","top"];function rI(t,e,n){switch(t){case"top":case"bottom":return n?e?iE:rE:e?rE:iE;case"left":case"right":return e?nI:oI;default:return[]}}function iI(t,e,n,o){const r=qc(t);let i=rI(Go(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Bv)))),i}function pm(t){return t.replace(/left|right|bottom|top/g,e=>XP[e])}function sI(t){return{top:0,right:0,bottom:0,left:0,...t}}function wx(t){return typeof t!="number"?sI(t):{top:t,right:t,bottom:t,left:t}}function vc(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var lI=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],$v=lI.join(","),j5=typeof Element>"u",Od=j5?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mm=!j5&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},gm=function t(e,n){var o;n===void 0&&(n=!0);var r=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),i=r===""||r==="true",s=i||n&&e&&t(e.parentNode);return s},aI=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},cI=function(e,n,o){if(gm(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll($v));return n&&Od.call(e,$v)&&r.unshift(e),r=r.filter(o),r},uI=function t(e,n,o){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(!gm(s,!1))if(s.tagName==="SLOT"){var l=s.assignedElements(),a=l.length?l:s.children,c=t(a,!0,o);o.flatten?r.push.apply(r,c):r.push({scopeParent:s,candidates:c})}else{var u=Od.call(s,$v);u&&o.filter(s)&&(n||!e.includes(s))&&r.push(s);var d=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),f=!gm(d,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(d&&f){var h=t(d===!0?s.children:d.children,!0,o);o.flatten?r.push.apply(r,h):r.push({scopeParent:s,candidates:h})}else i.unshift.apply(i,s.children)}}return r},B5=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},$5=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||aI(e))&&!B5(e)?0:e.tabIndex},dI=function(e,n){var o=$5(e);return o<0&&n&&!B5(e)?0:o},fI=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},z5=function(e){return e.tagName==="INPUT"},hI=function(e){return z5(e)&&e.type==="hidden"},pI=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},mI=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},gI=function(e){if(!e.name)return!0;var n=e.form||mm(e),o=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=mI(r,e.form);return!i||i===e},bI=function(e){return z5(e)&&e.type==="radio"},yI=function(e){return bI(e)&&!gI(e)},vI=function(e){var n,o=e&&mm(e),r=(n=o)===null||n===void 0?void 0:n.host,i=!1;if(o&&o!==e){var s,l,a;for(i=!!((s=r)!==null&&s!==void 0&&(l=s.ownerDocument)!==null&&l!==void 0&&l.contains(r)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!i&&r;){var c,u,d;o=mm(r),r=(c=o)===null||c===void 0?void 0:c.host,i=!!((u=r)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(r))}}return i},sE=function(e){var n=e.getBoundingClientRect(),o=n.width,r=n.height;return o===0&&r===0},wI=function(e,n){var o=n.displayCheck,r=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Od.call(e,"details>summary:first-of-type"),s=i?e.parentElement:e;if(Od.call(s,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof r=="function"){for(var l=e;e;){var a=e.parentElement,c=mm(e);if(a&&!a.shadowRoot&&r(a)===!0)return sE(e);e.assignedSlot?e=e.assignedSlot:!a&&c!==e.ownerDocument?e=c.host:e=a}e=l}if(vI(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return sE(e);return!1},kI=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var r=n.children.item(o);if(r.tagName==="LEGEND")return Od.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},xI=function(e,n){return!(n.disabled||gm(n)||hI(n)||wI(n,e)||pI(n)||kI(n))},lE=function(e,n){return!(yI(n)||$5(n)<0||!xI(e,n))},CI=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},SI=function t(e){var n=[],o=[];return e.forEach(function(r,i){var s=!!r.scopeParent,l=s?r.scopeParent:r,a=dI(l,s),c=s?t(r.candidates):l;a===0?s?n.push.apply(n,c):n.push(l):o.push({documentOrder:i,tabIndex:a,item:r,isScope:s,content:c})}),o.sort(fI).reduce(function(r,i){return i.isScope?r.push.apply(r,i.content):r.push(i.content),r},[]).concat(n)},P5=function(e,n){n=n||{};var o;return n.getShadowRoot?o=uI([e],n.includeContainer,{filter:lE.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:CI}):o=cI(e,n.includeContainer,lE.bind(null,n)),SI(o)};function aE(t,e,n){let{reference:o,floating:r}=t;const i=zo(e),s=vx(e),l=yx(s),a=Go(e),c=i==="y",u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,f=o[l]/2-r[l]/2;let h;switch(a){case"top":h={x:u,y:o.y-r.height};break;case"bottom":h={x:u,y:o.y+o.height};break;case"right":h={x:o.x+o.width,y:d};break;case"left":h={x:o.x-r.width,y:d};break;default:h={x:o.x,y:o.y}}switch(qc(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const _I=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=aE(c,o,a),f=o,h={},p=0;for(let m=0;m<l.length;m++){const{name:b,fn:y}=l[m],{x:w,y:k,data:x,reset:C}=await y({x:u,y:d,initialPlacement:o,placement:f,strategy:r,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=w??u,d=k??d,h={...h,[b]:{...h[b],...x}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:u,y:d}=aE(c,f,a)),m=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:h}};async function Dd(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=wr(e,t),p=wx(h),b=l[f?d==="floating"?"reference":"floating":d],y=vc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),w=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),x=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},C=vc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:k,strategy:a}):w);return{top:(y.top-C.top+p.top)/x.y,bottom:(C.bottom-y.bottom+p.bottom)/x.y,left:(y.left-C.left+p.left)/x.x,right:(C.right-y.right+p.right)/x.x}}const EI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:l,middlewareData:a}=e,{element:c,padding:u=0}=wr(t,e)||{};if(c==null)return{};const d=wx(u),f={x:n,y:o},h=vx(r),p=yx(h),m=await s.getDimensions(c),b=h==="y",y=b?"top":"left",w=b?"bottom":"right",k=b?"clientHeight":"clientWidth",x=i.reference[p]+i.reference[h]-f[h]-i.floating[p],C=f[h]-i.reference[h],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let _=E?E[k]:0;(!_||!await(s.isElement==null?void 0:s.isElement(E)))&&(_=l.floating[k]||i.floating[p]);const S=x/2-C/2,M=_/2-m[p]/2-1,T=qo(d[y],M),B=qo(d[w],M),I=T,V=_-m[p]-B,F=_/2-m[p]/2+S,U=jv(I,F,V),N=!a.arrow&&qc(r)!=null&&F!==U&&i.reference[p]/2-(F<I?T:B)-m[p]/2<0,O=N?F<I?F-I:F-V:0;return{[h]:f[h]+O,data:{[h]:U,centerOffset:F-U-O,...N&&{alignmentOffset:O}},reset:N}}}),MI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...b}=wr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Go(r),w=zo(l),k=Go(l)===l,x=await(a.isRTL==null?void 0:a.isRTL(c.floating)),C=f||(k||!m?[pm(l)]:tI(l)),E=p!=="none";!f&&E&&C.push(...iI(l,m,p,x));const _=[l,...C],S=await Dd(e,b),M=[];let T=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&M.push(S[y]),d){const F=eI(r,s,x);M.push(S[F[0]],S[F[1]])}if(T=[...T,{placement:r,overflows:M}],!M.every(F=>F<=0)){var B,I;const F=(((B=i.flip)==null?void 0:B.index)||0)+1,U=_[F];if(U&&(!(d==="alignment"?w!==zo(U):!1)||T.every(R=>R.overflows[0]>0&&zo(R.placement)===w)))return{data:{index:F,overflows:T},reset:{placement:U}};let N=(I=T.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!N)switch(h){case"bestFit":{var V;const O=(V=T.filter(R=>{if(E){const L=zo(R.placement);return L===w||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,q)=>L+q,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:V[0];O&&(N=O);break}case"initialPlacement":N=l;break}if(r!==N)return{reset:{placement:N}}}return{}}}};function cE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uE(t){return YP.some(e=>t[e]>=0)}const TI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=wr(t,e);switch(o){case"referenceHidden":{const i=await Dd(e,{...r,elementContext:"reference"}),s=cE(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:uE(s)}}}case"escaped":{const i=await Dd(e,{...r,altBoundary:!0}),s=cE(i,n.floating);return{data:{escapedOffsets:s,escaped:uE(s)}}}default:return{}}}}};function I5(t){const e=qo(...t.map(i=>i.left)),n=qo(...t.map(i=>i.top)),o=Yt(...t.map(i=>i.right)),r=Yt(...t.map(i=>i.bottom));return{x:e,y:n,width:o-e,height:r-n}}function AI(t){const e=t.slice().sort((r,i)=>r.y-i.y),n=[];let o=null;for(let r=0;r<e.length;r++){const i=e[r];!o||i.y-o.y>o.height/2?n.push([i]):n[n.length-1].push(i),o=i}return n.map(r=>vc(I5(r)))}const NI=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:o,rects:r,platform:i,strategy:s}=e,{padding:l=2,x:a,y:c}=wr(t,e),u=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(o.reference))||[]),d=AI(u),f=vc(I5(u)),h=wx(l);function p(){if(d.length===2&&d[0].left>d[1].right&&a!=null&&c!=null)return d.find(b=>a>b.left-h.left&&a<b.right+h.right&&c>b.top-h.top&&c<b.bottom+h.bottom)||f;if(d.length>=2){if(zo(n)==="y"){const T=d[0],B=d[d.length-1],I=Go(n)==="top",V=T.top,F=B.bottom,U=I?T.left:B.left,N=I?T.right:B.right,O=N-U,R=F-V;return{top:V,bottom:F,left:U,right:N,width:O,height:R,x:U,y:V}}const b=Go(n)==="left",y=Yt(...d.map(T=>T.right)),w=qo(...d.map(T=>T.left)),k=d.filter(T=>b?T.left===w:T.right===y),x=k[0].top,C=k[k.length-1].bottom,E=w,_=y,S=_-E,M=C-x;return{top:x,bottom:C,left:E,right:_,width:S,height:M,x:E,y:x}}return f}const m=await i.getElementRects({reference:{getBoundingClientRect:p},floating:o.floating,strategy:s});return r.reference.x!==m.reference.x||r.reference.y!==m.reference.y||r.reference.width!==m.reference.width||r.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},H5=new Set(["left","top"]);async function RI(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=Go(n),l=qc(n),a=zo(n)==="y",c=H5.has(s)?-1:1,u=i&&a?-1:1,d=wr(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),a?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const OI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=e,a=await RI(e,t);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:s}}}}},DI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...a}=wr(t,e),c={x:n,y:o},u=await Dd(e,a),d=zo(Go(r)),f=bx(d);let h=c[f],p=c[d];if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=h+u[b],k=h-u[y];h=jv(w,h,k)}if(s){const b=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=p+u[b],k=p-u[y];p=jv(w,p,k)}const m=l.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[f]:i,[d]:s}}}}}},LI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=e,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=wr(t,e),u={x:n,y:o},d=zo(r),f=bx(d);let h=u[f],p=u[d];const m=wr(l,e),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(a){const k=f==="y"?"height":"width",x=i.reference[f]-i.floating[k]+b.mainAxis,C=i.reference[f]+i.reference[k]-b.mainAxis;h<x?h=x:h>C&&(h=C)}if(c){var y,w;const k=f==="y"?"width":"height",x=H5.has(Go(r)),C=i.reference[d]-i.floating[k]+(x&&((y=s.offset)==null?void 0:y[d])||0)+(x?0:b.crossAxis),E=i.reference[d]+i.reference[k]+(x?0:((w=s.offset)==null?void 0:w[d])||0)-(x?b.crossAxis:0);p<C?p=C:p>E&&(p=E)}return{[f]:h,[d]:p}}}},jI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:i,platform:s,elements:l}=e,{apply:a=()=>{},...c}=wr(t,e),u=await Dd(e,c),d=Go(r),f=qc(r),h=zo(r)==="y",{width:p,height:m}=i.floating;let b,y;d==="top"||d==="bottom"?(b=d,y=f===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,b=f==="end"?"top":"bottom");const w=m-u.top-u.bottom,k=p-u.left-u.right,x=qo(m-u[b],w),C=qo(p-u[y],k),E=!e.middlewareData.shift;let _=x,S=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=k),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(_=w),E&&!f){const T=Yt(u.left,0),B=Yt(u.right,0),I=Yt(u.top,0),V=Yt(u.bottom,0);h?S=p-2*(T!==0||B!==0?T+B:Yt(u.left,u.right)):_=m-2*(I!==0||V!==0?I+V:Yt(u.top,u.bottom))}await a({...e,availableWidth:S,availableHeight:_});const M=await s.getDimensions(l.floating);return p!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function V5(t){const e=To(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=eo(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,l=hm(n)!==i||hm(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function kx(t){return Ue(t)?t:t.contextElement}function Ja(t){const e=kx(t);if(!eo(e))return br(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=V5(e);let s=(i?hm(n.width):n.width)/o,l=(i?hm(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const BI=br(0);function U5(t){const e=An(t);return!ab()||!e.visualViewport?BI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $I(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function Rl(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=kx(t);let s=br(1);e&&(o?Ue(o)&&(s=Ja(o)):s=Ja(t));const l=$I(i,n,o)?U5(i):br(0);let a=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const f=An(i),h=o&&Ue(o)?An(o):o;let p=f,m=Ov(p);for(;m&&o&&h!==p;){const b=Ja(m),y=m.getBoundingClientRect(),w=To(m),k=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,x=y.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;a*=b.x,c*=b.y,u*=b.x,d*=b.y,a+=k,c+=x,p=An(m),m=Ov(p)}}return vc({width:u,height:d,x:a,y:c})}function xx(t,e){const n=cb(t).scrollLeft;return e?e.left+n:Rl(Nr(t)).left+n}function F5(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),r=o.left+e.scrollLeft-(n?0:xx(t,o)),i=o.top+e.scrollTop;return{x:r,y:i}}function zI(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=Nr(o),l=e?lb(e.floating):!1;if(o===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},c=br(1);const u=br(0),d=eo(o);if((d||!d&&!i)&&((Fc(o)!=="body"||Rf(s))&&(a=cb(o)),eo(o))){const h=Rl(o);c=Ja(o),u.x=h.x+o.clientLeft,u.y=h.y+o.clientTop}const f=s&&!d&&!i?F5(s,a,!0):br(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-a.scrollTop*c.y+u.y+f.y}}function PI(t){return Array.from(t.getClientRects())}function II(t){const e=Nr(t),n=cb(t),o=t.ownerDocument.body,r=Yt(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=Yt(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+xx(t);const l=-n.scrollTop;return To(o).direction==="rtl"&&(s+=Yt(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}function HI(t,e){const n=An(t),o=Nr(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,a=0;if(r){i=r.width,s=r.height;const c=ab();(!c||c&&e==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}return{width:i,height:s,x:l,y:a}}const VI=new Set(["absolute","fixed"]);function UI(t,e){const n=Rl(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=eo(t)?Ja(t):br(1),s=t.clientWidth*i.x,l=t.clientHeight*i.y,a=r*i.x,c=o*i.y;return{width:s,height:l,x:a,y:c}}function dE(t,e,n){let o;if(e==="viewport")o=HI(t,n);else if(e==="document")o=II(Nr(t));else if(Ue(e))o=UI(e,n);else{const r=U5(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return vc(o)}function q5(t,e){const n=vi(t);return n===e||!Ue(n)||ws(n)?!1:To(n).position==="fixed"||q5(n,e)}function FI(t,e){const n=e.get(t);if(n)return n;let o=ai(t,[],!1).filter(l=>Ue(l)&&Fc(l)!=="body"),r=null;const i=To(t).position==="fixed";let s=i?vi(t):t;for(;Ue(s)&&!ws(s);){const l=To(s),a=gx(s);!a&&l.position==="fixed"&&(r=null),(i?!a&&!r:!a&&l.position==="static"&&!!r&&VI.has(r.position)||Rf(s)&&!a&&q5(t,s))?o=o.filter(u=>u!==s):r=l,s=vi(s)}return e.set(t,o),o}function qI(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?lb(e)?[]:FI(e,this._c):[].concat(n),o],l=s[0],a=s.reduce((c,u)=>{const d=dE(e,u,r);return c.top=Yt(d.top,c.top),c.right=qo(d.right,c.right),c.bottom=qo(d.bottom,c.bottom),c.left=Yt(d.left,c.left),c},dE(e,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function GI(t){const{width:e,height:n}=V5(t);return{width:e,height:n}}function ZI(t,e,n){const o=eo(e),r=Nr(e),i=n==="fixed",s=Rl(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const a=br(0);function c(){a.x=xx(r)}if(o||!o&&!i)if((Fc(e)!=="body"||Rf(r))&&(l=cb(e)),o){const h=Rl(e,!0,i,e);a.x=h.x+e.clientLeft,a.y=h.y+e.clientTop}else r&&c();i&&!o&&r&&c();const u=r&&!o&&!i?F5(r,l):br(0),d=s.left+l.scrollLeft-a.x-u.x,f=s.top+l.scrollTop-a.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function y0(t){return To(t).position==="static"}function fE(t,e){if(!eo(t)||To(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Nr(t)===n&&(n=n.ownerDocument.body),n}function G5(t,e){const n=An(t);if(lb(t))return n;if(!eo(t)){let r=vi(t);for(;r&&!ws(r);){if(Ue(r)&&!y0(r))return r;r=vi(r)}return n}let o=fE(t,e);for(;o&&BP(o)&&y0(o);)o=fE(o,e);return o&&ws(o)&&y0(o)&&!gx(o)?n:o||HP(t)||n}const KI=async function(t){const e=this.getOffsetParent||G5,n=this.getDimensions,o=await n(t.floating);return{reference:ZI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function WI(t){return To(t).direction==="rtl"}const YI={convertOffsetParentRelativeRectToViewportRelativeRect:zI,getDocumentElement:Nr,getClippingRect:qI,getOffsetParent:G5,getElementRects:KI,getClientRects:PI,getDimensions:GI,getScale:Ja,isElement:Ue,isRTL:WI};function Z5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function XI(t,e){let n=null,o;const r=Nr(t);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(l||e(),!f||!h)return;const p=Ah(d),m=Ah(r.clientWidth-(u+f)),b=Ah(r.clientHeight-(d+h)),y=Ah(u),k={rootMargin:-p+"px "+-m+"px "+-b+"px "+-y+"px",threshold:Yt(0,qo(1,a))||1};let x=!0;function C(E){const _=E[0].intersectionRatio;if(_!==a){if(!x)return s();_?s(!1,_):o=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!Z5(c,t.getBoundingClientRect())&&s(),x=!1}try{n=new IntersectionObserver(C,{...k,root:r.ownerDocument})}catch{n=new IntersectionObserver(C,k)}n.observe(t)}return s(!0),i}function zv(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=kx(t),u=r||i?[...c?ai(c):[],...ai(e)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const d=c&&l?XI(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var k;(k=h)==null||k.observe(e)})),n()}),c&&!a&&h.observe(c),h.observe(e));let p,m=a?Rl(t):null;a&&b();function b(){const y=Rl(t);m&&!Z5(m,y)&&n(),m=y,p=requestAnimationFrame(b)}return n(),()=>{var y;u.forEach(w=>{r&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,a&&cancelAnimationFrame(p)}}const JI=OI,QI=DI,eH=MI,tH=jI,nH=TI,hE=EI,oH=NI,rH=LI,iH=(t,e,n)=>{const o=new Map,r={platform:YI,...n},i={...r.platform,_c:o};return _I(t,e,{...r,platform:i})};var sH=typeof document<"u",lH=function(){},bp=sH?v.useLayoutEffect:lH;function bm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!bm(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!bm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function K5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pE(t,e){const n=K5(t);return Math.round(e*n)/n}function v0(t){const e=v.useRef(t);return bp(()=>{e.current=t}),e}function aH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:c}=t,[u,d]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=v.useState(o);bm(f,o)||h(o);const[p,m]=v.useState(null),[b,y]=v.useState(null),w=v.useCallback(R=>{R!==E.current&&(E.current=R,m(R))},[]),k=v.useCallback(R=>{R!==_.current&&(_.current=R,y(R))},[]),x=i||p,C=s||b,E=v.useRef(null),_=v.useRef(null),S=v.useRef(u),M=a!=null,T=v0(a),B=v0(r),I=v0(c),V=v.useCallback(()=>{if(!E.current||!_.current)return;const R={placement:e,strategy:n,middleware:f};B.current&&(R.platform=B.current),iH(E.current,_.current,R).then(L=>{const q={...L,isPositioned:I.current!==!1};F.current&&!bm(S.current,q)&&(S.current=q,Jn.flushSync(()=>{d(q)}))})},[f,e,n,B,I]);bp(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[c]);const F=v.useRef(!1);bp(()=>(F.current=!0,()=>{F.current=!1}),[]),bp(()=>{if(x&&(E.current=x),C&&(_.current=C),x&&C){if(T.current)return T.current(x,C,V);V()}},[x,C,V,T,M]);const U=v.useMemo(()=>({reference:E,floating:_,setReference:w,setFloating:k}),[w,k]),N=v.useMemo(()=>({reference:x,floating:C}),[x,C]),O=v.useMemo(()=>{const R={position:n,left:0,top:0};if(!N.floating)return R;const L=pE(N.floating,u.x),q=pE(N.floating,u.y);return l?{...R,transform:"translate("+L+"px, "+q+"px)",...K5(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:q}},[n,l,N.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:V,refs:U,elements:N,floatingStyles:O}),[u,V,U,N,O])}const cH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?hE({element:o.current,padding:r}).fn(n):{}:o?hE({element:o,padding:r}).fn(n):{}}}},Jo=(t,e)=>({...JI(t),options:[t,e]}),js=(t,e)=>({...QI(t),options:[t,e]}),ym=(t,e)=>({...rH(t),options:[t,e]}),to=(t,e)=>({...eH(t),options:[t,e]}),Of=(t,e)=>({...tH(t),options:[t,e]}),uH=(t,e)=>({...nH(t),options:[t,e]}),yl=(t,e)=>({...oH(t),options:[t,e]}),Cx=(t,e)=>({...cH(t),options:[t,e]});function dH(t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const W5={...Dj},fH=W5.useInsertionEffect,hH=fH||(t=>t());function Xr(t){const e=v.useRef(()=>{});return hH(()=>{e.current=t}),v.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}var tn=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Pv.apply(this,arguments)}let mE=!1,pH=0;const gE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pH++;function mH(){const[t,e]=v.useState(()=>mE?gE():void 0);return tn(()=>{t==null&&e(gE())},[]),v.useEffect(()=>{mE=!0},[]),t}const gH=W5.useId,Sx=gH||mH;function bH(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const yH=v.createContext(null),vH=v.createContext(null),_x=()=>{var t;return((t=v.useContext(yH))==null?void 0:t.id)||null},Ex=()=>v.useContext(vH);function Df(t){return"data-floating-ui-"+t}function il(t){const e=v.useRef(t);return tn(()=>{e.current=t}),e}const bE=Df("safe-polygon");function yp(t,e,n){return n&&!Lv(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function wH(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,dataRef:r,events:i,elements:s}=t,{enabled:l=!0,delay:a=0,handleClose:c=null,mouseOnly:u=!1,restMs:d=0,move:f=!0}=e,h=Ex(),p=_x(),m=il(c),b=il(a),y=il(n),w=v.useRef(),k=v.useRef(-1),x=v.useRef(),C=v.useRef(-1),E=v.useRef(!0),_=v.useRef(!1),S=v.useRef(()=>{}),M=v.useRef(!1),T=v.useCallback(()=>{var O;const R=(O=r.current.openEvent)==null?void 0:O.type;return(R==null?void 0:R.includes("mouse"))&&R!=="mousedown"},[r]);v.useEffect(()=>{if(!l)return;function O(R){let{open:L}=R;L||(clearTimeout(k.current),clearTimeout(C.current),E.current=!0,M.current=!1)}return i.on("openchange",O),()=>{i.off("openchange",O)}},[l,i]),v.useEffect(()=>{if(!l||!m.current||!n)return;function O(L){T()&&o(!1,L,"hover")}const R=es(s.floating).documentElement;return R.addEventListener("mouseleave",O),()=>{R.removeEventListener("mouseleave",O)}},[s.floating,n,o,l,m,T]);const B=v.useCallback(function(O,R,L){R===void 0&&(R=!0),L===void 0&&(L="hover");const q=yp(b.current,"close",w.current);q&&!x.current?(clearTimeout(k.current),k.current=window.setTimeout(()=>o(!1,O,L),q)):R&&(clearTimeout(k.current),o(!1,O,L))},[b,o]),I=Xr(()=>{S.current(),x.current=void 0}),V=Xr(()=>{if(_.current){const O=es(s.floating).body;O.style.pointerEvents="",O.removeAttribute(bE),_.current=!1}}),F=Xr(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);v.useEffect(()=>{if(!l)return;function O(G){if(clearTimeout(k.current),E.current=!1,u&&!Lv(w.current)||d>0&&!yp(b.current,"open"))return;const ne=yp(b.current,"open",w.current);ne?k.current=window.setTimeout(()=>{y.current||o(!0,G,"hover")},ne):n||o(!0,G,"hover")}function R(G){if(F())return;S.current();const ne=es(s.floating);if(clearTimeout(C.current),M.current=!1,m.current&&r.current.floatingContext){n||clearTimeout(k.current),x.current=m.current({...r.current.floatingContext,tree:h,x:G.clientX,y:G.clientY,onClose(){V(),I(),F()||B(G,!0,"safe-polygon")}});const Oe=x.current;ne.addEventListener("mousemove",Oe),S.current=()=>{ne.removeEventListener("mousemove",Oe)};return}(w.current==="touch"?!yc(s.floating,G.relatedTarget):!0)&&B(G)}function L(G){F()||r.current.floatingContext&&(m.current==null||m.current({...r.current.floatingContext,tree:h,x:G.clientX,y:G.clientY,onClose(){V(),I(),F()||B(G)}})(G))}if(Ue(s.domReference)){var q;const G=s.domReference;return n&&G.addEventListener("mouseleave",L),(q=s.floating)==null||q.addEventListener("mouseleave",L),f&&G.addEventListener("mousemove",O,{once:!0}),G.addEventListener("mouseenter",O),G.addEventListener("mouseleave",R),()=>{var ne;n&&G.removeEventListener("mouseleave",L),(ne=s.floating)==null||ne.removeEventListener("mouseleave",L),f&&G.removeEventListener("mousemove",O),G.removeEventListener("mouseenter",O),G.removeEventListener("mouseleave",R)}}},[s,l,t,u,d,f,B,I,V,o,n,y,h,b,m,r,F]),tn(()=>{var O;if(l&&n&&(O=m.current)!=null&&O.__options.blockPointerEvents&&T()){_.current=!0;const L=s.floating;if(Ue(s.domReference)&&L){var R;const q=es(s.floating).body;q.setAttribute(bE,"");const G=s.domReference,ne=h==null||(R=h.nodesRef.current.find(pe=>pe.id===p))==null||(R=R.context)==null?void 0:R.elements.floating;return ne&&(ne.style.pointerEvents=""),q.style.pointerEvents="none",G.style.pointerEvents="auto",L.style.pointerEvents="auto",()=>{q.style.pointerEvents="",G.style.pointerEvents="",L.style.pointerEvents=""}}}},[l,n,p,s,h,m,T]),tn(()=>{n||(w.current=void 0,M.current=!1,I(),V())},[n,I,V]),v.useEffect(()=>()=>{I(),clearTimeout(k.current),clearTimeout(C.current),V()},[l,s.domReference,I,V]);const U=v.useMemo(()=>{function O(R){w.current=R.pointerType}return{onPointerDown:O,onPointerEnter:O,onMouseMove(R){const{nativeEvent:L}=R;function q(){!E.current&&!y.current&&o(!0,L,"hover")}u&&!Lv(w.current)||n||d===0||M.current&&R.movementX**2+R.movementY**2<2||(clearTimeout(C.current),w.current==="touch"?q():(M.current=!0,C.current=window.setTimeout(q,d)))}}},[u,o,n,y,d]),N=v.useMemo(()=>({onMouseEnter(){clearTimeout(k.current)},onMouseLeave(O){F()||B(O.nativeEvent,!1)}}),[B,F]);return v.useMemo(()=>l?{reference:U,floating:N}:{},[l,U,N])}const Iv=()=>{},Y5=v.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Iv,setState:Iv,isInstantPhase:!1}),kH=()=>v.useContext(Y5);function xH(t){const{children:e,delay:n,timeoutMs:o=0}=t,[r,i]=v.useReducer((a,c)=>({...a,...c}),{delay:n,timeoutMs:o,initialDelay:n,currentId:null,isInstantPhase:!1}),s=v.useRef(null),l=v.useCallback(a=>{i({currentId:a})},[]);return tn(()=>{r.currentId?s.current===null?s.current=r.currentId:r.isInstantPhase||i({isInstantPhase:!0}):(r.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[r.currentId,r.isInstantPhase]),v.createElement(Y5.Provider,{value:v.useMemo(()=>({...r,setState:i,setCurrentId:l}),[r,l])},e)}function CH(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,floatingId:r}=t,{id:i,enabled:s=!0}=e,l=i??r,a=kH(),{currentId:c,setCurrentId:u,initialDelay:d,setState:f,timeoutMs:h}=a;return tn(()=>{s&&c&&(f({delay:{open:1,close:yp(d,"close")}}),c!==l&&o(!1))},[s,l,o,f,c,d]),tn(()=>{function p(){o(!1),f({delay:d,currentId:null})}if(s&&c&&!n&&c===l){if(h){const m=window.setTimeout(p,h);return()=>{clearTimeout(m)}}p()}},[s,n,f,c,l,o,d,h]),tn(()=>{s&&(u===Iv||!n||u(l))},[s,n,u,l]),a}function w0(t,e){let n=t.filter(r=>{var i;return r.parentId===e&&((i=r.context)==null?void 0:i.open)}),o=n;for(;o.length;)o=t.filter(r=>{var i;return(i=o)==null?void 0:i.some(s=>{var l;return r.parentId===s.id&&((l=r.context)==null?void 0:l.open)})}),n=n.concat(o);return n}const X5=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function J5(t,e){const n=P5(t,X5());e==="prev"&&n.reverse();const o=n.indexOf(Dv(es(t)));return n.slice(o+1)[0]}function SH(){return J5(document.body,"next")}function _H(){return J5(document.body,"prev")}function k0(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!yc(n,o)}function EH(t){P5(t,X5()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function yE(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const Q5={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let MH;function vE(t){t.key==="Tab"&&(t.target,clearTimeout(MH))}const wE=v.forwardRef(function(e,n){const[o,r]=v.useState();tn(()=>(L5()&&r("button"),document.addEventListener("keydown",vE),()=>{document.removeEventListener("keydown",vE)}),[]);const i={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[Df("focus-guard")]:"",style:Q5};return v.createElement("span",Pv({},e,i))}),eR=v.createContext(null),kE=Df("portal");function TH(t){t===void 0&&(t={});const{id:e,root:n}=t,o=Sx(),r=NH(),[i,s]=v.useState(null),l=v.useRef(null);return tn(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{l.current=null})},[i]),tn(()=>{if(!o||l.current)return;const a=e?document.getElementById(e):null;if(!a)return;const c=document.createElement("div");c.id=o,c.setAttribute(kE,""),a.appendChild(c),l.current=c,s(c)},[e,o]),tn(()=>{if(n===null||!o||l.current)return;let a=n||(r==null?void 0:r.portalNode);a&&!Ue(a)&&(a=a.current),a=a||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,a.appendChild(c));const u=document.createElement("div");u.id=o,u.setAttribute(kE,""),a=c||a,a.appendChild(u),l.current=u,s(u)},[e,n,o,r]),i}function AH(t){const{children:e,id:n,root:o,preserveTabOrder:r=!0}=t,i=TH({id:n,root:o}),[s,l]=v.useState(null),a=v.useRef(null),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=s==null?void 0:s.modal,h=s==null?void 0:s.open,p=!!s&&!s.modal&&s.open&&r&&!!(o||i);return v.useEffect(()=>{if(!i||!r||f)return;function m(b){i&&k0(b)&&(b.type==="focusin"?yE:EH)(i)}return i.addEventListener("focusin",m,!0),i.addEventListener("focusout",m,!0),()=>{i.removeEventListener("focusin",m,!0),i.removeEventListener("focusout",m,!0)}},[i,r,f]),v.useEffect(()=>{i&&(h||yE(i))},[h,i]),v.createElement(eR.Provider,{value:v.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:a,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:i,setFocusManagerState:l}),[r,i])},p&&i&&v.createElement(wE,{"data-type":"outside",ref:a,onFocus:m=>{if(k0(m,i)){var b;(b=u.current)==null||b.focus()}else{const y=_H()||(s==null?void 0:s.refs.domReference.current);y==null||y.focus()}}}),p&&i&&v.createElement("span",{"aria-owns":i.id,style:Q5}),i&&Jn.createPortal(e,i),p&&i&&v.createElement(wE,{"data-type":"outside",ref:c,onFocus:m=>{if(k0(m,i)){var b;(b=d.current)==null||b.focus()}else{const y=SH()||(s==null?void 0:s.refs.domReference.current);y==null||y.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,m.nativeEvent,"focus-out"))}}}))}const NH=()=>v.useContext(eR),RH="data-floating-ui-focusable",OH={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},DH={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},xE=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function tR(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,elements:r,dataRef:i}=t,{enabled:s=!0,escapeKey:l=!0,outsidePress:a=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:f=!1,bubbles:h,capture:p}=e,m=Ex(),b=Xr(typeof a=="function"?a:()=>!1),y=typeof a=="function"?b:a,w=v.useRef(!1),k=v.useRef(!1),{escapeKey:x,outsidePress:C}=xE(h),{escapeKey:E,outsidePress:_}=xE(p),S=v.useRef(!1),M=Xr(U=>{var N;if(!n||!s||!l||U.key!=="Escape"||S.current)return;const O=(N=i.current.floatingContext)==null?void 0:N.nodeId,R=m?w0(m.nodesRef.current,O):[];if(!x&&(U.stopPropagation(),R.length>0)){let L=!0;if(R.forEach(q=>{var G;if((G=q.context)!=null&&G.open&&!q.context.dataRef.current.__escapeKeyBubbles){L=!1;return}}),!L)return}o(!1,GP(U)?U.nativeEvent:U,"escape-key")}),T=Xr(U=>{var N;const O=()=>{var R;M(U),(R=Ca(U))==null||R.removeEventListener("keydown",O)};(N=Ca(U))==null||N.addEventListener("keydown",O)}),B=Xr(U=>{var N;const O=w.current;w.current=!1;const R=k.current;if(k.current=!1,c==="click"&&R||O||typeof y=="function"&&!y(U))return;const L=Ca(U),q="["+Df("inert")+"]",G=es(r.floating).querySelectorAll(q);let ne=Ue(L)?L:null;for(;ne&&!ws(ne);){const He=vi(ne);if(ws(He)||!Ue(He))break;ne=He}if(G.length&&Ue(L)&&!ZP(L)&&!yc(L,r.floating)&&Array.from(G).every(He=>!yc(ne,He)))return;if(eo(L)&&F){const He=L.clientWidth>0&&L.scrollWidth>L.clientWidth,Ve=L.clientHeight>0&&L.scrollHeight>L.clientHeight;let zt=Ve&&U.offsetX>L.clientWidth;if(Ve&&To(L).direction==="rtl"&&(zt=U.offsetX<=L.offsetWidth-L.clientWidth),zt||He&&U.offsetY>L.clientHeight)return}const pe=(N=i.current.floatingContext)==null?void 0:N.nodeId,Oe=m&&w0(m.nodesRef.current,pe).some(He=>{var Ve;return b0(U,(Ve=He.context)==null?void 0:Ve.elements.floating)});if(b0(U,r.floating)||b0(U,r.domReference)||Oe)return;const Ie=m?w0(m.nodesRef.current,pe):[];if(Ie.length>0){let He=!0;if(Ie.forEach(Ve=>{var zt;if((zt=Ve.context)!=null&&zt.open&&!Ve.context.dataRef.current.__outsidePressBubbles){He=!1;return}}),!He)return}o(!1,U,"outside-press")}),I=Xr(U=>{var N;const O=()=>{var R;B(U),(R=Ca(U))==null||R.removeEventListener(c,O)};(N=Ca(U))==null||N.addEventListener(c,O)});v.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=x,i.current.__outsidePressBubbles=C;let U=-1;function N(G){o(!1,G,"ancestor-scroll")}function O(){window.clearTimeout(U),S.current=!0}function R(){U=window.setTimeout(()=>{S.current=!1},ab()?5:0)}const L=es(r.floating);l&&(L.addEventListener("keydown",E?T:M,E),L.addEventListener("compositionstart",O),L.addEventListener("compositionend",R)),y&&L.addEventListener(c,_?I:B,_);let q=[];return f&&(Ue(r.domReference)&&(q=ai(r.domReference)),Ue(r.floating)&&(q=q.concat(ai(r.floating))),!Ue(r.reference)&&r.reference&&r.reference.contextElement&&(q=q.concat(ai(r.reference.contextElement)))),q=q.filter(G=>{var ne;return G!==((ne=L.defaultView)==null?void 0:ne.visualViewport)}),q.forEach(G=>{G.addEventListener("scroll",N,{passive:!0})}),()=>{l&&(L.removeEventListener("keydown",E?T:M,E),L.removeEventListener("compositionstart",O),L.removeEventListener("compositionend",R)),y&&L.removeEventListener(c,_?I:B,_),q.forEach(G=>{G.removeEventListener("scroll",N)}),window.clearTimeout(U)}},[i,r,l,y,c,n,o,f,s,x,C,M,E,T,B,_,I]),v.useEffect(()=>{w.current=!1},[y,c]);const V=v.useMemo(()=>({onKeyDown:M,[OH[d]]:U=>{u&&o(!1,U.nativeEvent,"reference-press")}}),[M,o,u,d]),F=v.useMemo(()=>({onKeyDown:M,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[DH[c]]:()=>{w.current=!0}}),[M,c]);return v.useMemo(()=>s?{reference:V,floating:F}:{},[s,V,F])}function LH(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=Sx(),i=v.useRef({}),[s]=v.useState(()=>bH()),l=_x()!=null,[a,c]=v.useState(o.reference),u=Xr((h,p,m)=>{i.current.openEvent=h?p:void 0,s.emit("openchange",{open:h,event:p,reason:m,nested:l}),n==null||n(h,p,m)}),d=v.useMemo(()=>({setPositionReference:c}),[]),f=v.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return v.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:f,events:s,floatingId:r,refs:d}),[e,u,f,s,r,d])}function Ql(t){t===void 0&&(t={});const{nodeId:e}=t,n=LH({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[i,s]=v.useState(null),[l,a]=v.useState(null),u=(r==null?void 0:r.domReference)||i,d=v.useRef(null),f=Ex();tn(()=>{u&&(d.current=u)},[u]);const h=aH({...t,elements:{...r,...l&&{reference:l}}}),p=v.useCallback(k=>{const x=Ue(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;a(x),h.refs.setReference(x)},[h.refs]),m=v.useCallback(k=>{(Ue(k)||k===null)&&(d.current=k,s(k)),(Ue(h.refs.reference.current)||h.refs.reference.current===null||k!==null&&!Ue(k))&&h.refs.setReference(k)},[h.refs]),b=v.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:d}),[h.refs,m,p]),y=v.useMemo(()=>({...h.elements,domReference:u}),[h.elements,u]),w=v.useMemo(()=>({...h,...o,refs:b,elements:y,nodeId:e}),[h,b,y,e,o]);return tn(()=>{o.dataRef.current.floatingContext=w;const k=f==null?void 0:f.nodesRef.current.find(x=>x.id===e);k&&(k.context=w)}),v.useMemo(()=>({...h,context:w,refs:b,elements:y}),[h,b,y,w])}function jH(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,events:r,dataRef:i,elements:s}=t,{enabled:l=!0,visibleOnly:a=!0}=e,c=v.useRef(!1),u=v.useRef(),d=v.useRef(!0);v.useEffect(()=>{if(!l)return;const h=An(s.domReference);function p(){!n&&eo(s.domReference)&&s.domReference===Dv(es(s.domReference))&&(c.current=!0)}function m(){d.current=!0}return h.addEventListener("blur",p),h.addEventListener("keydown",m,!0),()=>{h.removeEventListener("blur",p),h.removeEventListener("keydown",m,!0)}},[s.domReference,n,l]),v.useEffect(()=>{if(!l)return;function h(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(c.current=!0)}return r.on("openchange",h),()=>{r.off("openchange",h)}},[r,l]),v.useEffect(()=>()=>{clearTimeout(u.current)},[]);const f=v.useMemo(()=>({onPointerDown(h){UP(h.nativeEvent)||(d.current=!1)},onMouseLeave(){c.current=!1},onFocus(h){if(c.current)return;const p=Ca(h.nativeEvent);if(a&&Ue(p))try{if(L5()&&FP())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!d.current&&!WP(p))return}o(!0,h.nativeEvent,"focus")},onBlur(h){c.current=!1;const p=h.relatedTarget,m=h.nativeEvent,b=Ue(p)&&p.hasAttribute(Df("focus-guard"))&&p.getAttribute("data-type")==="outside";u.current=window.setTimeout(()=>{var y;const w=Dv(s.domReference?s.domReference.ownerDocument:document);!p&&w===s.domReference||yc((y=i.current.floatingContext)==null?void 0:y.refs.floating.current,w)||yc(s.domReference,w)||b||o(!1,m,"focus")})}}),[i,s.domReference,o,a]);return v.useMemo(()=>l?{reference:f}:{},[l,f])}const CE="active",SE="selected";function x0(t,e,n){const o=new Map,r=n==="item";let i=t;if(r&&t){const{[CE]:s,[SE]:l,...a}=t;i=a}return{...n==="floating"&&{tabIndex:-1,[RH]:""},...i,...e.map(s=>{const l=s?s[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((s,l)=>(l&&Object.entries(l).forEach(a=>{let[c,u]=a;if(!(r&&[CE,SE].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof u=="function"){var d;(d=o.get(c))==null||d.push(u),s[c]=function(){for(var f,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(f=o.get(c))==null?void 0:f.map(b=>b(...p)).find(b=>b!==void 0)}}}else s[c]=u}),s),{})}}function nR(t){t===void 0&&(t=[]);const e=t.map(l=>l==null?void 0:l.reference),n=t.map(l=>l==null?void 0:l.floating),o=t.map(l=>l==null?void 0:l.item),r=v.useCallback(l=>x0(l,t,"reference"),e),i=v.useCallback(l=>x0(l,t,"floating"),n),s=v.useCallback(l=>x0(l,t,"item"),o);return v.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}const BH=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function $H(t,e){var n;e===void 0&&(e={});const{open:o,floatingId:r}=t,{enabled:i=!0,role:s="dialog"}=e,l=(n=BH.get(s))!=null?n:s,a=Sx(),u=_x()!=null,d=v.useMemo(()=>l==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:o?r:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":l==="alertdialog"?"dialog":l,"aria-controls":o?r:void 0,...l==="listbox"&&{role:"combobox"},...l==="menu"&&{id:a},...l==="menu"&&u&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[l,r,u,o,a,s]),f=v.useMemo(()=>{const p={id:r,...l&&{role:l}};return l==="tooltip"||s==="label"?p:{...p,...l==="menu"&&{"aria-labelledby":a}}},[l,r,a,s]),h=v.useCallback(p=>{let{active:m,selected:b}=p;const y={role:"option",...m&&{id:r+"-option"}};switch(s){case"select":return{...y,"aria-selected":m&&b};case"combobox":return{...y,...m&&{"aria-selected":!0}}}return{}},[r,s]);return v.useMemo(()=>i?{reference:d,floating:f,item:h}:{},[i,d,f,h])}const _E=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function ha(t,e){return typeof t=="function"?t(e):t}function zH(t,e){const[n,o]=v.useState(t);return t&&!n&&o(!0),v.useEffect(()=>{if(!t&&n){const r=setTimeout(()=>o(!1),e);return()=>clearTimeout(r)}},[t,n,e]),n}function PH(t,e){e===void 0&&(e={});const{open:n,elements:{floating:o}}=t,{duration:r=250}=e,s=(typeof r=="number"?r:r.close)||0,[l,a]=v.useState("unmounted"),c=zH(n,s);return!c&&l==="close"&&a("unmounted"),tn(()=>{if(o){if(n){a("initial");const u=requestAnimationFrame(()=>{a("open")});return()=>{cancelAnimationFrame(u)}}a("close")}},[n,o]),{isMounted:c,status:l}}function Mx(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:o,close:r,common:i,duration:s=250}=e,l=t.placement,a=l.split("-")[0],c=v.useMemo(()=>({side:a,placement:l}),[a,l]),u=typeof s=="number",d=(u?s:s.open)||0,f=(u?s:s.close)||0,[h,p]=v.useState(()=>({...ha(i,c),...ha(n,c)})),{isMounted:m,status:b}=PH(t,{duration:s}),y=il(n),w=il(o),k=il(r),x=il(i);return tn(()=>{const C=ha(y.current,c),E=ha(k.current,c),_=ha(x.current,c),S=ha(w.current,c)||Object.keys(C).reduce((M,T)=>(M[T]="",M),{});if(b==="initial"&&p(M=>({transitionProperty:M.transitionProperty,..._,...C})),b==="open"&&p({transitionProperty:Object.keys(S).map(_E).join(","),transitionDuration:d+"ms",..._,...S}),b==="close"){const M=E||C;p({transitionProperty:Object.keys(M).map(_E).join(","),transitionDuration:f+"ms",..._,...M})}},[f,k,y,w,x,d,b,c]),{isMounted:m,styles:h}}const[IH,No]=Uc("ScrollArea.Root component was not found in tree");function wc(t,e){const n=el(e);Rs(()=>{let o=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(o),r.unobserve(t)}}},[t,n])}const HH=v.forwardRef((t,e)=>{const{style:n,...o}=t,r=No(),[i,s]=v.useState(0),[l,a]=v.useState(0),c=!!(i&&l);return wc(r.scrollbarX,()=>{var d;const u=((d=r.scrollbarX)==null?void 0:d.offsetHeight)||0;r.onCornerHeightChange(u),a(u)}),wc(r.scrollbarY,()=>{var d;const u=((d=r.scrollbarY)==null?void 0:d.offsetWidth)||0;r.onCornerWidthChange(u),s(u)}),c?g.jsx("div",{...o,ref:e,style:{...n,width:i,height:l}}):null}),VH=v.forwardRef((t,e)=>{const n=No(),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?g.jsx(HH,{...t,ref:e}):null}),UH={scrollHideDelay:1e3,type:"hover"},oR=v.forwardRef((t,e)=>{const{type:n,scrollHideDelay:o,scrollbars:r,getStyles:i,...s}=ve("ScrollAreaRoot",UH,t),[l,a]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,p]=v.useState(null),[m,b]=v.useState(null),[y,w]=v.useState(0),[k,x]=v.useState(0),[C,E]=v.useState(!1),[_,S]=v.useState(!1),M=ft(e,T=>a(T));return g.jsx(IH,{value:{type:n,scrollHideDelay:o,scrollArea:l,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:m,onScrollbarYChange:b,scrollbarYEnabled:_,onScrollbarYEnabledChange:S,onCornerWidthChange:w,onCornerHeightChange:x,getStyles:i},children:g.jsx(Me,{...s,ref:M,__vars:{"--sa-corner-width":r!=="xy"?"0px":`${y}px`,"--sa-corner-height":r!=="xy"?"0px":`${k}px`}})})});oR.displayName="@mantine/core/ScrollAreaRoot";function rR(t,e){const n=t/e;return Number.isNaN(n)?0:n}function ub(t){const e=rR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=(t.scrollbar.size-n)*e;return Math.max(o,18)}function iR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(t[1]-t[0]);return e[0]+o*(n-t[0])}}function FH(t,[e,n]){return Math.min(n,Math.max(e,t))}function EE(t,e,n="ltr"){const o=ub(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,s=e.content-e.viewport,l=i-o,a=n==="ltr"?[0,s]:[s*-1,0],c=FH(t,a);return iR([0,s],[0,l])(c)}function qH(t,e,n,o="ltr"){const r=ub(n),i=r/2,s=e||i,l=r-s,a=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,d=o==="ltr"?[0,u]:[u*-1,0];return iR([a,c],d)(t)}function sR(t,e){return t>0&&t<e}function vm(t){return t?parseInt(t,10):0}function vl(t,e,{checkForDefaultPrevented:n=!0}={}){return o=>{t==null||t(o),(n===!1||!o.defaultPrevented)&&(e==null||e(o))}}const[GH,lR]=Uc("ScrollAreaScrollbar was not found in tree"),aR=v.forwardRef((t,e)=>{const{sizes:n,hasThumb:o,onThumbChange:r,onThumbPointerUp:i,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:a,onWheelScroll:c,onResize:u,...d}=t,f=No(),[h,p]=v.useState(null),m=ft(e,S=>p(S)),b=v.useRef(null),y=v.useRef(""),{viewport:w}=f,k=n.content-n.viewport,x=el(c),C=el(l),E=ob(u,10),_=S=>{if(b.current){const M=S.clientX-b.current.left,T=S.clientY-b.current.top;a({x:M,y:T})}};return v.useEffect(()=>{const S=M=>{const T=M.target;(h==null?void 0:h.contains(T))&&x(M,k)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[w,h,k,x]),v.useEffect(C,[n,C]),wc(h,E),wc(f.content,E),g.jsx(GH,{value:{scrollbar:h,hasThumb:o,onThumbChange:el(r),onThumbPointerUp:el(i),onThumbPositionChange:C,onThumbPointerDown:el(s)},children:g.jsx("div",{...d,ref:m,"data-mantine-scrollbar":!0,style:{position:"absolute",...d.style},onPointerDown:vl(t.onPointerDown,S=>{S.preventDefault(),S.button===0&&(S.target.setPointerCapture(S.pointerId),b.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_(S))}),onPointerMove:vl(t.onPointerMove,_),onPointerUp:vl(t.onPointerUp,S=>{const M=S.target;M.hasPointerCapture(S.pointerId)&&(S.preventDefault(),M.releasePointerCapture(S.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=y.current,b.current=null}})})}),cR=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,style:r,...i}=t,s=No(),[l,a]=v.useState(),c=v.useRef(null),u=ft(e,c,s.onScrollbarXChange);return v.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),g.jsx(aR,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{...r,"--sa-thumb-width":`${ub(n)}px`},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),sR(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&o({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vm(l.paddingLeft),paddingEnd:vm(l.paddingRight)}})}})});cR.displayName="@mantine/core/ScrollAreaScrollbarX";const uR=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:o,style:r,...i}=t,s=No(),[l,a]=v.useState(),c=v.useRef(null),u=ft(e,c,s.onScrollbarYChange);return v.useEffect(()=>{c.current&&a(window.getComputedStyle(c.current))},[]),g.jsx(aR,{...i,"data-orientation":"vertical",ref:u,sizes:n,style:{"--sa-thumb-height":`${ub(n)}px`,...r},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),sR(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&o({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vm(l.paddingTop),paddingEnd:vm(l.paddingBottom)}})}})});uR.displayName="@mantine/core/ScrollAreaScrollbarY";const db=v.forwardRef((t,e)=>{const{orientation:n="vertical",...o}=t,{dir:r}=Nf(),i=No(),s=v.useRef(null),l=v.useRef(0),[a,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rR(a.viewport,a.content),d={...o,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{l.current=0},onThumbPointerDown:h=>{l.current=h}},f=(h,p)=>qH(h,l.current,a,p);return n==="horizontal"?g.jsx(cR,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=EE(h,a,r);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,r))}}):n==="vertical"?g.jsx(uR,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=EE(h,a);a.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null});db.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Tx=v.forwardRef((t,e)=>{const n=No(),{forceMount:o,...r}=t,[i,s]=v.useState(!1),l=t.orientation==="horizontal",a=ob(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?c:u)}},10);return wc(n.viewport,a),wc(n.content,a),o||i?g.jsx(db,{"data-state":i?"visible":"hidden",...r,ref:e}):null});Tx.displayName="@mantine/core/ScrollAreaScrollbarAuto";const dR=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=No(),[i,s]=v.useState(!1);return v.useEffect(()=>{const{scrollArea:l}=r;let a=0;if(l){const c=()=>{window.clearTimeout(a),s(!0)},u=()=>{a=window.setTimeout(()=>s(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",c),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",c),l.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),n||i?g.jsx(Tx,{"data-state":i?"visible":"hidden",...o,ref:e}):null});dR.displayName="@mantine/core/ScrollAreaScrollbarHover";const ZH=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=No(),i=t.orientation==="horizontal",[s,l]=v.useState("hidden"),a=ob(()=>l("idle"),100);return v.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>l("hidden"),r.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,r.scrollHideDelay]),v.useEffect(()=>{const{viewport:c}=r,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("scrolling"),a()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[r.viewport,i,a]),n||s!=="hidden"?g.jsx(db,{"data-state":s==="hidden"?"hidden":"visible",...o,ref:e,onPointerEnter:vl(t.onPointerEnter,()=>l("interacting")),onPointerLeave:vl(t.onPointerLeave,()=>l("idle"))}):null}),Hv=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=No(),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=r,l=t.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),r.type==="hover"?g.jsx(dR,{...o,ref:e,forceMount:n}):r.type==="scroll"?g.jsx(ZH,{...o,ref:e,forceMount:n}):r.type==="auto"?g.jsx(Tx,{...o,ref:e,forceMount:n}):r.type==="always"?g.jsx(db,{...o,ref:e}):null});Hv.displayName="@mantine/core/ScrollAreaScrollbar";function KH(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},o=0;return function r(){const i={left:t.scrollLeft,top:t.scrollTop},s=n.left!==i.left,l=n.top!==i.top;(s||l)&&e(),n=i,o=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(o)}const fR=v.forwardRef((t,e)=>{const{style:n,...o}=t,r=No(),i=lR(),{onThumbPositionChange:s}=i,l=ft(e,u=>i.onThumbChange(u)),a=v.useRef(void 0),c=ob(()=>{a.current&&(a.current(),a.current=void 0)},100);return v.useEffect(()=>{const{viewport:u}=r;if(u){const d=()=>{if(c(),!a.current){const f=KH(u,s);a.current=f,s()}};return s(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[r.viewport,c,s]),g.jsx("div",{"data-state":i.hasThumb?"visible":"hidden",...o,ref:l,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:vl(t.onPointerDownCapture,u=>{const f=u.target.getBoundingClientRect(),h=u.clientX-f.left,p=u.clientY-f.top;i.onThumbPointerDown({x:h,y:p})}),onPointerUp:vl(t.onPointerUp,i.onThumbPointerUp)})});fR.displayName="@mantine/core/ScrollAreaThumb";const Vv=v.forwardRef((t,e)=>{const{forceMount:n,...o}=t,r=lR();return n||r.hasThumb?g.jsx(fR,{ref:e,...o}):null});Vv.displayName="@mantine/core/ScrollAreaThumb";const hR=v.forwardRef(({children:t,style:e,...n},o)=>{const r=No(),i=ft(o,r.onViewportChange);return g.jsx(Me,{...n,ref:i,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e},children:g.jsx("div",{...r.getStyles("content"),ref:r.onContentChange,children:t})})});hR.displayName="@mantine/core/ScrollAreaViewport";var Ax={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268",content:"m_b1336c6"};const pR={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},WH=(t,{scrollbarSize:e,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":z(e),"--scrollarea-over-scroll-behavior":n}}),Lf=nt((t,e)=>{const n=ve("ScrollArea",pR,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,scrollbarSize:a,vars:c,type:u,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:b,scrollbars:y,onBottomReached:w,onTopReached:k,overscrollBehavior:x,attributes:C,...E}=n,[_,S]=v.useState(!1),[M,T]=v.useState(!1),[B,I]=v.useState(!1),V=yn({name:"ScrollArea",props:n,classes:Ax,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:C,vars:c,varsResolver:WH}),F=v.useRef(null),U=dH([h,F]);return v.useEffect(()=>{if(!F.current||b!=="present")return;const N=F.current,O=new ResizeObserver(()=>{const{scrollHeight:R,clientHeight:L,scrollWidth:q,clientWidth:G}=N;T(R>L),I(q>G)});return O.observe(N),()=>O.disconnect()},[F,b]),g.jsxs(oR,{getStyles:V,type:u==="never"?"always":u,scrollHideDelay:d,ref:e,scrollbars:y,...V("root"),...E,children:[g.jsx(hR,{...f,...V("viewport",{style:f==null?void 0:f.style}),ref:U,"data-offset-scrollbars":b===!0?"xy":b||void 0,"data-scrollbars":y||void 0,"data-horizontal-hidden":b==="present"&&!B?"true":void 0,"data-vertical-hidden":b==="present"&&!M?"true":void 0,onScroll:N=>{var q;(q=f==null?void 0:f.onScroll)==null||q.call(f,N),p==null||p({x:N.currentTarget.scrollLeft,y:N.currentTarget.scrollTop});const{scrollTop:O,scrollHeight:R,clientHeight:L}=N.currentTarget;O-(R-L)>=-.6&&(w==null||w()),O===0&&(k==null||k())},children:m}),(y==="xy"||y==="x")&&g.jsx(Hv,{...V("scrollbar"),orientation:"horizontal","data-hidden":u==="never"||b==="present"&&!B?!0:void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:g.jsx(Vv,{...V("thumb")})}),(y==="xy"||y==="y")&&g.jsx(Hv,{...V("scrollbar"),orientation:"vertical","data-hidden":u==="never"||b==="present"&&!M?!0:void 0,forceMount:!0,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:g.jsx(Vv,{...V("thumb")})}),g.jsx(VH,{...V("corner"),"data-hovered":_||void 0,"data-hidden":u==="never"||void 0})]})});Lf.displayName="@mantine/core/ScrollArea";const Nx=nt((t,e)=>{const{children:n,classNames:o,styles:r,scrollbarSize:i,scrollHideDelay:s,type:l,dir:a,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:m,style:b,vars:y,onBottomReached:w,onTopReached:k,...x}=ve("ScrollAreaAutosize",pR,t);return g.jsx(Me,{...x,ref:e,style:[{display:"flex",overflow:"auto"},b],children:g.jsx(Me,{style:{display:"flex",flexDirection:"column",flex:1},children:g.jsx(Lf,{classNames:o,styles:r,scrollHideDelay:s,scrollbarSize:i,type:l,dir:a,offsetScrollbars:c,viewportRef:u,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:y,scrollbars:m,onBottomReached:w,onTopReached:k,children:n})})})});Lf.classes=Ax;Nx.displayName="@mantine/core/ScrollAreaAutosize";Nx.classes=Ax;Lf.Autosize=Nx;var mR={root:"m_87cf2631"};const YH={__staticSelector:"UnstyledButton"},Gc=Jl((t,e)=>{const n=ve("UnstyledButton",YH,t),{className:o,component:r="button",__staticSelector:i,unstyled:s,classNames:l,styles:a,style:c,attributes:u,...d}=n,f=yn({name:i,props:n,classes:mR,className:o,style:c,classNames:l,styles:a,unstyled:s,attributes:u});return g.jsx(Me,{...f("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...d})});Gc.classes=mR;Gc.displayName="@mantine/core/UnstyledButton";var gR={root:"m_515a97f8"};const Rx=nt((t,e)=>{const n=ve("VisuallyHidden",null,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,attributes:c,...u}=n,d=yn({name:"VisuallyHidden",classes:gR,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:c});return g.jsx(Me,{component:"span",ref:e,...d("root"),...u})});Rx.classes=gR;Rx.displayName="@mantine/core/VisuallyHidden";var bR={root:"m_1b7284a3"};const XH=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:Yl(e),"--paper-shadow":sx(n)}}),kc=Jl((t,e)=>{const n=ve("Paper",null,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,withBorder:a,vars:c,radius:u,shadow:d,variant:f,mod:h,attributes:p,...m}=n,b=yn({name:"Paper",props:n,classes:bR,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:p,vars:c,varsResolver:XH});return g.jsx(Me,{ref:e,mod:[{"data-with-border":a},h],...b("root"),variant:f,...m})});kc.classes=bR;kc.displayName="@mantine/core/Paper";function ME(t,e,n,o){return t==="center"||o==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function TE(t,e,n,o,r){return t==="center"||o==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const JH={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function QH({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:i,arrowY:s,dir:l}){const[a,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[JH[a]]:o},d=-e/2;return a==="left"?{...u,...ME(c,s,n,r),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:a==="right"?{...u,...ME(c,s,n,r),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:a==="top"?{...u,...TE(c,i,n,r,l),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:a==="bottom"?{...u,...TE(c,i,n,r,l),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const yR=v.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:i,arrowX:s,arrowY:l,style:a,...c},u)=>{const{dir:d}=Nf();return i?g.jsx("div",{...c,ref:u,style:{...a,...QH({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:d,arrowX:s,arrowY:l})}}):null});yR.displayName="@mantine/core/FloatingArrow";function eV(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,o]=e.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return e}var vR={root:"m_9814e45f"};const tV={zIndex:Wl("modal")},nV=(t,{gradient:e,color:n,backgroundOpacity:o,blur:r,radius:i,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||o!==void 0)&&rr(n||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${z(r)})`:void 0,"--overlay-radius":i===void 0?void 0:Yl(i),"--overlay-z-index":s==null?void 0:s.toString()}}),fb=Jl((t,e)=>{const n=ve("Overlay",tV,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,fixed:c,center:u,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:b,backgroundOpacity:y,mod:w,attributes:k,...x}=n,C=yn({name:"Overlay",props:n,classes:vR,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:k,vars:a,varsResolver:nV});return g.jsx(Me,{ref:e,...C("root"),mod:[{center:u,fixed:c},w],...x,children:d})});fb.classes=vR;fb.displayName="@mantine/core/Overlay";function C0(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function oV({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||C0(n):t;if(e){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const r=C0(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return C0(n)}const rV={reuseTargetNode:!0},wR=nt((t,e)=>{const{children:n,target:o,reuseTargetNode:r,...i}=ve("Portal",rV,t),[s,l]=v.useState(!1),a=v.useRef(null);return Rs(()=>(l(!0),a.current=oV({target:o,reuseTargetNode:r,...i}),Nd(e,a.current),!o&&!r&&a.current&&document.body.appendChild(a.current),()=>{!o&&!r&&a.current&&document.body.removeChild(a.current)}),[o]),!s||!a.current?null:Jn.createPortal(g.jsx(g.Fragment,{children:n}),a.current)});wR.displayName="@mantine/core/Portal";const hb=nt(({withinPortal:t=!0,children:e,...n},o)=>ib()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(wR,{ref:o,...n,children:e}));hb.displayName="@mantine/core/OptionalPortal";const Su=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Nh={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Su("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Su("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Su("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Su("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Su("top"),common:{transformOrigin:"top right"}}},AE={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function iV({transition:t,state:e,duration:n,timingFunction:o}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof t=="string"?t in Nh?{transitionProperty:Nh[t].transitionProperty,...r,...Nh[t].common,...Nh[t][AE[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[AE[e]]}}function sV({duration:t,exitDuration:e,timingFunction:n,mounted:o,onEnter:r,onExit:i,onEntered:s,onExited:l,enterDelay:a,exitDelay:c}){const u=Ar(),d=cx(),f=u.respectReducedMotion?d:!1,[h,p]=v.useState(f?0:t),[m,b]=v.useState(o?"entered":"exited"),y=v.useRef(-1),w=v.useRef(-1),k=v.useRef(-1);function x(){window.clearTimeout(y.current),window.clearTimeout(w.current),cancelAnimationFrame(k.current)}const C=_=>{x();const S=_?r:i,M=_?s:l,T=f?0:_?t:e;p(T),T===0?(typeof S=="function"&&S(),typeof M=="function"&&M(),b(_?"entered":"exited")):k.current=requestAnimationFrame(()=>{ak.flushSync(()=>{b(_?"pre-entering":"pre-exiting")}),k.current=requestAnimationFrame(()=>{typeof S=="function"&&S(),b(_?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof M=="function"&&M(),b(_?"entered":"exited")},T)})})},E=_=>{if(x(),typeof(_?a:c)!="number"){C(_);return}w.current=window.setTimeout(()=>{C(_)},_?a:c)};return Co(()=>{E(o)},[o]),v.useEffect(()=>()=>{x()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function Zc({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:o=n,mounted:r,children:i,timingFunction:s="ease",onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f}){const h=ib(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:b}=sV({mounted:r,exitDuration:o,duration:n,timingFunction:s,onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f});return p===0||h==="test"?r?g.jsx(g.Fragment,{children:i({})}):t?i({display:"none"}):null:m==="exited"?t?i({display:"none"}):null:g.jsx(g.Fragment,{children:i(iV({transition:e,duration:p,state:m,timingFunction:b}))})}Zc.displayName="@mantine/core/Transition";const[lV,kR]=Uc("Popover component was not found in the tree");function pb({children:t,active:e=!0,refProp:n="ref",innerRef:o}){const r=ax(e),i=ft(r,o);return nb(t)?v.cloneElement(t,{[n]:i}):t}function xR(t){return g.jsx(Rx,{tabIndex:-1,"data-autofocus":!0,...t})}pb.displayName="@mantine/core/FocusTrap";xR.displayName="@mantine/core/FocusTrapInitialFocus";pb.InitialFocus=xR;var CR={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const Ox=nt((t,e)=>{var b,y,w,k;const n=ve("PopoverDropdown",null,t),{className:o,style:r,vars:i,children:s,onKeyDownCapture:l,variant:a,classNames:c,styles:u,...d}=n,f=kR(),h=lx({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=ft(e,f.floating);return f.disabled?null:g.jsx(hb,{...f.portalProps,withinPortal:f.withinPortal,children:g.jsx(Zc,{mounted:f.opened,...f.transitionProps,transition:((b=f.transitionProps)==null?void 0:b.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((w=f.transitionProps)==null?void 0:w.exitDuration)=="number"?f.transitionProps.exitDuration:(k=f.transitionProps)==null?void 0:k.duration,children:x=>g.jsx(pb,{active:f.trapFocus&&f.opened,innerRef:m,children:g.jsxs(Me,{...p,...d,variant:a,onKeyDownCapture:tz(()=>{var C,E;(C=f.onClose)==null||C.call(f),(E=f.onDismiss)==null||E.call(f)},{active:f.closeOnEscape,onTrigger:h,onKeyDown:l}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:o,props:n,classNames:c,styles:u,style:[{...x,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:z(f.width),...f.referenceHidden?{display:"none"}:null},f.resolvedStyles.dropdown,u==null?void 0:u.dropdown,r]}),children:[s,g.jsx(yR,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});Ox.classes=CR;Ox.displayName="@mantine/core/PopoverDropdown";const aV={refProp:"ref",popupType:"dialog"},SR=nt((t,e)=>{const{children:n,refProp:o,popupType:r,...i}=ve("PopoverTarget",aV,t);if(!nb(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,l=kR(),a=ft(l.reference,yz(n),e),c=l.withRoles?{"aria-haspopup":r,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return v.cloneElement(n,{...s,...c,...l.targetProps,className:it(l.targetProps.className,s.className,n.props.className),[o]:a,...l.controlled?null:{onClick:()=>{var u,d;l.onToggle(),(d=(u=n.props).onClick)==null||d.call(u)}}})});SR.displayName="@mantine/core/PopoverTarget";function cV(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function uV(t,e,n){const o=cV(t.middlewares),r=[Jo(t.offset),uH()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(o.flip=!1,o.shift=!1),o.shift&&r.push(js(typeof o.shift=="boolean"?{limiter:ym(),padding:5}:{limiter:ym(),padding:5,...o.shift})),o.flip&&r.push(typeof o.flip=="boolean"?to():to(o.flip)),o.inline&&r.push(typeof o.inline=="boolean"?yl():yl(o.inline)),r.push(Cx({element:t.arrowRef,padding:t.arrowOffset})),(o.size||t.width==="target")&&r.push(Of({...typeof o.size=="boolean"?{}:o.size,apply({rects:i,availableWidth:s,availableHeight:l,...a}){var d;const u=((d=e().refs.floating.current)==null?void 0:d.style)??{};o.size&&(typeof o.size=="object"&&o.size.apply?o.size.apply({rects:i,availableWidth:s,availableHeight:l,...a}):Object.assign(u,{maxWidth:`${s}px`,maxHeight:`${l}px`})),t.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function dV(t){const e=ib(),[n,o]=Ds({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=v.useRef(n),i=()=>{n&&!t.disabled&&o(!1)},s=()=>{t.disabled||o(!n)},l=Ql({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:uV(t,()=>l,e),whileElementsMounted:t.keepMounted?void 0:zv});return v.useEffect(()=>{if(!(!t.keepMounted||!l.refs.reference.current||!l.refs.floating.current)&&n)return zv(l.refs.reference.current,l.refs.floating.current,l.update)},[t.keepMounted,n,l.refs.reference,l.refs.floating,l.update]),Co(()=>{var a;(a=t.onPositionChange)==null||a.call(t,l.placement),t.positionRef.current=l.placement},[l.placement]),Co(()=>{var a,c;n!==r.current&&(n?(c=t.onOpen)==null||c.call(t):(a=t.onClose)==null||a.call(t)),r.current=n},[n,t.onClose,t.onOpen]),Co(()=>{let a=-1;return n&&(a=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(a)}},[n,t.position]),{floating:l,controlled:typeof t.opened=="boolean",opened:n,onClose:i,onToggle:s}}const fV={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Wl("popover"),__staticSelector:"Popover",width:"max-content"},hV=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:Yl(e),"--popover-shadow":sx(n)}});function Rr(t){var a_,c_,u_,d_,f_,h_,p_;const e=ve("Popover",fV,t),{children:n,position:o,offset:r,onPositionChange:i,positionDependencies:s,opened:l,transitionProps:a,onExitTransitionEnd:c,onEnterTransitionEnd:u,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,unstyled:w,classNames:k,styles:x,closeOnClickOutside:C,withinPortal:E,portalProps:_,closeOnEscape:S,clickOutsideEvents:M,trapFocus:T,onClose:B,onDismiss:I,onOpen:V,onChange:F,zIndex:U,radius:N,shadow:O,id:R,defaultOpened:L,__staticSelector:q,withRoles:G,disabled:ne,returnFocus:pe,variant:Oe,keepMounted:Ie,vars:He,floatingStrategy:Ve,withOverlay:zt,overlayProps:Ke,hideDetached:Ct,attributes:lo,preventPositionChangeWhenVisible:$r,...Do}=e,Lo=yn({name:q,props:e,classes:CR,classNames:k,styles:x,unstyled:w,attributes:lo,rootSelector:"dropdown",vars:He,varsResolver:hV}),{resolvedStyles:zr}=_5({classNames:k,styles:x,props:e}),[Ks,Ti]=v.useState(l??L??!1),Ai=v.useRef(o),Pr=v.useRef(null),[bt,ih]=v.useState(null),[Cy,Sy]=v.useState(null),{dir:_y}=Nf(),sh=ib(),hu=Os(R),St=dV({middlewares:f,width:d,position:eV(_y,o),offset:typeof r=="number"?r+(h?p/2:0):r,arrowRef:Pr,arrowOffset:m,onPositionChange:i,positionDependencies:s,opened:l,defaultOpened:L,onChange:F,onOpen:V,onClose:B,onDismiss:I,strategy:Ve,dropdownVisible:Ks,setDropdownVisible:Ti,positionRef:Ai,disabled:ne,preventPositionChangeWhenVisible:$r,keepMounted:Ie});m5(()=>{C&&(St.onClose(),I==null||I())},M,[bt,Cy]);const lh=v.useCallback($n=>{ih($n),St.floating.refs.setReference($n)},[St.floating.refs.setReference]),ah=v.useCallback($n=>{Sy($n),St.floating.refs.setFloating($n)},[St.floating.refs.setFloating]),ch=v.useCallback(()=>{var $n;($n=a==null?void 0:a.onExited)==null||$n.call(a),c==null||c(),Ti(!1),Ai.current=o},[a==null?void 0:a.onExited,c]),ln=v.useCallback(()=>{var $n;($n=a==null?void 0:a.onEntered)==null||$n.call(a),u==null||u()},[a==null?void 0:a.onEntered,u]);return g.jsxs(lV,{value:{returnFocus:pe,disabled:ne,controlled:St.controlled,reference:lh,floating:ah,x:St.floating.x,y:St.floating.y,arrowX:(u_=(c_=(a_=St.floating)==null?void 0:a_.middlewareData)==null?void 0:c_.arrow)==null?void 0:u_.x,arrowY:(h_=(f_=(d_=St.floating)==null?void 0:d_.middlewareData)==null?void 0:f_.arrow)==null?void 0:h_.y,opened:St.opened,arrowRef:Pr,transitionProps:{...a,onExited:ch,onEntered:ln},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,placement:St.floating.placement,trapFocus:T,withinPortal:E,portalProps:_,zIndex:U,radius:N,shadow:O,closeOnEscape:S,onDismiss:I,onClose:St.onClose,onToggle:St.onToggle,getTargetId:()=>`${hu}-target`,getDropdownId:()=>`${hu}-dropdown`,withRoles:G,targetProps:Do,__staticSelector:q,classNames:k,styles:x,unstyled:w,variant:Oe,keepMounted:Ie,getStyles:Lo,resolvedStyles:zr,floatingStrategy:Ve,referenceHidden:Ct&&sh!=="test"?(p_=St.floating.middlewareData.hide)==null?void 0:p_.referenceHidden:!1},children:[n,zt&&g.jsx(Zc,{transition:"fade",mounted:St.opened,duration:(a==null?void 0:a.duration)||250,exitDuration:(a==null?void 0:a.exitDuration)||250,children:$n=>g.jsx(hb,{withinPortal:E,children:g.jsx(fb,{...Ke,...Lo("overlay",{className:Ke==null?void 0:Ke.className,style:[$n,Ke==null?void 0:Ke.style]})})})})]})}Rr.Target=SR;Rr.Dropdown=Ox;Rr.displayName="@mantine/core/Popover";Rr.extend=t=>t;var Po={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const _R=v.forwardRef(({className:t,...e},n)=>g.jsxs(Me,{component:"span",className:it(Po.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Po.bar}),g.jsx("span",{className:Po.bar}),g.jsx("span",{className:Po.bar})]}));_R.displayName="@mantine/core/Bars";const ER=v.forwardRef(({className:t,...e},n)=>g.jsxs(Me,{component:"span",className:it(Po.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Po.dot}),g.jsx("span",{className:Po.dot}),g.jsx("span",{className:Po.dot})]}));ER.displayName="@mantine/core/Dots";const MR=v.forwardRef(({className:t,...e},n)=>g.jsx(Me,{component:"span",className:it(Po.ovalLoader,t),...e,ref:n}));MR.displayName="@mantine/core/Oval";const TR={bars:_R,oval:MR,dots:ER},pV={loaders:TR,type:"oval"},mV=(t,{size:e,color:n})=>({root:{"--loader-size":Fo(e,"loader-size"),"--loader-color":n?Tv(n,t):void 0}}),mb=nt((t,e)=>{const n=ve("Loader",pV,t),{size:o,color:r,type:i,vars:s,className:l,style:a,classNames:c,styles:u,unstyled:d,loaders:f,variant:h,children:p,attributes:m,...b}=n,y=yn({name:"Loader",props:n,classes:Po,className:l,style:a,classNames:c,styles:u,unstyled:d,attributes:m,vars:s,varsResolver:mV});return p?g.jsx(Me,{...y("root"),ref:e,...b,children:p}):g.jsx(Me,{...y("root"),ref:e,component:f[i],variant:h,size:o,...b})});mb.defaultLoaders=TR;mb.classes=Po;mb.displayName="@mantine/core/Loader";const AR=v.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},o)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:o,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));AR.displayName="@mantine/core/CloseIcon";var NR={root:"m_86a44da5","root--subtle":"m_220c80f2"};const gV={variant:"subtle"},bV=(t,{size:e,radius:n,iconSize:o})=>({root:{"--cb-size":Fo(e,"cb-size"),"--cb-radius":n===void 0?void 0:Yl(n),"--cb-icon-size":z(o)}}),Dx=Jl((t,e)=>{const n=ve("CloseButton",gV,t),{iconSize:o,children:r,vars:i,radius:s,className:l,classNames:a,style:c,styles:u,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:b,attributes:y,__staticSelector:w,...k}=n,x=yn({name:w||"CloseButton",props:n,className:l,style:c,classes:NR,classNames:a,styles:u,unstyled:d,attributes:y,vars:i,varsResolver:bV});return g.jsxs(Gc,{ref:e,...k,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},b],...x("root",{variant:p,active:!h&&!f}),children:[m||g.jsx(AR,{}),r]})});Dx.classes=NR;Dx.displayName="@mantine/core/CloseButton";function yV(t){return v.Children.toArray(t).filter(Boolean)}var RR={root:"m_4081bf90"};const vV={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},wV=(t,{grow:e,preventGrowOverflow:n,gap:o,align:r,justify:i,wrap:s},{childWidth:l})=>({root:{"--group-child-width":e&&n?l:void 0,"--group-gap":ix(o),"--group-align":r,"--group-justify":i,"--group-wrap":s}}),Ld=nt((t,e)=>{const n=ve("Group",vV,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,children:a,gap:c,align:u,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:b,__size:y,mod:w,attributes:k,...x}=n,C=yV(a),E=C.length,_=ix(c??"md"),M={childWidth:`calc(${100/E}% - (${_} - ${_} / ${E}))`},T=yn({name:"Group",props:n,stylesCtx:M,className:r,style:i,classes:RR,classNames:o,styles:s,unstyled:l,attributes:k,vars:m,varsResolver:wV});return g.jsx(Me,{...T("root"),ref:e,variant:b,mod:[{grow:h},w],size:y,...x,children:C})});Ld.classes=RR;Ld.displayName="@mantine/core/Group";const[kV,Ci]=Uc("ModalBase component was not found in tree");function xV({opened:t,transitionDuration:e}){const[n,o]=v.useState(t),r=v.useRef(-1),s=cx()?0:e;return v.useEffect(()=>(t?(o(!0),window.clearTimeout(r.current)):s===0?o(!1):r.current=window.setTimeout(()=>o(!1),s),()=>window.clearTimeout(r.current)),[t,s]),n}function CV({id:t,transitionProps:e,opened:n,trapFocus:o,closeOnEscape:r,onClose:i,returnFocus:s}){const l=Os(t),[a,c]=v.useState(!1),[u,d]=v.useState(!1),f=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,h=xV({opened:n,transitionDuration:f});return pz("keydown",p=>{var m;p.key==="Escape"&&r&&!p.isComposing&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&i()},{capture:!0}),lx({opened:n,shouldReturnFocus:o&&s}),{_id:l,titleMounted:a,bodyMounted:u,shouldLockScroll:h,setTitleMounted:c,setBodyMounted:d}}const OR=v.forwardRef(({keepMounted:t,opened:e,onClose:n,id:o,transitionProps:r,onExitTransitionEnd:i,onEnterTransitionEnd:s,trapFocus:l,closeOnEscape:a,returnFocus:c,closeOnClickOutside:u,withinPortal:d,portalProps:f,lockScroll:h,children:p,zIndex:m,shadow:b,padding:y,__vars:w,unstyled:k,removeScrollProps:x,...C},E)=>{const{_id:_,titleMounted:S,bodyMounted:M,shouldLockScroll:T,setTitleMounted:B,setBodyMounted:I}=CV({id:o,transitionProps:r,opened:e,trapFocus:l,closeOnEscape:a,onClose:n,returnFocus:c}),{key:V,...F}=x||{};return g.jsx(hb,{...f,withinPortal:d,children:g.jsx(kV,{value:{opened:e,onClose:n,closeOnClickOutside:u,onExitTransitionEnd:i,onEnterTransitionEnd:s,transitionProps:{...r,keepMounted:t},getTitleId:()=>`${_}-title`,getBodyId:()=>`${_}-body`,titleMounted:S,bodyMounted:M,setTitleMounted:B,setBodyMounted:I,trapFocus:l,closeOnEscape:a,zIndex:m,unstyled:k},children:g.jsx(u5,{enabled:T&&h,...F,children:g.jsx(Me,{ref:E,...C,__vars:{...w,"--mb-z-index":(m||Wl("modal")).toString(),"--mb-shadow":sx(b),"--mb-padding":ix(y)},children:p})},V)})})});OR.displayName="@mantine/core/ModalBase";function SV(){const t=Ci();return v.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var xc={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const DR=v.forwardRef(({className:t,...e},n)=>{const o=SV(),r=Ci();return g.jsx(Me,{ref:n,...e,id:o,className:it({[xc.body]:!r.unstyled},t)})});DR.displayName="@mantine/core/ModalBaseBody";const LR=v.forwardRef(({className:t,onClick:e,...n},o)=>{const r=Ci();return g.jsx(Dx,{ref:o,...n,onClick:i=>{r.onClose(),e==null||e(i)},className:it({[xc.close]:!r.unstyled},t),unstyled:r.unstyled})});LR.displayName="@mantine/core/ModalBaseCloseButton";const jR=v.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:o,style:r,...i},s)=>{const l=Ci();return g.jsx(Zc,{mounted:l.opened,transition:"pop",...l.transitionProps,onExited:()=>{var a,c,u;(a=l.onExitTransitionEnd)==null||a.call(l),(u=(c=l.transitionProps)==null?void 0:c.onExited)==null||u.call(c)},onEntered:()=>{var a,c,u;(a=l.onEnterTransitionEnd)==null||a.call(l),(u=(c=l.transitionProps)==null?void 0:c.onEntered)==null||u.call(c)},...t,children:a=>g.jsx("div",{...n,className:it({[xc.inner]:!l.unstyled},n.className),children:g.jsx(pb,{active:l.opened&&l.trapFocus,innerRef:s,children:g.jsx(kc,{...i,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":l.bodyMounted?l.getBodyId():void 0,"aria-labelledby":l.titleMounted?l.getTitleId():void 0,style:[r,a],className:it({[xc.content]:!l.unstyled},e),unstyled:l.unstyled,children:i.children})})})})});jR.displayName="@mantine/core/ModalBaseContent";const BR=v.forwardRef(({className:t,...e},n)=>{const o=Ci();return g.jsx(Me,{component:"header",ref:n,className:it({[xc.header]:!o.unstyled},t),...e})});BR.displayName="@mantine/core/ModalBaseHeader";const _V={duration:200,timingFunction:"ease",transition:"fade"};function EV(t){const e=Ci();return{..._V,...e.transitionProps,...t}}const $R=v.forwardRef(({onClick:t,transitionProps:e,style:n,visible:o,...r},i)=>{const s=Ci(),l=EV(e);return g.jsx(Zc,{mounted:o!==void 0?o:s.opened,...l,transition:"fade",children:a=>g.jsx(fb,{ref:i,fixed:!0,style:[n,a],zIndex:s.zIndex,unstyled:s.unstyled,onClick:c=>{t==null||t(c),s.closeOnClickOutside&&s.onClose()},...r})})});$R.displayName="@mantine/core/ModalBaseOverlay";function MV(){const t=Ci();return v.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const zR=v.forwardRef(({className:t,...e},n)=>{const o=MV(),r=Ci();return g.jsx(Me,{component:"h2",ref:n,className:it({[xc.title]:!r.unstyled},t),...e,id:o})});zR.displayName="@mantine/core/ModalBaseTitle";function TV({children:t}){return g.jsx(g.Fragment,{children:t})}function PR({open:t,close:e,openDelay:n,closeDelay:o}){const r=v.useRef(-1),i=v.useRef(-1),s=()=>{window.clearTimeout(r.current),window.clearTimeout(i.current)},l=()=>{s(),n===0||n===void 0?t():r.current=window.setTimeout(t,n)},a=()=>{s(),o===0||o===void 0?e():i.current=window.setTimeout(e,o)};return v.useEffect(()=>s,[]),{openDropdown:l,closeDropdown:a}}function IR({style:t,size:e=16,...n}){return g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:z(e),height:z(e),display:"block"},...n,children:g.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}IR.displayName="@mantine/core/AccordionChevron";var Kc={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const NE={orientation:"horizontal"},AV=(t,{borderWidth:e})=>({group:{"--button-border-width":z(e)}}),Lx=nt((t,e)=>{const n=ve("ButtonGroup",NE,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:a,vars:c,borderWidth:u,variant:d,mod:f,attributes:h,...p}=ve("ButtonGroup",NE,t),m=yn({name:"ButtonGroup",props:n,classes:Kc,className:o,style:r,classNames:i,styles:s,unstyled:l,attributes:h,vars:c,varsResolver:AV,rootSelector:"group"});return g.jsx(Me,{...m("group"),ref:e,variant:d,mod:[{"data-orientation":a},f],role:"group",...p})});Lx.classes=Kc;Lx.displayName="@mantine/core/ButtonGroup";const NV=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Fo(s,"section-height"),"--section-padding-x":Fo(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?dm(s.replace("compact-","")):dm(s),"--section-radius":e===void 0?void 0:Yl(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},jx=nt((t,e)=>{const n=ve("ButtonGroupSection",null,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,variant:c,gradient:u,radius:d,autoContrast:f,attributes:h,...p}=n,m=yn({name:"ButtonGroupSection",props:n,classes:Kc,className:o,style:r,classNames:i,styles:s,unstyled:l,attributes:h,vars:a,varsResolver:NV,rootSelector:"groupSection"});return g.jsx(Me,{...m("groupSection"),ref:e,variant:c,...p})});jx.classes=Kc;jx.displayName="@mantine/core/ButtonGroupSection";const RV={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${z(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},OV=(t,{radius:e,color:n,gradient:o,variant:r,size:i,justify:s,autoContrast:l})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":Fo(i,"button-height"),"--button-padding-x":Fo(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?dm(i.replace("compact-","")):dm(i),"--button-radius":e===void 0?void 0:Yl(e),"--button-bg":n||r?a.background:void 0,"--button-hover":n||r?a.hover:void 0,"--button-color":a.color,"--button-bd":n||r?a.border:void 0,"--button-hover-color":n||r?a.hoverColor:void 0}}},Cc=Jl((t,e)=>{const n=ve("Button",null,t),{style:o,vars:r,className:i,color:s,disabled:l,children:a,leftSection:c,rightSection:u,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:b,classNames:y,styles:w,unstyled:k,"data-disabled":x,autoContrast:C,mod:E,attributes:_,...S}=n,M=yn({name:"Button",props:n,classes:Kc,className:i,style:o,classNames:y,styles:w,unstyled:k,attributes:_,vars:r,varsResolver:OV}),T=!!c,B=!!u;return g.jsxs(Gc,{ref:e,...M("root",{active:!l&&!p&&!x}),unstyled:k,variant:f,disabled:l||p,mod:[{disabled:l||x,loading:p,block:d,"with-left-section":T,"with-right-section":B},E],...S,children:[g.jsx(Zc,{mounted:!!p,transition:RV,duration:150,children:I=>g.jsx(Me,{component:"span",...M("loader",{style:I}),"aria-hidden":!0,children:g.jsx(mb,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),g.jsxs("span",{...M("inner"),children:[c&&g.jsx(Me,{component:"span",...M("section"),mod:{position:"left"},children:c}),g.jsx(Me,{component:"span",mod:{loading:p},...M("label"),children:a}),u&&g.jsx(Me,{component:"span",...M("section"),mod:{position:"right"},children:u})]})]})});Cc.classes=Kc;Cc.displayName="@mantine/core/Button";Cc.Group=Lx;Cc.GroupSection=jx;const[DV,Bs]=Uc("Menu component was not found in the tree");var $s={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504",chevron:"m_b85b0bed"};const Bx=nt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=ve("MenuDivider",null,t),a=Bs();return g.jsx(Me,{ref:e,...a.getStyles("divider",{className:o,style:r,styles:i,classNames:n}),...l})});Bx.classes=$s;Bx.displayName="@mantine/core/MenuDivider";const $x=nt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:a,onKeyDown:c,children:u,...d}=ve("MenuDropdown",null,t),f=v.useRef(null),h=Bs(),p=Tn(c,y=>{var w,k;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(k=(w=f.current)==null?void 0:w.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||k.focus())}),m=Tn(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),b=Tn(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return g.jsxs(Rr.Dropdown,{...d,onMouseEnter:m,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:ft(e,f),...h.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});$x.classes=$s;$x.displayName="@mantine/core/MenuDropdown";const[LV,gb]=h5(),zx=Jl((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,closeMenuOnClick:a,leftSection:c,rightSection:u,children:d,disabled:f,"data-disabled":h,...p}=ve("MenuItem",null,t),m=Bs(),b=gb(),y=Ar(),{dir:w}=Nf(),k=v.useRef(null),x=p,C=Tn(x.onClick,()=>{h||(typeof a=="boolean"?a&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),E=l?y.variantColorResolver({color:l,theme:y,variant:"light"}):void 0,_=l?Xl({color:l,theme:y}):null,S=Tn(x.onKeyDown,M=>{M.key==="ArrowLeft"&&b&&(b.close(),b.focusParentItem())});return g.jsxs(Gc,{onMouseDown:M=>M.preventDefault(),...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,...m.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:ft(k,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-mantine-stop-propagation":!0,onClick:C,onKeyDown:p5({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:w,orientation:"vertical",onKeyDown:S}),__vars:{"--menu-item-color":_!=null&&_.isThemeColor&&(_==null?void 0:_.shade)===void 0?`var(--mantine-color-${_.color}-6)`:E==null?void 0:E.color,"--menu-item-hover":E==null?void 0:E.hover},children:[c&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:c}),d&&g.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:n}),children:d}),u&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:u})]})});zx.classes=$s;zx.displayName="@mantine/core/MenuItem";const Px=nt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=ve("MenuLabel",null,t),a=Bs();return g.jsx(Me,{ref:e,...a.getStyles("label",{className:o,style:r,styles:i,classNames:n}),...l})});Px.classes=$s;Px.displayName="@mantine/core/MenuLabel";const Ix=nt((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:a,onKeyDown:c,children:u,...d}=ve("MenuSubDropdown",null,t),f=v.useRef(null),h=Bs(),p=gb(),m=Tn(l,p==null?void 0:p.open),b=Tn(a,p==null?void 0:p.close);return g.jsx(Rr.Dropdown,{...d,onMouseEnter:m,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:ft(e,f),...h.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,children:u})});Ix.classes=$s;Ix.displayName="@mantine/core/MenuSubDropdown";const Hx=Jl((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,leftSection:a,rightSection:c,children:u,disabled:d,"data-disabled":f,closeMenuOnClick:h,...p}=ve("MenuSubItem",null,t),m=Bs(),b=gb(),y=Ar(),{dir:w}=Nf(),k=v.useRef(null),x=p,C=l?y.variantColorResolver({color:l,theme:y,variant:"light"}):void 0,E=l?Xl({color:l,theme:y}):null,_=Tn(x.onKeyDown,B=>{B.key==="ArrowRight"&&(b==null||b.open(),b==null||b.focusFirstItem()),B.key==="ArrowLeft"&&(b!=null&&b.parentContext)&&(b.parentContext.close(),b.parentContext.focusParentItem())}),S=Tn(x.onClick,()=>{!f&&h&&m.closeDropdownImmediately()}),M=Tn(x.onMouseEnter,b==null?void 0:b.open),T=Tn(x.onMouseLeave,b==null?void 0:b.close);return g.jsxs(Gc,{onMouseDown:B=>B.preventDefault(),...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,...m.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:ft(k,e),role:"menuitem",disabled:d,"data-menu-item":!0,"data-sub-menu-item":!0,"data-disabled":d||f||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:M,onMouseLeave:T,onClick:S,onKeyDown:p5({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:w,orientation:"vertical",onKeyDown:_}),__vars:{"--menu-item-color":E!=null&&E.isThemeColor&&(E==null?void 0:E.shade)===void 0?`var(--mantine-color-${E.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[a&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:a}),u&&g.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:n}),children:u}),g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:c||g.jsx(IR,{...m.getStyles("chevron"),size:14})})]})});Hx.classes=$s;Hx.displayName="@mantine/core/MenuSubItem";function HR({children:t,refProp:e}){if(!nb(t))throw new Error("Menu.Sub.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return Bs(),g.jsx(Rr.Target,{refProp:e,popupType:"menu",children:t})}HR.displayName="@mantine/core/MenuSubTarget";const jV={offset:0,position:"right-start",transitionProps:{duration:0}};function Wc(t){const{children:e,closeDelay:n,...o}=ve("MenuSub",jV,t),r=Os(),[i,{open:s,close:l}]=gz(!1),a=gb(),{openDropdown:c,closeDropdown:u}=PR({open:s,close:l,closeDelay:n,openDelay:0}),d=()=>window.setTimeout(()=>{var h,p;(p=(h=document.getElementById(`${r}-dropdown`))==null?void 0:h.querySelectorAll("[data-menu-item]:not([data-disabled])")[0])==null||p.focus()},16),f=()=>window.setTimeout(()=>{var h;(h=document.getElementById(`${r}-target`))==null||h.focus()},16);return g.jsx(LV,{value:{opened:i,close:u,open:c,focusFirstItem:d,focusParentItem:f,parentContext:a},children:g.jsx(Rr,{opened:i,...o,withinPortal:!1,withArrow:!1,id:r,children:e})})}Wc.extend=t=>t;Wc.displayName="@mantine/core/MenuSub";Wc.Target=HR;Wc.Dropdown=Ix;Wc.Item=Hx;const BV={refProp:"ref"},VR=v.forwardRef((t,e)=>{const{children:n,refProp:o,...r}=ve("MenuTarget",BV,t);if(!nb(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=Bs(),s=n.props,l=Tn(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=Tn(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=Tn(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return g.jsx(Rr.Target,{refProp:o,popupType:"menu",ref:e,...r,children:v.cloneElement(n,{onClick:l,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});VR.displayName="@mantine/core/MenuTarget";const $V={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Nn(t){const e=ve("Menu",$V,t),{children:n,onOpen:o,onClose:r,opened:i,defaultOpened:s,trapFocus:l,onChange:a,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:b,unstyled:y,variant:w,vars:k,menuItemTabIndex:x,keepMounted:C,withInitialFocusPlaceholder:E,attributes:_,...S}=e,M=yn({name:"Menu",classes:$s,props:e,classNames:m,styles:b,unstyled:y,attributes:_}),[T,B]=Ds({value:i,defaultValue:s,finalValue:!1,onChange:a}),[I,V]=v.useState(!1),F=()=>{B(!1),V(!1),T&&(r==null||r())},U=()=>{B(!0),!T&&(o==null||o())},N=()=>{T?F():U()},{openDropdown:O,closeDropdown:R}=PR({open:U,close:F,closeDelay:p,openDelay:h}),L=ne=>nz("[data-menu-item]","[data-menu-dropdown]",ne),{resolvedClassNames:q,resolvedStyles:G}=_5({classNames:m,styles:b,props:e});return g.jsx(DV,{value:{getStyles:M,opened:T,toggleDropdown:N,getItemIndex:L,openedViaClick:I,setOpenedViaClick:V,closeOnItemClick:c,closeDropdown:f==="click"?F:R,openDropdown:f==="click"?U:O,closeDropdownImmediately:F,loop:u,trigger:f,unstyled:y,menuItemTabIndex:x,withInitialFocusPlaceholder:E},children:g.jsx(Rr,{...S,opened:T,onChange:N,defaultOpened:s,trapFocus:C?!1:l,closeOnEscape:d,__staticSelector:"Menu",classNames:q,styles:G,unstyled:y,variant:w,keepMounted:C,children:n})})}Nn.extend=t=>t;Nn.withProps=OP(Nn);Nn.classes=$s;Nn.displayName="@mantine/core/Menu";Nn.Item=zx;Nn.Label=Px;Nn.Dropdown=$x;Nn.Target=VR;Nn.Divider=Bx;Nn.Sub=Wc;const[zV,Yc]=Uc("Modal component was not found in tree");var Si={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const bb=nt((t,e)=>{const n=ve("ModalBody",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Yc();return g.jsx(DR,{ref:e,...c.getStyles("body",{classNames:o,style:i,styles:s,className:r}),...a})});bb.classes=Si;bb.displayName="@mantine/core/ModalBody";const yb=nt((t,e)=>{const n=ve("ModalCloseButton",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Yc();return g.jsx(LR,{ref:e,...c.getStyles("close",{classNames:o,style:i,styles:s,className:r}),...a})});yb.classes=Si;yb.displayName="@mantine/core/ModalCloseButton";const vb=nt((t,e)=>{const n=ve("ModalContent",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,children:a,__hidden:c,...u}=n,d=Yc(),f=d.scrollAreaComponent||TV;return g.jsx(jR,{...d.getStyles("content",{className:r,style:i,styles:s,classNames:o}),innerProps:d.getStyles("inner",{className:r,style:i,styles:s,classNames:o}),"data-full-screen":d.fullScreen||void 0,"data-modal-content":!0,"data-hidden":c||void 0,ref:e,...u,children:g.jsx(f,{style:{maxHeight:d.fullScreen?"100dvh":`calc(100dvh - (${z(d.yOffset)} * 2))`},children:a})})});vb.classes=Si;vb.displayName="@mantine/core/ModalContent";const wb=nt((t,e)=>{const n=ve("ModalHeader",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Yc();return g.jsx(BR,{ref:e,...c.getStyles("header",{classNames:o,style:i,styles:s,className:r}),...a})});wb.classes=Si;wb.displayName="@mantine/core/ModalHeader";const kb=nt((t,e)=>{const n=ve("ModalOverlay",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Yc();return g.jsx($R,{ref:e,...c.getStyles("overlay",{classNames:o,style:i,styles:s,className:r}),...a})});kb.classes=Si;kb.displayName="@mantine/core/ModalOverlay";const PV={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Wl("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},IV=(t,{radius:e,size:n,yOffset:o,xOffset:r})=>({root:{"--modal-radius":e===void 0?void 0:Yl(e),"--modal-size":Fo(n,"modal-size"),"--modal-y-offset":z(o),"--modal-x-offset":z(r)}}),xb=nt((t,e)=>{const n=ve("ModalRoot",PV,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,yOffset:c,scrollAreaComponent:u,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:m,attributes:b,...y}=n,w=yn({name:m,classes:Si,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:b,vars:a,varsResolver:IV});return g.jsx(zV,{value:{yOffset:c,scrollAreaComponent:u,getStyles:w,fullScreen:f},children:g.jsx(OR,{ref:e,...w("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,"data-offset-scrollbars":u===Lf.Autosize||void 0,unstyled:l,...y})})});xb.classes=Si;xb.displayName="@mantine/core/ModalRoot";const[HV,VV]=h5();function UR({children:t}){const[e,n]=v.useState([]),[o,r]=v.useState(Wl("modal"));return g.jsx(HV,{value:{stack:e,addModal:(i,s)=>{n(l=>[...new Set([...l,i])]),r(l=>typeof s=="number"&&typeof l=="number"?Math.max(l,s):l)},removeModal:i=>n(s=>s.filter(l=>l!==i)),getZIndex:i=>`calc(${o} + ${e.indexOf(i)} + 1)`,currentId:e[e.length-1],maxZIndex:o},children:t})}UR.displayName="@mantine/core/ModalStack";const Cb=nt((t,e)=>{const n=ve("ModalTitle",null,t),{classNames:o,className:r,style:i,styles:s,vars:l,...a}=n,c=Yc();return g.jsx(zR,{ref:e,...c.getStyles("title",{classNames:o,style:i,styles:s,className:r}),...a})});Cb.classes=Si;Cb.displayName="@mantine/core/ModalTitle";const UV={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Wl("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Qo=nt((t,e)=>{const{title:n,withOverlay:o,overlayProps:r,withCloseButton:i,closeButtonProps:s,children:l,radius:a,opened:c,stackId:u,zIndex:d,...f}=ve("Modal",UV,t),h=VV(),p=!!n||i,m=h&&u?{closeOnEscape:h.currentId===u,trapFocus:h.currentId===u,zIndex:h.getZIndex(u)}:{},b=o===!1?!1:u&&h?h.currentId===u:c;return v.useEffect(()=>{h&&u&&(c?h.addModal(u,d||Wl("modal")):h.removeModal(u))},[c,u,d]),g.jsxs(xb,{ref:e,radius:a,opened:c,zIndex:h&&u?h.getZIndex(u):d,...f,...m,children:[o&&g.jsx(kb,{visible:b,transitionProps:h&&u?{duration:0}:void 0,...r}),g.jsxs(vb,{radius:a,__hidden:h&&u&&c?u!==h.currentId:!1,children:[p&&g.jsxs(wb,{children:[n&&g.jsx(Cb,{children:n}),i&&g.jsx(yb,{...s})]}),g.jsx(bb,{children:l})]})]})});Qo.classes=Si;Qo.displayName="@mantine/core/Modal";Qo.Root=xb;Qo.Overlay=kb;Qo.Content=vb;Qo.Body=bb;Qo.Header=wb;Qo.Title=Cb;Qo.CloseButton=yb;Qo.Stack=UR;const FV=["h1","h2","h3","h4","h5","h6"],qV=["xs","sm","md","lg","xl"];function GV(t,e){const n=e!==void 0?e:`h${t}`;return FV.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:qV.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:z(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var FR={root:"m_8a5d1357"};const ZV={order:1},KV=(t,{order:e,size:n,lineClamp:o,textWrap:r})=>{const i=GV(e||1,n);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":typeof o=="number"?o.toString():void 0,"--title-text-wrap":r}}},Sb=nt((t,e)=>{const n=ve("Title",ZV,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,order:a,vars:c,size:u,variant:d,lineClamp:f,textWrap:h,mod:p,attributes:m,...b}=n,y=yn({name:"Title",props:n,classes:FR,className:r,style:i,classNames:o,styles:s,unstyled:l,attributes:m,vars:c,varsResolver:KV});return[1,2,3,4,5,6].includes(a)?g.jsx(Me,{...y("root"),component:`h${a}`,variant:d,ref:e,mod:[{order:a,"data-line-clamp":typeof f=="number"},p],size:u,...b}):null});Sb.classes=FR;Sb.displayName="@mantine/core/Title";const WV="modulepreload",YV=function(t){return"/multi-block-note2/"+t},RE={},Cn=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(a=>{if(a=YV(a),a in RE)return;RE[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":WV,c||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function It(t){this.content=t}It.prototype={constructor:It,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,r=o.find(t),i=o.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new It(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new It(n)},addToStart:function(t,e){return new It([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new It(n)},addBefore:function(t,e,n){var o=this.remove(e),r=o.content.slice(),i=o.find(t);return r.splice(i==-1?r.length:i,0,e,n),new It(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=It.from(t),t.size?new It(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=It.from(t),t.size?new It(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=It.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};It.from=function(t){if(t instanceof It)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new It(e)};function qR(t,e,n){for(let o=0;;o++){if(o==t.childCount||o==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(o),i=e.child(o);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let s=0;r.text[s]==i.text[s];s++)n++;return n}if(r.content.size||i.content.size){let s=qR(r.content,i.content,n+1);if(s!=null)return s}n+=r.nodeSize}}function GR(t,e,n,o){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:o};let s=t.child(--r),l=e.child(--i),a=s.nodeSize;if(s==l){n-=a,o-=a;continue}if(!s.sameMarkup(l))return{a:n,b:o};if(s.isText&&s.text!=l.text){let c=0,u=Math.min(s.text.length,l.text.length);for(;c<u&&s.text[s.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,o--;return{a:n,b:o}}if(s.content.size||l.content.size){let c=GR(s.content,l.content,n-1,o-1);if(c)return c}n-=a,o-=a}}class D{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let o=0;o<e.length;o++)this.size+=e[o].nodeSize}nodesBetween(e,n,o,r=0,i){for(let s=0,l=0;l<n;s++){let a=this.content[s],c=l+a.nodeSize;if(c>e&&o(a,r+l,i||null,s)!==!1&&a.content.size){let u=l+1;a.nodesBetween(Math.max(0,e-u),Math.min(a.content.size,n-u),o,r+u)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,o,r){let i="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&o&&(s?s=!1:i+=o),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,o=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(o)&&(r[r.length-1]=n.withText(n.text+o.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new D(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let o=[],r=0;if(n>e)for(let i=0,s=0;s<n;i++){let l=this.content[i],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),o.push(l),r+=l.nodeSize),s=a}return new D(o,r)}cutByIndex(e,n){return e==n?D.empty:e==0&&n==this.content.length?this:new D(this.content.slice(e,n))}replaceChild(e,n){let o=this.content[e];if(o==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-o.nodeSize;return r[e]=n,new D(r,i)}addToStart(e){return new D([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new D(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,o=0;n<this.content.length;n++){let r=this.content[n];e(r,o,n),o+=r.nodeSize}}findDiffStart(e,n=0){return qR(this,e,n)}findDiffEnd(e,n=this.size,o=e.size){return GR(this,e,n,o)}findIndex(e){if(e==0)return Rh(0,e);if(e==this.size)return Rh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,o=0;;n++){let r=this.child(n),i=o+r.nodeSize;if(i>=e)return i==e?Rh(n+1,i):Rh(n,o);o=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return D.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new D(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return D.empty;let n,o=0;for(let r=0;r<e.length;r++){let i=e[r];o+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new D(n||e,o)}static from(e){if(!e)return D.empty;if(e instanceof D)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new D([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}D.empty=new D([],0);const S0={index:0,offset:0};function Rh(t,e){return S0.index=t,S0.offset=e,S0}function wm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!wm(t[o],e[o]))return!1}else{for(let o in t)if(!(o in e)||!wm(t[o],e[o]))return!1;for(let o in e)if(!(o in t))return!1}return!0}let Pe=class Uv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!o&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),o=!0),n&&n.push(i)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&wm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=o.create(n.attrs);return o.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Uv.none;if(e instanceof Uv)return[e];let n=e.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}};Pe.none=[];class km extends Error{}class H{constructor(e,n,o){this.content=e,this.openStart=n,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let o=KR(this.content,e+this.openStart,n);return o&&new H(o,this.openStart,this.openEnd)}removeBetween(e,n){return new H(ZR(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return H.empty;let o=n.openStart||0,r=n.openEnd||0;if(typeof o!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new H(D.fromJSON(e,n.content),o,r)}static maxOpen(e,n=!0){let o=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)o++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new H(e,o,r)}}H.empty=new H(D.empty,0,0);function ZR(t,e,n){let{index:o,offset:r}=t.findIndex(e),i=t.maybeChild(o),{index:s,offset:l}=t.findIndex(n);if(r==e||i.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(o,i.copy(ZR(i.content,e-r-1,n-r-1)))}function KR(t,e,n,o){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r);if(i==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=KR(s.content,e-i-1,n);return l&&t.replaceChild(r,s.copy(l))}function XV(t,e,n){if(n.openStart>t.depth)throw new km("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new km("Inconsistent open depths");return WR(t,e,n,0)}function WR(t,e,n,o){let r=t.index(o),i=t.node(o);if(r==e.index(o)&&o<t.depth-n.openStart){let s=WR(t,e,n,o+1);return i.copy(i.content.replaceChild(r,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==o&&e.depth==o){let s=t.parent,l=s.content;return kl(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=JV(n,t);return kl(i,XR(t,s,l,e,o))}else return kl(i,xm(t,e,o))}function YR(t,e){if(!e.type.compatibleContent(t.type))throw new km("Cannot join "+e.type.name+" onto "+t.type.name)}function Fv(t,e,n){let o=t.node(n);return YR(o,e.node(n)),o}function wl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function od(t,e,n,o){let r=(e||t).node(n),i=0,s=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(wl(t.nodeAfter,o),i++));for(let l=i;l<s;l++)wl(r.child(l),o);e&&e.depth==n&&e.textOffset&&wl(e.nodeBefore,o)}function kl(t,e){return t.type.checkContent(e),t.copy(e)}function XR(t,e,n,o,r){let i=t.depth>r&&Fv(t,e,r+1),s=o.depth>r&&Fv(n,o,r+1),l=[];return od(null,t,r,l),i&&s&&e.index(r)==n.index(r)?(YR(i,s),wl(kl(i,XR(t,e,n,o,r+1)),l)):(i&&wl(kl(i,xm(t,e,r+1)),l),od(e,n,r,l),s&&wl(kl(s,xm(n,o,r+1)),l)),od(o,null,r,l),new D(l)}function xm(t,e,n){let o=[];if(od(null,t,n,o),t.depth>n){let r=Fv(t,e,n+1);wl(kl(r,xm(t,e,n+1)),o)}return od(e,null,n,o),new D(o)}function JV(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(D.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class jd{constructor(e,n,o){this.pos=e,this.path=n,this.parentOffset=o,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let o=this.pos-this.path[this.path.length-1],r=e.child(n);return o?e.child(n).cut(o):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let o=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=o.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(n).marks;let o=e.maybeChild(n-1),r=e.maybeChild(n);if(!o){let l=o;o=r,r=l}let i=o.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!r||!i[s].isInSet(r.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let o=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<o.length;i++)o[i].type.spec.inclusive===!1&&(!r||!o[i].isInSet(r.marks))&&(o=o[i--].removeFromSet(o));return o}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);o>=0;o--)if(e.pos<=this.end(o)&&(!n||n(this.node(o))))return new Cm(this,e,o);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let o=[],r=0,i=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(i),c=i-a;if(o.push(s,l,r+a),!c||(s=s.child(l),s.isText))break;i=c-1,r+=a+1}return new jd(n,o,i)}static resolveCached(e,n){let o=OE.get(e);if(o)for(let i=0;i<o.elts.length;i++){let s=o.elts[i];if(s.pos==n)return s}else OE.set(e,o=new QV);let r=o.elts[o.i]=jd.resolve(e,n);return o.i=(o.i+1)%eU,r}}class QV{constructor(){this.elts=[],this.i=0}}const eU=12,OE=new WeakMap;class Cm{constructor(e,n,o){this.$from=e,this.$to=n,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const tU=Object.create(null);let ci=class qv{constructor(e,n,o,r=Pe.none){this.type=e,this.attrs=n,this.marks=r,this.content=o||D.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,o,r=0){this.content.nodesBetween(e,n,o,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,o,r){return this.content.textBetween(e,n,o,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,o){return this.type==e&&wm(this.attrs,n||e.defaultAttrs||tU)&&Pe.sameSet(this.marks,o||Pe.none)}copy(e=null){return e==this.content?this:new qv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new qv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,o=!1){if(e==n)return H.empty;let r=this.resolve(e),i=this.resolve(n),s=o?0:r.sharedDepth(n),l=r.start(s),c=r.node(s).content.cut(r.pos-l,i.pos-l);return new H(c,r.depth-s,i.depth-s)}replace(e,n,o){return XV(this.resolve(e),this.resolve(n),o)}nodeAt(e){for(let n=this;;){let{index:o,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(o),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:o}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:o}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:o}=this.content.findIndex(e);if(o<e)return{node:this.content.child(n),index:n,offset:o};let r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}}resolve(e){return jd.resolveCached(this,e)}resolveNoCache(e){return jd.resolve(this,e)}rangeHasMark(e,n,o){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(o.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),JR(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,o=D.empty,r=0,i=o.childCount){let s=this.contentMatchAt(e).matchFragment(o,r,i),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(o.child(a).marks))return!1;return!0}canReplaceWith(e,n,o,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(o),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pe.none;for(let n=0;n<this.marks.length;n++){let o=this.marks[n];o.type.checkAttrs(o.attrs),e=o.addToSet(e)}if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let o;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");o=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,o)}let r=D.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,o);return i.type.checkAttrs(i.attrs),i}};ci.prototype.text=void 0;class Sm extends ci{constructor(e,n,o,r){if(super(e,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):JR(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Sm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Sm(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function JR(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ol{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let o=new nU(e,n);if(o.next==null)return Ol.empty;let r=QR(o);o.next&&o.err("Unexpected trailing text");let i=cU(aU(r));return uU(i,o),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,o=e.childCount){let r=this;for(let i=n;r&&i<o;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let o=0;o<e.next.length;o++)if(this.next[n].type==e.next[o].type)return!0;return!1}fillBefore(e,n=!1,o=0){let r=[this];function i(s,l){let a=s.matchFragment(e,o);if(a&&(!n||a.validEnd))return D.from(l.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let f=i(d,l.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let o=0;o<this.wrapCache.length;o+=2)if(this.wrapCache[o]==e)return this.wrapCache[o+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),o=[{match:this,type:null,via:null}];for(;o.length;){let r=o.shift(),i=r.match;if(i.matchType(e)){let s=[];for(let l=r;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:a}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||a.validEnd)&&(o.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(o){e.push(o);for(let r=0;r<o.next.length;r++)e.indexOf(o.next[r].next)==-1&&n(o.next[r].next)}return n(this),e.map((o,r)=>{let i=r+(o.validEnd?"*":" ")+" ";for(let s=0;s<o.next.length;s++)i+=(s?", ":"")+o.next[s].type.name+"->"+e.indexOf(o.next[s].next);return i}).join(`
`)}}Ol.empty=new Ol(!0);class nU{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function QR(t){let e=[];do e.push(oU(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function oU(t){let e=[];do e.push(rU(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function rU(t){let e=lU(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=iU(t,e);else break;return e}function DE(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function iU(t,e){let n=DE(t),o=n;return t.eat(",")&&(t.next!="}"?o=DE(t):o=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function sU(t,e){let n=t.nodeTypes,o=n[e];if(o)return[o];let r=[];for(let i in n){let s=n[i];s.isInGroup(e)&&r.push(s)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function lU(t){if(t.eat("(")){let e=QR(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=sU(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function aU(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function o(s,l,a){let c={term:a,to:l};return e[s].push(c),c}function r(s,l){s.forEach(a=>a.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((a,c)=>a.concat(i(c,l)),[]);if(s.type=="seq")for(let a=0;;a++){let c=i(s.exprs[a],l);if(a==s.exprs.length-1)return c;r(c,l=n())}else if(s.type=="star"){let a=n();return o(l,a),r(i(s.expr,a),a),[o(a)]}else if(s.type=="plus"){let a=n();return r(i(s.expr,l),a),r(i(s.expr,a),a),[o(a)]}else{if(s.type=="opt")return[o(l)].concat(i(s.expr,l));if(s.type=="range"){let a=l;for(let c=0;c<s.min;c++){let u=n();r(i(s.expr,a),u),a=u}if(s.max==-1)r(i(s.expr,a),a);else for(let c=s.min;c<s.max;c++){let u=n();o(a,u),r(i(s.expr,a),u),a=u}return[o(a)]}else{if(s.type=="name")return[o(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function eO(t,e){return e-t}function LE(t,e){let n=[];return o(e),n.sort(eO);function o(r){let i=t[r];if(i.length==1&&!i[0].term)return o(i[0].to);n.push(r);for(let s=0;s<i.length;s++){let{term:l,to:a}=i[s];!l&&n.indexOf(a)==-1&&o(a)}}}function cU(t){let e=Object.create(null);return n(LE(t,0));function n(o){let r=[];o.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let u=0;u<r.length;u++)r[u][0]==l&&(c=r[u][1]);LE(t,a).forEach(u=>{c||r.push([l,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[o.join(",")]=new Ol(o.indexOf(t.length-1)>-1);for(let s=0;s<r.length;s++){let l=r[s][1].sort(eO);i.next.push({type:r[s][0],next:e[l.join(",")]||n(l)})}return i}}function uU(t,e){for(let n=0,o=[t];n<o.length;n++){let r=o[n],i=!r.validEnd,s=[];for(let l=0;l<r.next.length;l++){let{type:a,next:c}=r.next[l];s.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),o.indexOf(c)==-1&&o.push(c)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function tO(t){let e=Object.create(null);for(let n in t){let o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function nO(t,e){let n=Object.create(null);for(let o in t){let r=e&&e[o];if(r===void 0){let i=t[o];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+o)}n[o]=r}return n}function oO(t,e,n,o){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function rO(t,e){let n=Object.create(null);if(e)for(let o in e)n[o]=new fU(t,o,e[o]);return n}let jE=class iO{constructor(e,n,o){this.name=e,this.schema=n,this.spec=o,this.markSet=null,this.groups=o.group?o.group.split(" "):[],this.attrs=rO(e,o.attrs),this.defaultAttrs=tO(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(o.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ol.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:nO(this.attrs,e)}create(e=null,n,o){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ci(this,this.computeAttrs(e),D.from(n),Pe.setFrom(o))}createChecked(e=null,n,o){return n=D.from(n),this.checkContent(n),new ci(this,this.computeAttrs(e),n,Pe.setFrom(o))}createAndFill(e=null,n,o){if(e=this.computeAttrs(e),n=D.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(D.empty,!0);return i?new ci(this,e,n.append(i),Pe.setFrom(o)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){oO(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let o=0;o<e.length;o++)this.allowsMarkType(e[o].type)?n&&n.push(e[o]):n||(n=e.slice(0,o));return n?n.length?n:Pe.none:e}static compile(e,n){let o=Object.create(null);e.forEach((i,s)=>o[i]=new iO(i,n,s));let r=n.spec.topNode||"doc";if(!o[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!o.text)throw new RangeError("Every schema needs a 'text' type");for(let i in o.text.attrs)throw new RangeError("The text node type should not have attributes");return o}};function dU(t,e,n){let o=n.split("|");return r=>{let i=r===null?"null":typeof r;if(o.indexOf(i)<0)throw new RangeError(`Expected value of type ${o} for attribute ${e} on type ${t}, got ${i}`)}}class fU{constructor(e,n,o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default,this.validate=typeof o.validate=="string"?dU(e,n,o.validate):o.validate}get isRequired(){return!this.hasDefault}}class _b{constructor(e,n,o,r){this.name=e,this.rank=n,this.schema=o,this.spec=r,this.attrs=rO(e,r.attrs),this.excluded=null;let i=tO(this.attrs);this.instance=i?new Pe(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,nO(this.attrs,e))}static compile(e,n){let o=Object.create(null),r=0;return e.forEach((i,s)=>o[i]=new _b(i,r++,n,s)),o}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){oO(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class sO{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=It.from(e.nodes),n.marks=It.from(e.marks||{}),this.nodes=jE.compile(this.spec.nodes,this),this.marks=_b.compile(this.spec.marks,this);let o=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],s=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=o[s]||(o[s]=Ol.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?BE(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],s=i.spec.excludes;i.excluded=s==null?[i]:s==""?[]:BE(this,s.split(" "))}this.nodeFromJSON=r=>ci.fromJSON(this,r),this.markFromJSON=r=>Pe.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,o,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof jE){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,o,r)}text(e,n){let o=this.nodes.text;return new Sm(o,o.defaultAttrs,e,Pe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function BE(t,e){let n=[];for(let o=0;o<e.length;o++){let r=e[o],i=t.marks[r],s=i;if(i)n.push(i);else for(let l in t.marks){let a=t.marks[l];(r=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}function hU(t){return t.tag!=null}function pU(t){return t.style!=null}let ui=class Gv{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let o=this.matchedStyles=[];n.forEach(r=>{if(hU(r))this.tags.push(r);else if(pU(r)){let i=/[^=]*/.exec(r.style)[0];o.indexOf(i)<0&&o.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let o=new zE(this,n,!1);return o.addAll(e,Pe.none,n.from,n.to),o.finish()}parseSlice(e,n={}){let o=new zE(this,n,!0);return o.addAll(e,Pe.none,n.from,n.to),H.maxOpen(o.finish())}matchTag(e,n,o){for(let r=o?this.tags.indexOf(o)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(bU(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(e);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(e,n,o,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!o.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function o(r){let i=r.priority==null?50:r.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<i)break}n.splice(s,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(s=>{o(s=PE(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(s=>{o(s=PE(s)),s.node||s.ignore||s.mark||(s.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Gv(e,Gv.schemaRules(e)))}};const lO={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aO={ol:!0,ul:!0},Bd=1,Zv=2,rd=4;function $E(t,e,n){return e!=null?(e?Bd:0)|(e==="full"?Zv:0):t&&t.whitespace=="pre"?Bd|Zv:n&~rd}class Oh{constructor(e,n,o,r,i,s){this.type=e,this.attrs=n,this.marks=o,this.solid=r,this.options=s,this.content=[],this.activeMarks=Pe.none,this.match=i||(s&rd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(D.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let o=this.type.contentMatch,r;return(r=o.findWrapping(e.type))?(this.match=o,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Bd)){let o=this.content[this.content.length-1],r;if(o&&o.isText&&(r=/[ \t\r\n\u000c]+$/.exec(o.text))){let i=o;o.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=D.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(D.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!lO.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zE{constructor(e,n,o){this.parser=e,this.options=n,this.isOpen=o,this.open=0,this.localPreserveWS=!1;let r=n.topNode,i,s=$E(null,n.preserveWhitespace,0)|(o?rd:0);r?i=new Oh(r.type,r.attrs,Pe.none,!0,n.topMatch||r.type.contentMatch,s):o?i=new Oh(null,null,Pe.none,!0,null,s):i=new Oh(e.schema.topNodeType,null,Pe.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let o=e.nodeValue,r=this.top,i=r.options&Zv?"full":this.localPreserveWS||(r.options&Bd)>0;if(i==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(o)){if(i)i!=="full"?o=o.replace(/\r?\n|\r/g," "):o=o.replace(/\r\n?/g,`
`);else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],l=e.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o),n,!/\S/.test(o)),this.findInText(e)}else this.findInside(e)}addElement(e,n,o){let r=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),l;aO.hasOwnProperty(s)&&this.parser.normalizeLists&&gU(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,o));e:if(a?a.ignore:mU.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let c,u=this.needsBlock;if(lO.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=a&&a.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,a,c,a.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let o=e.style;if(o&&o.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],s=o.getPropertyValue(i);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(i,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,o,r){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),o,e.nodeName=="BR")||this.leafFallback(e,o);else{let a=this.enter(s,n.attrs||null,o,n.preserveWhitespace);a&&(i=!0,o=a)}else{let a=this.parser.schema.marks[n.mark];o=o.concat(a.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,o,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,o,!1));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,o),this.findAround(e,a,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,o,r){let i=o||0;for(let s=o?e.childNodes[o]:e.firstChild,l=r==null?null:e.childNodes[r];s!=l;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s,n);this.findAtPoint(e,i)}findPlace(e,n,o){let r,i;for(let s=this.open,l=0;s>=0;s--){let a=this.nodes[s],c=a.findWrapping(e);if(c&&(!r||r.length>c.length+l)&&(r=c,i=a,!c.length))break;if(a.solid){if(o)break;l+=2}}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n,o){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n,o);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Pe.none;for(let l of r.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):IE(l.type,e.type))&&(s=l.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,o,r){let i=this.findPlace(e.create(n),o,!1);return i&&(i=this.enterInner(e,n,o,!0,r)),i}enterInner(e,n,o,r=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=$E(e,i,s.options);s.options&rd&&s.content.length==0&&(l|=rd);let a=Pe.none;return o=o.filter(c=>(s.type?s.type.allowsMarkType(c.type):IE(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new Oh(e,n,a,r,null,l)),this.open++,o}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Bd)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let o=this.nodes[n].content;for(let r=o.length-1;r>=0;r--)e+=o[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==n&&(this.find[o].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,o){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(o?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),o=this.options.context,r=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),i=-(o?o.depth+1:0)+(r?0:1),s=(l,a)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;a>=i;a--)if(s(l-1,a))return!0;return!1}else{let u=a>0||a==0&&r?this.nodes[a].type:o&&a>=i?o.node(a-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let n in this.parser.schema.nodes){let o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o}}}function gU(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let o=e.nodeType==1?e.nodeName.toLowerCase():null;o&&aO.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):o=="li"?n=e:o&&(n=null)}}function bU(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function PE(t){let e={};for(let n in t)e[n]=t[n];return e}function IE(t,e){let n=e.schema.nodes;for(let o in n){let r=n[o];if(!r.allowsMarkType(t))continue;let i=[],s=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:u}=l.edge(a);if(c==e||i.indexOf(u)<0&&s(u))return!0}};if(s(r.contentMatch))return!0}}class _i{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},o){o||(o=_0(n).createDocumentFragment());let r=o,i=[];return e.forEach(s=>{if(i.length||s.marks.length){let l=0,a=0;for(;l<i.length&&a<s.marks.length;){let c=s.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)r=i.pop()[1];for(;a<s.marks.length;){let c=s.marks[a++],u=this.serializeMark(c,s.isInline,n);u&&(i.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(s,n))}),o}serializeNodeInner(e,n){let{dom:o,contentDOM:r}=vp(_0(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return o}serializeNode(e,n={}){let o=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(o),o=i.dom)}return o}serializeMark(e,n,o={}){let r=this.marks[e.type.name];return r&&vp(_0(o),r(e,n),null,e.attrs)}static renderSpec(e,n,o=null,r){return vp(e,n,o,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new _i(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=HE(e.nodes);return n.text||(n.text=o=>o.text),n}static marksFromSchema(e){return HE(e.marks)}}function HE(t){let e={};for(let n in t){let o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function _0(t){return t.document||window.document}const VE=new WeakMap;function yU(t){let e=VE.get(t);return e===void 0&&VE.set(t,e=vU(t)),e}function vU(t){let e=null;function n(o){if(o&&typeof o=="object")if(Array.isArray(o))if(typeof o[0]=="string")e||(e=[]),e.push(o);else for(let r=0;r<o.length;r++)n(o[r]);else for(let r in o)n(o[r])}return n(t),e}function vp(t,e,n,o){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(o&&(i=yU(o))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(n=r.slice(0,s),r=r.slice(s+1));let l,a=n?t.createElementNS(n,r):t.createElement(r),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&a.style?a.style.cssText=c[d]:a.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:h,contentDOM:p}=vp(t,f,n,o);if(a.appendChild(h),p){if(l)throw new RangeError("Multiple content holes");l=p}}}return{dom:a,contentDOM:l}}const cO=65535,uO=Math.pow(2,16);function wU(t,e){return t+e*uO}function UE(t){return t&cO}function kU(t){return(t-(t&cO))/uO}const dO=1,fO=2,wp=4,hO=8;class Kv{constructor(e,n,o){this.pos=e,this.delInfo=n,this.recover=o}get deleted(){return(this.delInfo&hO)>0}get deletedBefore(){return(this.delInfo&(dO|wp))>0}get deletedAfter(){return(this.delInfo&(fO|wp))>0}get deletedAcross(){return(this.delInfo&wp)>0}}class qn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&qn.empty)return qn.empty}recover(e){let n=0,o=UE(e);if(!this.inverted)for(let r=0;r<o;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[o*3]+n+kU(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,o){let r=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let c=this.ranges[l+i],u=this.ranges[l+s],d=a+c;if(e<=d){let f=c?e==a?-1:e==d?1:n:n,h=a+r+(f<0?0:u);if(o)return h;let p=e==(n<0?a:d)?null:wU(l/3,e-a),m=e==a?fO:e==d?dO:wp;return(n<0?e!=a:e!=d)&&(m|=hO),new Kv(h,m,p)}r+=u-c}return o?e+r:new Kv(e+r,0,null)}touches(e,n){let o=0,r=UE(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?o:0);if(a>e)break;let c=this.ranges[l+i],u=a+c;if(e<=u&&l==r*3)return!0;o+=this.ranges[l+s]-c}return!1}forEach(e){let n=this.inverted?2:1,o=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let s=this.ranges[r],l=s-(this.inverted?i:0),a=s+(this.inverted?0:i),c=this.ranges[r+n],u=this.ranges[r+o];e(l,l+c,a,a+u),i+=u-c}}invert(){return new qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?qn.empty:new qn(e<0?[0,-e,0]:[0,0,e])}}qn.empty=new qn([]);class Sc{constructor(e,n,o=0,r=e?e.length:0){this.mirror=n,this.from=o,this.to=r,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Sc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,o=this._maps.length;n<e._maps.length;n++){let r=e.getMirror(n);this.appendMap(e._maps[n],r!=null&&r<n?o+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,o=this._maps.length+e._maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e._maps[n].invert(),r!=null&&r>n?o-r-1:void 0)}}invert(){let e=new Sc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let o=this.from;o<this.to;o++)e=this._maps[o].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,o){let r=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this._maps[a].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return o?e:new Kv(e,r,null)}}const E0=Object.create(null);class rn{getMap(){return qn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=E0[n.stepType];if(!o)throw new RangeError(`No step type ${n.stepType} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in E0)throw new RangeError("Duplicate use of step JSON ID "+e);return E0[e]=n,n.prototype.jsonID=e,n}}class wt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new wt(e,null)}static fail(e){return new wt(null,e)}static fromReplace(e,n,o,r){try{return wt.ok(e.replace(n,o,r))}catch(i){if(i instanceof km)return wt.fail(i.message);throw i}}}function Vx(t,e,n){let o=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(Vx(i.content,e,i))),i.isInline&&(i=e(i,n,r)),o.push(i)}return D.fromArray(o)}class ts extends rn{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),i=new H(Vx(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),n.openStart,n.openEnd);return wt.fromReplace(e,this.from,this.to,i)}invert(){return new dr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new ts(n.pos,o.pos,this.mark)}merge(e){return e instanceof ts&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ts(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ts(n.from,n.to,e.markFromJSON(n.mark))}}rn.jsonID("addMark",ts);class dr extends rn{constructor(e,n,o){super(),this.from=e,this.to=n,this.mark=o}apply(e){let n=e.slice(this.from,this.to),o=new H(Vx(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return wt.fromReplace(e,this.from,this.to,o)}invert(){return new ts(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new dr(n.pos,o.pos,this.mark)}merge(e){return e instanceof dr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new dr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new dr(n.from,n.to,e.markFromJSON(n.mark))}}rn.jsonID("removeMark",dr);class ns extends rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wt.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return wt.fromReplace(e,this.pos,this.pos+1,new H(D.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let o=this.mark.addToSet(n.marks);if(o.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(o))return new ns(this.pos,n.marks[r]);return new ns(this.pos,this.mark)}}return new Dl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ns(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ns(n.pos,e.markFromJSON(n.mark))}}rn.jsonID("addNodeMark",ns);class Dl extends rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return wt.fail("No node at mark step's position");let o=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return wt.fromReplace(e,this.pos,this.pos+1,new H(D.from(o),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ns(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Dl(n.pos,e.markFromJSON(n.mark))}}rn.jsonID("removeNodeMark",Dl);class vt extends rn{constructor(e,n,o,r=!1){super(),this.from=e,this.to=n,this.slice=o,this.structure=r}apply(e){return this.structure&&Wv(e,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new qn([this.from,this.to-this.from,this.slice.size])}invert(e){return new vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deletedAcross&&o.deletedAcross?null:new vt(n.pos,Math.max(n.pos,o.pos),this.slice,this.structure)}merge(e){if(!(e instanceof vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?H.empty:new H(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new vt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?H.empty:new H(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new vt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vt(n.from,n.to,H.fromJSON(e,n.slice),!!n.structure)}}rn.jsonID("replace",vt);class gt extends rn{constructor(e,n,o,r,i,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=i,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Wv(e,this.from,this.gapFrom)||Wv(e,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return wt.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,n.content);return o?wt.fromReplace(e,this.from,this.to,o):wt.fail("Content does not fit in gap")}getMap(){return new qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new gt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?o.pos:e.map(this.gapTo,1);return n.deletedAcross&&o.deletedAcross||r<n.pos||i>o.pos?null:new gt(n.pos,o.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new gt(n.from,n.to,n.gapFrom,n.gapTo,H.fromJSON(e,n.slice),n.insert,!!n.structure)}}rn.jsonID("replaceAround",gt);function Wv(t,e,n){let o=t.resolve(e),r=n-e,i=o.depth;for(;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0){let s=o.node(i).maybeChild(o.indexAfter(i));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function xU(t,e,n,o){let r=[],i=[],s,l;t.doc.nodesBetween(e,n,(a,c,u)=>{if(!a.isInline)return;let d=a.marks;if(!o.isInSet(d)&&u.type.allowsMarkType(o.type)){let f=Math.max(c,e),h=Math.min(c+a.nodeSize,n),p=o.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[m])?s.to=h:r.push(s=new dr(f,h,d[m])));l&&l.to==f?l.to=h:i.push(l=new ts(f,h,o))}}),r.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function CU(t,e,n,o){let r=[],i=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;i++;let a=null;if(o instanceof _b){let c=s.marks,u;for(;u=o.isInSet(c);)(a||(a=[])).push(u),c=u.removeFromSet(c)}else o?o.isInSet(s.marks)&&(a=[o]):a=s.marks;if(a&&a.length){let c=Math.min(l+s.nodeSize,n);for(let u=0;u<a.length;u++){let d=a[u],f;for(let h=0;h<r.length;h++){let p=r[h];p.step==i-1&&d.eq(r[h].style)&&(f=p)}f?(f.to=c,f.step=i):r.push({style:d,from:Math.max(l,e),to:c,step:i})}}}),r.forEach(s=>t.step(new dr(s.from,s.to,s.style)))}function Ux(t,e,n,o=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),u=l+c.nodeSize,d=o.matchType(c.type);if(!d)s.push(new vt(l,u,H.empty));else{o=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new dr(l,u,c.marks[f]));if(r&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new H(D.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new vt(l+f.index,l+f.index+f[0].length,p))}}l=u}if(!o.validEnd){let a=o.fillBefore(D.empty,!0);t.replace(l,l,new H(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function SU(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Xc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let o=t.depth;;--o){let r=t.$from.node(o),i=t.$from.index(o),s=t.$to.indexAfter(o);if(o<t.depth&&r.canReplace(i,s,n))return o;if(o==0||r.type.spec.isolating||!SU(r,i,s))break}return null}function _U(t,e,n){let{$from:o,$to:r,depth:i}=e,s=o.before(i+1),l=r.after(i+1),a=s,c=l,u=D.empty,d=0;for(let p=i,m=!1;p>n;p--)m||o.index(p)>0?(m=!0,u=D.from(o.node(p).copy(u)),d++):a--;let f=D.empty,h=0;for(let p=i,m=!1;p>n;p--)m||r.after(p+1)<r.end(p)?(m=!0,f=D.from(r.node(p).copy(f)),h++):c++;t.step(new gt(a,c,s,l,new H(u.append(f),d,h),u.size-d,!0))}function pO(t,e,n=null,o=t){let r=EU(t,e),i=r&&MU(o,e);return i?r.map(FE).concat({type:e,attrs:n}).concat(i.map(FE)):null}function FE(t){return{type:t,attrs:null}}function EU(t,e){let{parent:n,startIndex:o,endIndex:r}=t,i=n.contentMatchAt(o).findWrapping(e);if(!i)return null;let s=i.length?i[0]:e;return n.canReplaceWith(o,r,s)?i:null}function MU(t,e){let{parent:n,startIndex:o,endIndex:r}=t,i=n.child(o),s=e.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let c=o;a&&c<r;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:s}function TU(t,e,n){let o=D.empty;for(let s=n.length-1;s>=0;s--){if(o.size){let l=n[s].type.contentMatch.matchFragment(o);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=D.from(n[s].type.create(n[s].attrs,o))}let r=e.start,i=e.end;t.step(new gt(r,i,r,i,new H(o,0,0),n.length,!0))}function AU(t,e,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{let a=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(o,a)&&NU(t.doc,t.mapping.slice(i).map(l),o)){let c=null;if(o.schema.linebreakReplacement){let h=o.whitespace=="pre",p=!!o.contentMatch.matchType(o.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&gO(t,s,l,i),Ux(t,t.mapping.slice(i).map(l,1),o,void 0,c===null);let u=t.mapping.slice(i),d=u.map(l,1),f=u.map(l+s.nodeSize,1);return t.step(new gt(d,f,d+1,f-1,new H(D.from(o.create(a,null,s.marks)),0,0),1,!0)),c===!0&&mO(t,s,l,i),!1}})}function mO(t,e,n,o){e.forEach((r,i)=>{if(r.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(r.text);){let a=t.mapping.slice(o).map(n+1+i+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function gO(t,e,n,o){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let s=t.mapping.slice(o).map(n+1+i);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function NU(t,e,n){let o=t.resolve(e),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}function RU(t,e,n,o,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(o,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new gt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new H(D.from(s),0,0),1,!0))}function di(t,e,n=1,o){let r=t.resolve(e),i=r.depth-n,s=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=n-2;c>i;c--,u--){let d=r.node(c),f=r.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=o&&o[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let m=o&&o[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(h))return!1}let l=r.indexAfter(i),a=o&&o[0];return r.node(i).canReplaceWith(l,l,a?a.type:r.node(i+1).type)}function OU(t,e,n=1,o){let r=t.doc.resolve(e),i=D.empty,s=D.empty;for(let l=r.depth,a=r.depth-n,c=n-1;l>a;l--,c--){i=D.from(r.node(l).copy(i));let u=o&&o[c];s=D.from(u?u.type.create(u.attrs,s):r.node(l).copy(s))}t.step(new vt(e,e,new H(i.append(s),n,n),!0))}function ea(t,e){let n=t.resolve(e),o=n.index();return bO(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function DU(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:o}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),s=i.type==o?t.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function bO(t,e){return!!(t&&e&&!t.isLeaf&&DU(t,e))}function Eb(t,e,n=-1){let o=t.resolve(e);for(let r=o.depth;;r--){let i,s,l=o.index(r);if(r==o.depth?(i=o.nodeBefore,s=o.nodeAfter):n>0?(i=o.node(r+1),l++,s=o.node(r).maybeChild(l)):(i=o.node(r).maybeChild(l-1),s=o.node(r+1)),i&&!i.isTextblock&&bO(i,s)&&o.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?o.before(r):o.after(r)}}function LU(t,e,n){let o=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),s=i.node().type;if(r&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(r);u&&!d?o=!1:!u&&d&&(o=!0)}let l=t.steps.length;if(o===!1){let u=t.doc.resolve(e+n);gO(t,u.node(),u.before(),l)}s.inlineContent&&Ux(t,e+n-1,s,i.node().contentMatchAt(i.index()),o==null);let a=t.mapping.slice(l),c=a.map(e-n);if(t.step(new vt(c,a.map(e+n,-1),H.empty,!0)),o===!0){let u=t.doc.resolve(c);mO(t,u.node(),u.before(),t.steps.length)}return t}function jU(t,e,n){let o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(o.parentOffset==0)for(let r=o.depth-1;r>=0;r--){let i=o.index(r);if(o.node(r).canReplaceWith(i,i,n))return o.before(r+1);if(i>0)return null}if(o.parentOffset==o.parent.content.size)for(let r=o.depth-1;r>=0;r--){let i=o.indexAfter(r);if(o.node(r).canReplaceWith(i,i,n))return o.after(r+1);if(i<o.node(r).childCount)return null}return null}function Fx(t,e,n){let o=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=o.depth;s>=0;s--){let l=s==o.depth?0:o.pos<=(o.start(s+1)+o.end(s+1))/2?-1:1,a=o.index(s)+(l>0?1:0),c=o.node(s),u=!1;if(i==1)u=c.canReplace(a,a,r);else{let d=c.contentMatchAt(a).findWrapping(r.firstChild.type);u=d&&c.canReplaceWith(a,a,d[0])}if(u)return l==0?o.pos:l<0?o.before(s+1):o.after(s+1)}return null}function Mb(t,e,n=e,o=H.empty){if(e==n&&!o.size)return null;let r=t.resolve(e),i=t.resolve(n);return yO(r,i,o)?new vt(e,n,o):new BU(r,i,o).fit()}function yO(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class BU{constructor(e,n,o){this.$from=e,this.$to=n,this.unplaced=o,this.frontier=[],this.placed=D.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=D.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(e<0?this.$to:o.doc.resolve(e));if(!r)return null;let i=this.placed,s=o.depth,l=r.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let a=new H(i,s,l);return e>-1?new gt(o.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||o.pos!=this.$to.pos?new vt(o.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,o=0,r=this.unplaced.openEnd;o<e;o++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=o){e=o;break}n=i.content}for(let n=1;n<=2;n++)for(let o=n==1?e:this.unplaced.openStart;o>=0;o--){let r,i=null;o?(i=M0(this.unplaced.content,o-1).firstChild,r=i.content):r=this.unplaced.content;let s=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(D.from(s),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:o,frontierDepth:l,parent:i,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:o,frontierDepth:l,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=M0(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new H(e,n+1,Math.max(o,r.size+n>=e.size-o?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:o}=this.unplaced,r=M0(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new H(ju(e,n-1,1),n-1,i?n-1:o)}else this.unplaced=new H(ju(e,n,1),n,o)}placeNodes({sliceDepth:e,frontierDepth:n,parent:o,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let s=this.unplaced,l=o?o.content:s.content,a=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(r){for(let m=0;m<r.childCount;m++)u.push(r.child(m));d=d.matchFragment(r)}let h=l.size+e-(s.content.size-s.openEnd);for(;c<l.childCount;){let m=l.child(c),b=d.matchType(m.type);if(!b)break;c++,(c>1||a==0||m.content.size)&&(d=b,u.push(vO(m.mark(f.allowedMarks(m.marks)),c==1?a:0,c==l.childCount?h:-1)))}let p=c==l.childCount;p||(h=-1),this.placed=Bu(this.placed,n,D.from(u)),this.frontier[n].match=d,p&&h<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,b=l;m<h;m++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=p?e==0?H.empty:new H(ju(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new H(ju(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!T0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:o}=this.$to,r=this.$to.after(o);for(;o>1&&r==this.$to.end(--o);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:o,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=T0(e,n,r,o,i);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],u=T0(e,l,c,a,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Bu(this.placed,n.depth,n.fit)),e=n.move;for(let o=n.depth+1;o<=e.depth;o++){let r=e.node(o),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(o));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,o){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Bu(this.placed,this.depth,D.from(e.create(n,o))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(D.empty,!0);n.childCount&&(this.placed=Bu(this.placed,this.frontier.length,n))}}function ju(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ju(t.firstChild.content,e-1,n)))}function Bu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Bu(t.lastChild.content,e-1,n)))}function M0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function vO(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,vO(o.firstChild,e-1,o.childCount==1?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(D.empty,!0)))),t.copy(o)}function T0(t,e,n,o,r){let i=t.node(e),s=r?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=o.fillBefore(i.content,!0,s);return l&&!$U(n,i.content,s)?l:null}function $U(t,e,n){for(let o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}function zU(t){return t.spec.defining||t.spec.definingForContent}function PU(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(yO(r,i,o))return t.step(new vt(e,n,o));let s=kO(r,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(r.depth+1);s.unshift(l);for(let f=r.depth,h=r.pos-1;f>0;f--,h--){let p=r.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?l=f:r.before(f)==h&&s.splice(1,0,-f)}let a=s.indexOf(l),c=[],u=o.openStart;for(let f=o.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==o.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=zU(h.type);if(p&&!h.sameMarkup(r.node(Math.abs(l)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=o.openStart;f>=0;f--){let h=(f+u+1)%(o.openStart+1),p=c[h];if(p)for(let m=0;m<s.length;m++){let b=s[(m+a)%s.length],y=!0;b<0&&(y=!1,b=-b);let w=r.node(b-1),k=r.index(b-1);if(w.canReplaceWith(k,k,p.type,p.marks))return t.replace(r.before(b),y?i.after(b):n,new H(wO(o.content,0,o.openStart,h),h,o.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,o),!(t.steps.length>d));f--){let h=s[f];h<0||(e=r.before(h),n=i.after(h))}}function wO(t,e,n,o,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(wO(i.content,e+1,n,o,i)))}if(e>o){let i=r.contentMatchAt(0),s=i.fillBefore(t).append(t);t=s.append(i.matchFragment(s).fillBefore(D.empty,!0))}return t}function IU(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=jU(t.doc,e,o.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new H(D.from(o),0,0))}function HU(t,e,n){let o=t.doc.resolve(e),r=t.doc.resolve(n),i=kO(o,r);for(let s=0;s<i.length;s++){let l=i[s],a=s==i.length-1;if(a&&l==0||o.node(l).type.contentMatch.validEnd)return t.delete(o.start(l),r.end(l));if(l>0&&(a||o.node(l-1).canReplace(o.index(l-1),r.indexAfter(l-1))))return t.delete(o.before(l),r.after(l))}for(let s=1;s<=o.depth&&s<=r.depth;s++)if(e-o.start(s)==o.depth-s&&n>o.end(s)&&r.end(s)-n!=r.depth-s&&o.start(s-1)==r.start(s-1)&&o.node(s-1).canReplace(o.index(s-1),r.index(s-1)))return t.delete(o.before(s),n);t.delete(e,n)}function kO(t,e){let n=[],o=Math.min(t.depth,e.depth);for(let r=o;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class Qa extends rn{constructor(e,n,o){super(),this.pos=e,this.attr=n,this.value=o}apply(e){let n=e.nodeAt(this.pos);if(!n)return wt.fail("No node at attribute step's position");let o=Object.create(null);for(let i in n.attrs)o[i]=n.attrs[i];o[this.attr]=this.value;let r=n.type.create(o,null,n.marks);return wt.fromReplace(e,this.pos,this.pos+1,new H(D.from(r),0,n.isLeaf?0:1))}getMap(){return qn.empty}invert(e){return new Qa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qa(n.pos,n.attr,n.value)}}rn.jsonID("attr",Qa);class $d extends rn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,e.content,e.marks);return wt.ok(o)}getMap(){return qn.empty}invert(e){return new $d(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new $d(n.attr,n.value)}}rn.jsonID("docAttr",$d);let _c=class extends Error{};_c=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};_c.prototype=Object.create(Error.prototype);_c.prototype.constructor=_c;_c.prototype.name="TransformError";class qx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new _c(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,o=H.empty){let r=Mb(this.doc,e,n,o);return r&&this.step(r),this}replaceWith(e,n,o){return this.replace(e,n,new H(D.from(o),0,0))}delete(e,n){return this.replace(e,n,H.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,o){return PU(this,e,n,o),this}replaceRangeWith(e,n,o){return IU(this,e,n,o),this}deleteRange(e,n){return HU(this,e,n),this}lift(e,n){return _U(this,e,n),this}join(e,n=1){return LU(this,e,n),this}wrap(e,n){return TU(this,e,n),this}setBlockType(e,n=e,o,r=null){return AU(this,e,n,o,r),this}setNodeMarkup(e,n,o=null,r){return RU(this,e,n,o,r),this}setNodeAttribute(e,n,o){return this.step(new Qa(e,n,o)),this}setDocAttribute(e,n){return this.step(new $d(e,n)),this}addNodeMark(e,n){return this.step(new ns(e,n)),this}removeNodeMark(e,n){let o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at position "+e);if(n instanceof Pe)n.isInSet(o.marks)&&this.step(new Dl(e,n));else{let r=o.marks,i,s=[];for(;i=n.isInSet(r);)s.push(new Dl(e,i)),r=i.removeFromSet(r);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(e,n=1,o){return OU(this,e,n,o),this}addMark(e,n,o){return xU(this,e,n,o),this}removeMark(e,n,o){return CU(this,e,n,o),this}clearIncompatible(e,n,o){return Ux(this,e,n,o),this}}const A0=Object.create(null);class Q{constructor(e,n,o){this.$anchor=e,this.$head=n,this.ranges=o||[new xO(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=H.empty){let o=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=o,o=o.lastChild;let i=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],u=e.mapping.slice(i);e.replaceRange(u.map(a.pos),u.map(c.pos),l?H.empty:n),l==0&&ZE(e,i,(o?o.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let o=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:s,$to:l}=r[i],a=e.mapping.slice(o),c=a.map(s.pos),u=a.map(l.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),ZE(e,o,n.isInline?-1:1))}}static findFrom(e,n,o=!1){let r=e.parent.inlineContent?new Z(e):Sa(e.node(0),e.parent,e.pos,e.index(),n,o);if(r)return r;for(let i=e.depth-1;i>=0;i--){let s=n<0?Sa(e.node(0),e.node(i),e.before(i+1),e.index(i),n,o):Sa(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,o);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Rn(e.node(0))}static atStart(e){return Sa(e,e,0,0,1)||new Rn(e)}static atEnd(e){return Sa(e,e,e.content.size,e.childCount,-1)||new Rn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=A0[n.type];if(!o)throw new RangeError(`No selection type ${n.type} defined`);return o.fromJSON(e,n)}static jsonID(e,n){if(e in A0)throw new RangeError("Duplicate use of selection JSON ID "+e);return A0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Z.between(this.$anchor,this.$head).getBookmark()}}Q.prototype.visible=!0;class xO{constructor(e,n){this.$from=e,this.$to=n}}let qE=!1;function GE(t){!qE&&!t.parent.inlineContent&&(qE=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Z extends Q{constructor(e,n=e){GE(e),GE(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let o=e.resolve(n.map(this.head));if(!o.parent.inlineContent)return Q.near(o);let r=e.resolve(n.map(this.anchor));return new Z(r.parent.inlineContent?r:o,o)}replace(e,n=H.empty){if(super.replace(e,n),n==H.empty){let o=this.$from.marksAcross(this.$to);o&&e.ensureMarks(o)}}eq(e){return e instanceof Z&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Tb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Z(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){let r=e.resolve(n);return new this(r,o==n?r:e.resolve(o))}static between(e,n,o){let r=e.pos-n.pos;if((!o||r)&&(o=r>=0?1:-1),!n.parent.inlineContent){let i=Q.findFrom(n,o,!0)||Q.findFrom(n,-o,!0);if(i)n=i.$head;else return Q.near(n,o)}return e.parent.inlineContent||(r==0?e=n:(e=(Q.findFrom(e,-o,!0)||Q.findFrom(e,o,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new Z(e,n)}}Q.jsonID("text",Z);class Tb{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Tb(e.map(this.anchor),e.map(this.head))}resolve(e){return Z.between(e.resolve(this.anchor),e.resolve(this.head))}}class W extends Q{constructor(e){let n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);super(e,o),this.node=n}map(e,n){let{deleted:o,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return o?Q.near(i):new W(i)}content(){return new H(D.from(this.node),0,0)}eq(e){return e instanceof W&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Gx(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new W(e.resolve(n.anchor))}static create(e,n){return new W(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}W.prototype.visible=!1;Q.jsonID("node",W);class Gx{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:o}=e.mapResult(this.anchor);return n?new Tb(o,o):new Gx(o)}resolve(e){let n=e.resolve(this.anchor),o=n.nodeAfter;return o&&W.isSelectable(o)?new W(n):Q.near(n)}}class Rn extends Q{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=H.empty){if(n==H.empty){e.delete(0,e.doc.content.size);let o=Q.atStart(e.doc);o.eq(e.selection)||e.setSelection(o)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Rn(e)}map(e){return new Rn(e)}eq(e){return e instanceof Rn}getBookmark(){return VU}}Q.jsonID("all",Rn);const VU={map(){return this},resolve(t){return new Rn(t)}};function Sa(t,e,n,o,r,i=!1){if(e.inlineContent)return Z.create(t,n);for(let s=o-(r>0?0:1);r>0?s<e.childCount:s>=0;s+=r){let l=e.child(s);if(l.isAtom){if(!i&&W.isSelectable(l))return W.create(t,n-(r<0?l.nodeSize:0))}else{let a=Sa(t,l,n+r,r<0?l.childCount:0,r,i);if(a)return a}n+=l.nodeSize*r}return null}function ZE(t,e,n){let o=t.steps.length-1;if(o<e)return;let r=t.steps[o];if(!(r instanceof vt||r instanceof gt))return;let i=t.mapping.maps[o],s;i.forEach((l,a,c,u)=>{s==null&&(s=u)}),t.setSelection(Q.near(t.doc.resolve(s),n))}const KE=1,Dh=2,WE=4;let UU=class extends qx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|KE)&~Dh,this.storedMarks=null,this}get selectionSet(){return(this.updated&KE)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Dh,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Dh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Dh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let o=this.selection;return n&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||Pe.none))),o.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,o){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(o==null&&(o=n),o=o??n,!e)return this.deleteRange(n,o);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=o==n?s.marks():s.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(n,o,r.text(e,i)),this.selection.empty||this.setSelection(Q.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=WE,this}get scrolledIntoView(){return(this.updated&WE)>0}};function YE(t,e){return!e||!t?t:t.bind(e)}class $u{constructor(e,n,o){this.name=e,this.init=YE(n.init,o),this.apply=YE(n.apply,o)}}const FU=[new $u("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $u("selection",{init(t,e){return t.selection||Q.atStart(e.doc)},apply(t){return t.selection}}),new $u("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new $u("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class N0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=FU.slice(),n&&n.forEach(o=>{if(this.pluginsByKey[o.key])throw new RangeError("Adding different instances of a keyed plugin ("+o.key+")");this.plugins.push(o),this.pluginsByKey[o.key]=o,o.spec.state&&this.fields.push(new $u(o.key,o.spec.state,o))})}}class sl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let o=0;o<this.config.plugins.length;o++)if(o!=n){let r=this.config.plugins[o];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],o=this.applyInner(e),r=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=r?r[s].n:0,c=r?r[s].state:this,u=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,c,o);if(u&&o.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<s?{state:o,n:n.length}:{state:this,n:0})}n.push(u),o=o.applyInner(u),i=!0}r&&(r[s]={state:o,n:n.length})}}if(!i)return{state:o,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new sl(this.config),o=this.config.fields;for(let r=0;r<o.length;r++){let i=o[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new UU(this)}static create(e){let n=new N0(e.doc?e.doc.type.schema:e.schema,e.plugins),o=new sl(n);for(let r=0;r<n.fields.length;r++)o[n.fields[r].name]=n.fields[r].init(e,o);return o}reconfigure(e){let n=new N0(this.schema,e.plugins),o=n.fields,r=new sl(n);for(let i=0;i<o.length;i++){let s=o[i].name;r[s]=this.hasOwnProperty(s)?this[s]:o[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(o=>o.toJSON())),e&&typeof e=="object")for(let o in e){if(o=="doc"||o=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[o],i=r.spec.state;i&&i.toJSON&&(n[o]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,o){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new N0(e.schema,e.plugins),i=new sl(r);return r.fields.forEach(s=>{if(s.name=="doc")i.doc=ci.fromJSON(e.schema,n.doc);else if(s.name=="selection")i.selection=Q.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(o)for(let l in o){let a=o[l],c=a.spec.state;if(a.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[s.name]=c.fromJSON.call(a,e,n[l],i);return}}i[s.name]=s.init(e,i)}}),i}}function CO(t,e,n){for(let o in t){let r=t[o];r instanceof Function?r=r.bind(e):o=="handleDOMEvents"&&(r=CO(r,e,{})),n[o]=r}return n}class le{constructor(e){this.spec=e,this.props={},e.props&&CO(e.props,this,this.props),this.key=e.key?e.key.key:SO("plugin")}getState(e){return e[this.key]}}const R0=Object.create(null);function SO(t){return t in R0?t+"$"+ ++R0[t]:(R0[t]=0,t+"$")}class xe{constructor(e="key"){this.key=SO(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Vt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ec=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Yv=null;const Wr=function(t,e,n){let o=Yv||(Yv=document.createRange());return o.setEnd(t,n??t.nodeValue.length),o.setStart(t,e||0),o},qU=function(){Yv=null},Ll=function(t,e,n,o){return n&&(XE(t,e,n,o,-1)||XE(t,e,n,o,1))},GU=/^(img|br|input|textarea|hr)$/i;function XE(t,e,n,o,r){for(var i;;){if(t==n&&e==o)return!0;if(e==(r<0?0:yo(t))){let s=t.parentNode;if(!s||s.nodeType!=1||jf(t)||GU.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vt(t)+(r<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(r<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((i=s.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=r;else return!1;else t=s,e=r<0?yo(t):0}else return!1}}function yo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ZU(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=yo(t)}else if(t.parentNode&&!jf(t))e=Vt(t),t=t.parentNode;else return null}}function KU(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!jf(t))e=Vt(t)+1,t=t.parentNode;else return null}}function WU(t,e,n){for(let o=e==0,r=e==yo(t);o||r;){if(t==n)return!0;let i=Vt(t);if(t=t.parentNode,!t)return!1;o=o&&i==0,r=r&&i==yo(t)}}function jf(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ab=function(t){return t.focusNode&&Ll(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function tl(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function YU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function XU(t,e,n){if(t.caretPositionFromPoint)try{let o=t.caretPositionFromPoint(e,n);if(o)return{node:o.offsetNode,offset:Math.min(yo(o.offsetNode),o.offset)}}catch{}if(t.caretRangeFromPoint){let o=t.caretRangeFromPoint(e,n);if(o)return{node:o.startContainer,offset:Math.min(yo(o.startContainer),o.startOffset)}}}const kr=typeof navigator<"u"?navigator:null,JE=typeof document<"u"?document:null,zs=kr&&kr.userAgent||"",Xv=/Edge\/(\d+)/.exec(zs),_O=/MSIE \d/.exec(zs),Jv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zs),On=!!(_O||Jv||Xv),ps=_O?document.documentMode:Jv?+Jv[1]:Xv?+Xv[1]:0,Zo=!On&&/gecko\/(\d+)/i.test(zs);Zo&&+(/Firefox\/(\d+)/.exec(zs)||[0,0])[1];const Qv=!On&&/Chrome\/(\d+)/.exec(zs),Qt=!!Qv,EO=Qv?+Qv[1]:0,hn=!On&&!!kr&&/Apple Computer/.test(kr.vendor),Mc=hn&&(/Mobile\/\w+/.test(zs)||!!kr&&kr.maxTouchPoints>2),fo=Mc||(kr?/Mac/.test(kr.platform):!1),JU=kr?/Win/.test(kr.platform):!1,oi=/Android \d/.test(zs),Bf=!!JE&&"webkitFontSmoothing"in JE.documentElement.style,QU=Bf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function eF(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ur(t,e){return typeof t=="number"?t:t[e]}function tF(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,o=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*o}}function QE(t,e,n){let o=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=Ec(s);continue}let l=s,a=l==i.body,c=a?eF(i):tF(l),u=0,d=0;if(e.top<c.top+Ur(o,"top")?d=-(c.top-e.top+Ur(r,"top")):e.bottom>c.bottom-Ur(o,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Ur(r,"top")-c.top:e.bottom-c.bottom+Ur(r,"bottom")),e.left<c.left+Ur(o,"left")?u=-(c.left-e.left+Ur(r,"left")):e.right>c.right-Ur(o,"right")&&(u=e.right-c.right+Ur(r,"right")),u||d)if(a)i.defaultView.scrollBy(u,d);else{let h=l.scrollLeft,p=l.scrollTop;d&&(l.scrollTop+=d),u&&(l.scrollLeft+=u);let m=l.scrollLeft-h,b=l.scrollTop-p;e={left:e.left-m,top:e.top-b,right:e.right-m,bottom:e.bottom-b}}let f=a?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:Ec(s)}}function nF(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),o,r;for(let i=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(i,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){o=l,r=a.top;break}}return{refDOM:o,refTop:r,stack:MO(t.dom)}}function MO(t){let e=[],n=t.ownerDocument;for(let o=t;o&&(e.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),t!=n);o=Ec(o));return e}function oF({refDOM:t,refTop:e,stack:n}){let o=t?t.getBoundingClientRect().top:0;TO(n,o==0?0:o-e)}function TO(t,e){for(let n=0;n<t.length;n++){let{dom:o,top:r,left:i}=t[n];o.scrollTop!=r+e&&(o.scrollTop=r+e),o.scrollLeft!=i&&(o.scrollLeft=i)}}let pa=null;function rF(t){if(t.setActive)return t.setActive();if(pa)return t.focus(pa);let e=MO(t);t.focus(pa==null?{get preventScroll(){return pa={preventScroll:!0},!0}}:void 0),pa||(pa=!1,TO(e,0))}function AO(t,e){let n,o=2e8,r,i=0,s=e.top,l=e.top,a,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Wr(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<o){n=u,o=m,r=m&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&m&&(i=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(i=d+1)}}return!n&&a&&(n=a,r=c,o=0),n&&n.nodeType==3?iF(n,r):!n||o&&n.nodeType==1?{node:t,offset:i}:AO(n,r)}function iF(t,e){let n=t.nodeValue.length,o=document.createRange();for(let r=0;r<n;r++){o.setEnd(t,r+1),o.setStart(t,r);let i=ji(o,1);if(i.top!=i.bottom&&Zx(e,i))return{node:t,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Zx(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function sF(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function lF(t,e,n){let{node:o,offset:r}=AO(e,n),i=-1;if(o.nodeType==1&&!o.firstChild){let s=o.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(o,r,i)}function aF(t,e,n,o){let r=-1;for(let i=e,s=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),a;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((a=l.dom.getBoundingClientRect()).width||a.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!s&&a.left>o.left||a.top>o.top?r=l.posBefore:(!s&&a.right<o.left||a.bottom<o.top)&&(r=l.posAfter),s=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?o.top<(a.top+a.bottom)/2:o.left<(a.left+a.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function NO(t,e,n){let o=t.childNodes.length;if(o&&n.top<n.bottom)for(let r=Math.max(0,Math.min(o-1,Math.floor(o*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let s=t.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(Zx(e,c))return NO(s,e,c)}}if((i=(i+1)%o)==r)break}return t}function cF(t,e){let n=t.dom.ownerDocument,o,r=0,i=XU(n,e.left,e.top);i&&({node:o,offset:r}=i);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!Zx(e,c)||(s=NO(t.dom,e,c),!s))return null}if(hn)for(let c=s;o&&c;c=Ec(c))c.draggable&&(o=void 0);if(s=sF(s,e),o){if(Zo&&o.nodeType==1&&(r=Math.min(r,o.childNodes.length),r<o.childNodes.length)){let u=o.childNodes[r],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&r++}let c;Bf&&r&&o.nodeType==1&&(c=o.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,o==t.dom&&r==o.childNodes.length-1&&o.lastChild.nodeType==1&&e.top>o.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||o.nodeType!=1||o.childNodes[r-1].nodeName!="BR")&&(l=aF(t,o,r,e))}l==null&&(l=lF(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function eM(t){return t.top<t.bottom||t.left<t.right}function ji(t,e){let n=t.getClientRects();if(n.length){let o=n[e<0?0:n.length-1];if(eM(o))return o}return Array.prototype.find.call(n,eM)||t.getBoundingClientRect()}const uF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function RO(t,e,n){let{node:o,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),s=Bf||Zo;if(o.nodeType==3)if(s&&(uF.test(o.nodeValue)||(n<0?!r:r==o.nodeValue.length))){let a=ji(Wr(o,r,r),n);if(Zo&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){let c=ji(Wr(o,r-1,r-1),-1);if(c.top==a.top){let u=ji(Wr(o,r,r+1),-1);if(u.top!=a.top)return _u(u,u.left<c.left)}}return a}else{let a=r,c=r,u=n<0?1:-1;return n<0&&!r?(c++,u=-1):n>=0&&r==o.nodeValue.length?(a--,u=1):n<0?a--:c++,_u(ji(Wr(o,a,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==yo(o))){let a=o.childNodes[r-1];if(a.nodeType==1)return O0(a.getBoundingClientRect(),!1)}if(i==null&&r<yo(o)){let a=o.childNodes[r];if(a.nodeType==1)return O0(a.getBoundingClientRect(),!0)}return O0(o.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==yo(o))){let a=o.childNodes[r-1],c=a.nodeType==3?Wr(a,yo(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return _u(ji(c,1),!1)}if(i==null&&r<yo(o)){let a=o.childNodes[r];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?Wr(a,0,s?0:1):a.nodeType==1?a:null:null;if(c)return _u(ji(c,-1),!0)}return _u(ji(o.nodeType==3?Wr(o):o,-n),n>=0)}function _u(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function O0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function OO(t,e,n){let o=t.state,r=t.root.activeElement;o!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),r!=t.dom&&r&&r.focus()}}function dF(t,e,n){let o=e.selection,r=n=="up"?o.$from:o.$to;return OO(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=RO(t,r.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Wr(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let u=a[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const fF=/[\u0590-\u08ac]/;function hF(t,e,n){let{$head:o}=e.selection;if(!o.parent.isTextblock)return!1;let r=o.parentOffset,i=!r,s=r==o.parent.content.size,l=t.domSelection();return l?!fF.test(o.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:s:OO(t,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=o.depth?t.docView.domAfterPos(o.before()):t.dom,{focusNode:p,focusOffset:m}=t.domSelectionRange(),b=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&c==m;try{l.collapse(u,d),a&&(a!=u||c!=d)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),b}):o.pos==o.start()||o.pos==o.end()}let tM=null,nM=null,oM=!1;function pF(t,e,n){return tM==e&&nM==n?oM:(tM=e,nM=n,oM=n=="up"||n=="down"?dF(t,e,n):hF(t,e,n))}const So=0,rM=1,ll=2,xr=3;class $f{constructor(e,n,o,r){this.parent=e,this.children=n,this.dom=o,this.contentDOM=r,this.dirty=So,o.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,o){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,o=this.posAtStart;;n++){let r=this.children[n];if(r==e)return o;o+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,o){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(o<0){let i,s;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>Vt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??o>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let o=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),s;if(i&&(!n||i.node))if(o&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))o=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let o=n;o;o=o.parent)if(o==this)return n}posFromDOM(e,n,o){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,o)}return-1}descAt(e){for(let n=0,o=0;n<this.children.length;n++){let r=this.children[n],i=o+r.size;if(o==e&&i!=o){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let l=r.children[s];if(l.size){r=l;break}}return r}if(e<i)return r.descAt(e-o-r.border);o=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let o=0,r=0;for(let i=0;o<this.children.length;o++){let s=this.children[o],l=i+s.size;if(l>e||s instanceof LO){r=e-i;break}i=l}if(r)return this.children[o].domFromPos(r-this.children[o].border,n);for(let i;o&&!(i=this.children[o-1]).size&&i instanceof DO&&i.side>=0;o--);if(n<=0){let i,s=!0;for(;i=o?this.children[o-1]:null,!(!i||i.dom.parentNode==this.contentDOM);o--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vt(i.dom)+1:0}}else{let i,s=!0;for(;i=o<this.children.length?this.children[o]:null,!(!i||i.dom.parentNode==this.contentDOM);o++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,o=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let s=o,l=0;;l++){let a=this.children[l],c=s+a.size;if(r==-1&&e<=c){let u=s+a.border;if(e>=u&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,u);e=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=Vt(f.dom)+1;break}e-=f.size}r==-1&&(r=0)}if(r>-1&&(c>n||l==this.children.length-1)){n=c;for(let u=l+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Vt(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:o}=this.domFromPos(e,0);if(n.nodeType!=1||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]}setSelection(e,n,o,r=!1){let i=Math.min(e,n),s=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],b=p+m.size;if(i>p&&s<b)return m.setSelection(e-p-m.border,n-p-m.border,o,r);p=b}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),c=o.root.getSelection(),u=o.domSelectionRange(),d=!1;if((Zo||hn)&&e==n){let{node:h,offset:p}=l;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let m=h,b;m;m=m.parentNode){if(b=m.nextSibling){b.nodeName=="BR"&&(l=a={node:b.parentNode,offset:Vt(b)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=h.childNodes[p-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Zo&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(r=!0)}if(!(r||d&&hn)&&Ll(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Ll(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!d){c.collapse(l.node,l.offset);try{e!=n&&c.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let p=l;l=a,a=p}let h=document.createRange();h.setEnd(a.node,a.offset),h.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let o=0,r=0;r<this.children.length;r++){let i=this.children[r],s=o+i.size;if(o==s?e<=s&&n>=o:e<s&&n>o){let l=o+i.border,a=s-i.border;if(e>=l&&n<=a){this.dirty=e==o||n==s?ll:rM,e==l&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=xr:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?ll:xr}o=s}this.dirty=ll}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let o=e==1?ll:rM;n.dirty<o&&(n.dirty=o)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class DO extends $f{constructor(e,n,o,r){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(o,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==So&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class mF extends $f{constructor(e,n,o,r){super(e,[],n,null),this.textDOM=o,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class jl extends $f{constructor(e,n,o,r,i){super(e,[],o,r),this.mark=n,this.spec=i}static create(e,n,o,r){let i=r.nodeViews[n.type.name],s=i&&i(n,r,o);return(!s||!s.dom)&&(s=_i.renderSpec(document,n.type.spec.toDOM(n,o),null,n.attrs)),new jl(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&xr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=xr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=So){let o=this.parent;for(;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=So}}slice(e,n,o){let r=jl.create(this.parent,this.mark,!0,o),i=this.children,s=this.size;n<s&&(i=tw(i,n,s,o)),e>0&&(i=tw(i,0,e,o));for(let l=0;l<i.length;l++)i[l].parent=r;return r.children=i,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ms extends $f{constructor(e,n,o,r,i,s,l,a,c){super(e,[],i,s),this.node=n,this.outerDeco=o,this.innerDeco=r,this.nodeDOM=l}static create(e,n,o,r,i,s){let l=i.nodeViews[n.type.name],a,c=l&&l(n,i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},o,r),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=_i.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=$O(u,o,n),c?a=new gF(e,n,o,r,u,d||null,f,c,i,s+1):n.isText?new Nb(e,n,o,r,u,f,i):new ms(e,n,o,r,u,d||null,f,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let o=this.children[n];if(this.dom.contains(o.dom.parentNode)){e.contentElement=o.dom.parentNode;break}}e.contentElement||(e.getContent=()=>D.empty)}return e}matchesNode(e,n,o){return this.dirty==So&&e.eq(this.node)&&_m(n,this.outerDeco)&&o.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let o=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new yF(this,s&&s.node,e);kF(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?a.syncToMarks(c.spec.marks,o,e):c.type.side>=0&&!d&&a.syncToMarks(u==this.node.childCount?Pe.none:this.node.child(u).marks,o,e),a.placeWidget(c,e,r)},(c,u,d,f)=>{a.syncToMarks(c.marks,o,e);let h;a.findNodeMatch(c,u,d,f)||l&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(h=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,u,d,h,e)||a.updateNextNode(c,u,d,e,f,r)||a.addNode(c,u,d,e,r),r+=c.nodeSize}),a.syncToMarks([],o,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==ll)&&(s&&this.protectLocalComposition(e,s),jO(this.contentDOM,this.children,e),Mc&&xF(this.dom))}localCompositionInfo(e,n){let{from:o,to:r}=e.state.selection;if(!(e.state.selection instanceof Z)||o<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=CF(this.node.content,s,o-n,r-n);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:o,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new mF(this,i,n,r);e.input.compositionNodes.push(s),this.children=tw(this.children,o,o+r.length,e,s)}update(e,n,o,r){return this.dirty==xr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,o,r),!0)}updateInner(e,n,o,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=So}updateOuterDeco(e){if(_m(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,o=this.dom;this.dom=BO(this.dom,this.nodeDOM,ew(this.outerDeco,this.node,n),ew(e,this.node,n)),this.dom!=o&&(o.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function iM(t,e,n,o,r){$O(o,e,t);let i=new ms(void 0,t,e,n,o,o,o,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class Nb extends ms{constructor(e,n,o,r,i,s,l){super(e,n,o,r,i,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,o,r){return this.dirty==xr||this.dirty!=So&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=So||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=So,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,o)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,o){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new Nb(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=xr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class LO extends $f{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==So&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class gF extends ms{constructor(e,n,o,r,i,s,l,a,c,u){super(e,n,o,r,i,s,l,c,u),this.spec=a}update(e,n,o,r){if(this.dirty==xr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,o);return i&&this.updateInner(e,n,o,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,o,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,o,r){this.spec.setSelection?this.spec.setSelection(e,n,o.root):super.setSelection(e,n,o,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function jO(t,e,n){let o=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let s=e[i],l=s.dom;if(l.parentNode==t){for(;l!=o;)o=sM(o),r=!0;o=o.nextSibling}else r=!0,t.insertBefore(l,o);if(s instanceof jl){let a=o?o.previousSibling:t.lastChild;jO(s.contentDOM,s.children,n),o=a?a.nextSibling:t.firstChild}}for(;o;)o=sM(o),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const id=function(t){t&&(this.nodeName=t)};id.prototype=Object.create(null);const al=[new id];function ew(t,e,n){if(t.length==0)return al;let o=n?al[0]:new id,r=[o];for(let i=0;i<t.length;i++){let s=t[i].type.attrs;if(s){s.nodeName&&r.push(o=new id(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&r.length==1&&r.push(o=new id(e.isInline?"span":"div")),l=="class"?o.class=(o.class?o.class+" ":"")+a:l=="style"?o.style=(o.style?o.style+";":"")+a:l!="nodeName"&&(o[l]=a))}}}return r}function BO(t,e,n,o){if(n==al&&o==al)return e;let r=e;for(let i=0;i<o.length;i++){let s=o[i],l=n[i];if(i){let a;l&&l.nodeName==s.nodeName&&r!=t&&(a=r.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(r),l=al[0]),r=a}bF(r,l||al[0],s)}return r}function bF(t,e,n){for(let o in e)o!="class"&&o!="style"&&o!="nodeName"&&!(o in n)&&t.removeAttribute(o);for(let o in n)o!="class"&&o!="style"&&o!="nodeName"&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){let o=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&t.classList.remove(o[i]);for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=o.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function $O(t,e,n){return BO(t,t,al,ew(e,n,t.nodeType!=1))}function _m(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function sM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class yF{constructor(e,n,o){this.lock=n,this.view=o,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=vF(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let o=e;o<n;o++)this.top.children[o].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,o){let r=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;r<s&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=So,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=jl.create(this.top,e[i],n,o);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,o,r){let i=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,o))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,n,o)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,o,r,i){let s=this.top.children[r];return s.dirty==xr&&s.dom==s.contentDOM&&(s.dirty=ll),s.update(e,n,o,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let o=e.pmViewDesc;if(o){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==o)return r}return-1}e=n}}updateNextNode(e,n,o,r,i,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof ms){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let u=a.dom,d,f=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=xr&&_m(n,a.outerDeco));if(!f&&a.update(e,n,o,r))return this.destroyBetween(this.index,l),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,o,r,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ll,d.updateChildren(r,s+1),d.dirty=So),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,o,r,i,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!_m(o,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=ms.create(this.top,n,o,r,i,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,o,r,i){let s=ms.create(this.top,e,n,o,r,i);s.contentDOM&&s.updateChildren(r,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,o){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new DO(this.top,e,n,o);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof jl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Nb)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hn||Qt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let o=document.createElement(e);e=="IMG"&&(o.className="ProseMirror-separator",o.alt=""),e=="BR"&&(o.className="ProseMirror-trailingBreak");let r=new LO(this.top,[],o,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function vF(t,e){let n=e,o=n.children.length,r=t.childCount,i=new Map,s=[];e:for(;r>0;){let l;for(;;)if(o){let c=n.children[o-1];if(c instanceof jl)n=c,o=c.children.length;else{l=c,o--;break}}else{if(n==e)break e;o=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(r-1))break;--r,i.set(l,r),s.push(l)}}return{index:r,matched:i,matches:s.reverse()}}function wF(t,e){return t.type.side-e.type.side}function kF(t,e,n,o){let r=e.locals(t),i=0;if(r.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);o(u,r,e.forChild(i,u),c),i+=u.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){let u,d;for(;s<r.length&&r[s].to==i;){let b=r[s++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(wF);for(let b=0;b<d.length;b++)n(d[b],c,!!a)}else n(u,c,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;s<r.length&&r[s].from<=i&&r[s].to>i;)l.push(r[s++]);let p=i+f.nodeSize;if(f.isText){let b=p;s<r.length&&r[s].from<b&&(b=r[s].from);for(let y=0;y<l.length;y++)l[y].to<b&&(b=l[y].to);b<p&&(a=f.cut(b-i),f=f.cut(0,b-i),p=b,h=-1)}else for(;s<r.length&&r[s].to<p;)s++;let m=f.isInline&&!f.isLeaf?l.filter(b=>!b.inline):l.slice();o(f,m,e.forChild(i,f),h),i=p}}function xF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function CF(t,e,n,o){for(let r=0,i=0;r<t.childCount&&i<=o;){let s=t.child(r++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;for(;r<t.childCount;){let c=t.child(r++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=n){if(i>=o&&a.slice(o-e.length-l,o-l)==e)return o-e.length;let c=l<o?a.lastIndexOf(e,o-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==o&&a.length>=o+e.length-l&&a.slice(o-l,o-l+e.length)==e)return o}}return-1}function tw(t,e,n,o,r){let i=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],c=l,u=l+=a.size;c>=n||u<=e?i.push(a):(c<e&&i.push(a.slice(0,e-c,o)),r&&(i.push(r),r=void 0),u>n&&i.push(a.slice(n-c,a.size,o)))}return i}function Kx(t,e=null){let n=t.domSelectionRange(),o=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=o.resolve(s),a,c;if(Ab(n)){for(a=s;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&W.isSelectable(d)&&r.parent&&!(d.isInline&&WU(n.focusNode,n.focusOffset,r.dom))){let f=r.posBefore;c=new W(s==f?l:o.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[a,s]=f==t.state.selection.anchor?[f,d]:[d,f],l=o.resolve(s)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=o.resolve(a);if(!c){let d=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;c=Wx(t,u,l,d)}return c}function zO(t){return t.editable?t.hasFocus():IO(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function fi(t,e=!1){let n=t.state.selection;if(PO(t,n),!!zO(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Qt){let o=t.domSelectionRange(),r=t.domObserver.currentSelection;if(o.anchorNode&&r.anchorNode&&Ll(o.anchorNode,o.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)_F(t);else{let{anchor:o,head:r}=n,i,s;lM&&!(n instanceof Z)&&(n.$from.parent.inlineContent||(i=aM(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=aM(t,n.to))),t.docView.setSelection(o,r,t,e),lM&&(i&&cM(i),s&&cM(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&SF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const lM=hn||Qt&&EO<63;function aM(t,e){let{node:n,offset:o}=t.docView.domFromPos(e,0),r=o<n.childNodes.length?n.childNodes[o]:null,i=o?n.childNodes[o-1]:null;if(hn&&r&&r.contentEditable=="false")return D0(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return D0(r);if(i)return D0(i)}}function D0(t){return t.contentEditable="true",hn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function cM(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function SF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),o=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=o||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!zO(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function _F(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let o=t.cursorWrapper.dom,r=o.nodeName=="IMG";r?n.setStart(o.parentNode,Vt(o)+1):n.setStart(o,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&On&&ps<=11&&(o.disabled=!0,o.disabled=!1)}function PO(t,e){if(e instanceof W){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(uM(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else uM(t)}function uM(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Wx(t,e,n,o){return t.someProp("createSelectionBetween",r=>r(t,e,n))||Z.between(e,n,o)}function dM(t){return t.editable&&!t.hasFocus()?!1:IO(t)}function IO(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function EF(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ll(e.node,e.offset,n.anchorNode,n.anchorOffset)}function nw(t,e){let{$anchor:n,$head:o}=t.selection,r=e>0?n.max(o):n.min(o),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&Q.findFrom(i,e)}function zi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function fM(t,e,n){let o=t.state.selection;if(o instanceof Z)if(n.indexOf("s")>-1){let{$head:r}=o,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return zi(t,new Z(o.$anchor,s))}else if(o.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=nw(t.state,e);return r&&r instanceof W?zi(t,r):!1}else if(!(fo&&n.indexOf("m")>-1)){let r=o.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,s;if(!i||i.isText)return!1;let l=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?W.isSelectable(i)?zi(t,new W(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):Bf?zi(t,new Z(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(o instanceof W&&o.node.isInline)return zi(t,new Z(e>0?o.$to:o.$from));{let r=nw(t.state,e);return r?zi(t,r):!1}}}function Em(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sd(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ma(t,e){return e<0?MF(t):TF(t)}function MF(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r,i,s=!1;for(Zo&&n.nodeType==1&&o<Em(n)&&sd(n.childNodes[o],-1)&&(s=!0);;)if(o>0){if(n.nodeType!=1)break;{let l=n.childNodes[o-1];if(sd(l,-1))r=n,i=--o;else if(l.nodeType==3)n=l,o=n.nodeValue.length;else break}}else{if(HO(n))break;{let l=n.previousSibling;for(;l&&sd(l,-1);)r=n.parentNode,i=Vt(l),l=l.previousSibling;if(l)n=l,o=Em(n);else{if(n=n.parentNode,n==t.dom)break;o=0}}}s?ow(t,n,o):r&&ow(t,r,i)}function TF(t){let e=t.domSelectionRange(),n=e.focusNode,o=e.focusOffset;if(!n)return;let r=Em(n),i,s;for(;;)if(o<r){if(n.nodeType!=1)break;let l=n.childNodes[o];if(sd(l,1))i=n,s=++o;else break}else{if(HO(n))break;{let l=n.nextSibling;for(;l&&sd(l,1);)i=l.parentNode,s=Vt(l)+1,l=l.nextSibling;if(l)n=l,o=0,r=Em(n);else{if(n=n.parentNode,n==t.dom)break;o=r=0}}}i&&ow(t,i,s)}function HO(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function AF(t,e){for(;t&&e==t.childNodes.length&&!jf(t);)e=Vt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function NF(t,e){for(;t&&!e&&!jf(t);)e=Vt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ow(t,e,n){if(e.nodeType!=3){let i,s;(s=AF(e,n))?(e=s,n=0):(i=NF(e,n))&&(e=i,n=i.nodeValue.length)}let o=t.domSelection();if(!o)return;if(Ab(o)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),o.removeAllRanges(),o.addRange(i)}else o.extend&&o.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&fi(t)},50)}function hM(t,e){let n=t.state.doc.resolve(e);if(!(Qt||JU)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),s=(i.top+i.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function pM(t,e,n){let o=t.state.selection;if(o instanceof Z&&!o.empty||n.indexOf("s")>-1||fo&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=o;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=nw(t.state,e);if(s&&s instanceof W)return zi(t,s)}if(!r.parent.inlineContent){let s=e<0?r:i,l=o instanceof Rn?Q.near(s,e):Q.findFrom(s,e);return l?zi(t,l):!1}return!1}function mM(t,e){if(!(t.state.selection instanceof Z))return!0;let{$head:n,$anchor:o,empty:r}=t.state.selection;if(!n.sameParent(o))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=t.state.tr;return e<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),t.dispatch(s),!0}return!1}function gM(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function RF(t){if(!hn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let o=e.firstChild;gM(t,o,"true"),setTimeout(()=>gM(t,o,"false"),20)}return!1}function OF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function DF(t,e){let n=e.keyCode,o=OF(e);if(n==8||fo&&n==72&&o=="c")return mM(t,-1)||ma(t,-1);if(n==46&&!e.shiftKey||fo&&n==68&&o=="c")return mM(t,1)||ma(t,1);if(n==13||n==27)return!0;if(n==37||fo&&n==66&&o=="c"){let r=n==37?hM(t,t.state.selection.from)=="ltr"?-1:1:-1;return fM(t,r,o)||ma(t,r)}else if(n==39||fo&&n==70&&o=="c"){let r=n==39?hM(t,t.state.selection.from)=="ltr"?1:-1:1;return fM(t,r,o)||ma(t,r)}else{if(n==38||fo&&n==80&&o=="c")return pM(t,-1,o)||ma(t,-1);if(n==40||fo&&n==78&&o=="c")return RF(t)||pM(t,1,o)||ma(t,1);if(o==(fo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Yx(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:o,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&o.childCount==1&&o.firstChild.childCount==1;){r--,i--;let h=o.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),o=h.content}let s=t.someProp("clipboardSerializer")||_i.fromSchema(t.state.schema),l=ZO(),a=l.createElement("div");a.appendChild(s.serializeFragment(o,{document:l}));let c=a.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=GO[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=l.createElement(u[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),d++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function VO(t,e,n,o,r){let i=r.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(o||i||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,i||o,t)}),i)return e?new H(D.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):H.empty;let d=t.someProp("clipboardTextParser",f=>f(e,r,o,t));if(d)l=d;else{let f=r.marks(),{schema:h}=t.state,p=_i.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let b=s.appendChild(document.createElement("p"));m&&b.appendChild(p.serializeNode(h.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=$F(n),Bf&&zF(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||ui.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||u),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!LF.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)l=PF(bM(l,+u[1],+u[2]),u[4]);else if(l=H.maxOpen(jF(l.content,r),!0),l.openStart||l.openEnd){let d=0,f=0;for(let h=l.content.firstChild;d<l.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=bM(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const LF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function jF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,s=[];if(t.forEach(l=>{if(!s)return;let a=r.findWrapping(l.type),c;if(!a)return s=null;if(c=s.length&&i.length&&FO(a,i,l,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=qO(s[s.length-1],i.length));let u=UO(l,a);s.push(u),r=r.matchType(u.type),i=a}}),s)return D.from(s)}return t}function UO(t,e,n=0){for(let o=e.length-1;o>=n;o--)t=e[o].create(null,D.from(t));return t}function FO(t,e,n,o,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=FO(t,e,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==t.length-1?n.type:t[r+1]))return o.copy(o.content.append(D.from(UO(n,t,r+1))))}}function qO(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,qO(t.lastChild,e-1)),o=t.contentMatchAt(t.childCount).fillBefore(D.empty,!0);return t.copy(n.append(o))}function rw(t,e,n,o,r,i){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(i=0),r<o-1&&(l=rw(l,e,n,o,r+1,i)),r>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,i<=r).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(D.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function bM(t,e,n){return e<t.openStart&&(t=new H(rw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new H(rw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const GO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let yM=null;function ZO(){return yM||(yM=document.implementation.createHTMLDocument("title"))}let L0=null;function BF(t){let e=window.trustedTypes;return e?(L0||(L0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),L0.createHTML(t)):t}function $F(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=ZO().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t),r;if((r=o&&GO[o[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=BF(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function zF(t){let e=t.querySelectorAll(Qt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let o=e[n];o.childNodes.length==1&&o.textContent==" "&&o.parentNode&&o.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),o)}}function PF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,o;try{o=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:s}=t;for(let l=o.length-2;l>=0;l-=2){let a=n.nodes[o[l]];if(!a||a.hasRequiredAttrs())break;r=D.from(a.create(o[l+1],r)),i++,s++}return new H(r,i,s)}const pn={},mn={},IF={touchstart:!0,touchmove:!0};class HF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function VF(t){for(let e in pn){let n=pn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=o=>{FF(t,o)&&!Xx(t,o)&&(t.editable||!(o.type in mn))&&n(t,o)},IF[e]?{passive:!0}:void 0)}hn&&t.dom.addEventListener("input",()=>null),iw(t)}function rs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function UF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function iw(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=o=>Xx(t,o))})}function Xx(t,e){return t.someProp("handleDOMEvents",n=>{let o=n[e.type];return o?o(t,e)||e.defaultPrevented:!1})}function FF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function qF(t,e){!Xx(t,e)&&pn[e.type]&&(t.editable||!(e.type in mn))&&pn[e.type](t,e)}mn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!WO(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(oi&&Qt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Mc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let o=Date.now();t.input.lastIOSEnter=o,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==o&&(t.someProp("handleKeyDown",r=>r(t,tl(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",o=>o(t,n))||DF(t,n)?n.preventDefault():rs(t,"key")};mn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};mn.keypress=(t,e)=>{let n=e;if(WO(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||fo&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let o=t.state.selection;if(!(o instanceof Z)||!o.$from.sameParent(o.$to)){let r=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",s=>s(t,o.$from.pos,o.$to.pos,r,i))&&t.dispatch(i()),n.preventDefault()}};function Rb(t){return{left:t.clientX,top:t.clientY}}function GF(t,e){let n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}function Jx(t,e,n,o,r){if(o==-1)return!1;let i=t.state.doc.resolve(o);for(let s=i.depth+1;s>0;s--)if(t.someProp(e,l=>s>i.depth?l(t,n,i.nodeAfter,i.before(s),r,!0):l(t,n,i.node(s),i.before(s),r,!1)))return!0;return!1}function ec(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let o=t.state.tr.setSelection(e);o.setMeta("pointer",!0),t.dispatch(o)}function ZF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),o=n.nodeAfter;return o&&o.isAtom&&W.isSelectable(o)?(ec(t,new W(n)),!0):!1}function KF(t,e){if(e==-1)return!1;let n=t.state.selection,o,r;n instanceof W&&(o=n.node);let i=t.state.doc.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(W.isSelectable(l)){o&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(s);break}}return r!=null?(ec(t,W.create(t.state.doc,r)),!0):!1}function WF(t,e,n,o,r){return Jx(t,"handleClickOn",e,n,o)||t.someProp("handleClick",i=>i(t,e,o))||(r?KF(t,n):ZF(t,n))}function YF(t,e,n,o){return Jx(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",r=>r(t,e,o))}function XF(t,e,n,o){return Jx(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",r=>r(t,e,o))||JF(t,n,o)}function JF(t,e,n){if(n.button!=0)return!1;let o=t.state.doc;if(e==-1)return o.inlineContent?(ec(t,Z.create(o,0,o.content.size)),!0):!1;let r=o.resolve(e);for(let i=r.depth+1;i>0;i--){let s=i>r.depth?r.nodeAfter:r.node(i),l=r.before(i);if(s.inlineContent)ec(t,Z.create(o,l+1,l+1+s.content.size));else if(W.isSelectable(s))ec(t,W.create(o,l));else continue;return!0}}function Qx(t){return Mm(t)}const KO=fo?"metaKey":"ctrlKey";pn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let o=Qx(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&GF(n,t.input.lastClick)&&!n[KO]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=t.posAtCoords(Rb(n));s&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new QF(t,s,n,!!o)):(i=="doubleClick"?YF:XF)(t,s.pos,s.inside,n)?n.preventDefault():rs(t,"pointer"))};class QF{constructor(e,n,o,r){this.view=e,this.pos=n,this.event=o,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!o[KO],this.allowDefault=o.shiftKey;let i,s;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,s=u.depth?u.before():0}const l=r?null:o.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(o.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof W&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),rs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Rb(e))),this.updateAllowDefault(e),this.allowDefault||!n?rs(this.view,"pointer"):WF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hn&&this.mightDrag&&!this.mightDrag.node.isAtom||Qt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ec(this.view,Q.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):rs(this.view,"pointer")}move(e){this.updateAllowDefault(e),rs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}pn.touchstart=t=>{t.input.lastTouch=Date.now(),Qx(t),rs(t,"pointer")};pn.touchmove=t=>{t.input.lastTouch=Date.now(),rs(t,"pointer")};pn.contextmenu=t=>Qx(t);function WO(t,e){return t.composing?!0:hn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const eq=oi?5e3:-1;mn.compositionstart=mn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Z&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Mm(t,!0),t.markCursor=null;else if(Mm(t,!e.selection.empty),Zo&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let o=t.domSelectionRange();for(let r=o.focusNode,i=o.focusOffset;r&&r.nodeType==1&&i!=0;){let s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(s.nodeType==3){let l=t.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else r=s,i=-1}}t.input.composing=!0}YO(t,eq)};mn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,YO(t,20))};function YO(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Mm(t),e))}function XO(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=nq());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function tq(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=ZU(e.focusNode,e.focusOffset),o=KU(e.focusNode,e.focusOffset);if(n&&o&&n!=o){let r=o.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||o==i)return i;if(!r||!r.isText(o.nodeValue))return o;if(t.input.compositionNode==o){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return o}}return n||o}function nq(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Mm(t,e=!1){if(!(oi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),XO(t),e||t.docView&&t.docView.dirty){let n=Kx(t),o=t.state.selection;return n&&!n.eq(o)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!o.$from.node(o.$from.sharedDepth(o.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function oq(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const zd=On&&ps<15||Mc&&QU<604;pn.copy=mn.cut=(t,e)=>{let n=e,o=t.state.selection,r=n.type=="cut";if(o.empty)return;let i=zd?null:n.clipboardData,s=o.content(),{dom:l,text:a}=Yx(t,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):oq(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function rq(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function iq(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,o=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),o.parentNode&&o.parentNode.removeChild(o),n?Pd(t,o.value,null,r,e):Pd(t,o.textContent,o.innerHTML,r,e)},50)}function Pd(t,e,n,o,r){let i=VO(t,e,n,o,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||H.empty)))return!0;if(!i)return!1;let s=rq(i),l=s?t.state.tr.replaceSelectionWith(s,o):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function JO(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mn.paste=(t,e)=>{let n=e;if(t.composing&&!oi)return;let o=zd?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;o&&Pd(t,JO(o),o.getData("text/html"),r,n)?n.preventDefault():iq(t,n)};class QO{constructor(e,n,o){this.slice=e,this.move=n,this.node=o}}const sq=fo?"altKey":"ctrlKey";function eD(t,e){let n=t.someProp("dragCopies",o=>!o(e));return n??!e[sq]}pn.dragstart=(t,e)=>{let n=e,o=t.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords(Rb(n)),s;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof W?r.to-1:r.to))){if(o&&o.mightDrag)s=W.create(t.state.doc,o.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=W.create(t.state.doc,d.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:c,slice:u}=Yx(t,l);(!n.dataTransfer.files.length||!Qt||EO>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(zd?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",zd||n.dataTransfer.setData("text/plain",c),t.dragging=new QO(u,eD(t,n),s)};pn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};mn.dragover=mn.dragenter=(t,e)=>e.preventDefault();mn.drop=(t,e)=>{let n=e,o=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords(Rb(n));if(!r)return;let i=t.state.doc.resolve(r.pos),s=o&&o.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=VO(t,JO(n.dataTransfer),zd?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(o&&eD(t,n));if(t.someProp("handleDrop",p=>p(t,n,s||H.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?Fx(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(l){let{node:p}=o;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&W.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new W(h));else{let p=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((m,b,y,w)=>p=w),c.setSelection(Wx(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};pn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&fi(t)},20))};pn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};pn.beforeinput=(t,e)=>{if(Qt&&oi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:o}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=o||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,tl(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in mn)pn[t]=mn[t];function Id(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Tm{constructor(e,n){this.toDOM=e,this.spec=n||xl,this.side=this.spec.side||0}map(e,n,o,r){let{pos:i,deleted:s}=e.mapResult(n.from+r,this.side<0?-1:1);return s?null:new Te(i-o,i-o,this)}valid(){return!0}eq(e){return this==e||e instanceof Tm&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Id(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class gs{constructor(e,n){this.attrs=e,this.spec=n||xl}map(e,n,o,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-o,s=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-o;return i>=s?null:new Te(i,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof gs&&Id(this.attrs,e.attrs)&&Id(this.spec,e.spec)}static is(e){return e.type instanceof gs}destroy(){}}class eC{constructor(e,n){this.attrs=e,this.spec=n||xl}map(e,n,o,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let s=e.mapResult(n.to+r,-1);return s.deleted||s.pos<=i.pos?null:new Te(i.pos-o,s.pos-o,this)}valid(e,n){let{index:o,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(o)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof eC&&Id(this.attrs,e.attrs)&&Id(this.spec,e.spec)}destroy(){}}class Te{constructor(e,n,o){this.from=e,this.to=n,this.type=o}copy(e,n){return new Te(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,o){return this.type.map(e,this,n,o)}static widget(e,n,o){return new Te(e,e,new Tm(n,o))}static inline(e,n,o,r){return new Te(e,n,new gs(o,r))}static node(e,n,o,r){return new Te(e,n,new eC(o,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof gs}get widget(){return this.type instanceof Tm}}const _a=[],xl={};class he{constructor(e,n){this.local=e.length?e:_a,this.children=n.length?n:_a}static create(e,n){return n.length?Am(n,e,0,xl):Wt}find(e,n,o){let r=[];return this.findInner(e??0,n??1e9,r,0,o),r}findInner(e,n,o,r,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&o.push(l.copy(l.from+r,l.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,o,r+l,i)}}map(e,n,o){return this==Wt||e.maps.length==0?this:this.mapInner(e,n,0,0,o||xl)}mapInner(e,n,o,r,i){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,o,r);a&&a.type.valid(n,a)?(s||(s=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?lq(this.children,s||[],e,n,o,r,i):s?new he(s.sort(Cl),_a):Wt}add(e,n){return n.length?this==Wt?he.create(e,n):this.addInner(e,n,0):this}addInner(e,n,o){let r,i=0;e.forEach((l,a)=>{let c=a+o,u;if(u=nD(n,l,c)){for(r||(r=this.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(l,u,c+1):r.splice(i,0,a,a+l.nodeSize,Am(u,l,c+1,xl)),i+=3}});let s=tD(i?oD(n):n,-o);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new he(s.length?this.local.concat(s).sort(Cl):this.local,r||this.children)}remove(e){return e.length==0||this==Wt?this:this.removeInner(e,0)}removeInner(e,n){let o=this.children,r=this.local;for(let i=0;i<o.length;i+=3){let s,l=o[i]+n,a=o[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>l&&d.to<a&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;o==this.children&&(o=this.children.slice());let c=o[i+2].removeInner(s,l+1);c!=Wt?o[i+2]=c:(o.splice(i,3),i-=3)}if(r.length){for(let i=0,s;i<e.length;i++)if(s=e[i])for(let l=0;l<r.length;l++)r[l].eq(s,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return o==this.children&&r==this.local?this:r.length||o.length?new he(r,o):Wt}forChild(e,n){if(this==Wt)return this;if(n.isLeaf)return he.empty;let o,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(o=this.children[l+2]);break}let i=e+1,s=i+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>i&&a.type instanceof gs){let c=Math.max(i,a.from)-i,u=Math.min(s,a.to)-i;c<u&&(r||(r=[])).push(a.copy(c,u))}}if(r){let l=new he(r.sort(Cl),_a);return o?new qi([l,o]):l}return o||Wt}eq(e){if(this==e)return!0;if(!(e instanceof he)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return tC(this.localsInner(e))}localsInner(e){if(this==Wt)return _a;if(e.inlineContent||!this.local.some(gs.is))return this.local;let n=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof gs||n.push(this.local[o]);return n}forEachSet(e){e(this)}}he.empty=new he([],[]);he.removeOverlap=tC;const Wt=he.empty;class qi{constructor(e){this.members=e}map(e,n){const o=this.members.map(r=>r.map(e,n,xl));return qi.from(o)}forChild(e,n){if(n.isLeaf)return he.empty;let o=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=Wt&&(i instanceof qi?o=o.concat(i.members):o.push(i))}return qi.from(o)}eq(e){if(!(e instanceof qi)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,o=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{o&&(n=n.slice(),o=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?tC(o?n:n.sort(Cl)):_a}static from(e){switch(e.length){case 0:return Wt;case 1:return e[0];default:return new qi(e.every(n=>n instanceof he)?e:e.reduce((n,o)=>n.concat(o instanceof he?o:o.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function lq(t,e,n,o,r,i,s){let l=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,m)=>{let b=m-p-(h-f);for(let y=0;y<l.length;y+=3){let w=l[y+1];if(w<0||f>w+u-d)continue;let k=l[y]+u-d;h>=k?l[y+1]=f<=k?-2:-1:f>=u&&b&&(l[y]+=b,l[y+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-r;if(d<0||d>=o.content.size){a=!0;continue}let f=n.map(t[c+1]+i,-1),h=f-r,{index:p,offset:m}=o.content.findIndex(d),b=o.maybeChild(p);if(b&&m==d&&m+b.nodeSize==h){let y=l[c+2].mapInner(n,b,u+1,t[c]+i+1,s);y!=Wt?(l[c]=d,l[c+1]=h,l[c+2]=y):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=aq(l,t,e,n,r,i,s),u=Am(c,o,0,s);e=u.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new he(e.sort(Cl),l)}function tD(t,e){if(!e||!t.length)return t;let n=[];for(let o=0;o<t.length;o++){let r=t[o];n.push(new Te(r.from+e,r.to+e,r.type))}return n}function aq(t,e,n,o,r,i,s){function l(a,c){for(let u=0;u<a.local.length;u++){let d=a.local[u].map(o,r,c);d?n.push(d):s.onRemove&&s.onRemove(a.local[u].spec)}for(let u=0;u<a.children.length;u+=3)l(a.children[u+2],a.children[u]+c+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+i+1);return n}function nD(t,e,n){if(e.isLeaf)return null;let o=n+e.nodeSize,r=null;for(let i=0,s;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<o&&((r||(r=[])).push(s),t[i]=null);return r}function oD(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Am(t,e,n,o){let r=[],i=!1;e.forEach((l,a)=>{let c=nD(t,l,a+n);if(c){i=!0;let u=Am(c,l,n+a+1,o);u!=Wt&&r.push(a,a+l.nodeSize,u)}});let s=tD(i?oD(t):t,-n).sort(Cl);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(o.onRemove&&o.onRemove(s[l].spec),s.splice(l--,1));return s.length||r.length?new he(s,r):Wt}function Cl(t,e){return t.from-e.from||t.to-e.to}function tC(t){let e=t;for(let n=0;n<e.length-1;n++){let o=e[n];if(o.from!=o.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==o.from){i.to!=o.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,o.to),vM(e,r+1,i.copy(o.to,i.to)));continue}else{i.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,i.from),vM(e,r,o.copy(i.from,o.to)));break}}}return e}function vM(t,e,n){for(;e<t.length&&Cl(n,t[e])>0;)e++;t.splice(e,0,n)}function j0(t){let e=[];return t.someProp("decorations",n=>{let o=n(t.state);o&&o!=Wt&&e.push(o)}),t.cursorWrapper&&e.push(he.create(t.state.doc,[t.cursorWrapper.deco])),qi.from(e)}const cq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},uq=On&&ps<=11;class dq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class fq{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new dq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(o=>{for(let r=0;r<o.length;r++)this.queue.push(o[r]);On&&ps<=11&&o.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),uq&&(this.onCharData=o=>{this.queue.push({target:o.target,type:"characterData",oldValue:o.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,cq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dM(this.view)){if(this.suppressingSelectionUpdates)return fi(this.view);if(On&&ps<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ll(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,o;for(let i=e.focusNode;i;i=Ec(i))n.add(i);for(let i=e.anchorNode;i;i=Ec(i))if(n.has(i)){o=i;break}let r=o&&this.view.docView.nearestDesc(o);if(r&&r.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let o=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&dM(e)&&!this.ignoreSelectionChange(o),i=-1,s=-1,l=!1,a=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],a);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(Zo&&a.length){let u=a.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||mq(e,d)!=h)&&f.remove()}}}let c=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ab(o)&&(c=Kx(e))&&c.eq(Q.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,fi(e),this.currentSelection.set(o),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,s),hq(e)),this.handleDOMChange(i,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(o)||fi(e),this.currentSelection.set(o))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let o=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(o==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!o||o.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(o.contentDOM&&o.contentDOM!=o.dom&&!o.contentDOM.contains(e.target))return{from:o.posBefore,to:o.posAfter};let r=e.previousSibling,i=e.nextSibling;if(On&&ps<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(r=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let s=r&&r.parentNode==e.target?Vt(r)+1:0,l=o.localPosFromDOM(e.target,s,-1),a=i&&i.parentNode==e.target?Vt(i):e.target.childNodes.length,c=o.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:(this.lastChangedTextNode=e.target,{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let wM=new WeakMap,kM=!1;function hq(t){if(!wM.has(t)&&(wM.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Zo,kM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kM=!0}}function xM(t,e){let n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Ll(s.node,s.offset,r,i)&&([n,o,r,i]=[r,i,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:i}}function pq(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return xM(t,r)}let n;function o(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",o,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",o,!0),n?xM(t,n):null}function mq(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let o=t.docView.nearestDesc(n,!0);if(o&&o.node.isBlock)return n}return null}function gq(t,e,n){let{node:o,fromOffset:r,toOffset:i,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),c,u=a.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:a.anchorOffset}],Ab(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Qt&&t.input.lastKeyCode===8)for(let b=i;b>r;b--){let y=o.childNodes[b-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){i=b;break}if(!w||w.size)break}let d=t.state.doc,f=t.someProp("domParser")||ui.fromSchema(t.state.schema),h=d.resolve(s),p=null,m=f.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:r,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:bq,context:h});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),p={anchor:b+s,head:y+s}}return{doc:m,sel:p,from:s,to:l}}function bq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(hn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||hn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const yq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function vq(t,e,n,o,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let S=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=Kx(t,S);if(M&&!t.state.selection.eq(M)){if(Qt&&oi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,tl(13,"Enter"))))return;let T=t.state.tr.setSelection(M);S=="pointer"?T.setMeta("pointer",!0):S=="key"&&T.scrollIntoView(),i&&T.setMeta("composition",i),t.dispatch(T)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,c=gq(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=xq(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(Mc&&t.input.lastIOSEnter>Date.now()-225||oi)&&r.some(S=>S.nodeType==1&&!yq.test(S.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",S=>S(t,tl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(o&&a instanceof Z&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let S=CM(t,t.state.doc,c.sel);if(S&&!S.eq(t.state.selection)){let M=t.state.tr.setSelection(S);i&&M.setMeta("composition",i),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof Z&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),On&&ps<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),b=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),w=m.sameParent(b)&&m.parent.inlineContent&&y.end()>=p.endA,k;if((Mc&&t.input.lastIOSEnter>Date.now()-225&&(!w||r.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!w&&m.pos<c.doc.content.size&&(!m.sameParent(b)||!m.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(m.pos,b.pos,"",""))&&(k=Q.findFrom(c.doc.resolve(m.pos+1),1,!0))&&k.head>m.pos)&&t.someProp("handleKeyDown",S=>S(t,tl(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&kq(u,p.start,p.endA,m,b)&&t.someProp("handleKeyDown",S=>S(t,tl(8,"Backspace")))){oi&&Qt&&t.domObserver.suppressSelectionUpdates();return}Qt&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),oi&&!w&&m.start()!=b.start()&&b.parentOffset==0&&m.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,b=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(S){return S(t,tl(13,"Enter"))})},20));let x=p.start,C=p.endA,E=S=>{let M=S||t.state.tr.replace(x,C,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let T=CM(t,M.doc,c.sel);T&&!(Qt&&t.composing&&T.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==x||T.head==M.mapping.map(C)-1)||On&&T.empty&&T.head==x)&&M.setSelection(T)}return i&&M.setMeta("composition",i),M.scrollIntoView()},_;if(w){if(m.pos==b.pos){On&&ps<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>fi(t),20));let S=E(t.state.tr.delete(x,C)),M=u.resolve(p.start).marksAcross(u.resolve(p.endA));M&&S.ensureMarks(M),t.dispatch(S)}else if(p.endA==p.endB&&(_=wq(m.parent.content.cut(m.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start())))){let S=E(t.state.tr);_.type=="add"?S.addMark(x,C,_.mark):S.removeMark(x,C,_.mark),t.dispatch(S)}else if(m.parent.child(m.index()).isText&&m.index()==b.index()-(b.textOffset?0:1)){let S=m.parent.textBetween(m.parentOffset,b.parentOffset),M=()=>E(t.state.tr.insertText(S,x,C));t.someProp("handleTextInput",T=>T(t,x,C,S,M))||t.dispatch(M())}}else t.dispatch(E())}function CM(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Wx(t,e.resolve(n.anchor),e.resolve(n.head))}function wq(t,e){let n=t.firstChild.marks,o=e.firstChild.marks,r=n,i=o,s,l,a;for(let u=0;u<o.length;u++)r=o[u].removeFromSet(r);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(r.length==1&&i.length==0)l=r[0],s="add",a=u=>u.mark(l.addToSet(u.marks));else if(r.length==0&&i.length==1)l=i[0],s="remove",a=u=>u.mark(l.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(a(e.child(u)));if(D.from(c).eq(t))return{mark:l,type:s}}function kq(t,e,n,o,r){if(n-e<=r.pos-o.pos||B0(o,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!o.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=t.resolve(B0(i,!0,!0));return!s.parent.isTextblock||s.pos>n||B0(s,!0,!1)<n?!1:o.parent.content.cut(o.parentOffset).eq(s.parent.content)}function B0(t,e,n){let o=t.depth,r=e?t.end():t.pos;for(;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,r++,e=!1;if(n){let i=t.node(o).maybeChild(t.indexAfter(o));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function xq(t,e,n,o,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let a=Math.max(0,i-Math.min(s,l));o-=s+a-i}if(s<i&&t.size<e.size){let a=o<=i&&o>=s?i-o:0;i-=a,i&&i<e.size&&SM(e.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-s),s=i}else if(l<i){let a=o<=i&&o>=l?i-o:0;i-=a,i&&i<t.size&&SM(t.textBetween(i-1,i+1))&&(i+=a?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function SM(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class nC{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new HF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(AM),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=MM(this),EM(this),this.nodeViews=TM(this),this.docView=iM(this.state.doc,_M(this),j0(this),this.dom,this),this.domObserver=new fq(this,(o,r,i,s)=>vq(this,o,r,i,s)),this.domObserver.start(),VF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&iw(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(AM),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let o in this._props)n[o]=this._props[o];n.state=this.state;for(let o in e)n[o]=e[o];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var o;let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(XO(this),s=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=TM(this);Sq(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&iw(this),this.editable=MM(this),EM(this);let a=j0(this),c=_M(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,a);(d||!e.selection.eq(r.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&nF(this);if(s){this.domObserver.stop();let h=d&&(On||Qt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Cq(r.selection,e.selection);if(d){let p=Qt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=tq(this)),(i||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=iM(e.doc,c,a,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&EF(this))?fi(this,h):(PO(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((o=this.dragging)===null||o===void 0)&&o.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&oF(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof W){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&QE(this,n.getBoundingClientRect(),e)}else QE(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let o=this.state.plugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let o=this.pluginViews[n];o.update&&o.update(this,e)}}updateDraggedNode(e,n){let o=e.node,r=-1;if(this.state.doc.nodeAt(o.from)==o.node)r=o.from;else{let i=o.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==o.node&&(r=i)}this.dragging=new QO(e.slice,e.move,r<0?void 0:W.create(this.state.doc,r))}someProp(e,n){let o=this._props&&this._props[e],r;if(o!=null&&(r=n?n(o):o))return r;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(r=n?n(l):l))return r}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(On){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&rF(this.dom),fi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return cF(this,e)}coordsAtPos(e,n=1){return RO(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,o=-1){let r=this.docView.posFromDOM(e,n,o);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return pF(this,n||this.state,e)}pasteHTML(e,n){return Pd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Pd(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Yx(this,e)}destroy(){this.docView&&(UF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],j0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,qU())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return qF(this,e)}domSelectionRange(){let e=this.domSelection();return e?hn&&this.root.nodeType===11&&YU(this.dom.ownerDocument)==this.dom&&pq(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}nC.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function _M(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let o in n)o=="class"?e.class+=" "+n[o]:o=="style"?e.style=(e.style?e.style+";":"")+n[o]:!e[o]&&o!="contenteditable"&&o!="nodeName"&&(e[o]=String(n[o]))}),e.translate||(e.translate="no"),[Te.node(0,t.state.doc.content.size,e)]}function EM(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Te.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function MM(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Cq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function TM(t){let e=Object.create(null);function n(o){for(let r in o)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=o[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Sq(t,e){let n=0,o=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)o++;return n!=o}function AM(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ks={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Nm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_q=typeof navigator<"u"&&/Mac/.test(navigator.platform),Eq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)ks[48+Ut]=ks[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)ks[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)ks[Ut]=String.fromCharCode(Ut+32),Nm[Ut]=String.fromCharCode(Ut);for(var $0 in ks)Nm.hasOwnProperty($0)||(Nm[$0]=ks[$0]);function Mq(t){var e=_q&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Eq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Nm:ks)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Tq=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Aq=typeof navigator<"u"&&/Win/.test(navigator.platform);function Nq(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let o,r,i,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))o=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))Tq?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+a)}return o&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function Rq(t){let e=Object.create(null);for(let n in t)e[Nq(n)]=t[n];return e}function z0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Oq(t){return new le({props:{handleKeyDown:oC(t)}})}function oC(t){let e=Rq(t);return function(n,o){let r=Mq(o),i,s=e[z0(r,o)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(o.shiftKey){let l=e[z0(r,o,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((o.altKey||o.metaKey||o.ctrlKey)&&!(Aq&&o.ctrlKey&&o.altKey)&&(i=ks[o.keyCode])&&i!=r){let l=e[z0(i,o)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const rC=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function rD(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const iD=(t,e,n)=>{let o=rD(t,n);if(!o)return!1;let r=iC(o);if(!r){let s=o.blockRange(),l=s&&Xc(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let i=r.nodeBefore;if(pD(t,r,e,-1))return!0;if(o.parent.content.size==0&&(Tc(i,"end")||W.isSelectable(i)))for(let s=o.depth;;s--){let l=Mb(t.doc,o.before(s),o.after(s),H.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(Tc(i,"end")?Q.findFrom(a.doc.resolve(a.mapping.map(r.pos,-1)),-1):W.create(a.doc,r.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}if(s==1||o.node(s-1).childCount>1)break}return i.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},Dq=(t,e,n)=>{let o=rD(t,n);if(!o)return!1;let r=iC(o);return r?sD(t,r,e):!1},Lq=(t,e,n)=>{let o=aD(t,n);if(!o)return!1;let r=sC(o);return r?sD(t,r,e):!1};function sD(t,e,n){let o=e.nodeBefore,r=o,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let u=l.firstChild;if(!u)return!1;l=u}let c=Mb(t.doc,i,a,H.empty);if(!c||c.from!=i||c instanceof vt&&c.slice.size>=a-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(Z.create(u.doc,i)),n(u.scrollIntoView())}return!0}function Tc(t,e,n=!1){for(let o=t;o;o=e=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(n&&o.childCount!=1)return!1}return!1}const lD=(t,e,n)=>{let{$head:o,empty:r}=t.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=iC(o)}let s=i&&i.nodeBefore;return!s||!W.isSelectable(s)?!1:(e&&e(t.tr.setSelection(W.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function iC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function aD(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const cD=(t,e,n)=>{let o=aD(t,n);if(!o)return!1;let r=sC(o);if(!r)return!1;let i=r.nodeAfter;if(pD(t,r,e,1))return!0;if(o.parent.content.size==0&&(Tc(i,"start")||W.isSelectable(i))){let s=Mb(t.doc,o.before(),o.after(),H.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Tc(i,"start")?Q.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):W.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&r.depth==o.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},uD=(t,e,n)=>{let{$head:o,empty:r}=t.selection,i=o;if(!r)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=sC(o)}let s=i&&i.nodeAfter;return!s||!W.isSelectable(s)?!1:(e&&e(t.tr.setSelection(W.create(t.doc,i.pos)).scrollIntoView()),!0)};function sC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const jq=(t,e)=>{let n=t.selection,o=n instanceof W,r;if(o){if(n.node.isTextblock||!ea(t.doc,n.from))return!1;r=n.from}else if(r=Eb(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);o&&i.setSelection(W.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Bq=(t,e)=>{let n=t.selection,o;if(n instanceof W){if(n.node.isTextblock||!ea(t.doc,n.to))return!1;o=n.to}else if(o=Eb(t.doc,n.to,1),o==null)return!1;return e&&e(t.tr.join(o).scrollIntoView()),!0},$q=(t,e)=>{let{$from:n,$to:o}=t.selection,r=n.blockRange(o),i=r&&Xc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},dD=(t,e)=>{let{$head:n,$anchor:o}=t.selection;return!n.parent.type.spec.code||!n.sameParent(o)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function lC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const zq=(t,e)=>{let{$head:n,$anchor:o}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;let r=n.node(-1),i=n.indexAfter(-1),s=lC(r.contentMatchAt(i));if(!s||!r.canReplaceWith(i,i,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(Q.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},fD=(t,e)=>{let n=t.selection,{$from:o,$to:r}=n;if(n instanceof Rn||o.parent.inlineContent||r.parent.inlineContent)return!1;let i=lC(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let s=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,l=t.tr.insert(s,i.createAndFill());l.setSelection(Z.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},hD=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(di(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let o=n.blockRange(),r=o&&Xc(o);return r==null?!1:(e&&e(t.tr.lift(o,r).scrollIntoView()),!0)};function Pq(t){return(e,n)=>{let{$from:o,$to:r}=e.selection;if(e.selection instanceof W&&e.selection.node.isBlock)return!o.parentOffset||!di(e.doc,o.pos)?!1:(n&&n(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.depth)return!1;let i=[],s,l,a=!1,c=!1;for(let h=o.depth;;h--)if(o.node(h).isBlock){a=o.end(h)==o.pos+(o.depth-h),c=o.start(h)==o.pos-(o.depth-h),l=lC(o.node(h-1).contentMatchAt(o.indexAfter(h-1))),i.unshift(a&&l?{type:l}:null),s=h;break}else{if(h==1)return!1;i.unshift(null)}let u=e.tr;(e.selection instanceof Z||e.selection instanceof Rn)&&u.deleteSelection();let d=u.mapping.map(o.pos),f=di(u.doc,d,i.length,i);if(f||(i[0]=l?{type:l}:null,f=di(u.doc,d,i.length,i)),!f)return!1;if(u.split(d,i.length,i),!a&&c&&o.node(s).type!=l){let h=u.mapping.map(o.before(s)),p=u.doc.resolve(h);l&&o.node(s-1).canReplaceWith(p.index(),p.index()+1,l)&&u.setNodeMarkup(u.mapping.map(o.before(s)),l)}return n&&n(u.scrollIntoView()),!0}}const Iq=Pq(),Hq=(t,e)=>{let{$from:n,to:o}=t.selection,r,i=n.sharedDepth(o);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(W.create(t.doc,r))),!0)};function Vq(t,e,n){let o=e.nodeBefore,r=e.nodeAfter,i=e.index();return!o||!r||!o.type.compatibleContent(r.type)?!1:!o.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-o.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||ea(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function pD(t,e,n,o){let r=e.nodeBefore,i=e.nodeAfter,s,l,a=r.type.spec.isolating||i.type.spec.isolating;if(!a&&Vq(t,e,n))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(s[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,p=D.empty;for(let y=s.length-1;y>=0;y--)p=D.from(s[y].create(null,p));p=D.from(r.copy(p));let m=t.tr.step(new gt(e.pos-1,h,e.pos,h,new H(p,1,0),s.length,!0)),b=m.doc.resolve(h+2*s.length);b.nodeAfter&&b.nodeAfter.type==r.type&&ea(m.doc,b.pos)&&m.join(b.pos),n(m.scrollIntoView())}return!0}let u=i.type.spec.isolating||o>0&&a?null:Q.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Xc(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Tc(i,"start",!0)&&Tc(r,"end")){let h=r,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let m=i,b=1;for(;!m.isTextblock;m=m.firstChild)b++;if(h.canReplace(h.childCount,h.childCount,m.content)){if(n){let y=D.empty;for(let k=p.length-1;k>=0;k--)y=D.from(p[k].copy(y));let w=t.tr.step(new gt(e.pos-p.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new H(y,p.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function mD(t){return function(e,n){let o=e.selection,r=t<0?o.$from:o.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(Z.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const Uq=mD(-1),Fq=mD(1);function qq(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i),l=s&&pO(s,t,e);return l?(o&&o(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function NM(t,e=null){return function(n,o){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(s,l,(a,c)=>{if(r)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)r=!0;else{let u=n.doc.resolve(c),d=u.index();r=u.parent.canReplaceWith(d,d+1,t)}})}if(!r)return!1;if(o){let i=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];i.setBlockType(l,a,t,e)}o(i.scrollIntoView())}return!0}}function aC(...t){return function(e,n,o){for(let r=0;r<t.length;r++)if(t[r](e,n,o))return!0;return!1}}aC(rC,iD,lD);aC(rC,cD,uD);aC(dD,fD,hD,Iq);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Gq(t,e=null){return function(n,o){let{$from:r,$to:i}=n.selection,s=r.blockRange(i);if(!s)return!1;let l=o?n.tr:null;return Zq(l,s,t,e)?(o&&o(l.scrollIntoView()),!0):!1}}function Zq(t,e,n,o=null){let r=!1,i=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let a=s.resolve(e.start-2);i=new Cm(a,a,e.depth),e.endIndex<e.parent.childCount&&(e=new Cm(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let l=pO(i,n,o,e);return l?(t&&Kq(t,e,l,r,n),!0):!1}function Kq(t,e,n,o,r){let i=D.empty;for(let u=n.length-1;u>=0;u--)i=D.from(n[u].type.create(n[u].attrs,i));t.step(new gt(e.start-(o?2:0),e.end,e.start,e.end,new H(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==r&&(s=u+1);let l=n.length-s,a=e.start+n.length-(o?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&di(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=c.child(u).nodeSize;return t}function Wq(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,s=>s.childCount>0&&s.firstChild.type==t);return i?n?o.node(i.depth-1).type==t?Yq(e,n,t,i):Xq(e,n,i):!0:!1}}function Yq(t,e,n,o){let r=t.tr,i=o.end,s=o.$to.end(o.depth);i<s&&(r.step(new gt(i-1,s,i,s,new H(D.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new Cm(r.doc.resolve(o.$from.pos),r.doc.resolve(s),o.depth));const l=Xc(o);if(l==null)return!1;r.lift(o,l);let a=r.doc.resolve(r.mapping.map(i,-1)-1);return ea(r.doc,a.pos)&&a.nodeBefore.type==a.nodeAfter.type&&r.join(a.pos),e(r.scrollIntoView()),!0}function Xq(t,e,n){let o=t.tr,r=n.parent;for(let h=n.end,p=n.endIndex-1,m=n.startIndex;p>m;p--)h-=r.child(p).nodeSize,o.delete(h-1,h+1);let i=o.doc.resolve(n.start),s=i.nodeAfter;if(o.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==r.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(l?0:1),u+1,s.content.append(a?D.empty:D.from(r))))return!1;let d=i.pos,f=d+s.nodeSize;return o.step(new gt(d-(l?1:0),f+(a?1:0),d+1,f-1,new H((l?D.empty:D.from(r.copy(D.empty))).append(a?D.empty:D.from(r.copy(D.empty))),l?0:1,a?0:1),l?0:1)),e(o.scrollIntoView()),!0}function Jq(t){return function(e,n){let{$from:o,$to:r}=e.selection,i=o.blockRange(r,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let s=i.startIndex;if(s==0)return!1;let l=i.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let c=a.lastChild&&a.lastChild.type==l.type,u=D.from(c?t.create():null),d=new H(D.from(t.create(null,D.from(l.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;n(e.tr.step(new gt(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function Ob(t){const{state:e,transaction:n}=t;let{selection:o}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return o},get doc(){return r},get tr(){return o=n.selection,r=n.doc,i=n.storedMarks,n}}}class Db{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:o}=this,{view:r}=n,{tr:i}=o,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...u)=>{const d=a(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:o,editor:r,state:i}=this,{view:s}=r,l=[],a=!!e,c=e||i.tr,u=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(o).map(([f,h])=>[f,(...m)=>{const b=this.buildProps(c,n),y=h(...m)(b);return l.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:o}=this,r=!1,i=e||o.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,n=!0){const{rawCommands:o,editor:r,state:i}=this,{view:s}=r,l={tr:e,editor:r,view:s,state:Ob({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(o).map(([a,c])=>[a,(...u)=>c(...u)(l)]))}};return l}}class Qq{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const o=this.callbacks[e];return o&&o.forEach(r=>r.apply(this,n)),this}off(e,n){const o=this.callbacks[e];return o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e]),this}once(e,n){const o=(...r)=>{this.off(e,o),n.apply(this,r)};return this.on(e,o)}removeAllListeners(){this.callbacks={}}}function K(t,e,n){return t.config[e]===void 0&&t.parent?K(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?K(t.parent,e,n):null}):t.config[e]}function Lb(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),o=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:o}}function gD(t){const e=[],{nodeExtensions:n,markExtensions:o}=Lb(t),r=[...n,...o],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:r},a=K(s,"addGlobalAttributes",l);if(!a)return;a().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...i,...h}})})})})}),r.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=K(s,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function jt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function no(...t){return t.filter(e=>!!e).reduce((e,n)=>{const o={...e};return Object.entries(n).forEach(([r,i])=>{if(!o[r]){o[r]=i;return}if(r==="class"){const l=i?String(i).split(" "):[],a=o[r]?o[r].split(" "):[],c=l.filter(u=>!a.includes(u));o[r]=[...a,...c].join(" ")}else if(r==="style"){const l=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],a=o[r]?o[r].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),o[r]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else o[r]=i}),o},{})}function Rm(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,o)=>no(n,o),{})}function bD(t){return typeof t=="function"}function me(t,e=void 0,...n){return bD(t)?e?t.bind(e)(...n):t(...n):t}function eG(t={}){return Object.keys(t).length===0&&t.constructor===Object}function tG(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function RM(t,e){return"style"in t?t:{...t,getAttrs:n=>{const o=t.getAttrs?t.getAttrs(n):t.attrs;if(o===!1)return!1;const r=e.reduce((i,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):tG(n.getAttribute(s.name));return l==null?i:{...i,[s.name]:l}},{});return{...o,...r}}}}function OM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&eG(n)?!1:n!=null))}function yD(t,e){var n;const o=gD(t),{nodeExtensions:r,markExtensions:i}=Lb(t),s=(n=r.find(c=>K(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(c=>{const u=o.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,w)=>{const k=K(w,"extendNodeSchema",d);return{...y,...k?k(c):{}}},{}),h=OM({...f,content:me(K(c,"content",d)),marks:me(K(c,"marks",d)),group:me(K(c,"group",d)),inline:me(K(c,"inline",d)),atom:me(K(c,"atom",d)),selectable:me(K(c,"selectable",d)),draggable:me(K(c,"draggable",d)),code:me(K(c,"code",d)),whitespace:me(K(c,"whitespace",d)),linebreakReplacement:me(K(c,"linebreakReplacement",d)),defining:me(K(c,"defining",d)),isolating:me(K(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var w;return[y.name,{default:(w=y==null?void 0:y.attribute)===null||w===void 0?void 0:w.default}]}))}),p=me(K(c,"parseHTML",d));p&&(h.parseDOM=p.map(y=>RM(y,u)));const m=K(c,"renderHTML",d);m&&(h.toDOM=y=>m({node:y,HTMLAttributes:Rm(y,u)}));const b=K(c,"renderText",d);return b&&(h.toText=b),[c.name,h]})),a=Object.fromEntries(i.map(c=>{const u=o.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((b,y)=>{const w=K(y,"extendMarkSchema",d);return{...b,...w?w(c):{}}},{}),h=OM({...f,inclusive:me(K(c,"inclusive",d)),excludes:me(K(c,"excludes",d)),group:me(K(c,"group",d)),spanning:me(K(c,"spanning",d)),code:me(K(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),p=me(K(c,"parseHTML",d));p&&(h.parseDOM=p.map(b=>RM(b,u)));const m=K(c,"renderHTML",d);return m&&(h.toDOM=b=>m({mark:b,HTMLAttributes:Rm(b,u)})),[c.name,h]}));return new sO({topNode:s,nodes:l,marks:a})}function P0(t,e){return e.nodes[t]||e.marks[t]||null}function DM(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function cC(t,e){const n=_i.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const nG=(t,e=500)=>{let n="";const o=t.parentOffset;return t.parent.nodesBetween(Math.max(0,o-e),o,(r,i,s,l)=>{var a,c;const u=((c=(a=r.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:r,pos:i,parent:s,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,o-i))}),n};function uC(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class xs{constructor(e){this.find=e.find,this.handler=e.handler}}const oG=(t,e)=>{if(uC(e))return e.exec(t);const n=e(t);if(!n)return null;const o=[n.text];return o.index=n.index,o.input=t,o.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),o.push(n.replaceWith)),o};function Lh(t){var e;const{editor:n,from:o,to:r,text:i,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(o);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=nG(c)+i;return s.forEach(f=>{if(u)return;const h=oG(d,f.find);if(!h)return;const p=a.state.tr,m=Ob({state:a.state,transaction:p}),b={from:o-(h[0].length-i.length),to:r},{commands:y,chain:w,can:k}=new Db({editor:n,state:m});f.handler({state:m,range:b,match:h,commands:y,chain:w,can:k})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:o,to:r,text:i}),a.dispatch(p),u=!0)}),u}function rG(t){const{editor:e,rules:n}=t,o=new le({state:{init(){return null},apply(r,i,s){const l=r.getMeta(o);if(l)return l;const a=r.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:u}=a;typeof u=="string"?u=u:u=cC(D.from(u),s.schema);const{from:d}=a,f=d+u.length;Lh({editor:e,from:d,to:f,text:u,rules:n,plugin:o})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,s,l){return Lh({editor:e,from:i,to:s,text:l,rules:n,plugin:o})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&Lh({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:o})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:s}=r.state.selection;return s?Lh({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:o}):!1}},isInputRules:!0});return o}function iG(t){return Object.prototype.toString.call(t).slice(8,-1)}function jh(t){return iG(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jb(t,e){const n={...t};return jh(t)&&jh(e)&&Object.keys(e).forEach(o=>{jh(e[o])&&jh(t[o])?n[o]=jb(t[o],e[o]):n[o]=e[o]}),n}class Zt{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(K(this,"addOptions",{name:this.name}))),this.storage=me(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Zt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jb(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Zt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=me(K(n,"addOptions",{name:n.name})),n.storage=me(K(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:o}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=s.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&o.removeStoredMark(a),o.insertText(" ",r.pos),e.view.dispatch(o),!0}return!1}}function sG(t){return typeof t=="number"}class lG{constructor(e){this.find=e.find,this.handler=e.handler}}const aG=(t,e,n)=>{if(uC(e))return[...t.matchAll(e)];const o=e(t,n);return o?o.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function cG(t){const{editor:e,state:n,from:o,to:r,rule:i,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:c,can:u}=new Db({editor:e,state:n}),d=[];return n.doc.nodesBetween(o,r,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const m=Math.max(o,p),b=Math.min(r,p+h.content.size),y=h.textBetween(m-p,b-p,void 0,"￼");aG(y,i.find,s).forEach(k=>{if(k.index===void 0)return;const x=m+k.index+1,C=x+k[0].length,E={from:n.tr.mapping.map(x),to:n.tr.mapping.map(C)},_=i.handler({state:n,range:E,match:k,commands:a,chain:c,can:u,pasteEvent:s,dropEvent:l});d.push(_)})}),d.every(h=>h!==null)}let Bh=null;const uG=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function dG(t){const{editor:e,rules:n}=t;let o=null,r=!1,i=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const a=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const m=u.tr,b=Ob({state:u,transaction:m});if(!(!cG({editor:e,state:b,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:l})||!m.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return n.map(u=>new le({view(d){const f=p=>{var m;o=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null,o&&(Bh=e)},h=()=>{Bh&&(Bh=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(i=o===d.dom.parentElement,l=f,!i){const h=Bh;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=f,r=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],m=p.getMeta("uiEvent")==="paste"&&!r,b=p.getMeta("uiEvent")==="drop"&&!i,y=p.getMeta("applyPasteRules"),w=!!y;if(!m&&!b&&!w)return;if(w){let{text:C}=y;typeof C=="string"?C=C:C=cC(D.from(C),h.schema);const{from:E}=y,_=E+C.length,S=uG(C);return a({rule:u,state:h,from:E,to:{b:_},pasteEvt:S})}const k=f.doc.content.findDiffStart(h.doc.content),x=f.doc.content.findDiffEnd(h.doc.content);if(!(!sG(k)||!x||k===x.b))return a({rule:u,state:h,from:k,to:x,pasteEvt:s})}}))}function fG(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return Array.from(new Set(e))}class cl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=cl.resolve(e),this.schema=yD(this.extensions,n),this.setupExtensions()}static resolve(e){const n=cl.sort(cl.flatten(e)),o=fG(n.map(r=>r.name));return o.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${o.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const o={name:n.name,options:n.options,storage:n.storage},r=K(n,"addExtensions",o);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((o,r)=>{const i=K(o,"priority")||100,s=K(r,"priority")||100;return i>s?-1:i<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:P0(n.name,this.schema)},r=K(n,"addCommands",o);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=cl.sort([...this.extensions].reverse()),o=[],r=[],i=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:P0(s.name,this.schema)},a=[],c=K(s,"addKeyboardShortcuts",l);let u={};if(s.type==="mark"&&K(s,"exitable",l)&&(u.ArrowRight=()=>Zt.handleExit({editor:e,mark:s})),c){const m=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...m}}const d=Oq(u);a.push(d);const f=K(s,"addInputRules",l);DM(s,e.options.enableInputRules)&&f&&o.push(...f());const h=K(s,"addPasteRules",l);DM(s,e.options.enablePasteRules)&&h&&r.push(...h());const p=K(s,"addProseMirrorPlugins",l);if(p){const m=p();a.push(...m)}return a}).flat();return[rG({editor:e,rules:o}),...dG({editor:e,rules:r}),...i]}get attributes(){return gD(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Lb(this.extensions);return Object.fromEntries(n.filter(o=>!!K(o,"addNodeView")).map(o=>{const r=this.attributes.filter(a=>a.type===o.name),i={name:o.name,options:o.options,storage:o.storage,editor:e,type:jt(o.name,this.schema)},s=K(o,"addNodeView",i);if(!s)return[];const l=(a,c,u,d,f)=>{const h=Rm(a,r);return s()({node:a,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:o,HTMLAttributes:h})};return[o.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const o={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:P0(e.name,this.schema)};e.type==="mark"&&(!((n=me(K(e,"keepOnSplit",o)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=K(e,"onBeforeCreate",o),i=K(e,"onCreate",o),s=K(e,"onUpdate",o),l=K(e,"onSelectionUpdate",o),a=K(e,"onTransaction",o),c=K(e,"onFocus",o),u=K(e,"onBlur",o),d=K(e,"onDestroy",o);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Be{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(K(this,"addOptions",{name:this.name}))),this.storage=me(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Be(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jb(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Be({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=me(K(n,"addOptions",{name:n.name})),n.storage=me(K(n,"addStorage",{name:n.name,options:n.options})),n}}function vD(t,e,n){const{from:o,to:r}=e,{blockSeparator:i=`

`,textSerializers:s={}}=n||{};let l="";return t.nodesBetween(o,r,(a,c,u,d)=>{var f;a.isBlock&&c>o&&(l+=i);const h=s==null?void 0:s[a.type.name];if(h)return u&&(l+=h({node:a,pos:c,parent:u,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(o,c)-c,r-c))}),l}function wD(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const kD=Be.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new le({key:new xe("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:o,selection:r}=e,{ranges:i}=r,s=Math.min(...i.map(u=>u.$from.pos)),l=Math.max(...i.map(u=>u.$to.pos)),a=wD(n);return vD(o,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),hG=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),pG=(t=!1)=>({commands:e})=>e.setContent("",t),mG=()=>({state:t,tr:e,dispatch:n})=>{const{selection:o}=e,{ranges:r}=o;return n&&r.forEach(({$from:i,$to:s})=>{t.doc.nodesBetween(i.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(a)),f=c.resolve(u.map(a+l.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Xc(h);if(l.type.isTextblock){const{defaultType:m}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,m)}(p||p===0)&&e.lift(h,p)})}),!0},gG=t=>e=>t(e),bG=()=>({state:t,dispatch:e})=>fD(t,e),yG=(t,e)=>({editor:n,tr:o})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);o.deleteRange(t.from,t.to);const s=o.mapping.map(e);return o.insert(s,i.content),o.setSelection(new Z(o.doc.resolve(Math.max(s-1,0)))),!0},vG=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,o=n.$anchor.node();if(o.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===o.type){if(e){const l=r.before(i),a=r.after(i);t.delete(l,a).scrollIntoView()}return!0}return!1},wG=t=>({tr:e,state:n,dispatch:o})=>{const r=jt(t,n.schema),i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r){if(o){const a=i.before(s),c=i.after(s);e.delete(a,c).scrollIntoView()}return!0}return!1},kG=t=>({tr:e,dispatch:n})=>{const{from:o,to:r}=t;return n&&e.delete(o,r),!0},xG=()=>({state:t,dispatch:e})=>rC(t,e),CG=()=>({commands:t})=>t.keyboardShortcut("Enter"),SG=()=>({state:t,dispatch:e})=>zq(t,e);function Om(t,e,n={strict:!0}){const o=Object.keys(e);return o.length?o.every(r=>n.strict?e[r]===t[r]:uC(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function xD(t,e,n={}){return t.find(o=>o.type===e&&Om(Object.fromEntries(Object.keys(n).map(r=>[r,o.attrs[r]])),n))}function LM(t,e,n={}){return!!xD(t,e,n)}function Hd(t,e,n){var o;if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(n=n||((o=r.node.marks[0])===null||o===void 0?void 0:o.attrs),!xD([...r.node.marks],e,n)))return;let s=r.index,l=t.start()+r.offset,a=s+1,c=l+r.node.nodeSize;for(;s>0&&LM([...t.parent.child(s-1).marks],e,n);)s-=1,l-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&LM([...t.parent.child(a).marks],e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:l,to:c}}function Ps(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const _G=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const i=Ps(t,o.schema),{doc:s,selection:l}=n,{$from:a,from:c,to:u}=l;if(r){const d=Hd(a,i,e);if(d&&d.from<=c&&d.to>=u){const f=Z.create(s,d.from,d.to);n.setSelection(f)}}return!0},EG=t=>e=>{const n=typeof t=="function"?t(e):t;for(let o=0;o<n.length;o+=1)if(n[o](e))return!0;return!1};function Bb(t){return t instanceof Z}function ri(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function CD(t,e=null){if(!e)return null;const n=Q.atStart(t),o=Q.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return o;const r=n.from,i=o.to;return e==="all"?Z.create(t,ri(0,r,i),ri(t.content.size,r,i)):Z.create(t,ri(e,r,i),ri(e,r,i))}function SD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function $b(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const MG=(t=null,e={})=>({editor:n,view:o,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const s=()=>{($b()||SD())&&o.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(o.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(o.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!Bb(n.state.selection))return s(),!0;const l=CD(r.doc,t)||n.state.selection,a=n.state.selection.eq(l);return i&&(a||r.setSelection(l),a&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},TG=(t,e)=>n=>t.every((o,r)=>e(o,{...n,index:r})),AG=(t,e)=>({tr:n,commands:o})=>o.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),_D=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const o=e[n];o.nodeType===3&&o.nodeValue&&/^(\n\s\s|\n)$/.test(o.nodeValue)?t.removeChild(o):o.nodeType===1&&_D(o)}return t};function $h(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return _D(n)}function Vd(t,e,n){if(t instanceof ci||t instanceof D)return t;n={slice:!0,parseOptions:{},...n};const o=typeof t=="object"&&t!==null,r=typeof t=="string";if(o)try{if(Array.isArray(t)&&t.length>0)return D.fromArray(t.map(l=>e.nodeFromJSON(l)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Vd("",e,n)}if(r){if(n.errorOnInvalidContent){let s=!1,l="";const a=new sO({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?ui.fromSchema(a).parseSlice($h(t),n.parseOptions):ui.fromSchema(a).parse($h(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=ui.fromSchema(e);return n.slice?i.parseSlice($h(t),n.parseOptions).content:i.parse($h(t),n.parseOptions)}return Vd("",e,n)}function ED(t,e,n){const o=t.steps.length-1;if(o<e)return;const r=t.steps[o];if(!(r instanceof vt||r instanceof gt))return;const i=t.mapping.maps[o];let s=0;i.forEach((l,a,c,u)=>{s===0&&(s=u)}),t.setSelection(Q.near(t.doc.resolve(s),n))}const NG=t=>!("type"in t),RG=(t,e,n)=>({tr:o,dispatch:r,editor:i})=>{var s;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const a=b=>{i.emit("contentError",{editor:i,error:b,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Vd(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){a(b)}try{l=Vd(e,i.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:i.options.enableContentCheck})}catch(b){return a(b),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((NG(l)?l:[l]).forEach(b=>{b.check(),f=f?b.isText&&b.marks.length===0:!1,h=h?b.isBlock:!1}),u===d&&h){const{parent:b}=o.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,d+=1)}let m;if(f){if(Array.isArray(e))m=e.map(b=>b.text||"").join("");else if(e instanceof D){let b="";e.forEach(y=>{y.text&&(b+=y.text)}),m=b}else typeof e=="object"&&e&&e.text?m=e.text:m=e;o.insertText(m,u,d)}else m=l,o.replaceWith(u,d,m);n.updateSelection&&ED(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:u,text:m}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:u,text:m})}return!0},OG=()=>({state:t,dispatch:e})=>jq(t,e),DG=()=>({state:t,dispatch:e})=>Bq(t,e),LG=()=>({state:t,dispatch:e})=>iD(t,e),jG=()=>({state:t,dispatch:e})=>cD(t,e),BG=()=>({state:t,dispatch:e,tr:n})=>{try{const o=Eb(t.doc,t.selection.$from.pos,-1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},$G=()=>({state:t,dispatch:e,tr:n})=>{try{const o=Eb(t.doc,t.selection.$from.pos,1);return o==null?!1:(n.join(o,2),e&&e(n),!0)}catch{return!1}},zG=()=>({state:t,dispatch:e})=>Dq(t,e),PG=()=>({state:t,dispatch:e})=>Lq(t,e);function MD(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function IG(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let o,r,i,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))o=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))$b()||MD()?s=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return o&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const HG=t=>({editor:e,view:n,tr:o,dispatch:r})=>{const i=IG(t).split(/-(?!$)/),s=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const u=c.map(o.mapping);u&&r&&o.maybeStep(u)}),!0};function Ud(t,e,n={}){const{from:o,to:r,empty:i}=t.selection,s=e?jt(e,t.schema):null,l=[];t.doc.nodesBetween(o,r,(d,f)=>{if(d.isText)return;const h=Math.max(o,f),p=Math.min(r,f+d.nodeSize);l.push({node:d,from:h,to:p})});const a=r-o,c=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Om(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=a}const VG=(t,e={})=>({state:n,dispatch:o})=>{const r=jt(t,n.schema);return Ud(n,r,e)?$q(n,o):!1},UG=()=>({state:t,dispatch:e})=>hD(t,e),FG=t=>({state:e,dispatch:n})=>{const o=jt(t,e.schema);return Wq(o)(e,n)},qG=()=>({state:t,dispatch:e})=>dD(t,e);function zb(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function jM(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((o,r)=>(n.includes(r)||(o[r]=t[r]),o),{})}const GG=(t,e)=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const l=zb(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(i=jt(t,o.schema)),l==="mark"&&(s=Ps(t,o.schema)),r&&n.selection.ranges.forEach(a=>{o.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,jM(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(jM(d.attrs,e)))})})}),!0):!1},ZG=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),KG=()=>({tr:t,dispatch:e})=>{if(e){const n=new Rn(t.doc);t.setSelection(n)}return!0},WG=()=>({state:t,dispatch:e})=>lD(t,e),YG=()=>({state:t,dispatch:e})=>uD(t,e),XG=()=>({state:t,dispatch:e})=>Hq(t,e),JG=()=>({state:t,dispatch:e})=>Fq(t,e),QG=()=>({state:t,dispatch:e})=>Uq(t,e);function Dm(t,e,n={},o={}){return Vd(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:o.errorOnInvalidContent})}const eZ=(t,e=!1,n={},o={})=>({editor:r,tr:i,dispatch:s,commands:l})=>{var a,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=Dm(t,r.schema,n,{errorOnInvalidContent:(a=o.errorOnInvalidContent)!==null&&a!==void 0?a:r.options.enableContentCheck});return s&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=o.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function TD(t,e){const n=Ps(e,t.schema),{from:o,to:r,empty:i}=t.selection,s=[];i?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(o,r,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function dC(t,e){const n=new qx(t);return e.forEach(o=>{o.steps.forEach(r=>{n.step(r)})}),n}function tZ(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function BM(t,e){const n=[];return t.descendants((o,r)=>{e(o)&&n.push({node:o,pos:r})}),n}function AD(t,e,n){const o=[];return t.nodesBetween(e.from,e.to,(r,i)=>{n(r)&&o.push({node:r,pos:i})}),o}function nZ(t,e){for(let n=t.depth;n>0;n-=1){const o=t.node(n);if(e(o))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:o}}}function Pb(t){return e=>nZ(e.$from,t)}function oZ(t,e){const n=cl.resolve(t);return yD(n,e)}function rZ(t,e){const n={from:0,to:t.content.size};return vD(t,n,e)}function iZ(t,e){const n=jt(e,t.schema),{from:o,to:r}=t.selection,i=[];t.doc.nodesBetween(o,r,l=>{i.push(l)});const s=i.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function ND(t,e){const n=zb(typeof e=="string"?e:e.name,t.schema);return n==="node"?iZ(t,e):n==="mark"?TD(t,e):{}}function sZ(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function lZ(t){const e=sZ(t);return e.length===1?e:e.filter((n,o)=>!e.filter((i,s)=>s!==o).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function RD(t){const{mapping:e,steps:n}=t,o=[];return e.maps.forEach((r,i)=>{const s=[];if(r.ranges.length)r.forEach((l,a)=>{s.push({from:l,to:a})});else{const{from:l,to:a}=n[i];if(l===void 0||a===void 0)return;s.push({from:l,to:a})}s.forEach(({from:l,to:a})=>{const c=e.slice(i).map(l,-1),u=e.slice(i).map(a),d=e.invert().map(c,-1),f=e.invert().map(u);o.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),lZ(o)}function fC(t,e,n){const o=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),s=Hd(i,r.type);s&&o.push({mark:r,...s})}):n.nodesBetween(t,e,(r,i)=>{!r||(r==null?void 0:r.nodeSize)===void 0||o.push(...r.marks.map(s=>({from:i,to:i+r.nodeSize,mark:s})))}),o}function kp(t,e,n){return Object.fromEntries(Object.entries(n).filter(([o])=>{const r=t.find(i=>i.type===e&&i.name===o);return r?r.attribute.keepOnSplit:!1}))}function sw(t,e,n={}){const{empty:o,ranges:r}=t.selection,i=e?Ps(e,t.schema):null;if(o)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Om(d.attrs,n,{strict:!1}));let s=0;const l=[];if(r.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(m,b)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(h,b),w=Math.min(p,b+m.nodeSize),k=w-y;s+=k,l.push(...m.marks.map(x=>({mark:x,from:y,to:w})))})}),s===0)return!1;const a=l.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Om(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=l.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+c:a)>=s}function aZ(t,e,n={}){if(!e)return Ud(t,null,n)||sw(t,null,n);const o=zb(e,t.schema);return o==="node"?Ud(t,e,n):o==="mark"?sw(t,e,n):!1}function $M(t,e){const{nodeExtensions:n}=Lb(e),o=n.find(s=>s.name===t);if(!o)return!1;const r={name:o.name,options:o.options,storage:o.storage},i=me(K(o,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function hC(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var o;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((o=t.text)!==null&&o!==void 0?o:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&(hC(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function lw(t){return t instanceof W}function Lm(t,e,n){const r=t.state.doc.content.size,i=ri(e,0,r),s=ri(n,0,r),l=t.coordsAtPos(i),a=t.coordsAtPos(s,-1),c=Math.min(l.top,a.top),u=Math.max(l.bottom,a.bottom),d=Math.min(l.left,a.left),f=Math.max(l.right,a.right),h=f-d,p=u-c,y={top:c,bottom:u,left:d,right:f,width:h,height:p,x:d,y:c};return{...y,toJSON:()=>y}}function cZ(t,e,n){var o;const{selection:r}=e;let i=null;if(Bb(r)&&(i=r.$cursor),i){const l=(o=t.storedMarks)!==null&&o!==void 0?o:i.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:l,$to:a})=>{let c=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(n));c=h&&p}return!c}),c})}const uZ=(t,e={})=>({tr:n,state:o,dispatch:r})=>{const{selection:i}=n,{empty:s,ranges:l}=i,a=Ps(t,o.schema);if(r)if(s){const c=TD(o,a);n.addStoredMark(a.create({...c,...e}))}else l.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;o.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),m=Math.min(h+f.nodeSize,d);f.marks.find(y=>y.type===a)?f.marks.forEach(y=>{a===y.type&&n.addMark(p,m,a.create({...y.attrs,...e}))}):n.addMark(p,m,a.create(e))})});return cZ(o,n,a)},dZ=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),fZ=(t,e={})=>({state:n,dispatch:o,chain:r})=>{const i=jt(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),i.isTextblock?r().command(({commands:l})=>NM(i,{...s,...e})(n)?!0:l.clearNodes()).command(({state:l})=>NM(i,{...s,...e})(l,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},hZ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,r=ri(t,0,o.content.size),i=W.create(o,r);e.setSelection(i)}return!0},pZ=t=>({tr:e,dispatch:n})=>{if(n){const{doc:o}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,s=Z.atStart(o).from,l=Z.atEnd(o).to,a=ri(r,s,l),c=ri(i,s,l),u=Z.create(o,a,c);e.setSelection(u)}return!0},mZ=t=>({state:e,dispatch:n})=>{const o=jt(t,e.schema);return Jq(o)(e,n)};function zM(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const o=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(o)}}const gZ=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:o,editor:r})=>{const{selection:i,doc:s}=e,{$from:l,$to:a}=i,c=r.extensionManager.attributes,u=kp(c,l.node().type.name,l.node().attrs);if(i instanceof W&&i.node.isBlock)return!l.parentOffset||!di(s,l.pos)?!1:(o&&(t&&zM(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:tZ(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=di(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&di(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),o){if(p&&(i instanceof Z&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,h),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const m=e.mapping.map(l.before()),b=e.doc.resolve(m);l.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&zM(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return p},bZ=(t,e={})=>({tr:n,state:o,dispatch:r,editor:i})=>{var s;const l=jt(t,o.schema),{$from:a,$to:c}=o.selection,u=o.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(c))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let y=D.empty;const w=a.index(-1)?1:a.index(-2)?2:3;for(let S=a.depth-w;S>=a.depth-3;S-=1)y=D.from(a.node(S).copy(y));const k=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,x={...kp(f,a.node().type.name,a.node().attrs),...e},C=((s=l.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(x))||void 0;y=y.append(D.from(l.createAndFill(null,C)||void 0));const E=a.before(a.depth-(w-1));n.replace(E,a.after(-k),new H(y,4-w,0));let _=-1;n.doc.nodesBetween(E,n.doc.content.size,(S,M)=>{if(_>-1)return!1;S.isTextblock&&S.content.size===0&&(_=M+1)}),_>-1&&n.setSelection(Z.near(n.doc.resolve(_))),n.scrollIntoView()}return!0}const h=c.pos===a.end()?d.contentMatchAt(0).defaultType:null,p={...kp(f,d.type.name,d.attrs),...e},m={...kp(f,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,c.pos);const b=h?[{type:l,attrs:p},{type:h,attrs:m}]:[{type:l,attrs:p}];if(!di(n.doc,a.pos,2))return!1;if(r){const{selection:y,storedMarks:w}=o,{splittableMarks:k}=i.extensionManager,x=w||y.$to.parentOffset&&y.$from.marks();if(n.split(a.pos,2,b).scrollIntoView(),!x||!r)return!0;const C=x.filter(E=>k.includes(E.type.name));n.ensureMarks(C)}return!0},I0=(t,e)=>{const n=Pb(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&ea(t.doc,n.pos)&&t.join(n.pos),!0},H0=(t,e)=>{const n=Pb(s=>s.type===e)(t.selection);if(!n)return!0;const o=t.doc.resolve(n.start).after(n.depth);if(o===void 0)return!0;const r=t.doc.nodeAt(o);return n.node.type===(r==null?void 0:r.type)&&ea(t.doc,o)&&t.join(o),!0},yZ=(t,e,n,o={})=>({editor:r,tr:i,state:s,dispatch:l,chain:a,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=r.extensionManager,h=jt(t,s.schema),p=jt(e,s.schema),{selection:m,storedMarks:b}=s,{$from:y,$to:w}=m,k=y.blockRange(w),x=b||m.$to.parentOffset&&m.$from.marks();if(!k)return!1;const C=Pb(E=>$M(E.type.name,d))(m);if(k.depth>=1&&C&&k.depth-C.depth<=1){if(C.node.type===h)return c.liftListItem(p);if($M(C.node.type.name,d)&&h.validContent(C.node.content)&&l)return a().command(()=>(i.setNodeMarkup(C.pos,h),!0)).command(()=>I0(i,h)).command(()=>H0(i,h)).run()}return!n||!x||!l?a().command(()=>u().wrapInList(h,o)?!0:c.clearNodes()).wrapInList(h,o).command(()=>I0(i,h)).command(()=>H0(i,h)).run():a().command(()=>{const E=u().wrapInList(h,o),_=x.filter(S=>f.includes(S.type.name));return i.ensureMarks(_),E?!0:c.clearNodes()}).wrapInList(h,o).command(()=>I0(i,h)).command(()=>H0(i,h)).run()},vZ=(t,e={},n={})=>({state:o,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,s=Ps(t,o.schema);return sw(o,s,e)?r.unsetMark(s,{extendEmptyMarkRange:i}):r.setMark(s,e)},wZ=(t,e,n={})=>({state:o,commands:r})=>{const i=jt(t,o.schema),s=jt(e,o.schema),l=Ud(o,i,n);let a;return o.selection.$anchor.sameParent(o.selection.$head)&&(a=o.selection.$anchor.parent.attrs),l?r.setNode(s,a):r.setNode(i,{...a,...n})},kZ=(t,e={})=>({state:n,commands:o})=>{const r=jt(t,n.schema);return Ud(n,r,e)?o.lift(r):o.wrapIn(r,e)},xZ=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let o=0;o<n.length;o+=1){const r=n[o];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const s=t.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else s.delete(i.from,i.to)}return!0}}return!1},CZ=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:o,ranges:r}=n;return o||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},SZ=(t,e={})=>({tr:n,state:o,dispatch:r})=>{var i;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=Ps(t,o.schema),{$from:c,empty:u,ranges:d}=l;if(!r)return!0;if(u&&s){let{from:f,to:h}=l;const p=(i=c.marks().find(b=>b.type===a))===null||i===void 0?void 0:i.attrs,m=Hd(c,a,p);m&&(f=m.from,h=m.to),n.removeMark(f,h,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},_Z=(t,e={})=>({tr:n,state:o,dispatch:r})=>{let i=null,s=null;const l=zb(typeof t=="string"?t:t.name,o.schema);return l?(l==="node"&&(i=jt(t,o.schema)),l==="mark"&&(s=Ps(t,o.schema)),r&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,u=a.$to.pos;let d,f,h,p;n.selection.empty?o.doc.nodesBetween(c,u,(m,b)=>{i&&i===m.type&&(h=Math.max(b,c),p=Math.min(b+m.nodeSize,u),d=b,f=m)}):o.doc.nodesBetween(c,u,(m,b)=>{b<c&&i&&i===m.type&&(h=Math.max(b,c),p=Math.min(b+m.nodeSize,u),d=b,f=m),b>=c&&b<=u&&(i&&i===m.type&&n.setNodeMarkup(b,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(y=>{if(s===y.type){const w=Math.max(b,c),k=Math.min(b+m.nodeSize,u);n.addMark(w,k,s.create({...y.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&n.addMark(h,p,s.create({...m.attrs,...e}))}))}),!0):!1},EZ=(t,e={})=>({state:n,dispatch:o})=>{const r=jt(t,n.schema);return qq(r,e)(n,o)},MZ=(t,e={})=>({state:n,dispatch:o})=>{const r=jt(t,n.schema);return Gq(r,e)(n,o)};var TZ=Object.freeze({__proto__:null,blur:hG,clearContent:pG,clearNodes:mG,command:gG,createParagraphNear:bG,cut:yG,deleteCurrentNode:vG,deleteNode:wG,deleteRange:kG,deleteSelection:xG,enter:CG,exitCode:SG,extendMarkRange:_G,first:EG,focus:MG,forEach:TG,insertContent:AG,insertContentAt:RG,joinBackward:LG,joinDown:DG,joinForward:jG,joinItemBackward:BG,joinItemForward:$G,joinTextblockBackward:zG,joinTextblockForward:PG,joinUp:OG,keyboardShortcut:HG,lift:VG,liftEmptyBlock:UG,liftListItem:FG,newlineInCode:qG,resetAttributes:GG,scrollIntoView:ZG,selectAll:KG,selectNodeBackward:WG,selectNodeForward:YG,selectParentNode:XG,selectTextblockEnd:JG,selectTextblockStart:QG,setContent:eZ,setMark:uZ,setMeta:dZ,setNode:fZ,setNodeSelection:hZ,setTextSelection:pZ,sinkListItem:mZ,splitBlock:gZ,splitListItem:bZ,toggleList:yZ,toggleMark:vZ,toggleNode:wZ,toggleWrap:kZ,undoInputRule:xZ,unsetAllMarks:CZ,unsetMark:SZ,updateAttributes:_Z,wrapIn:EZ,wrapInList:MZ});const OD=Be.create({name:"commands",addCommands(){return{...TZ}}}),DD=Be.create({name:"drop",addProseMirrorPlugins(){return[new le({key:new xe("tiptapDrop"),props:{handleDrop:(t,e,n,o)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:o})}}})]}}),LD=Be.create({name:"editable",addProseMirrorPlugins(){return[new le({key:new xe("editable"),props:{editable:()=>this.editor.options.editable}})]}}),jD=new xe("focusEvents"),BD=Be.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new le({key:jD,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const o=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1},blur:(e,n)=>{t.isFocused=!1;const o=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(o),!1}}}})]}}),$D=Be.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:u,$anchor:d}=a,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,m=p.parent.type.spec.isolating,b=d.pos-d.parentOffset,y=m&&p.parent.childCount===1?b===d.pos:Q.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),o={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...o},i={...o,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $b()||MD()?i:r},addProseMirrorPlugins(){return[new le({key:new xe("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(m=>m.getMeta("composition")))return;const o=t.some(m=>m.docChanged)&&!e.doc.eq(n.doc),r=t.some(m=>m.getMeta("preventClearDocument"));if(!o||r)return;const{empty:i,from:s,to:l}=e.selection,a=Q.atStart(e.doc).from,c=Q.atEnd(e.doc).to;if(i||!(s===a&&l===c)||!hC(n.doc))return;const f=n.tr,h=Ob({state:n,transaction:f}),{commands:p}=new Db({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),zD=Be.create({name:"paste",addProseMirrorPlugins(){return[new le({key:new xe("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),PD=Be.create({name:"tabindex",addProseMirrorPlugins(){return[new le({key:new xe("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Eu=Object.freeze({__proto__:null,ClipboardTextSerializer:kD,Commands:OD,Drop:DD,Editable:LD,FocusEvents:BD,Keymap:$D,Paste:zD,Tabindex:PD,focusEventsPluginKey:jD});class nl{get name(){return this.node.type.name}constructor(e,n,o=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=o,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,o=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,o=this.to-1}this.editor.commands.insertContentAt({from:n,to:o},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new nl(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new nl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new nl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,o)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+o+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(s);if(!r&&l.depth<=this.depth)return;const a=new nl(l,this.editor,r,r?n:null);r&&(a.actualDepth=this.depth+1),e.push(new nl(l,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let o=null,r=this.parent;for(;r&&!o;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const a=s[l];if(i[a]!==n[a])break}}else o=r;r=r.parent}return o}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},o=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(s=>{o&&r.length>0||(s.node.type.name===e&&i.every(a=>n[a]===s.node.attrs[a])&&r.push(s),!(o&&r.length>0)&&(r=r.concat(s.querySelectorAll(e,n,o))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const AZ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function NZ(t,e,n){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class RZ extends Qq{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:o,moved:r})=>this.options.onDrop(n,o,r)),this.on("paste",({event:n,slice:o})=>this.options.onPaste(n,o)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=NZ(AZ,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const o=bD(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let o=n;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;o=o.filter(l=>!l.key.startsWith(s))}),n.length===o.length)return;const r=this.state.reconfigure({plugins:o});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[LD,kD.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),OD,BD,$D,PD,DD,zD].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new cl(r,this)}createCommandManager(){this.commandManager=new Db({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=Dm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),n=Dm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const o=CD(n,this.options.autofocus);this.view=new nC(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:sl.create({doc:n,selection:o||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),o=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),o&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return ND(this.state,e)}isActive(e,n){const o=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return aZ(this.state,o,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:o={}}=e||{};return rZ(this.state.doc,{blockSeparator:n,textSerializers:{...wD(this.schema),...o}})}get isEmpty(){return hC(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelector(e,n))||null}$nodes(e,n){var o;return((o=this.$doc)===null||o===void 0?void 0:o.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new nl(n,this)}get $doc(){return this.$pos(0)}}function Ac(t){return new xs({find:t.find,handler:({state:e,range:n,match:o})=>{const r=me(t.getAttributes,void 0,o);if(r===!1||r===null)return null;const{tr:i}=e,s=o[o.length-1],l=o[0];if(s){const a=l.search(/\S/),c=n.from+l.indexOf(s),u=c+s.length;if(fC(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===t.type&&m!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+a,c);const f=n.from+a+s.length;i.addMark(n.from+a,f,t.type.create(r||{})),i.removeStoredMark(t.type)}}})}let Or=class aw{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=me(K(this,"addOptions",{name:this.name}))),this.storage=me(K(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new aw(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>jb(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new aw(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=me(K(n,"addOptions",{name:n.name})),n.storage=me(K(n,"addStorage",{name:n.name,options:n.options})),n}};class OZ{constructor(e,n,o){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...o},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,o,r,i,s,l,a;const{view:c}=this.editor,u=e.target,d=u.nodeType===3?(n=u.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):u.closest("[data-drag-handle]");if(!this.dom||!((o=this.contentDOM)===null||o===void 0)&&o.contains(u)||!d)return;let f=0,h=0;if(this.dom!==d){const w=this.dom.getBoundingClientRect(),k=d.getBoundingClientRect(),x=(r=e.offsetX)!==null&&r!==void 0?r:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,C=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;f=k.x-w.x+x,h=k.y-w.y+C}const p=this.dom.cloneNode(!0);(a=e.dataTransfer)===null||a===void 0||a.setDragImage(p,f,h);const m=this.getPos();if(typeof m!="number")return;const b=W.create(c.state.doc,m),y=c.state.tr.setSelection(b);c.dispatch(y)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const o=e.target;if(!(this.dom.contains(o)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(o))))return!1;const i=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(o.tagName)||o.isContentEditable)&&!s&&!i)return!0;const{isEditable:a}=this.editor,{isDragging:c}=this,u=!!this.node.type.spec.draggable,d=W.isSelectable(this.node),f=e.type==="copy",h=e.type==="paste",p=e.type==="cut",m=e.type==="mousedown";if(!u&&d&&i&&e.target===this.dom&&e.preventDefault(),u&&i&&!c&&e.target===this.dom)return e.preventDefault(),!1;if(u&&a&&!c&&m){const b=o.closest("[data-drag-handle]");b&&(this.dom===b||this.dom.contains(b))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||s||f||h||p||m&&d)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&($b()||SD())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(o=>o.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const o=this.getPos();return typeof o!="number"?!1:(n.setNodeMarkup(o,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Bl(t){return new lG({find:t.find,handler:({state:e,range:n,match:o,pasteEvent:r})=>{const i=me(t.getAttributes,void 0,o,r);if(i===!1||i===null)return null;const{tr:s}=e,l=o[o.length-1],a=o[0];let c=n.to;if(l){const u=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(fC(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===t.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+l.length,s.addMark(n.from+u,c,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}var zh,DZ=new Uint8Array(16);function LZ(){if(!zh&&(zh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zh(DZ)}const jZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function BZ(t){return typeof t=="string"&&jZ.test(t)}var Pt=[];for(var V0=0;V0<256;++V0)Pt.push((V0+256).toString(16).substr(1));function $Z(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Pt[t[e+0]]+Pt[t[e+1]]+Pt[t[e+2]]+Pt[t[e+3]]+"-"+Pt[t[e+4]]+Pt[t[e+5]]+"-"+Pt[t[e+6]]+Pt[t[e+7]]+"-"+Pt[t[e+8]]+Pt[t[e+9]]+"-"+Pt[t[e+10]]+Pt[t[e+11]]+Pt[t[e+12]]+Pt[t[e+13]]+Pt[t[e+14]]+Pt[t[e+15]]).toLowerCase();if(!BZ(n))throw TypeError("Stringified UUID is invalid");return n}function ID(t,e,n){t=t||{};var o=t.random||(t.rng||LZ)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,$Z(o)}var zZ=class HD{constructor(e){this.cache=new Map(e)}get(e){return this.cache.get(e)}set(e,n,o){e<0||this.cache.set(e,[n,o])}replace(e,n,o,r){this.remove(e),this.set(n,o,r)}remove(e){this.cache.delete(e)}invalidate(e){const n=new HD(this.cache),o=e.mapping;return this.cache.forEach(([r,i],s)=>{if(s<0)return;const l=o.mapResult(s),a=e.doc.nodeAt(l.pos);if(l.deleted||!(a!=null&&a.eq(r)))n.remove(s);else if(s!==l.pos){const c=i.map(u=>u.map(o,0,0)).filter(u=>u!=null);n.replace(s,l.pos,a,c)}}),n}};function PZ({parser:t,nodeTypes:e=["code_block","codeBlock"],languageExtractor:n=o=>o.attrs.language}){const o=new xe("prosemirror-highlight");return new le({key:o,state:{init(r,i){const s=new zZ,[l,a]=PM(i.doc,t,e,n,s);return{cache:s,decorations:l,promises:a}},apply:(r,i)=>{const s=i.cache.invalidate(r),l=!!r.getMeta("prosemirror-highlight-refresh");if(!r.docChanged&&!l){const u=i.decorations.map(r.mapping,r.doc),d=i.promises;return{cache:s,decorations:u,promises:d}}const[a,c]=PM(r.doc,t,e,n,s);return{cache:s,decorations:a,promises:c}}},view:r=>{const i=new Set,s=()=>{if(i.size>0)return;const a=r.state.tr.setMeta("prosemirror-highlight-refresh",!0);r.dispatch(a)},l=()=>{var a;const c=o.getState(r.state);for(const u of(a=c==null?void 0:c.promises)!=null?a:[])i.add(u),u.then(()=>{i.delete(u),s()}).catch(()=>{i.delete(u)})};return l(),{update:()=>{l()}}},props:{decorations(r){var i;return(i=this.getState(r))==null?void 0:i.decorations}}})}function PM(t,e,n,o,r){const i=[],s=[];return t.descendants((l,a)=>{if(!l.type.isTextblock)return!0;if(n.includes(l.type.name)){const c=o(l),u=r.get(a);if(u){const[d,f]=u;i.push(...f)}else{const d=e({content:l.textContent,language:c||void 0,pos:a,size:l.nodeSize});d&&Array.isArray(d)?(r.set(a,l,d),i.push(...d)):d instanceof Promise&&(r.remove(a),s.push(d))}}return!1}),[he.create(t,i),s]}function IZ(t,e){return function({content:o,language:r,pos:i,size:s}){var l;const a=[],{tokens:c,fg:u,bg:d,rootStyle:f}=t.codeToTokens(o,{lang:r,theme:t.getLoadedThemes()[0]}),h=f||(u&&d?`--prosemirror-highlight:${u};--prosemirror-highlight-bg:${d}`:"");if(h){const m=Te.node(i,i+s,{style:h});a.push(m)}let p=i+1;for(const m of c){for(const b of m){const y=p+b.content.length,w=Te.inline(p,y,{style:HZ((l=b.htmlStyle)!=null?l:`color: ${b.color}`),class:"shiki"});a.push(w),p=y}p+=1}return a}}function HZ(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const VZ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,UZ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,FZ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qZ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,GZ=Zt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",no(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ac({find:VZ,type:this.type}),Ac({find:FZ,type:this.type})]},addPasteRules(){return[Bl({find:UZ,type:this.type}),Bl({find:qZ,type:this.type})]}}),ZZ=/(^|[^`])`([^`]+)`(?!`)/,KZ=/(^|[^`])`([^`]+)`(?!`)/g,WZ=Zt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",no(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ac({find:ZZ,type:this.type})]},addPasteRules(){return[Bl({find:KZ,type:this.type})]}}),YZ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,XZ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,JZ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,QZ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,eK=Zt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",no(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ac({find:YZ,type:this.type}),Ac({find:JZ,type:this.type})]},addPasteRules(){return[Bl({find:XZ,type:this.type}),Bl({find:QZ,type:this.type})]}}),tK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,nK=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,oK=Zt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",no(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ac({find:tK,type:this.type})]},addPasteRules(){return[Bl({find:nK,type:this.type})]}}),rK=Zt.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",no(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),iK=Or.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",no(this.options.HTMLAttributes,t),0]}}),sK=Or.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(o=>parseInt(o,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",no(this.options.HTMLAttributes,t),0]}});var cw,uw;if(typeof WeakMap<"u"){let t=new WeakMap;cw=e=>t.get(e),uw=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;cw=o=>{for(let r=0;r<t.length;r+=2)if(t[r]==o)return t[r+1]},uw=(o,r)=>(n==10&&(n=0),t[n++]=o,t[n++]=r)}var Qe=class{constructor(t,e,n,o){this.width=t,this.height=e,this.map=n,this.problems=o}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const o=e%this.width,r=e/this.width|0;let i=o+1,s=r+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:o,top:r,right:i,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:o,right:r,top:i,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?o==0:r==this.width)?null:this.map[i*this.width+(n<0?o-1:r)]:(n<0?i==0:s==this.height)?null:this.map[o+this.width*(n<0?i-1:s)]}rectBetween(t,e){const{left:n,right:o,top:r,bottom:i}=this.findCell(t),{left:s,right:l,top:a,bottom:c}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(r,a),right:Math.max(o,l),bottom:Math.max(i,c)}}cellsInRect(t){const e=[],n={};for(let o=t.top;o<t.bottom;o++)for(let r=t.left;r<t.right;r++){const i=o*this.width+r,s=this.map[i];n[s]||(n[s]=!0,!(r==t.left&&r&&this.map[i-1]==s||o==t.top&&o&&this.map[i-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let o=0,r=0;;o++){const i=r+n.child(o).nodeSize;if(o==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<r;)s++;return s==l?i-1:this.map[s]}r=i}}static get(t){return cw(t)||uw(t,lK(t))}};function lK(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=aK(t),n=t.childCount,o=[];let r=0,i=null;const s=[];for(let c=0,u=e*n;c<u;c++)o[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;r<o.length&&o[r]!=0;)r++;if(p==d.childCount)break;const m=d.child(p),{colspan:b,rowspan:y,colwidth:w}=m.attrs;for(let k=0;k<y;k++){if(k+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:y-k});break}const x=r+k*e;for(let C=0;C<b;C++){o[x+C]==0?o[x+C]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:b-C});const E=w&&w[C];if(E){const _=(x+C)%e*2,S=s[_];S==null||S!=E&&s[_+1]==1?(s[_]=E,s[_+1]=1):S==E&&s[_+1]++}}}r+=b,u+=m.nodeSize}const f=(c+1)*e;let h=0;for(;r<f;)o[r++]==0&&h++;h&&(i||(i=[])).push({type:"missing",row:c,n:h}),u++}(e===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new Qe(e,n,o,i);let a=!1;for(let c=0;!a&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(a=!0);return a&&cK(l,s,t),l}function aK(t){let e=-1,n=!1;for(let o=0;o<t.childCount;o++){const r=t.child(o);let i=0;if(n)for(let s=0;s<o;s++){const l=t.child(s);for(let a=0;a<l.childCount;a++){const c=l.child(a);s+c.attrs.rowspan>o&&(i+=c.attrs.colspan)}}for(let s=0;s<r.childCount;s++){const l=r.child(s);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}function cK(t,e,n){t.problems||(t.problems=[]);const o={};for(let r=0;r<t.map.length;r++){const i=t.map[r];if(o[i])continue;o[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let l=null;const a=s.attrs;for(let c=0;c<a.colspan;c++){const u=(r+c)%t.width,d=e[u*2];d!=null&&(!a.colwidth||a.colwidth[c]!=d)&&((l||(l=uK(a)))[c]=d)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function uK(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function on(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const o=t.nodes[n],r=o.spec.tableRole;r&&(e[r]=o)}}return e}var Gi=new xe("selectingCells");function Jc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function dK(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Dr(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function pC(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Jc(e.$head)||fK(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function fK(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const o=e.type.spec.tableRole;if(o=="cell"||o=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function dw(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function hK(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function mC(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function VD(t,e,n){const o=t.node(-1),r=Qe.get(o),i=t.start(-1),s=r.nextCell(t.pos-i,e,n);return s==null?null:t.node(0).resolve(i+s)}function $l(t,e,n=1){const o={...t,colspan:t.colspan-n};return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(e,n),o.colwidth.some(r=>r>0)||(o.colwidth=null)),o}function UD(t,e,n=1){const o={...t,colspan:t.colspan+n};if(o.colwidth){o.colwidth=o.colwidth.slice();for(let r=0;r<n;r++)o.colwidth.splice(e,0,0)}return o}function pK(t,e,n){const o=on(e.type.schema).header_cell;for(let r=0;r<t.height;r++)if(e.nodeAt(t.map[n+r*t.width]).type!=o)return!1;return!0}var je=class Zr extends Q{constructor(e,n=e){const o=e.node(-1),r=Qe.get(o),i=e.start(-1),s=r.rectBetween(e.pos-i,n.pos-i),l=e.node(0),a=r.cellsInRect(s).filter(u=>u!=n.pos-i);a.unshift(n.pos-i);const c=a.map(u=>{const d=o.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const f=i+u+1;return new xO(l.resolve(f),l.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const o=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(dw(o)&&dw(r)&&mC(o,r)){const i=this.$anchorCell.node(-1)!=o.node(-1);return i&&this.isRowSelection()?Zr.rowSelection(o,r):i&&this.isColSelection()?Zr.colSelection(o,r):new Zr(o,r)}return Z.between(o,r)}content(){const e=this.$anchorCell.node(-1),n=Qe.get(e),o=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),i={},s=[];for(let a=r.top;a<r.bottom;a++){const c=[];for(let u=a*n.width+r.left,d=r.left;d<r.right;d++,u++){const f=n.map[u];if(i[f])continue;i[f]=!0;const h=n.findCell(f);let p=e.nodeAt(f);if(!p)throw RangeError(`No cell with offset ${f} found`);const m=r.left-h.left,b=h.right-r.right;if(m>0||b>0){let y=p.attrs;if(m>0&&(y=$l(y,0,m)),b>0&&(y=$l(y,y.colspan-b,b)),h.left<r.left){if(p=p.type.createAndFill(y),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else p=p.type.create(y,p.content)}if(h.top<r.top||h.bottom>r.bottom){const y={...p.attrs,rowspan:Math.min(h.bottom,r.bottom)-Math.max(h.top,r.top)};h.top<r.top?p=p.type.createAndFill(y):p=p.type.create(y,p.content)}c.push(p)}s.push(e.child(a).copy(D.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new H(D.from(l),1,1)}replace(e,n=H.empty){const o=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){const{$from:l,$to:a}=r[s],c=e.mapping.slice(o);e.replace(c.map(l.pos),c.map(a.pos),s?H.empty:n)}const i=Q.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new H(D.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),o=Qe.get(n),r=this.$anchorCell.start(-1),i=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let s=0;s<i.length;s++)e(n.nodeAt(i[s]),r+i[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const o=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(o,r)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const o=e.node(-1),r=Qe.get(o),i=e.start(-1),s=r.findCell(e.pos-i),l=r.findCell(n.pos-i),a=e.node(0);return s.top<=l.top?(s.top>0&&(e=a.resolve(i+r.map[s.left])),l.bottom<r.height&&(n=a.resolve(i+r.map[r.width*(r.height-1)+l.right-1]))):(l.top>0&&(n=a.resolve(i+r.map[l.left])),s.bottom<r.height&&(e=a.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))),new Zr(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Qe.get(e),o=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-o),i=n.colCount(this.$headCell.pos-o);if(Math.min(r,i)>0)return!1;const s=r+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(e){return e instanceof Zr&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const o=e.node(-1),r=Qe.get(o),i=e.start(-1),s=r.findCell(e.pos-i),l=r.findCell(n.pos-i),a=e.node(0);return s.left<=l.left?(s.left>0&&(e=a.resolve(i+r.map[s.top*r.width])),l.right<r.width&&(n=a.resolve(i+r.map[r.width*(l.top+1)-1]))):(l.left>0&&(n=a.resolve(i+r.map[l.top*r.width])),s.right<r.width&&(e=a.resolve(i+r.map[r.width*(s.top+1)-1]))),new Zr(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Zr(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,o=n){return new Zr(e.resolve(n),e.resolve(o))}getBookmark(){return new mK(this.$anchorCell.pos,this.$headCell.pos)}};je.prototype.visible=!1;Q.jsonID("cell",je);var mK=class FD{constructor(e,n){this.anchor=e,this.head=n}map(e){return new FD(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),o=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&o.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&o.index()<o.parent.childCount&&mC(n,o)?new je(n,o):Q.near(o,1)}};function gK(t){if(!(t.selection instanceof je))return null;const e=[];return t.selection.forEachCell((n,o)=>{e.push(Te.node(o,o+n.nodeSize,{class:"selectedCell"}))}),he.create(t.doc,e)}function bK({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,o=e.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,o--);return n==o&&/row|table/.test(t.node(r).type.spec.tableRole)}function yK({$from:t,$to:e}){let n,o;for(let r=t.depth;r>0;r--){const i=t.node(r);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let r=e.depth;r>0;r--){const i=e.node(r);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){o=i;break}}return n!==o&&e.parentOffset===0}function vK(t,e,n){const o=(e||t).selection,r=(e||t).doc;let i,s;if(o instanceof W&&(s=o.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=je.create(r,o.from);else if(s=="row"){const l=r.resolve(o.from+1);i=je.rowSelection(l,l)}else if(!n){const l=Qe.get(o.node),a=o.from+1,c=a+l.map[l.width*l.height-1];i=je.create(r,a+1,c)}}else o instanceof Z&&bK(o)?i=Z.create(r,o.from):o instanceof Z&&yK(o)&&(i=Z.create(r,o.$from.start(),o.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}var wK=new xe("fix-tables");function qD(t,e,n,o){const r=t.childCount,i=e.childCount;e:for(let s=0,l=0;s<i;s++){const a=e.child(s);for(let c=l,u=Math.min(r,s+3);c<u;c++)if(t.child(c)==a){l=c+1,n+=a.nodeSize;continue e}o(a,n),l<r&&t.child(l).sameMarkup(a)?qD(t.child(l),a,n+1,o):a.nodesBetween(0,a.content.size,o,n+1),n+=a.nodeSize}}function kK(t,e){let n;const o=(r,i)=>{r.type.spec.tableRole=="table"&&(n=xK(t,r,i,n))};return e?e.doc!=t.doc&&qD(e.doc,t.doc,0,o):t.doc.descendants(o),n}function xK(t,e,n,o){const r=Qe.get(e);if(!r.problems)return o;o||(o=t.tr);const i=[];for(let a=0;a<r.height;a++)i.push(0);for(let a=0;a<r.problems.length;a++){const c=r.problems[a];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let f=0;f<d.rowspan;f++)i[c.row+f]+=c.n;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,$l(d,d.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;o.setNodeMarkup(o.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=o.mapping.map(n);o.delete(u,u+e.nodeSize)}}let s,l;for(let a=0;a<i.length;a++)i[a]&&(s==null&&(s=a),l=a);for(let a=0,c=n+1;a<r.height;a++){const u=e.child(a),d=c+u.nodeSize,f=i[a];if(f>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const p=[];for(let b=0;b<f;b++){const y=on(t.schema)[h].createAndFill();y&&p.push(y)}const m=(a==0||s==a-1)&&l==a?c+1:d-1;o.insert(o.mapping.map(m),p)}c=d}return o.setMeta(wK,{fixTables:!0})}function Lr(t){const e=t.selection,n=pC(t),o=n.node(-1),r=n.start(-1),i=Qe.get(o);return{...e instanceof je?i.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r):i.findCell(n.pos-r),tableStart:r,map:i,table:o}}function GD(t,{map:e,tableStart:n,table:o},r){let i=r>0?-1:0;pK(e,o,r+i)&&(i=r==0||r==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+r;if(r>0&&r<e.width&&e.map[l-1]==e.map[l]){const a=e.map[l],c=o.nodeAt(a);t.setNodeMarkup(t.mapping.map(n+a),null,UD(c.attrs,r-e.colCount(a))),s+=c.attrs.rowspan-1}else{const a=i==null?on(o.type.schema).cell:o.nodeAt(e.map[l+i]).type,c=e.positionAt(s,r,o);t.insert(t.mapping.map(n+c),a.createAndFill())}}return t}function CK(t,e){if(!Dr(t))return!1;if(e){const n=Lr(t);e(GD(t.tr,n,n.left))}return!0}function SK(t,e){if(!Dr(t))return!1;if(e){const n=Lr(t);e(GD(t.tr,n,n.right))}return!0}function _K(t,{map:e,table:n,tableStart:o},r){const i=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+r,a=e.map[l],c=n.nodeAt(a),u=c.attrs;if(r>0&&e.map[l-1]==a||r<e.width-1&&e.map[l+1]==a)t.setNodeMarkup(t.mapping.slice(i).map(o+a),null,$l(u,r-e.colCount(a)));else{const d=t.mapping.slice(i).map(o+a);t.delete(d,d+c.nodeSize)}s+=u.rowspan}}function EK(t,e){if(!Dr(t))return!1;if(e){const n=Lr(t),o=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;_K(o,n,r),r!=n.left;r--){const i=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Qe.get(i)}e(o)}return!0}function MK(t,e,n){var o;const r=on(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((o=e.nodeAt(t.map[i+n*t.width]))==null?void 0:o.type)!=r)return!1;return!0}function ZD(t,{map:e,tableStart:n,table:o},r){var i;let s=n;for(let c=0;c<r;c++)s+=o.child(c).nodeSize;const l=[];let a=r>0?-1:0;MK(e,o,r+a)&&(a=r==0||r==e.height?null:0);for(let c=0,u=e.width*r;c<e.width;c++,u++)if(r>0&&r<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],f=o.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{const d=a==null?on(o.type.schema).cell:(i=o.nodeAt(e.map[u+a*e.width]))==null?void 0:i.type,f=d==null?void 0:d.createAndFill();f&&l.push(f)}return t.insert(s,on(o.type.schema).row.create(null,l)),t}function TK(t,e){if(!Dr(t))return!1;if(e){const n=Lr(t);e(ZD(t.tr,n,n.top))}return!0}function AK(t,e){if(!Dr(t))return!1;if(e){const n=Lr(t);e(ZD(t.tr,n,n.bottom))}return!0}function NK(t,{map:e,table:n,tableStart:o},r){let i=0;for(let c=0;c<r;c++)i+=n.child(c).nodeSize;const s=i+n.child(r).nodeSize,l=t.mapping.maps.length;t.delete(i+o,s+o);const a=new Set;for(let c=0,u=r*e.width;c<e.width;c++,u++){const d=e.map[u];if(!a.has(d)){if(a.add(d),r>0&&d==e.map[u-e.width]){const f=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(l).map(d+o),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(r<e.height&&d==e.map[u+e.width]){const f=n.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),m=e.positionAt(r+1,c,n);t.insert(t.mapping.slice(l).map(o+m),p),c+=h.colspan-1}}}}function RK(t,e){if(!Dr(t))return!1;if(e){const n=Lr(t),o=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;NK(o,n,r),r!=n.top;r--){const i=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Qe.get(n.table)}e(o)}return!0}function IM(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function OK({width:t,height:e,map:n},o){let r=o.top*t+o.left,i=r,s=(o.bottom-1)*t+o.left,l=r+(o.right-o.left-1);for(let a=o.top;a<o.bottom;a++){if(o.left>0&&n[i]==n[i-1]||o.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let a=o.left;a<o.right;a++){if(o.top>0&&n[r]==n[r-t]||o.bottom<e&&n[s]==n[s+t])return!0;r++,s++}return!1}function DK(t,e){const n=t.selection;if(!(n instanceof je)||n.$anchorCell.pos==n.$headCell.pos)return!1;const o=Lr(t),{map:r}=o;if(OK(r,o))return!1;if(e){const i=t.tr,s={};let l=D.empty,a,c;for(let u=o.top;u<o.bottom;u++)for(let d=o.left;d<o.right;d++){const f=r.map[u*r.width+d],h=o.table.nodeAt(f);if(!(s[f]||!h))if(s[f]=!0,a==null)a=f,c=h;else{IM(h)||(l=l.append(h.content));const p=i.mapping.map(f+o.tableStart);i.delete(p,p+h.nodeSize)}}if(a==null||c==null)return!0;if(i.setNodeMarkup(a+o.tableStart,null,{...UD(c.attrs,c.attrs.colspan,o.right-o.left-c.attrs.colspan),rowspan:o.bottom-o.top}),l.size){const u=a+1+c.content.size,d=IM(c)?a+1:u;i.replaceWith(d+o.tableStart,u+o.tableStart,l)}i.setSelection(new je(i.doc.resolve(a+o.tableStart))),e(i)}return!0}function LK(t,e){const n=on(t.schema);return jK(({node:o})=>n[o.type.spec.tableRole])(t,e)}function jK(t){return(e,n)=>{var o;const r=e.selection;let i,s;if(r instanceof je){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{if(i=dK(r.$from),!i)return!1;s=(o=Jc(r.$from))==null?void 0:o.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const a=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const u=Lr(e),d=e.tr;for(let h=0;h<u.right-u.left;h++)a.push(c?{...l,colwidth:c&&c[h]?[c[h]]:null}:l);let f;for(let h=u.top;h<u.bottom;h++){let p=u.map.positionAt(h,u.left,u.table);h==u.top&&(p+=i.nodeSize);for(let m=u.left,b=0;m<u.right;m++,b++)m==u.left&&h==u.top||d.insert(f=d.mapping.map(p+u.tableStart,1),t({node:i,row:h,col:m}).createAndFill(a[b]))}d.setNodeMarkup(s,t({node:i,row:u.top,col:u.left}),a[0]),r instanceof je&&d.setSelection(new je(d.doc.resolve(r.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function BK(t){return function(e,n){if(!Dr(e))return!1;if(n){const o=on(e.schema),r=Lr(e),i=e.tr,s=r.map.cellsInRect(t=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:t=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),l=s.map(a=>r.table.nodeAt(a));for(let a=0;a<s.length;a++)l[a].type==o.header_cell&&i.setNodeMarkup(r.tableStart+s[a],o.cell,l[a].attrs);if(i.steps.length==0)for(let a=0;a<s.length;a++)i.setNodeMarkup(r.tableStart+s[a],o.header_cell,l[a].attrs);n(i)}return!0}}function HM(t,e,n){const o=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let r=0;r<o.length;r++){const i=e.table.nodeAt(o[r]);if(i&&i.type!==n.header_cell)return!1}return!0}function gC(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?BK(t):function(n,o){if(!Dr(n))return!1;if(o){const r=on(n.schema),i=Lr(n),s=n.tr,l=HM("row",i,r),a=HM("column",i,r),u=(t==="column"?l:t==="row"?a:!1)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:i.map.height}:t=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,f=t=="column"?a?r.cell:r.header_cell:t=="row"?l?r.cell:r.header_cell:r.cell;i.map.cellsInRect(d).forEach(h=>{const p=h+i.tableStart,m=s.doc.nodeAt(p);m&&s.setNodeMarkup(p,f,m.attrs)}),o(s)}return!0}}gC("row",{useDeprecatedLogic:!0});gC("column",{useDeprecatedLogic:!0});gC("cell",{useDeprecatedLogic:!0});function $K(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let o=t.index(-1)-1,r=t.before();o>=0;o--){const i=t.node(-1).child(o),s=i.lastChild;if(s)return r-1-s.nodeSize;r-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let o=t.indexAfter(-1),r=t.after();o<n.childCount;o++){const i=n.child(o);if(i.childCount)return r+1;r+=i.nodeSize}}return null}function VM(t){return function(e,n){if(!Dr(e))return!1;const o=$K(pC(e),t);if(o==null)return!1;if(n){const r=e.doc.resolve(o);n(e.tr.setSelection(Z.between(r,hK(r))).scrollIntoView())}return!0}}function Ph(t,e){const n=t.selection;if(!(n instanceof je))return!1;if(e){const o=t.tr,r=on(t.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(r)||o.replace(o.mapping.map(s+1),o.mapping.map(s+i.nodeSize-1),new H(r,0,0))}),o.docChanged&&e(o)}return!0}function zK(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:o}=t;for(;e.childCount==1&&(n>0&&o>0||e.child(0).type.spec.tableRole=="table");)n--,o--,e=e.child(0).content;const r=e.child(0),i=r.type.spec.tableRole,s=r.type.schema,l=[];if(i=="row")for(let a=0;a<e.childCount;a++){let c=e.child(a).content;const u=a?0:Math.max(0,n-1),d=a<e.childCount-1?0:Math.max(0,o-1);(u||d)&&(c=fw(on(s).row,new H(c,u,d)).content),l.push(c)}else if(i=="cell"||i=="header_cell")l.push(n||o?fw(on(s).row,new H(e,n,o)).content:e);else return null;return PK(s,l)}function PK(t,e){const n=[];for(let r=0;r<e.length;r++){const i=e[r];for(let s=i.childCount-1;s>=0;s--){const{rowspan:l,colspan:a}=i.child(s).attrs;for(let c=r;c<r+l;c++)n[c]=(n[c]||0)+a}}let o=0;for(let r=0;r<n.length;r++)o=Math.max(o,n[r]);for(let r=0;r<n.length;r++)if(r>=e.length&&e.push(D.empty),n[r]<o){const i=on(t).cell.createAndFill(),s=[];for(let l=n[r];l<o;l++)s.push(i);e[r]=e[r].append(D.from(s))}return{height:e.length,width:o,rows:e}}function fw(t,e){const n=t.createAndFill();return new qx(n).replace(0,n.content.size,e).doc}function IK({width:t,height:e,rows:n},o,r){if(t!=o){const i=[],s=[];for(let l=0;l<n.length;l++){const a=n[l],c=[];for(let u=i[l]||0,d=0;u<o;d++){let f=a.child(d%a.childCount);u+f.attrs.colspan>o&&(f=f.type.createChecked($l(f.attrs,f.attrs.colspan,u+f.attrs.colspan-o),f.content)),c.push(f),u+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)i[l+h]=(i[l+h]||0)+f.attrs.colspan}s.push(D.from(c))}n=s,t=o}if(e!=r){const i=[];for(let s=0,l=0;s<r;s++,l++){const a=[],c=n[l%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);s+d.attrs.rowspan>r&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,r-d.attrs.rowspan)},d.content)),a.push(d)}i.push(D.from(a))}n=i,e=r}return{width:t,height:e,rows:n}}function HK(t,e,n,o,r,i,s){const l=t.doc.type.schema,a=on(l);let c,u;if(r>e.width)for(let d=0,f=0;d<e.height;d++){const h=n.child(d);f+=h.nodeSize;const p=[];let m;h.lastChild==null||h.lastChild.type==a.cell?m=c||(c=a.cell.createAndFill()):m=u||(u=a.header_cell.createAndFill());for(let b=e.width;b<r;b++)p.push(m);t.insert(t.mapping.slice(s).map(f-1+o),p)}if(i>e.height){const d=[];for(let p=0,m=(e.height-1)*e.width;p<Math.max(e.width,r);p++){const b=p>=e.width?!1:n.nodeAt(e.map[m+p]).type==a.header_cell;d.push(b?u||(u=a.header_cell.createAndFill()):c||(c=a.cell.createAndFill()))}const f=a.row.create(null,D.from(d)),h=[];for(let p=e.height;p<i;p++)h.push(f);t.insert(t.mapping.slice(s).map(o+n.nodeSize-2),h)}return!!(c||u)}function UM(t,e,n,o,r,i,s,l){if(s==0||s==e.height)return!1;let a=!1;for(let c=r;c<i;c++){const u=s*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){a=!0;const f=n.nodeAt(d),{top:h,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(l).map(d+o),null,{...f.attrs,rowspan:s-h}),t.insert(t.mapping.slice(l).map(e.positionAt(s,p,n)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-s})),c+=f.attrs.colspan-1}}return a}function FM(t,e,n,o,r,i,s,l){if(s==0||s==e.width)return!1;let a=!1;for(let c=r;c<i;c++){const u=c*e.width+s,d=e.map[u];if(e.map[u-1]==d){a=!0;const f=n.nodeAt(d),h=e.colCount(d),p=t.mapping.slice(l).map(d+o);t.setNodeMarkup(p,null,$l(f.attrs,s-h,f.attrs.colspan-(s-h))),t.insert(p+f.nodeSize,f.type.createAndFill($l(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return a}function qM(t,e,n,o,r){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let s=Qe.get(i);const{top:l,left:a}=o,c=a+r.width,u=l+r.height,d=t.tr;let f=0;function h(){if(i=n?d.doc.nodeAt(n-1):d.doc,!i)throw new Error("No table found");s=Qe.get(i),f=d.mapping.maps.length}HK(d,s,i,n,c,u,f)&&h(),UM(d,s,i,n,a,c,l,f)&&h(),UM(d,s,i,n,a,c,u,f)&&h(),FM(d,s,i,n,l,u,a,f)&&h(),FM(d,s,i,n,l,u,c,f)&&h();for(let p=l;p<u;p++){const m=s.positionAt(p,a,i),b=s.positionAt(p,c,i);d.replace(d.mapping.slice(f).map(m+n),d.mapping.slice(f).map(b+n),new H(r.rows[p-l],0,0))}h(),d.setSelection(new je(d.doc.resolve(n+s.positionAt(l,a,i)),d.doc.resolve(n+s.positionAt(u-1,c-1,i)))),e(d)}var VK=oC({ArrowLeft:Ih("horiz",-1),ArrowRight:Ih("horiz",1),ArrowUp:Ih("vert",-1),ArrowDown:Ih("vert",1),"Shift-ArrowLeft":Hh("horiz",-1),"Shift-ArrowRight":Hh("horiz",1),"Shift-ArrowUp":Hh("vert",-1),"Shift-ArrowDown":Hh("vert",1),Backspace:Ph,"Mod-Backspace":Ph,Delete:Ph,"Mod-Delete":Ph});function xp(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Ih(t,e){return(n,o,r)=>{if(!r)return!1;const i=n.selection;if(i instanceof je)return xp(n,o,Q.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const s=KD(r,t,e);if(s==null)return!1;if(t=="horiz")return xp(n,o,Q.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(s),a=VD(l,t,e);let c;return a?c=Q.near(a,1):e<0?c=Q.near(n.doc.resolve(l.before(-1)),-1):c=Q.near(n.doc.resolve(l.after(-1)),1),xp(n,o,c)}}}function Hh(t,e){return(n,o,r)=>{if(!r)return!1;const i=n.selection;let s;if(i instanceof je)s=i;else{const a=KD(r,t,e);if(a==null)return!1;s=new je(n.doc.resolve(a))}const l=VD(s.$headCell,t,e);return l?xp(n,o,new je(s.$anchorCell,l)):!1}}function UK(t,e){const n=t.state.doc,o=Jc(n.resolve(e));return o?(t.dispatch(t.state.tr.setSelection(new je(o))),!0):!1}function FK(t,e,n){if(!Dr(t.state))return!1;let o=zK(n);const r=t.state.selection;if(r instanceof je){o||(o={width:1,height:1,rows:[D.from(fw(on(t.state.schema).cell,n))]});const i=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),l=Qe.get(i).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return o=IK(o,l.right-l.left,l.bottom-l.top),qM(t.state,t.dispatch,s,l,o),!0}else if(o){const i=pC(t.state),s=i.start(-1);return qM(t.state,t.dispatch,s,Qe.get(i.node(-1)).findCell(i.pos-s),o),!0}else return!1}function qK(t,e){var n;if(e.ctrlKey||e.metaKey)return;const o=GM(t,e.target);let r;if(e.shiftKey&&t.state.selection instanceof je)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&o&&(r=Jc(t.state.selection.$anchor))!=null&&((n=U0(t,e))==null?void 0:n.pos)!=r.pos)i(r,e),e.preventDefault();else if(!o)return;function i(a,c){let u=U0(t,c);const d=Gi.getState(t.state)==null;if(!u||!mC(a,u))if(d)u=a;else return;const f=new je(a,u);if(d||!t.state.selection.eq(f)){const h=t.state.tr.setSelection(f);d&&h.setMeta(Gi,a.pos),t.dispatch(h)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),Gi.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Gi,-1))}function l(a){const c=a,u=Gi.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(GM(t,c.target)!=o&&(d=U0(t,e),!d))return s();d&&i(d,c)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function KD(t,e,n){if(!(t.state.selection instanceof Z))return null;const{$head:o}=t.state.selection;for(let r=o.depth-1;r>=0;r--){const i=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=o.before(r),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?l:null}}return null}function GM(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function U0(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Jc(t.state.doc.resolve(n.pos)):null}var WD=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),hw(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,hw(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function hw(t,e,n,o,r,i){var s;let l=0,a=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,f=0;d<u.childCount;d++){const{colspan:h,colwidth:p}=u.child(d).attrs;for(let m=0;m<h;m++,f++){const b=r==f?i:p&&p[m],y=b?b+"px":"";if(l+=b||o,b||(a=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const w=document.createElement("col");w.style.width=y,e.appendChild(w)}}}for(;c;){const d=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=d}a?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Gn=new xe("tableColumnResizing");function GK({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:o=WD,lastColumnResizable:r=!0}={}){const i=new le({key:Gn,state:{init(s,l){var a,c;const u=(c=(a=i.spec)==null?void 0:a.props)==null?void 0:c.nodeViews,d=on(l.schema).table.name;return o&&u&&(u[d]=(f,h)=>new o(f,n,h)),new ZK(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=Gn.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{KK(s,l,t,r)},mouseleave:s=>{WK(s)},mousedown:(s,l)=>{YK(s,l,e,n)}},decorations:s=>{const l=Gn.getState(s);if(l&&l.activeHandle>-1)return tW(s,l.activeHandle)},nodeViews:{}}});return i}var ZK=class Cp{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,o=e.getMeta(Gn);if(o&&o.setHandle!=null)return new Cp(o.setHandle,!1);if(o&&o.setDragging!==void 0)return new Cp(n.activeHandle,o.setDragging);if(n.activeHandle>-1&&e.docChanged){let r=e.mapping.map(n.activeHandle,-1);return dw(e.doc.resolve(r))||(r=-1),new Cp(r,n.dragging)}return n}};function KK(t,e,n,o){if(!t.editable)return;const r=Gn.getState(t.state);if(r&&!r.dragging){const i=JK(e.target);let s=-1;if(i){const{left:l,right:a}=i.getBoundingClientRect();e.clientX-l<=n?s=ZM(t,e,"left",n):a-e.clientX<=n&&(s=ZM(t,e,"right",n))}if(s!=r.activeHandle){if(!o&&s!==-1){const l=t.state.doc.resolve(s),a=l.node(-1),c=Qe.get(a),u=l.start(-1);if(c.colCount(l.pos-u)+l.nodeAfter.attrs.colspan-1==c.width-1)return}YD(t,s)}}}function WK(t){if(!t.editable)return;const e=Gn.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&YD(t,-1)}function YK(t,e,n,o){var r;if(!t.editable)return!1;const i=(r=t.dom.ownerDocument.defaultView)!=null?r:window,s=Gn.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=t.state.doc.nodeAt(s.activeHandle),a=XK(t,s.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Gn,{setDragging:{startX:e.clientX,startWidth:a}}));function c(d){i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",u);const f=Gn.getState(t.state);f!=null&&f.dragging&&(QK(t,f.activeHandle,KM(f.dragging,d,n)),t.dispatch(t.state.tr.setMeta(Gn,{setDragging:null})))}function u(d){if(!d.which)return c(d);const f=Gn.getState(t.state);if(f&&f.dragging){const h=KM(f.dragging,d,n);WM(t,f.activeHandle,h,o)}}return WM(t,s.activeHandle,a,o),i.addEventListener("mouseup",c),i.addEventListener("mousemove",u),e.preventDefault(),!0}function XK(t,e,{colspan:n,colwidth:o}){const r=o&&o[o.length-1];if(r)return r;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,a=n;if(o)for(let c=0;c<n;c++)o[c]&&(l-=o[c],a--);return l/a}function JK(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function ZM(t,e,n,o){const r=n=="right"?-o:o,i=t.posAtCoords({left:e.clientX+r,top:e.clientY});if(!i)return-1;const{pos:s}=i,l=Jc(t.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const a=Qe.get(l.node(-1)),c=l.start(-1),u=a.map.indexOf(l.pos-c);return u%a.width==0?-1:c+a.map[u-1]}function KM(t,e,n){const o=e.clientX-t.startX;return Math.max(n,t.startWidth+o)}function YD(t,e){t.dispatch(t.state.tr.setMeta(Gn,{setHandle:e}))}function QK(t,e,n){const o=t.state.doc.resolve(e),r=o.node(-1),i=Qe.get(r),s=o.start(-1),l=i.colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,a=t.state.tr;for(let c=0;c<i.height;c++){const u=c*i.width+l;if(c&&i.map[u]==i.map[u-i.width])continue;const d=i.map[u],f=r.nodeAt(d).attrs,h=f.colspan==1?0:l-i.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;const p=f.colwidth?f.colwidth.slice():eW(f.colspan);p[h]=n,a.setNodeMarkup(s+d,null,{...f,colwidth:p})}a.docChanged&&t.dispatch(a)}function WM(t,e,n,o){const r=t.state.doc.resolve(e),i=r.node(-1),s=r.start(-1),l=Qe.get(i).colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;let a=t.domAtPos(r.start(-1)).node;for(;a&&a.nodeName!="TABLE";)a=a.parentNode;a&&hw(i,a.firstChild,a,o,l,n)}function eW(t){return Array(t).fill(0)}function tW(t,e){var n;const o=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return he.empty;const s=Qe.get(i),l=r.start(-1),a=s.colCount(r.pos-l)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const u=a+c*s.width;if((a==s.width-1||s.map[u]!=s.map[u+1])&&(c==0||s.map[u]!=s.map[u-s.width])){const d=s.map[u],f=l+d+i.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",(n=Gn.getState(t))!=null&&n.dragging&&o.push(Te.node(l+d,l+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),o.push(Te.widget(f,h))}}return he.create(t.doc,o)}function nW({allowTableNodeSelection:t=!1}={}){return new le({key:Gi,state:{init(){return null},apply(e,n){const o=e.getMeta(Gi);if(o!=null)return o==-1?null:o;if(n==null||!e.docChanged)return n;const{deleted:r,pos:i}=e.mapping.mapResult(n);return r?null:i}},props:{decorations:gK,handleDOMEvents:{mousedown:qK},createSelectionBetween(e){return Gi.getState(e.state)!=null?e.state.selection:null},handleTripleClick:UK,handleKeyDown:VK,handlePaste:FK},appendTransaction(e,n,o){return vK(o,kK(o,n),t)}})}class ct extends Q{constructor(e){super(e,e)}map(e,n){let o=e.resolve(n.map(this.head));return ct.valid(o)?new ct(o):Q.near(o)}content(){return H.empty}eq(e){return e instanceof ct&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ct(e.resolve(n.pos))}getBookmark(){return new bC(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!oW(e)||!rW(e))return!1;let o=n.type.spec.allowGapCursor;if(o!=null)return o;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,o=!1){e:for(;;){if(!o&&ct.valid(e))return e;let r=e.pos,i=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){i=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;r+=n;let a=e.doc.resolve(r);if(ct.valid(a))return a}for(;;){let s=n>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!W.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),o=!1;continue e}break}i=s,r+=n;let l=e.doc.resolve(r);if(ct.valid(l))return l}return null}}}ct.prototype.visible=!1;ct.findFrom=ct.findGapCursorFrom;Q.jsonID("gapcursor",ct);class bC{constructor(e){this.pos=e}map(e){return new bC(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ct.valid(n)?new ct(n):Q.near(n)}}function oW(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),o=t.node(e);if(n==0){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function rW(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),o=t.node(e);if(n==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let r=o.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function iW(){return new le({props:{decorations:cW,createSelectionBetween(t,e,n){return e.pos==n.pos&&ct.valid(n)?new ct(n):null},handleClick:lW,handleKeyDown:sW,handleDOMEvents:{beforeinput:aW}}})}const sW=oC({ArrowLeft:Vh("horiz",-1),ArrowRight:Vh("horiz",1),ArrowUp:Vh("vert",-1),ArrowDown:Vh("vert",1)});function Vh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(o,r,i){let s=o.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof Z){if(!i.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=o.doc.resolve(e>0?l.after():l.before())}let c=ct.findGapCursorFrom(l,e,a);return c?(r&&r(o.tr.setSelection(new ct(c))),!0):!1}}function lW(t,e,n){if(!t||!t.editable)return!1;let o=t.state.doc.resolve(e);if(!ct.valid(o))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&W.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ct(o))),!0)}function aW(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ct))return!1;let{$from:n}=t.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!o)return!1;let r=D.empty;for(let s=o.length-1;s>=0;s--)r=D.from(o[s].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new H(r,0,0));return i.setSelection(Z.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function cW(t){if(!(t.selection instanceof ct))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",he.create(t.doc,[Te.widget(t.selection.head,e,{key:"gapcursor"})])}const uW=Be.create({name:"gapCursor",addProseMirrorPlugins(){return[iW()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=me(K(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var jm=200,Dt=function(){};Dt.prototype.append=function(e){return e.length?(e=Dt.from(e),!this.length&&e||e.length<jm&&this.leafAppend(e)||this.length<jm&&e.leafPrepend(this)||this.appendInner(e)):this};Dt.prototype.prepend=function(e){return e.length?Dt.from(e).append(this):this};Dt.prototype.appendInner=function(e){return new dW(this,e)};Dt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dt.prototype.forEach=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length),n<=o?this.forEachInner(e,n,o,0):this.forEachInvertedInner(e,n,o,0)};Dt.prototype.map=function(e,n,o){n===void 0&&(n=0),o===void 0&&(o=this.length);var r=[];return this.forEach(function(i,s){return r.push(e(i,s))},n,o),r};Dt.from=function(e){return e instanceof Dt?e:e&&e.length?new XD(e):Dt.empty};var XD=function(t){function e(o){t.call(this),this.values=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,s,l){for(var a=i;a<s;a++)if(r(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){for(var a=i-1;a>=s;a--)if(r(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=jm)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=jm)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dt);Dt.empty=new XD([]);var dW=function(t){function e(n,o){t.call(this),this.left=n,this.right=o,this.length=n.length+o.length,this.depth=Math.max(n.depth,o.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(o){return o<this.left.length?this.left.get(o):this.right.get(o-this.left.length)},e.prototype.forEachInner=function(o,r,i,s){var l=this.left.length;if(r<l&&this.left.forEachInner(o,r,Math.min(i,l),s)===!1||i>l&&this.right.forEachInner(o,Math.max(r-l,0),Math.min(this.length,i)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,r,i,s){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(o,r-l,Math.max(i,l)-l,s+l)===!1||i<l&&this.left.forEachInvertedInner(o,Math.min(r,l),i,s)===!1)return!1},e.prototype.sliceInner=function(o,r){if(o==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(o,r):o>=i?this.right.slice(o-i,r-i):this.left.slice(o,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(o){var r=this.right.leafAppend(o);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(o){var r=this.left.leafPrepend(o);if(r)return new e(r,this.right)},e.prototype.appendInner=function(o){return this.left.depth>=Math.max(this.right.depth,o.depth)+1?new e(this.left,new e(this.right,o)):new e(this,o)},e}(Dt);const fW=500;class $o{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let r,i;n&&(r=this.remapping(o,this.items.length),i=r.maps.length);let s=e.tr,l,a,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){r||(r=this.remapping(o,f+1),i=r.maps.length),i--,u.push(d);return}if(r){u.push(new Oi(d.map));let h=d.step.map(r.slice(i)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new Oi(p,void 0,void 0,c.length+u.length))),i--,p&&r.appendMap(p,i)}else s.maybeStep(d.step);if(d.selection)return l=r?d.selection.map(r.slice(i)):d.selection,a=new $o(this.items.slice(0,o).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,o,r){let i=[],s=this.eventCount,l=this.items,a=!r&&l.length?l.get(l.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Oi(e.mapping.maps[u],d,n),h;(h=a&&a.merge(f))&&(f=h,u?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(s++,n=void 0),r||(a=f)}let c=s-o.depth;return c>pW&&(l=hW(l,c),s-=c),new $o(l.append(i),s)}remapping(e,n){let o=new Sc;return this.items.forEach((r,i)=>{let s=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?o.maps.length-r.mirrorOffset:void 0;o.appendMap(r.map,s)},e,n),o}addMaps(e){return this.eventCount==0?this:new $o(this.items.append(e.map(n=>new Oi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let o=[],r=Math.max(0,this.items.length-n),i=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},r);let a=n;this.items.forEach(f=>{let h=i.getMirror(--a);if(h==null)return;s=Math.min(s,h);let p=i.maps[h];if(f.step){let m=e.steps[h].invert(e.docs[h]),b=f.selection&&f.selection.map(i.slice(a+1,h));b&&l++,o.push(new Oi(p,m,b))}else o.push(new Oi(p))},r);let c=[];for(let f=n;f<s;f++)c.push(new Oi(i.maps[f]));let u=this.items.slice(0,r).append(c).append(o),d=new $o(u,l);return d.emptyItemCount()>fW&&(d=d.compress(this.items.length-o.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),o=n.maps.length,r=[],i=0;return this.items.forEach((s,l)=>{if(l>=e)r.push(s),s.selection&&i++;else if(s.step){let a=s.step.map(n.slice(o)),c=a&&a.getMap();if(o--,c&&n.appendMap(c,o),a){let u=s.selection&&s.selection.map(n.slice(o));u&&i++;let d=new Oi(c.invert(),a,u),f,h=r.length-1;(f=r.length&&r[h].merge(d))?r[h]=f:r.push(d)}}else s.map&&o--},this.items.length,0),new $o(Dt.from(r.reverse()),i)}}$o.empty=new $o(Dt.empty,0);function hW(t,e){let n;return t.forEach((o,r)=>{if(o.selection&&e--==0)return n=r,!1}),t.slice(n)}let Oi=class JD{constructor(e,n,o,r){this.map=e,this.step=n,this.selection=o,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new JD(n.getMap().invert(),n,this.selection)}}};class Pi{constructor(e,n,o,r,i){this.done=e,this.undone=n,this.prevRanges=o,this.prevTime=r,this.prevComposition=i}}const pW=20;function mW(t,e,n,o){let r=n.getMeta(Sl),i;if(r)return r.historyState;n.getMeta(yW)&&(t=new Pi(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Sl))return s.getMeta(Sl).redo?new Pi(t.done.addTransform(n,void 0,o,Sp(e)),t.undone,YM(n.mapping.maps),t.prevTime,t.prevComposition):new Pi(t.done,t.undone.addTransform(n,void 0,o,Sp(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-o.newGroupDelay||!gW(n,t.prevRanges)),c=s?F0(t.prevRanges,n.mapping):YM(n.mapping.maps);return new Pi(t.done.addTransform(n,a?e.selection.getBookmark():void 0,o,Sp(e)),$o.empty,c,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Pi(t.done.rebased(n,i),t.undone.rebased(n,i),F0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Pi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),F0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function gW(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((o,r)=>{for(let i=0;i<e.length;i+=2)o<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function YM(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((o,r,i,s)=>e.push(i,s));return e}function F0(t,e){if(!t)return null;let n=[];for(let o=0;o<t.length;o+=2){let r=e.map(t[o],1),i=e.map(t[o+1],-1);r<=i&&n.push(r,i)}return n}function bW(t,e,n){let o=Sp(e),r=Sl.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,o);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,o),a=new Pi(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(Sl,{redo:n,historyState:a})}let q0=!1,XM=null;function Sp(t){let e=t.plugins;if(XM!=e){q0=!1,XM=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){q0=!0;break}}return q0}const Sl=new xe("history"),yW=new xe("closeHistory");function vW(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new le({key:Sl,state:{init(){return new Pi($o.empty,$o.empty,null,0,-1)},apply(e,n,o){return mW(n,o,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let o=n.inputType,r=o=="historyUndo"?yC:o=="historyRedo"?vC:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function QD(t,e){return(n,o)=>{let r=Sl.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(o){let i=bW(r,n,t);i&&o(e?i.scrollIntoView():i)}return!0}}const yC=QD(!1,!0),vC=QD(!0,!0),wW=Be.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>yC(t,e),redo:()=>({state:t,dispatch:e})=>vC(t,e)}},addProseMirrorPlugins(){return[vW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),kW="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",xW="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Nc=(t,e)=>{for(const n in e)t[n]=e[n];return t},pw="numeric",mw="ascii",gw="alpha",ld="asciinumeric",zu="alphanumeric",bw="domain",eL="emoji",CW="scheme",SW="slashscheme",G0="whitespace";function _W(t,e){return t in e||(e[t]=[]),e[t]}function ul(t,e,n){e[pw]&&(e[ld]=!0,e[zu]=!0),e[mw]&&(e[ld]=!0,e[gw]=!0),e[ld]&&(e[zu]=!0),e[gw]&&(e[zu]=!0),e[zu]&&(e[bw]=!0),e[eL]&&(e[bw]=!0);for(const o in e){const r=_W(o,n);r.indexOf(t)<0&&r.push(t)}}function EW(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function En(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}En.groups={};En.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const r=e.jr[o][0],i=e.jr[o][1];if(i&&r.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,o)},tr(t,e,n,o){o=o||En.groups;let r;return e&&e.j?r=e:(r=new En(e),n&&o&&ul(e,n,o)),this.jr.push([t,r]),r},ts(t,e,n,o){let r=this;const i=t.length;if(!i)return r;for(let s=0;s<i-1;s++)r=r.tt(t[s]);return r.tt(t[i-1],e,n,o)},tt(t,e,n,o){o=o||En.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const i=e;let s,l=r.go(t);if(l?(s=new En,Nc(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new En,i){if(o)if(s.t&&typeof s.t=="string"){const a=Nc(EW(s.t,o),n);ul(i,a,o)}else n&&ul(i,n,o);s.t=i}return r.j[t]=s,s}};const ce=(t,e,n,o,r)=>t.ta(e,n,o,r),st=(t,e,n,o,r)=>t.tr(e,n,o,r),JM=(t,e,n,o,r)=>t.ts(e,n,o,r),P=(t,e,n,o,r)=>t.tt(e,n,o,r),Kr="WORD",yw="UWORD",tL="ASCIINUMERICAL",nL="ALPHANUMERICAL",Fd="LOCALHOST",vw="TLD",ww="UTLD",_p="SCHEME",Ea="SLASH_SCHEME",wC="NUM",kw="WS",kC="NL",ad="OPENBRACE",cd="CLOSEBRACE",Bm="OPENBRACKET",$m="CLOSEBRACKET",zm="OPENPAREN",Pm="CLOSEPAREN",Im="OPENANGLEBRACKET",Hm="CLOSEANGLEBRACKET",Vm="FULLWIDTHLEFTPAREN",Um="FULLWIDTHRIGHTPAREN",Fm="LEFTCORNERBRACKET",qm="RIGHTCORNERBRACKET",Gm="LEFTWHITECORNERBRACKET",Zm="RIGHTWHITECORNERBRACKET",Km="FULLWIDTHLESSTHAN",Wm="FULLWIDTHGREATERTHAN",Ym="AMPERSAND",Xm="APOSTROPHE",Jm="ASTERISK",Ii="AT",Qm="BACKSLASH",eg="BACKTICK",tg="CARET",Zi="COLON",xC="COMMA",ng="DOLLAR",ir="DOT",og="EQUALS",CC="EXCLAMATION",co="HYPHEN",ud="PERCENT",rg="PIPE",ig="PLUS",sg="POUND",dd="QUERY",SC="QUOTE",oL="FULLWIDTHMIDDLEDOT",_C="SEMI",sr="SLASH",fd="TILDE",lg="UNDERSCORE",rL="EMOJI",ag="SYM";var iL=Object.freeze({__proto__:null,ALPHANUMERICAL:nL,AMPERSAND:Ym,APOSTROPHE:Xm,ASCIINUMERICAL:tL,ASTERISK:Jm,AT:Ii,BACKSLASH:Qm,BACKTICK:eg,CARET:tg,CLOSEANGLEBRACKET:Hm,CLOSEBRACE:cd,CLOSEBRACKET:$m,CLOSEPAREN:Pm,COLON:Zi,COMMA:xC,DOLLAR:ng,DOT:ir,EMOJI:rL,EQUALS:og,EXCLAMATION:CC,FULLWIDTHGREATERTHAN:Wm,FULLWIDTHLEFTPAREN:Vm,FULLWIDTHLESSTHAN:Km,FULLWIDTHMIDDLEDOT:oL,FULLWIDTHRIGHTPAREN:Um,HYPHEN:co,LEFTCORNERBRACKET:Fm,LEFTWHITECORNERBRACKET:Gm,LOCALHOST:Fd,NL:kC,NUM:wC,OPENANGLEBRACKET:Im,OPENBRACE:ad,OPENBRACKET:Bm,OPENPAREN:zm,PERCENT:ud,PIPE:rg,PLUS:ig,POUND:sg,QUERY:dd,QUOTE:SC,RIGHTCORNERBRACKET:qm,RIGHTWHITECORNERBRACKET:Zm,SCHEME:_p,SEMI:_C,SLASH:sr,SLASH_SCHEME:Ea,SYM:ag,TILDE:fd,TLD:vw,UNDERSCORE:lg,UTLD:ww,UWORD:yw,WORD:Kr,WS:kw});const Fr=/[a-z]/,Mu=new RegExp("\\p{L}","u"),Z0=new RegExp("\\p{Emoji}","u"),qr=/\d/,K0=/\s/,QM="\r",W0=`
`,MW="️",TW="‍",Y0="￼";let Uh=null,Fh=null;function AW(t=[]){const e={};En.groups=e;const n=new En;Uh==null&&(Uh=eT(kW)),Fh==null&&(Fh=eT(xW)),P(n,"'",Xm),P(n,"{",ad),P(n,"}",cd),P(n,"[",Bm),P(n,"]",$m),P(n,"(",zm),P(n,")",Pm),P(n,"<",Im),P(n,">",Hm),P(n,"（",Vm),P(n,"）",Um),P(n,"「",Fm),P(n,"」",qm),P(n,"『",Gm),P(n,"』",Zm),P(n,"＜",Km),P(n,"＞",Wm),P(n,"&",Ym),P(n,"*",Jm),P(n,"@",Ii),P(n,"`",eg),P(n,"^",tg),P(n,":",Zi),P(n,",",xC),P(n,"$",ng),P(n,".",ir),P(n,"=",og),P(n,"!",CC),P(n,"-",co),P(n,"%",ud),P(n,"|",rg),P(n,"+",ig),P(n,"#",sg),P(n,"?",dd),P(n,'"',SC),P(n,"/",sr),P(n,";",_C),P(n,"~",fd),P(n,"_",lg),P(n,"\\",Qm),P(n,"・",oL);const o=st(n,qr,wC,{[pw]:!0});st(o,qr,o);const r=st(o,Fr,tL,{[ld]:!0}),i=st(o,Mu,nL,{[zu]:!0}),s=st(n,Fr,Kr,{[mw]:!0});st(s,qr,r),st(s,Fr,s),st(r,qr,r),st(r,Fr,r);const l=st(n,Mu,yw,{[gw]:!0});st(l,Fr),st(l,qr,i),st(l,Mu,l),st(i,qr,i),st(i,Fr),st(i,Mu,i);const a=P(n,W0,kC,{[G0]:!0}),c=P(n,QM,kw,{[G0]:!0}),u=st(n,K0,kw,{[G0]:!0});P(n,Y0,u),P(c,W0,a),P(c,Y0,u),st(c,K0,u),P(u,QM),P(u,W0),st(u,K0,u),P(u,Y0,u);const d=st(n,Z0,rL,{[eL]:!0});P(d,"#"),st(d,Z0,d),P(d,MW,d);const f=P(d,TW);P(f,"#"),st(f,Z0,d);const h=[[Fr,s],[qr,r]],p=[[Fr,null],[Mu,l],[qr,i]];for(let m=0;m<Uh.length;m++)Di(n,Uh[m],vw,Kr,h);for(let m=0;m<Fh.length;m++)Di(n,Fh[m],ww,yw,p);ul(vw,{tld:!0,ascii:!0},e),ul(ww,{utld:!0,alpha:!0},e),Di(n,"file",_p,Kr,h),Di(n,"mailto",_p,Kr,h),Di(n,"http",Ea,Kr,h),Di(n,"https",Ea,Kr,h),Di(n,"ftp",Ea,Kr,h),Di(n,"ftps",Ea,Kr,h),ul(_p,{scheme:!0,ascii:!0},e),ul(Ea,{slashscheme:!0,ascii:!0},e),t=t.sort((m,b)=>m[0]>b[0]?1:-1);for(let m=0;m<t.length;m++){const b=t[m][0],w=t[m][1]?{[CW]:!0}:{[SW]:!0};b.indexOf("-")>=0?w[bw]=!0:Fr.test(b)?qr.test(b)?w[ld]=!0:w[mw]=!0:w[pw]=!0,JM(n,b,b,w)}return JM(n,"localhost",Fd,{ascii:!0}),n.jd=new En(ag),{start:n,tokens:Nc({groups:e},iL)}}function sL(t,e){const n=NW(e.replace(/[A-Z]/g,l=>l.toLowerCase())),o=n.length,r=[];let i=0,s=0;for(;s<o;){let l=t,a=null,c=0,u=null,d=-1,f=-1;for(;s<o&&(a=l.go(n[s]));)l=a,l.accepts()?(d=0,f=0,u=l):d>=0&&(d+=n[s].length,f++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=f,c-=d,r.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return r}function NW(t){const e=[],n=t.length;let o=0;for(;o<n;){let r=t.charCodeAt(o),i,s=r<55296||r>56319||o+1===n||(i=t.charCodeAt(o+1))<56320||i>57343?t[o]:t.slice(o,o+2);e.push(s),o+=s.length}return e}function Di(t,e,n,o,r){let i;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?i=t.j[a]:(i=new En(o),i.jr=r.slice(),t.j[a]=i),t=i}return i=new En(n),i.jr=r.slice(),t.j[e[s-1]]=i,i}function eT(t){const e=[],n=[];let o=0,r="0123456789";for(;o<t.length;){let i=0;for(;r.indexOf(t[o+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(o,o+i),10);s>0;s--)n.pop();o+=i}else n.push(t[o]),o++}return e}const qd={defaultProtocol:"http",events:null,format:tT,formatHref:tT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function EC(t,e=null){let n=Nc({},qd);t&&(n=Nc(n,t instanceof EC?t.o:t));const o=n.ignoreTags,r=[];for(let i=0;i<o.length;i++)r.push(o[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}EC.prototype={o:qd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:qd[t],typeof r=="function"&&o&&(r=r(e,n))):typeof r=="function"&&o&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function tT(t){return t}function lL(t,e){this.t="token",this.v=t,this.tk=e}lL.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"…":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=qd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),r=t.get("tagName",n,e),i=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=o,l&&(s.class=l),a&&(s.target=a),c&&(s.rel=c),u&&Nc(s,u),{tagName:r,attributes:s,content:i,eventListeners:d}}};function Ib(t,e){class n extends lL{constructor(r,i){super(r,i),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const nT=Ib("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),oT=Ib("text"),RW=Ib("nl"),qh=Ib("url",{isLink:!0,toHref(t=qd.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Fd&&t[1].t===Zi}}),ao=t=>new En(t);function OW({groups:t}){const e=t.domain.concat([Ym,Jm,Ii,Qm,eg,tg,ng,og,co,wC,ud,rg,ig,sg,sr,ag,fd,lg]),n=[Xm,Zi,xC,ir,CC,ud,dd,SC,_C,Im,Hm,ad,cd,$m,Bm,zm,Pm,Vm,Um,Fm,qm,Gm,Zm,Km,Wm],o=[Ym,Xm,Jm,Qm,eg,tg,ng,og,co,ad,cd,ud,rg,ig,sg,dd,sr,ag,fd,lg],r=ao(),i=P(r,fd);ce(i,o,i),ce(i,t.domain,i);const s=ao(),l=ao(),a=ao();ce(r,t.domain,s),ce(r,t.scheme,l),ce(r,t.slashscheme,a),ce(s,o,i),ce(s,t.domain,s);const c=P(s,Ii);P(i,Ii,c),P(l,Ii,c),P(a,Ii,c);const u=P(i,ir);ce(u,o,i),ce(u,t.domain,i);const d=ao();ce(c,t.domain,d),ce(d,t.domain,d);const f=P(d,ir);ce(f,t.domain,d);const h=ao(nT);ce(f,t.tld,h),ce(f,t.utld,h),P(c,Fd,h);const p=P(d,co);P(p,co,p),ce(p,t.domain,d),ce(h,t.domain,d),P(h,ir,f),P(h,co,p);const m=P(h,Zi);ce(m,t.numeric,nT);const b=P(s,co),y=P(s,ir);P(b,co,b),ce(b,t.domain,s),ce(y,o,i),ce(y,t.domain,s);const w=ao(qh);ce(y,t.tld,w),ce(y,t.utld,w),ce(w,t.domain,s),ce(w,o,i),P(w,ir,y),P(w,co,b),P(w,Ii,c);const k=P(w,Zi),x=ao(qh);ce(k,t.numeric,x);const C=ao(qh),E=ao();ce(C,e,C),ce(C,n,E),ce(E,e,C),ce(E,n,E),P(w,sr,C),P(x,sr,C);const _=P(l,Zi),S=P(a,Zi),M=P(S,sr),T=P(M,sr);ce(l,t.domain,s),P(l,ir,y),P(l,co,b),ce(a,t.domain,s),P(a,ir,y),P(a,co,b),ce(_,t.domain,C),P(_,sr,C),P(_,dd,C),ce(T,t.domain,C),ce(T,e,C),P(T,sr,C);const B=[[ad,cd],[Bm,$m],[zm,Pm],[Im,Hm],[Vm,Um],[Fm,qm],[Gm,Zm],[Km,Wm]];for(let I=0;I<B.length;I++){const[V,F]=B[I],U=P(C,V);P(E,V,U),P(U,F,C);const N=ao(qh);ce(U,e,N);const O=ao();ce(U,n),ce(N,e,N),ce(N,n,O),ce(O,e,N),ce(O,n,O),P(N,F,C),P(O,F,C)}return P(r,Fd,w),P(r,kC,RW),{start:r,tokens:iL}}function DW(t,e,n){let o=n.length,r=0,i=[],s=[];for(;r<o;){let l=t,a=null,c=null,u=0,d=null,f=-1;for(;r<o&&!(a=l.go(n[r].t));)s.push(n[r++]);for(;r<o&&(c=a||l.go(n[r].t));)a=null,l=c,l.accepts()?(f=0,d=l):f>=0&&f++,r++,u++;if(f<0)r-=u,r<o&&(s.push(n[r]),r++);else{s.length>0&&(i.push(X0(oT,e,s)),s=[]),r-=f,u-=f;const h=d.t,p=n.slice(r-u,r);i.push(X0(h,e,p))}}return s.length>0&&i.push(X0(oT,e,s)),i}function X0(t,e,n){const o=n[0].s,r=n[n.length-1].e,i=e.slice(o,r);return new t(i,n)}const LW=typeof console<"u"&&console&&console.warn||(()=>{}),jW="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",We={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function BW(){return En.groups={},We.scanner=null,We.parser=null,We.tokenQueue=[],We.pluginQueue=[],We.customSchemes=[],We.initialized=!1,We}function rT(t,e=!1){if(We.initialized&&LW(`linkifyjs: already initialized - will not register custom scheme "${t}" ${jW}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);We.customSchemes.push([t,e])}function $W(){We.scanner=AW(We.customSchemes);for(let t=0;t<We.tokenQueue.length;t++)We.tokenQueue[t][1]({scanner:We.scanner});We.parser=OW(We.scanner.tokens);for(let t=0;t<We.pluginQueue.length;t++)We.pluginQueue[t][1]({scanner:We.scanner,parser:We.parser});return We.initialized=!0,We}function MC(t){return We.initialized||$W(),DW(We.parser.start,t,sL(We.scanner.start,t))}MC.scan=sL;function aL(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const o=new EC(n),r=MC(t),i=[];for(let s=0;s<r.length;s++){const l=r[s];l.isLink&&(!e||l.t===e)&&o.check(l)&&i.push(l.toFormattedObject(o))}return i}const TC="[\0-   ᠎ -\u2029 　]",zW=new RegExp(TC),PW=new RegExp(`${TC}$`),IW=new RegExp(TC,"g");function HW(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function VW(t){return new le({key:new xe("autolink"),appendTransaction:(e,n,o)=>{const r=e.some(c=>c.docChanged)&&!n.doc.eq(o.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!r||i)return;const{tr:s}=o,l=dC(n.doc,[...e]);if(RD(l).forEach(({newRange:c})=>{const u=AD(o.doc,c,h=>h.isTextblock);let d,f;if(u.length>1)d=u[0],f=o.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const h=o.doc.textBetween(c.from,c.to," "," ");if(!PW.test(h))return;d=u[0],f=o.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const h=f.split(zW).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],m=d.pos+f.lastIndexOf(p);if(!p)return!1;const b=MC(p).map(y=>y.toObject(t.defaultProtocol));if(!HW(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:m+y.start+1,to:m+y.end+1})).filter(y=>o.schema.marks.code?!o.doc.rangeHasMark(y.from,y.to,o.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{fC(y.from,y.to,o.doc).some(w=>w.mark.type===t.type)||s.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!s.steps.length)return s}})}function UW(t){return new le({key:new xe("handleClickLink"),props:{handleClick:(e,n,o)=>{var r,i;if(o.button!==0||!e.editable)return!1;let s=o.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const a=ND(e.state,t.type.name),c=o.target,u=(r=c==null?void 0:c.href)!==null&&r!==void 0?r:a.href,d=(i=c==null?void 0:c.target)!==null&&i!==void 0?i:a.target;return c&&u?(window.open(u,d),!0):!1}}})}function FW(t){return new le({key:new xe("handlePasteLink"),props:{handlePaste:(e,n,o)=>{const{state:r}=e,{selection:i}=r,{empty:s}=i;if(s)return!1;let l="";o.content.forEach(c=>{l+=c.textContent});const a=aL(l,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===l);return!l||!a?!1:t.editor.commands.setMark(t.type,{href:a.href})}}})}function Ys(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(o=>{const r=typeof o=="string"?o:o.scheme;r&&n.push(r)}),!t||t.replace(IW,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const qW=Zt.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){rT(t);return}rT(t.scheme,t.optionalSlashes)})},onDestroy(){BW()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ys(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ys(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ys(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",no(this.options.HTMLAttributes,t),0]:["a",no(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Ys(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:o=>!!Ys(o,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Bl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:o}=this.options,r=aL(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:s=>!!Ys(s,n),protocols:n,defaultProtocol:o}));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(VW({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o=>this.options.isAllowedUri(o,{defaultValidate:r=>!!Ys(r,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(UW({type:this.type})),this.options.linkOnPaste&&t.push(FW({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),GW=Or.create({name:"text",group:"inline"}),_o=()=>new Map,xw=t=>{const e=_o();return t.forEach((n,o)=>{e.set(o,n)}),e},jr=(t,e,n)=>{let o=t.get(e);return o===void 0&&t.set(e,o=n()),o},ZW=(t,e)=>{const n=[];for(const[o,r]of t)n.push(e(r,o));return n},KW=(t,e)=>{for(const[n,o]of t)if(e(o,n))return!0;return!1},zl=()=>new Set,J0=t=>t[t.length-1],WW=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},Cs=Array.from,YW=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},Cw=Array.isArray;class cL{constructor(){this._observers=_o()}on(e,n){return jr(this._observers,e,zl).add(n),n}once(e,n){const o=(...r)=>{this.off(e,o),n(...r)};this.on(e,o)}off(e,n){const o=this._observers.get(e);o!==void 0&&(o.delete(n),o.size===0&&this._observers.delete(e))}emit(e,n){return Cs((this._observers.get(e)||_o()).values()).forEach(o=>o(...n))}destroy(){this._observers=_o()}}const wi=Math.floor,Ep=Math.abs,hi=(t,e)=>t<e?t:e,Ko=(t,e)=>t>e?t:e,uL=t=>t!==0?t<0:1/t<0,iT=1,sT=2,Q0=4,e1=8,Gd=32,pi=64,fn=128,XW=1<<29,Hb=31,Sw=63,_l=127,JW=2147483647,dL=Number.MAX_SAFE_INTEGER,QW=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&wi(t)===t),eY=String.fromCharCode,tY=t=>t.toLowerCase(),nY=/^\s*/g,oY=t=>t.replace(nY,""),rY=/([A-Z])/g,lT=(t,e)=>oY(t.replace(rY,n=>`${e}${tY(n)}`)),iY=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.codePointAt(r);return o},Zd=typeof TextEncoder<"u"?new TextEncoder:null,sY=t=>Zd.encode(t),lY=Zd?sY:iY;let hd=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});hd&&hd.decode(new Uint8Array).length===1&&(hd=null);class zf{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Pf=()=>new zf,aY=t=>{const e=Pf();return t(e),Io(e)},cY=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Io=t=>{const e=new Uint8Array(cY(t));let n=0;for(let o=0;o<t.bufs.length;o++){const r=t.bufs[o];e.set(r,n),n+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},uY=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ko(n,e)*2),t.cpos=0)},Tt=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},_w=Tt,ye=(t,e)=>{for(;e>_l;)Tt(t,fn|_l&e),e=wi(e/128);Tt(t,_l&e)},AC=(t,e)=>{const n=uL(e);for(n&&(e=-e),Tt(t,(e>Sw?fn:0)|(n?pi:0)|Sw&e),e=wi(e/64);e>0;)Tt(t,(e>_l?fn:0)|_l&e),e=wi(e/128)},Ew=new Uint8Array(3e4),dY=Ew.length/3,fY=(t,e)=>{if(e.length<dY){const n=Zd.encodeInto(e,Ew).written||0;ye(t,n);for(let o=0;o<n;o++)Tt(t,Ew[o])}else In(t,lY(e))},hY=(t,e)=>{const n=unescape(encodeURIComponent(e)),o=n.length;ye(t,o);for(let r=0;r<o;r++)Tt(t,n.codePointAt(r))},tc=Zd&&Zd.encodeInto?fY:hY,Vb=(t,e)=>{const n=t.cbuf.length,o=t.cpos,r=hi(n-o,e.length),i=e.length-r;t.cbuf.set(e.subarray(0,r),o),t.cpos+=r,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ko(n*2,i)),t.cbuf.set(e.subarray(r)),t.cpos=i)},In=(t,e)=>{ye(t,e.byteLength),Vb(t,e)},NC=(t,e)=>{uY(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},pY=(t,e)=>NC(t,4).setFloat32(0,e,!1),mY=(t,e)=>NC(t,8).setFloat64(0,e,!1),gY=(t,e)=>NC(t,8).setBigInt64(0,e,!1),aT=new DataView(new ArrayBuffer(4)),bY=t=>(aT.setFloat32(0,t),aT.getFloat32(0)===t),Rc=(t,e)=>{switch(typeof e){case"string":Tt(t,119),tc(t,e);break;case"number":QW(e)&&Ep(e)<=JW?(Tt(t,125),AC(t,e)):bY(e)?(Tt(t,124),pY(t,e)):(Tt(t,123),mY(t,e));break;case"bigint":Tt(t,122),gY(t,e);break;case"object":if(e===null)Tt(t,126);else if(Cw(e)){Tt(t,117),ye(t,e.length);for(let n=0;n<e.length;n++)Rc(t,e[n])}else if(e instanceof Uint8Array)Tt(t,116),In(t,e);else{Tt(t,118);const n=Object.keys(e);ye(t,n.length);for(let o=0;o<n.length;o++){const r=n[o];tc(t,r),Rc(t,e[r])}}break;case"boolean":Tt(t,e?120:121);break;default:Tt(t,127)}};class cT extends zf{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&ye(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const uT=t=>{t.count>0&&(AC(t.encoder,t.count===1?t.s:-t.s),t.count>1&&ye(t.encoder,t.count-2))};class Mp{constructor(){this.encoder=new zf,this.s=0,this.count=0}write(e){this.s===e?this.count++:(uT(this),this.count=1,this.s=e)}toUint8Array(){return uT(this),Io(this.encoder)}}const dT=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);AC(t.encoder,e),t.count>1&&ye(t.encoder,t.count-2)}};class t1{constructor(){this.encoder=new zf,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(dT(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return dT(this),Io(this.encoder)}}class yY{constructor(){this.sarr=[],this.s="",this.lensE=new Mp}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new zf;return this.sarr.push(this.s),this.s="",tc(e,this.sarr.join("")),Vb(e,this.lensE.toUint8Array()),Io(e)}}const Ss=t=>new Error(t),Uo=()=>{throw Ss("Method unimplemented")},oo=()=>{throw Ss("Unexpected case")},fL=Ss("Unexpected end of array"),hL=Ss("Integer out of Range");class Ub{constructor(e){this.arr=e,this.pos=0}}const Qc=t=>new Ub(t),vY=t=>t.pos!==t.arr.length,wY=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Hn=t=>wY(t,fe(t)),Oc=t=>t.arr[t.pos++],fe=t=>{let e=0,n=1;const o=t.arr.length;for(;t.pos<o;){const r=t.arr[t.pos++];if(e=e+(r&_l)*n,n*=128,r<fn)return e;if(e>dL)throw hL}throw fL},RC=t=>{let e=t.arr[t.pos++],n=e&Sw,o=64;const r=(e&pi)>0?-1:1;if(!(e&fn))return r*n;const i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],n=n+(e&_l)*o,o*=128,e<fn)return r*n;if(n>dL)throw hL}throw fL},kY=t=>{let e=fe(t);if(e===0)return"";{let n=String.fromCodePoint(Oc(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Oc(t));else for(;e>0;){const o=e<1e4?e:1e4,r=t.arr.subarray(t.pos,t.pos+o);t.pos+=o,n+=String.fromCodePoint.apply(null,r),e-=o}return decodeURIComponent(escape(n))}},xY=t=>hd.decode(Hn(t)),nc=hd?xY:kY,OC=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},CY=t=>OC(t,4).getFloat32(0,!1),SY=t=>OC(t,8).getFloat64(0,!1),_Y=t=>OC(t,8).getBigInt64(0,!1),EY=[t=>{},t=>null,RC,CY,SY,_Y,t=>!1,t=>!0,nc,t=>{const e=fe(t),n={};for(let o=0;o<e;o++){const r=nc(t);n[r]=Kd(t)}return n},t=>{const e=fe(t),n=[];for(let o=0;o<e;o++)n.push(Kd(t));return n},Hn],Kd=t=>EY[127-Oc(t)](t);class fT extends Ub{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),vY(this)?this.count=fe(this)+1:this.count=-1),this.count--,this.s}}class Tp extends Ub{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=RC(this);const e=uL(this.s);this.count=1,e&&(this.s=-this.s,this.count=fe(this)+2)}return this.count--,this.s}}class n1 extends Ub{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=RC(this),n=e&1;this.diff=wi(e/2),this.count=1,n&&(this.count=fe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class MY{constructor(e){this.decoder=new Tp(e),this.str=nc(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const TY=crypto.getRandomValues.bind(crypto),AY=Math.random,pL=()=>TY(new Uint32Array(1))[0],NY=t=>t[wi(AY()*t.length)],RY="10000000-1000-4000-8000"+-1e11,OY=()=>RY.replace(/[018]/g,t=>(t^pL()&15>>t/4).toString(16)),DY=Date.now,hT=t=>new Promise(t);Promise.all.bind(Promise);const pT=t=>t===void 0?null:t;class LY{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let mL=new LY,jY=!0;try{typeof localStorage<"u"&&localStorage&&(mL=localStorage,jY=!1)}catch{}const BY=mL,$Y=Object.assign,gL=Object.keys,zY=(t,e)=>{for(const n in t)e(t[n],n)},mT=t=>gL(t).length,PY=t=>{for(const e in t)return!1;return!0},bL=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},IY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),HY=(t,e)=>t===e||mT(t)===mT(e)&&bL(t,(n,o)=>(n!==void 0||IY(e,o))&&e[o]===n),VY=Object.freeze,yL=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&yL(t[e])}return VY(t)},DC=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&DC(t,e,n+1)}},UY=t=>t,FY=(t,e)=>e.includes(t);var vL={};const Dc=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",wL=typeof window<"u"&&typeof document<"u"&&!Dc;let or;const qY=()=>{if(or===void 0)if(Dc){or=_o();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const o=t[n];o[0]==="-"?(e!==null&&or.set(e,""),e=o):e!==null&&(or.set(e,o),e=null)}e!==null&&or.set(e,"")}else typeof location=="object"?(or=_o(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");or.set(`--${lT(e,"-")}`,n),or.set(`-${lT(e,"-")}`,n)}})):or=_o();return or},Mw=t=>qY().has(t),cg=t=>pT(Dc?vL[t.toUpperCase().replaceAll("-","_")]:BY.getItem(t)),kL=t=>Mw("--"+t)||cg(t)!==null;kL("production");const GY=Dc&&FY(vL.FORCE_COLOR,["true","1","2"]),ZY=GY||!Mw("--no-colors")&&!kL("no-color")&&(!Dc||process.stdout.isTTY)&&(!Dc||Mw("--color")||cg("COLORTERM")!==null||(cg("TERM")||"").includes("color")),KY=t=>new Uint8Array(t),WY=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=eY(t[n]);return btoa(e)},YY=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),XY=wL?WY:YY,JY=t=>{const e=KY(t.byteLength);return e.set(t),e},QY=t=>aY(e=>Rc(e,t));class eX{constructor(e,n){this.left=e,this.right=n}}const Gr=(t,e)=>new eX(t,e),tX=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const nX=t=>ZW(t,(e,n)=>`${n}:${e};`).join(""),oX=t=>class{constructor(n){this._=n}destroy(){t(this._)}},rX=oX(clearTimeout),LC=(t,e)=>new rX(setTimeout(e,t)),Ei=Symbol,xL=Ei(),CL=Ei(),iX=Ei(),sX=Ei(),lX=Ei(),SL=Ei(),aX=Ei(),jC=Ei(),cX=Ei(),uX=t=>{var r;t.length===1&&((r=t[0])==null?void 0:r.constructor)===Function&&(t=t[0]());const e=[],n=[];let o=0;for(;o<t.length;o++){const i=t[o];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(o>0&&n.push(e.join(""));o<t.length;o++){const i=t[o];i instanceof Symbol||n.push(i)}return n},dX={[xL]:Gr("font-weight","bold"),[CL]:Gr("font-weight","normal"),[iX]:Gr("color","blue"),[lX]:Gr("color","green"),[sX]:Gr("color","grey"),[SL]:Gr("color","red"),[aX]:Gr("color","purple"),[jC]:Gr("color","orange"),[cX]:Gr("color","black")},fX=t=>{var s;t.length===1&&((s=t[0])==null?void 0:s.constructor)===Function&&(t=t[0]());const e=[],n=[],o=_o();let r=[],i=0;for(;i<t.length;i++){const l=t[i],a=dX[l];if(a!==void 0)o.set(a.left,a.right);else{if(l===void 0)break;if(l.constructor===String||l.constructor===Number){const c=nX(o);i>0||c.length>0?(e.push("%c"+l),n.push(c)):e.push(l)}else break}}for(i>0&&(r=n,r.unshift(e.join("")));i<t.length;i++){const l=t[i];l instanceof Symbol||r.push(l)}return r},_L=ZY?fX:uX,hX=(...t)=>{console.log(..._L(t)),ML.forEach(e=>e.print(t))},EL=(...t)=>{console.warn(..._L(t)),t.unshift(jC),ML.forEach(e=>e.print(t))},ML=zl(),TL=t=>({[Symbol.iterator](){return this},next:t}),pX=(t,e)=>TL(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),o1=(t,e)=>TL(()=>{const{done:n,value:o}=t.next();return{done:n,value:n?void 0:e(o)}});class BC{constructor(e,n){this.clock=e,this.len=n}}class eu{constructor(){this.clients=new Map}}const _s=(t,e,n)=>e.clients.forEach((o,r)=>{const i=t.doc.store.clients.get(r);if(i!=null){const s=i[i.length-1],l=s.id.clock+s.length;for(let a=0,c=o[a];a<o.length&&c.clock<l;c=o[++a])VL(t,i,c.clock,c.len,n)}}),mX=(t,e)=>{let n=0,o=t.length-1;for(;n<=o;){const r=wi((n+o)/2),i=t[r],s=i.clock;if(s<=e){if(e<s+i.len)return r;n=r+1}else o=r-1}return null},tu=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&mX(n,e.clock)!==null},$C=t=>{t.clients.forEach(e=>{e.sort((r,i)=>r.clock-i.clock);let n,o;for(n=1,o=1;n<e.length;n++){const r=e[o-1],i=e[n];r.clock+r.len>=i.clock?r.len=Ko(r.len,i.clock+i.len-r.clock):(o<n&&(e[o]=i),o++)}e.length=o})},Tw=t=>{const e=new eu;for(let n=0;n<t.length;n++)t[n].clients.forEach((o,r)=>{if(!e.clients.has(r)){const i=o.slice();for(let s=n+1;s<t.length;s++)WW(i,t[s].clients.get(r)||[]);e.clients.set(r,i)}});return $C(e),e},Wd=(t,e,n,o)=>{jr(t.clients,e,()=>[]).push(new BC(n,o))},AL=()=>new eu,NL=t=>{const e=AL();return t.clients.forEach((n,o)=>{const r=[];for(let i=0;i<n.length;i++){const s=n[i];if(s.deleted){const l=s.id.clock;let a=s.length;if(i+1<n.length)for(let c=n[i+1];i+1<n.length&&c.deleted;c=n[++i+1])a+=c.length;r.push(new BC(l,a))}}r.length>0&&e.clients.set(o,r)}),e},nu=(t,e)=>{ye(t.restEncoder,e.clients.size),Cs(e.clients.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{t.resetDsCurVal(),ye(t.restEncoder,n);const r=o.length;ye(t.restEncoder,r);for(let i=0;i<r;i++){const s=o[i];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},zC=t=>{const e=new eu,n=fe(t.restDecoder);for(let o=0;o<n;o++){t.resetDsCurVal();const r=fe(t.restDecoder),i=fe(t.restDecoder);if(i>0){const s=jr(e.clients,r,()=>[]);for(let l=0;l<i;l++)s.push(new BC(t.readDsClock(),t.readDsLen()))}}return e},gT=(t,e,n)=>{const o=new eu,r=fe(t.restDecoder);for(let i=0;i<r;i++){t.resetDsCurVal();const s=fe(t.restDecoder),l=fe(t.restDecoder),a=n.clients.get(s)||[],c=mt(n,s);for(let u=0;u<l;u++){const d=t.readDsClock(),f=d+t.readDsLen();if(d<c){c<f&&Wd(o,s,c,f-c);let h=Ao(a,d),p=a[h];for(!p.deleted&&p.id.clock<d&&(a.splice(h+1,0,gg(e,p,d-p.id.clock)),h++);h<a.length&&(p=a[h++],p.id.clock<f);)p.deleted||(f<p.id.clock+p.length&&a.splice(h,0,gg(e,p,f-p.id.clock)),p.delete(e))}else Wd(o,s,d,f-d)}}if(o.clients.size>0){const i=new Pl;return ye(i.restEncoder,0),nu(i,o),i.toUint8Array()}return null},RL=pL;class Is extends cL{constructor({guid:e=OY(),collectionid:n=null,gc:o=!0,gcFilter:r=()=>!0,meta:i=null,autoLoad:s=!1,shouldLoad:l=!0}={}){super(),this.gc=o,this.gcFilter=r,this.clientID=RL(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new IL,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=s,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=hT(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const a=()=>hT(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=a()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=a()}load(){const e=this._item;e!==null&&!this.shouldLoad&&$e(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Cs(this.subdocs).map(e=>e.guid))}transact(e,n=null){return $e(this,e,n)}get(e,n=Lt){const o=jr(this.share,e,()=>{const i=new n;return i._integrate(this,null),i}),r=o.constructor;if(n!==Lt&&r!==n)if(r===Lt){const i=new n;i._map=o._map,o._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=i}),i._start=o._start;for(let s=i._start;s!==null;s=s.right)s.parent=i;return i._length=o._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return o}getArray(e=""){return this.get(e,ic)}getText(e=""){return this.get(e,Es)}getMap(e=""){return this.get(e,jc)}getXmlElement(e=""){return this.get(e,dn)}getXmlFragment(e=""){return this.get(e,Il)}toJSON(){const e={};return this.share.forEach((n,o)=>{e[o]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Cs(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Is({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,$e(e.parent.doc,o=>{const r=n.doc;e.deleted||o.subdocsAdded.add(r),o.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class OL{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return fe(this.restDecoder)}readDsLen(){return fe(this.restDecoder)}}class DL extends OL{readLeftID(){return ie(fe(this.restDecoder),fe(this.restDecoder))}readRightID(){return ie(fe(this.restDecoder),fe(this.restDecoder))}readClient(){return fe(this.restDecoder)}readInfo(){return Oc(this.restDecoder)}readString(){return nc(this.restDecoder)}readParentInfo(){return fe(this.restDecoder)===1}readTypeRef(){return fe(this.restDecoder)}readLen(){return fe(this.restDecoder)}readAny(){return Kd(this.restDecoder)}readBuf(){return JY(Hn(this.restDecoder))}readJSON(){return JSON.parse(nc(this.restDecoder))}readKey(){return nc(this.restDecoder)}}class gX{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=fe(this.restDecoder),this.dsCurrVal}readDsLen(){const e=fe(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Lc extends gX{constructor(e){super(e),this.keys=[],fe(e),this.keyClockDecoder=new n1(Hn(e)),this.clientDecoder=new Tp(Hn(e)),this.leftClockDecoder=new n1(Hn(e)),this.rightClockDecoder=new n1(Hn(e)),this.infoDecoder=new fT(Hn(e),Oc),this.stringDecoder=new MY(Hn(e)),this.parentInfoDecoder=new fT(Hn(e),Oc),this.typeRefDecoder=new Tp(Hn(e)),this.lenDecoder=new Tp(Hn(e))}readLeftID(){return new oc(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new oc(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Kd(this.restDecoder)}readBuf(){return Hn(this.restDecoder)}readJSON(){return Kd(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class LL{constructor(){this.restEncoder=Pf()}toUint8Array(){return Io(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){ye(this.restEncoder,e)}writeDsLen(e){ye(this.restEncoder,e)}}class If extends LL{writeLeftID(e){ye(this.restEncoder,e.client),ye(this.restEncoder,e.clock)}writeRightID(e){ye(this.restEncoder,e.client),ye(this.restEncoder,e.clock)}writeClient(e){ye(this.restEncoder,e)}writeInfo(e){_w(this.restEncoder,e)}writeString(e){tc(this.restEncoder,e)}writeParentInfo(e){ye(this.restEncoder,e?1:0)}writeTypeRef(e){ye(this.restEncoder,e)}writeLen(e){ye(this.restEncoder,e)}writeAny(e){Rc(this.restEncoder,e)}writeBuf(e){In(this.restEncoder,e)}writeJSON(e){tc(this.restEncoder,JSON.stringify(e))}writeKey(e){tc(this.restEncoder,e)}}class jL{constructor(){this.restEncoder=Pf(),this.dsCurrVal=0}toUint8Array(){return Io(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,ye(this.restEncoder,n)}writeDsLen(e){e===0&&oo(),ye(this.restEncoder,e-1),this.dsCurrVal+=e}}class Pl extends jL{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new t1,this.clientEncoder=new Mp,this.leftClockEncoder=new t1,this.rightClockEncoder=new t1,this.infoEncoder=new cT(_w),this.stringEncoder=new yY,this.parentInfoEncoder=new cT(_w),this.typeRefEncoder=new Mp,this.lenEncoder=new Mp}toUint8Array(){const e=Pf();return ye(e,0),In(e,this.keyClockEncoder.toUint8Array()),In(e,this.clientEncoder.toUint8Array()),In(e,this.leftClockEncoder.toUint8Array()),In(e,this.rightClockEncoder.toUint8Array()),In(e,Io(this.infoEncoder)),In(e,this.stringEncoder.toUint8Array()),In(e,Io(this.parentInfoEncoder)),In(e,this.typeRefEncoder.toUint8Array()),In(e,this.lenEncoder.toUint8Array()),Vb(e,Io(this.restEncoder)),Io(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Rc(this.restEncoder,e)}writeBuf(e){In(this.restEncoder,e)}writeJSON(e){Rc(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const bX=(t,e,n,o)=>{o=Ko(o,e[0].id.clock);const r=Ao(e,o);ye(t.restEncoder,e.length-r),t.writeClient(n),ye(t.restEncoder,o);const i=e[r];i.write(t,o-i.id.clock);for(let s=r+1;s<e.length;s++)e[s].write(t,0)},PC=(t,e,n)=>{const o=new Map;n.forEach((r,i)=>{mt(e,i)>r&&o.set(i,r)}),Hf(e).forEach((r,i)=>{n.has(i)||o.set(i,0)}),ye(t.restEncoder,o.size),Cs(o.entries()).sort((r,i)=>i[0]-r[0]).forEach(([r,i])=>{bX(t,e.clients.get(r),r,i)})},yX=(t,e)=>{const n=_o(),o=fe(t.restDecoder);for(let r=0;r<o;r++){const i=fe(t.restDecoder),s=new Array(i),l=t.readClient();let a=fe(t.restDecoder);n.set(l,{i:0,refs:s});for(let c=0;c<i;c++){const u=t.readInfo();switch(Hb&u){case 0:{const d=t.readLen();s[c]=new vo(ie(l,a),d),a+=d;break}case 10:{const d=fe(t.restDecoder);s[c]=new wo(ie(l,a),d),a+=d;break}default:{const d=(u&(pi|fn))===0,f=new Re(ie(l,a),null,(u&fn)===fn?t.readLeftID():null,null,(u&pi)===pi?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&Gd)===Gd?t.readString():null,u6(t,u));s[c]=f,a+=f.length}}}}return n},vX=(t,e,n)=>{const o=[];let r=Cs(n.keys()).sort((h,p)=>h-p);if(r.length===0)return null;const i=()=>{if(r.length===0)return null;let h=n.get(r[r.length-1]);for(;h.refs.length===h.i;)if(r.pop(),r.length>0)h=n.get(r[r.length-1]);else return null;return h};let s=i();if(s===null)return null;const l=new IL,a=new Map,c=(h,p)=>{const m=a.get(h);(m==null||m>p)&&a.set(h,p)};let u=s.refs[s.i++];const d=new Map,f=()=>{for(const h of o){const p=h.id.client,m=n.get(p);m?(m.i--,l.clients.set(p,m.refs.slice(m.i)),n.delete(p),m.i=0,m.refs=[]):l.clients.set(p,[h]),r=r.filter(b=>b!==p)}o.length=0};for(;;){if(u.constructor!==wo){const p=jr(d,u.id.client,()=>mt(e,u.id.client))-u.id.clock;if(p<0)o.push(u),c(u.id.client,u.id.clock-1),f();else{const m=u.getMissing(t,e);if(m!==null){o.push(u);const b=n.get(m)||{refs:[],i:0};if(b.refs.length===b.i)c(m,mt(e,m)),f();else{u=b.refs[b.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(o.length>0)u=o.pop();else if(s!==null&&s.i<s.refs.length)u=s.refs[s.i++];else{if(s=i(),s===null)break;u=s.refs[s.i++]}}if(l.clients.size>0){const h=new Pl;return PC(h,l,new Map),ye(h.restEncoder,0),{missing:a,update:h.toUint8Array()}}return null},wX=(t,e)=>PC(t,e.doc.store,e.beforeState),kX=(t,e,n,o=new Lc(t))=>$e(e,r=>{r.local=!1;let i=!1;const s=r.doc,l=s.store,a=yX(o,s),c=vX(r,l,a),u=l.pendingStructs;if(u){for(const[f,h]of u.missing)if(h<mt(l,f)){i=!0;break}if(c){for(const[f,h]of c.missing){const p=u.missing.get(f);(p==null||p>h)&&u.missing.set(f,h)}u.update=dg([u.update,c.update])}}else l.pendingStructs=c;const d=gT(o,r,l);if(l.pendingDs){const f=new Lc(Qc(l.pendingDs));fe(f.restDecoder);const h=gT(f,r,l);d&&h?l.pendingDs=dg([d,h]):l.pendingDs=d||h}else l.pendingDs=d;if(i){const f=l.pendingStructs.update;l.pendingStructs=null,ug(r.doc,f)}},n,!1),ug=(t,e,n,o=Lc)=>{const r=Qc(e);kX(r,t,n,new o(r))},bT=(t,e,n)=>ug(t,e,n,DL),xX=(t,e,n=new Map)=>{PC(t,e.store,n),nu(t,NL(e.store))},CX=(t,e=new Uint8Array([0]),n=new Pl)=>{const o=BL(e);xX(n,t,o);const r=[n.toUint8Array()];if(t.store.pendingDs&&r.push(t.store.pendingDs),t.store.pendingStructs&&r.push(VX(t.store.pendingStructs.update,e)),r.length>1){if(n.constructor===If)return IX(r.map((i,s)=>s===0?i:FX(i)));if(n.constructor===Pl)return dg(r)}return r[0]},yT=(t,e)=>CX(t,e,new If),SX=t=>{const e=new Map,n=fe(t.restDecoder);for(let o=0;o<n;o++){const r=fe(t.restDecoder),i=fe(t.restDecoder);e.set(r,i)}return e},BL=t=>SX(new OL(Qc(t))),$L=(t,e)=>(ye(t.restEncoder,e.size),Cs(e.entries()).sort((n,o)=>o[0]-n[0]).forEach(([n,o])=>{ye(t.restEncoder,n),ye(t.restEncoder,o)}),t),_X=(t,e)=>$L(t,Hf(e.store)),EX=(t,e=new jL)=>(t instanceof Map?$L(e,t):_X(e,t),e.toUint8Array()),MX=t=>EX(t,new LL);class TX{constructor(){this.l=[]}}const vT=()=>new TX,wT=(t,e)=>t.l.push(e),kT=(t,e)=>{const n=t.l,o=n.length;t.l=n.filter(r=>e!==r),o===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},zL=(t,e,n)=>DC(t.l,[e,n]);class oc{constructor(e,n){this.client=e,this.clock=n}}const Pa=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,ie=(t,e)=>new oc(t,e),Yd=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw oo()},Xd=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Jd{constructor(e,n,o,r=0){this.type=e,this.tname=n,this.item=o,this.assoc=r}}const pd=t=>new Jd(t.type==null?null:ie(t.type.client,t.type.clock),t.tname??null,t.item==null?null:ie(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class AX{constructor(e,n,o=0){this.type=e,this.index=n,this.assoc=o}}const NX=(t,e,n=0)=>new AX(t,e,n),Gh=(t,e,n)=>{let o=null,r=null;return t._item===null?r=Yd(t):o=ie(t._item.id.client,t._item.id.clock),new Jd(o,r,e,n)},r1=(t,e,n=0)=>{let o=t._start;if(n<0){if(e===0)return Gh(t,null,n);e--}for(;o!==null;){if(!o.deleted&&o.countable){if(o.length>e)return Gh(t,ie(o.id.client,o.id.clock+e),n);e-=o.length}if(o.right===null&&n<0)return Gh(t,o.lastId,n);o=o.right}return Gh(t,null,n)},RX=(t,e)=>{const n=rc(t,e),o=e.clock-n.id.clock;return{item:n,diff:o}},OX=(t,e,n=!0)=>{const o=e.store,r=t.item,i=t.type,s=t.tname,l=t.assoc;let a=null,c=0;if(r!==null){if(mt(o,r.client)<=r.clock)return null;const u=n?Ow(o,r):RX(o,r),d=u.item;if(!(d instanceof Re))return null;if(a=d.parent,a._item===null||!a._item.deleted){c=d.deleted||!d.countable?0:u.diff+(l>=0?0:1);let f=d.left;for(;f!==null;)!f.deleted&&f.countable&&(c+=f.length),f=f.left}}else{if(s!==null)a=e.get(s);else if(i!==null){if(mt(o,i.client)<=i.clock)return null;const{item:u}=n?Ow(o,i):{item:rc(o,i)};if(u instanceof Re&&u.content instanceof er)a=u.content.type;else return null}else throw oo();l>=0?c=a._length:c=0}return NX(a,c,t.assoc)},xT=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&Pa(t.item,e.item)&&Pa(t.type,e.type)&&t.assoc===e.assoc;class IC{constructor(e,n){this.ds=e,this.sv=n}}const PL=(t,e)=>new IC(t,e),i1=t=>PL(NL(t.store),Hf(t.store)),ol=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!tu(e.ds,t.id),Aw=(t,e)=>{const n=jr(t.meta,Aw,zl),o=t.doc.store;n.has(e)||(e.sv.forEach((r,i)=>{r<mt(o,i)&&Mn(t,ie(i,r))}),_s(t,e.ds,r=>{}),n.add(e))};class IL{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Hf=t=>{const e=new Map;return t.clients.forEach((n,o)=>{const r=n[n.length-1];e.set(o,r.id.clock+r.length)}),e},mt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const o=n[n.length-1];return o.id.clock+o.length},HL=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const o=n[n.length-1];if(o.id.clock+o.length!==e.id.clock)throw oo()}n.push(e)},Ao=(t,e)=>{let n=0,o=t.length-1,r=t[o],i=r.id.clock;if(i===e)return o;let s=wi(e/(i+r.length-1)*o);for(;n<=o;){if(r=t[s],i=r.id.clock,i<=e){if(e<i+r.length)return s;n=s+1}else o=s-1;s=wi((n+o)/2)}throw oo()},DX=(t,e)=>{const n=t.clients.get(e.client);return n[Ao(n,e.clock)]},rc=DX,Nw=(t,e,n)=>{const o=Ao(e,n),r=e[o];return r.id.clock<n&&r instanceof Re?(e.splice(o+1,0,gg(t,r,n-r.id.clock)),o+1):o},Mn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Nw(t,n,e.clock)]},CT=(t,e,n)=>{const o=e.clients.get(n.client),r=Ao(o,n.clock),i=o[r];return n.clock!==i.id.clock+i.length-1&&i.constructor!==vo&&o.splice(r+1,0,gg(t,i,n.clock-i.id.clock+1)),i},LX=(t,e,n)=>{const o=t.clients.get(e.id.client);o[Ao(o,e.id.clock)]=n},VL=(t,e,n,o,r)=>{if(o===0)return;const i=n+o;let s=Nw(t,e,n),l;do l=e[s++],i<l.id.clock+l.length&&Nw(t,e,i),r(l);while(s<e.length&&e[s].id.clock<i)};class jX{constructor(e,n,o){this.doc=e,this.deleteSet=new eu,this.beforeState=Hf(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=o,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const ST=(t,e)=>e.deleteSet.clients.size===0&&!KW(e.afterState,(n,o)=>e.beforeState.get(o)!==n)?!1:($C(e.deleteSet),wX(t,e),nu(t,e.deleteSet),!0),_T=(t,e,n)=>{const o=e._item;(o===null||o.id.clock<(t.beforeState.get(o.id.client)||0)&&!o.deleted)&&jr(t.changed,e,zl).add(n)},Ap=(t,e)=>{let n=t[e],o=t[e-1],r=e;for(;r>0;n=o,o=t[--r-1]){if(o.deleted===n.deleted&&o.constructor===n.constructor&&o.mergeWith(n)){n instanceof Re&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,o);continue}break}const i=e-r;return i&&t.splice(e+1-i,i),i},BX=(t,e,n)=>{for(const[o,r]of t.clients.entries()){const i=e.clients.get(o);for(let s=r.length-1;s>=0;s--){const l=r[s],a=l.clock+l.len;for(let c=Ao(i,l.clock),u=i[c];c<i.length&&u.id.clock<a;u=i[++c]){const d=i[c];if(l.clock+l.len<=d.id.clock)break;d instanceof Re&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},$X=(t,e)=>{t.clients.forEach((n,o)=>{const r=e.clients.get(o);for(let i=n.length-1;i>=0;i--){const s=n[i],l=hi(r.length-1,1+Ao(r,s.clock+s.len-1));for(let a=l,c=r[a];a>0&&c.id.clock>=s.clock;c=r[a])a-=1+Ap(r,a)}})},UL=(t,e)=>{if(e<t.length){const n=t[e],o=n.doc,r=o.store,i=n.deleteSet,s=n._mergeStructs;try{$C(i),n.afterState=Hf(n.doc.store),o.emit("beforeObserverCalls",[n,o]);const l=[];n.changed.forEach((a,c)=>l.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,a)})),l.push(()=>{n.changedParentTypes.forEach((a,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(a=a.filter(u=>u.target._item===null||!u.target._item.deleted),a.forEach(u=>{u.currentTarget=c,u._path=null}),a.sort((u,d)=>u.path.length-d.path.length),zL(c._dEH,a,n))})}),l.push(()=>o.emit("afterTransaction",[n,o])),DC(l,[]),n._needFormattingCleanup&&rJ(n)}finally{o.gc&&BX(i,r,o.gcFilter),$X(i,r),n.afterState.forEach((u,d)=>{const f=n.beforeState.get(d)||0;if(f!==u){const h=r.clients.get(d),p=Ko(Ao(h,f),1);for(let m=h.length-1;m>=p;)m-=1+Ap(h,m)}});for(let u=s.length-1;u>=0;u--){const{client:d,clock:f}=s[u].id,h=r.clients.get(d),p=Ao(h,f);p+1<h.length&&Ap(h,p+1)>1||p>0&&Ap(h,p)}if(!n.local&&n.afterState.get(o.clientID)!==n.beforeState.get(o.clientID)&&(hX(jC,xL,"[yjs] ",CL,SL,"Changed the client-id because another client seems to be using it."),o.clientID=RL()),o.emit("afterTransactionCleanup",[n,o]),o._observers.has("update")){const u=new If;ST(u,n)&&o.emit("update",[u.toUint8Array(),n.origin,o,n])}if(o._observers.has("updateV2")){const u=new Pl;ST(u,n)&&o.emit("updateV2",[u.toUint8Array(),n.origin,o,n])}const{subdocsAdded:l,subdocsLoaded:a,subdocsRemoved:c}=n;(l.size>0||c.size>0||a.size>0)&&(l.forEach(u=>{u.clientID=o.clientID,u.collectionid==null&&(u.collectionid=o.collectionid),o.subdocs.add(u)}),c.forEach(u=>o.subdocs.delete(u)),o.emit("subdocs",[{loaded:a,added:l,removed:c},o,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(o._transactionCleanups=[],o.emit("afterAllTransactions",[o,t])):UL(t,e+1)}}},$e=(t,e,n=null,o=!0)=>{const r=t._transactionCleanups;let i=!1,s=null;t._transaction===null&&(i=!0,t._transaction=new jX(t,n,o),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{s=e(t._transaction)}finally{if(i){const l=t._transaction===r[0];t._transaction=null,l&&UL(r,0)}}return s};class zX{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const ET=(t,e,n)=>{_s(t,n.deletions,o=>{o instanceof Re&&e.scope.some(r=>r===t.doc||Xd(r,o))&&KC(o,!1)})},MT=(t,e,n)=>{let o=null;const r=t.doc,i=t.scope;$e(r,l=>{for(;e.length>0&&t.currStackItem===null;){const a=r.store,c=e.pop(),u=new Set,d=[];let f=!1;_s(l,c.insertions,h=>{if(h instanceof Re){if(h.redone!==null){let{item:p,diff:m}=Ow(a,h.id);m>0&&(p=Mn(l,ie(p.id.client,p.id.clock+m))),h=p}!h.deleted&&i.some(p=>p===l.doc||Xd(p,h))&&d.push(h)}}),_s(l,c.deletions,h=>{h instanceof Re&&i.some(p=>p===l.doc||Xd(p,h))&&!tu(c.insertions,h.id)&&u.add(h)}),u.forEach(h=>{f=c6(l,h,u,c.insertions,t.ignoreRemoteMapChanges,t)!==null||f});for(let h=d.length-1;h>=0;h--){const p=d[h];t.deleteFilter(p)&&(p.delete(l),f=!0)}t.currStackItem=f?c:null}l.changed.forEach((a,c)=>{a.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),o=l},t);const s=t.currStackItem;if(s!=null){const l=o.changedParentTypes;t.emit("stack-item-popped",[{stackItem:s,type:n,changedParentTypes:l,origin:t},t]),t.currStackItem=null}return s};class FL extends cL{constructor(e,{captureTimeout:n=500,captureTransaction:o=a=>!0,deleteFilter:r=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:s=!1,doc:l=Cw(e)?e[0].doc:e instanceof Is?e:e.doc}={}){super(),this.scope=[],this.doc=l,this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=o,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=s,this.captureTimeout=n,this.afterTransactionHandler=a=>{if(!this.captureTransaction(a)||!this.scope.some(b=>a.changedParentTypes.has(b)||b===this.doc)||!this.trackedOrigins.has(a.origin)&&(!a.origin||!this.trackedOrigins.has(a.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const f=new eu;a.afterState.forEach((b,y)=>{const w=a.beforeState.get(y)||0,k=b-w;k>0&&Wd(f,y,w,k)});const h=DY();let p=!1;if(this.lastChange>0&&h-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const b=d[d.length-1];b.deletions=Tw([b.deletions,a.deleteSet]),b.insertions=Tw([b.insertions,f])}else d.push(new zX(a.deleteSet,f)),p=!0;!c&&!u&&(this.lastChange=h),_s(a,a.deleteSet,b=>{b instanceof Re&&this.scope.some(y=>y===a.doc||Xd(y,b))&&KC(b,!0)});const m=[{stackItem:d[d.length-1],origin:a.origin,type:c?"redo":"undo",changedParentTypes:a.changedParentTypes},this];p?this.emit("stack-item-added",m):this.emit("stack-item-updated",m)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){const n=new Set(this.scope);e=Cw(e)?e:[e],e.forEach(o=>{n.has(o)||(n.add(o),(o instanceof Lt?o.doc!==this.doc:o!==this.doc)&&EL("[yjs#509] Not same Y.Doc"),this.scope.push(o))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(o=>{e&&(this.undoStack.forEach(r=>ET(o,this,r)),this.undoStack=[]),n&&(this.redoStack.forEach(r=>ET(o,this,r)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=MT(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=MT(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*PX(t){const e=fe(t.restDecoder);for(let n=0;n<e;n++){const o=fe(t.restDecoder),r=t.readClient();let i=fe(t.restDecoder);for(let s=0;s<o;s++){const l=t.readInfo();if(l===10){const a=fe(t.restDecoder);yield new wo(ie(r,i),a),i+=a}else if(Hb&l){const a=(l&(pi|fn))===0,c=new Re(ie(r,i),null,(l&fn)===fn?t.readLeftID():null,null,(l&pi)===pi?t.readRightID():null,a?t.readParentInfo()?t.readString():t.readLeftID():null,a&&(l&Gd)===Gd?t.readString():null,u6(t,l));yield c,i+=c.length}else{const a=t.readLen();yield new vo(ie(r,i),a),i+=a}}}}class HC{constructor(e,n){this.gen=PX(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===wo);return this.curr}}class VC{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const IX=t=>dg(t,DL,If),HX=(t,e)=>{if(t.constructor===vo){const{client:n,clock:o}=t.id;return new vo(ie(n,o+e),t.length-e)}else if(t.constructor===wo){const{client:n,clock:o}=t.id;return new wo(ie(n,o+e),t.length-e)}else{const n=t,{client:o,clock:r}=n.id;return new Re(ie(o,r+e),null,ie(o,r+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},dg=(t,e=Lc,n=Pl)=>{if(t.length===1)return t[0];const o=t.map(u=>new e(Qc(u)));let r=o.map(u=>new HC(u,!0)),i=null;const s=new n,l=new VC(s);for(;r=r.filter(f=>f.curr!==null),r.sort((f,h)=>{if(f.curr.id.client===h.curr.id.client){const p=f.curr.id.clock-h.curr.id.clock;return p===0?f.curr.constructor===h.curr.constructor?0:f.curr.constructor===wo?1:-1:p}else return h.curr.id.client-f.curr.id.client}),r.length!==0;){const u=r[0],d=u.curr.id.client;if(i!==null){let f=u.curr,h=!1;for(;f!==null&&f.id.clock+f.length<=i.struct.id.clock+i.struct.length&&f.id.client>=i.struct.id.client;)f=u.next(),h=!0;if(f===null||f.id.client!==d||h&&f.id.clock>i.struct.id.clock+i.struct.length)continue;if(d!==i.struct.id.client)Ki(l,i.struct,i.offset),i={struct:f,offset:0},u.next();else if(i.struct.id.clock+i.struct.length<f.id.clock)if(i.struct.constructor===wo)i.struct.length=f.id.clock+f.length-i.struct.id.clock;else{Ki(l,i.struct,i.offset);const p=f.id.clock-i.struct.id.clock-i.struct.length;i={struct:new wo(ie(d,i.struct.id.clock+i.struct.length),p),offset:0}}else{const p=i.struct.id.clock+i.struct.length-f.id.clock;p>0&&(i.struct.constructor===wo?i.struct.length-=p:f=HX(f,p)),i.struct.mergeWith(f)||(Ki(l,i.struct,i.offset),i={struct:f,offset:0},u.next())}}else i={struct:u.curr,offset:0},u.next();for(let f=u.curr;f!==null&&f.id.client===d&&f.id.clock===i.struct.id.clock+i.struct.length&&f.constructor!==wo;f=u.next())Ki(l,i.struct,i.offset),i={struct:f,offset:0}}i!==null&&(Ki(l,i.struct,i.offset),i=null),UC(l);const a=o.map(u=>zC(u)),c=Tw(a);return nu(s,c),s.toUint8Array()},VX=(t,e,n=Lc,o=Pl)=>{const r=BL(e),i=new o,s=new VC(i),l=new n(Qc(t)),a=new HC(l,!1);for(;a.curr;){const u=a.curr,d=u.id.client,f=r.get(d)||0;if(a.curr.constructor===wo){a.next();continue}if(u.id.clock+u.length>f)for(Ki(s,u,Ko(f-u.id.clock,0)),a.next();a.curr&&a.curr.id.client===d;)Ki(s,a.curr,0),a.next();else for(;a.curr&&a.curr.id.client===d&&a.curr.id.clock+a.curr.length<=f;)a.next()}UC(s);const c=zC(l);return nu(i,c),i.toUint8Array()},qL=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Io(t.encoder.restEncoder)}),t.encoder.restEncoder=Pf(),t.written=0)},Ki=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&qL(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),ye(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},UC=t=>{qL(t);const e=t.encoder.restEncoder;ye(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const o=t.clientStructs[n];ye(e,o.written),Vb(e,o.restEncoder)}},UX=(t,e,n,o)=>{const r=new n(Qc(t)),i=new HC(r,!1),s=new o,l=new VC(s);for(let c=i.curr;c!==null;c=i.next())Ki(l,e(c),0);UC(l);const a=zC(r);return nu(s,a),s.toUint8Array()},FX=t=>UX(t,UY,Lc,If),TT="You must not compute changes after the event-handler fired.";class Fb{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=qX(this.currentTarget,this.target))}deletes(e){return tu(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ss(TT);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(r=>{if(r!==null){const i=n._map.get(r);let s,l;if(this.adds(i)){let a=i.left;for(;a!==null&&this.adds(a);)a=a.left;if(this.deletes(i))if(a!==null&&this.deletes(a))s="delete",l=J0(a.content.getContent());else return;else a!==null&&this.deletes(a)?(s="update",l=J0(a.content.getContent())):(s="add",l=void 0)}else if(this.deletes(i))s="delete",l=J0(i.content.getContent());else return;e.set(r,{action:s,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ss(TT);const n=this.target,o=zl(),r=zl(),i=[];if(e={added:o,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const a=()=>{l&&i.push(l)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((l===null||l.delete===void 0)&&(a(),l={delete:0}),l.delete+=c.length,r.add(c)):this.adds(c)?((l===null||l.insert===void 0)&&(a(),l={insert:[]}),l.insert=l.insert.concat(c.content.getContent()),o.add(c)):((l===null||l.retain===void 0)&&(a(),l={retain:0}),l.retain+=c.length);l!==null&&l.retain===void 0&&a()}this._changes=e}return e}}const qX=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let o=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)!r.deleted&&r.countable&&(o+=r.length),r=r.right;n.unshift(o)}e=e._item.parent}return n},nn=()=>{EL("Invalid access: Add Yjs type to a document before reading data.")},GL=80;let FC=0;class GX{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=FC++}}const ZX=t=>{t.timestamp=FC++},ZL=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=FC++},KX=(t,e,n)=>{if(t.length>=GL){const o=t.reduce((r,i)=>r.timestamp<i.timestamp?r:i);return ZL(o,e,n),o}else{const o=new GX(e,n);return t.push(o),o}},qb=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((i,s)=>Ep(e-i.index)<Ep(e-s.index)?i:s);let o=t._start,r=0;for(n!==null&&(o=n.p,r=n.index,ZX(n));o.right!==null&&r<e;){if(!o.deleted&&o.countable){if(e<r+o.length)break;r+=o.length}o=o.right}for(;o.left!==null&&r>e;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);for(;o.left!==null&&o.left.id.client===o.id.client&&o.left.id.clock+o.left.length===o.id.clock;)o=o.left,!o.deleted&&o.countable&&(r-=o.length);return n!==null&&Ep(n.index-r)<o.parent.length/GL?(ZL(n,o,r),n):KX(t._searchMarker,o,r)},Qd=(t,e,n)=>{for(let o=t.length-1;o>=0;o--){const r=t[o];if(n>0){let i=r.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(r.index-=i.length);if(i===null||i.marker===!0){t.splice(o,1);continue}r.p=i,i.marker=!0}(e<r.index||n>0&&e===r.index)&&(r.index=Ko(e,r.index+n))}},Gb=(t,e,n)=>{const o=t,r=e.changedParentTypes;for(;jr(r,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;zL(o._eH,n,e)};class Lt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=vT(),this._dEH=vT(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Uo()}clone(){throw Uo()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){wT(this._eH,e)}observeDeep(e){wT(this._dEH,e)}unobserve(e){kT(this._eH,e)}unobserveDeep(e){kT(this._dEH,e)}toJSON(){}}const KL=(t,e,n)=>{t.doc??nn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let o=n-e;const r=[];let i=t._start;for(;i!==null&&o>0;){if(i.countable&&!i.deleted){const s=i.content.getContent();if(s.length<=e)e-=s.length;else{for(let l=e;l<s.length&&o>0;l++)r.push(s[l]),o--;e=0}}i=i.right}return r},WL=t=>{t.doc??nn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e.push(o[r])}n=n.right}return e},YL=(t,e)=>{const n=[];let o=t._start;for(;o!==null;){if(o.countable&&ol(o,e)){const r=o.content.getContent();for(let i=0;i<r.length;i++)n.push(r[i])}o=o.right}return n},ef=(t,e)=>{let n=0,o=t._start;for(t.doc??nn();o!==null;){if(o.countable&&!o.deleted){const r=o.content.getContent();for(let i=0;i<r.length;i++)e(r[i],n++,t)}o=o.right}},XL=(t,e)=>{const n=[];return ef(t,(o,r)=>{n.push(e(o,r,t))}),n},WX=t=>{let e=t._start,n=null,o=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),o=0,e=e.right}const r=n[o++];return n.length<=o&&(n=null),{done:!1,value:r}}}},JL=(t,e)=>{t.doc??nn();const n=qb(t,e);let o=t._start;for(n!==null&&(o=n.p,e-=n.index);o!==null;o=o.right)if(!o.deleted&&o.countable){if(e<o.length)return o.content.getContent()[e];e-=o.length}},fg=(t,e,n,o)=>{let r=n;const i=t.doc,s=i.clientID,l=i.store,a=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(r=new Re(ie(s,mt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new Hl(c)),r.integrate(t,0),c=[])};o.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:r=new Re(ie(s,mt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new Vf(new Uint8Array(d))),r.integrate(t,0);break;case Is:r=new Re(ie(s,mt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new Uf(d)),r.integrate(t,0);break;default:if(d instanceof Lt)r=new Re(ie(s,mt(l,s)),r,r&&r.lastId,a,a&&a.id,e,null,new er(d)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},QL=()=>Ss("Length exceeded!"),e6=(t,e,n,o)=>{if(n>e._length)throw QL();if(n===0)return e._searchMarker&&Qd(e._searchMarker,n,o.length),fg(t,e,null,o);const r=n,i=qb(e,n);let s=e._start;for(i!==null&&(s=i.p,n-=i.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&Mn(t,ie(s.id.client,s.id.clock+n));break}n-=s.length}return e._searchMarker&&Qd(e._searchMarker,r,o.length),fg(t,e,s,o)},YX=(t,e,n)=>{let r=(e._searchMarker||[]).reduce((i,s)=>s.index>i.index?s:i,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return fg(t,e,r,n)},t6=(t,e,n,o)=>{if(o===0)return;const r=n,i=o,s=qb(e,n);let l=e._start;for(s!==null&&(l=s.p,n-=s.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Mn(t,ie(l.id.client,l.id.clock+n)),n-=l.length);for(;o>0&&l!==null;)l.deleted||(o<l.length&&Mn(t,ie(l.id.client,l.id.clock+o)),l.delete(t),o-=l.length),l=l.right;if(o>0)throw QL();e._searchMarker&&Qd(e._searchMarker,r,-i+o)},hg=(t,e,n)=>{const o=e._map.get(n);o!==void 0&&o.delete(t)},qC=(t,e,n,o)=>{const r=e._map.get(n)||null,i=t.doc,s=i.clientID;let l;if(o==null)l=new Hl([o]);else switch(o.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:l=new Hl([o]);break;case Uint8Array:l=new Vf(o);break;case Is:l=new Uf(o);break;default:if(o instanceof Lt)l=new er(o);else throw new Error("Unexpected content type")}new Re(ie(s,mt(i.store,s)),r,r&&r.lastId,null,null,e,n,l).integrate(t,0)},GC=(t,e)=>{t.doc??nn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},n6=t=>{const e={};return t.doc??nn(),t._map.forEach((n,o)=>{n.deleted||(e[o]=n.content.getContent()[n.length-1])}),e},o6=(t,e)=>{t.doc??nn();const n=t._map.get(e);return n!==void 0&&!n.deleted},XX=(t,e)=>{const n={};return t._map.forEach((o,r)=>{let i=o;for(;i!==null&&(!e.sv.has(i.id.client)||i.id.clock>=(e.sv.get(i.id.client)||0));)i=i.left;i!==null&&ol(i,e)&&(n[r]=i.content.getContent()[i.length-1])}),n},Zh=t=>(t.doc??nn(),pX(t._map.entries(),e=>!e[1].deleted));class JX extends Fb{}class ic extends Lt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new ic;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ic}clone(){const e=new ic;return e.insert(0,this.toArray().map(n=>n instanceof Lt?n.clone():n)),e}get length(){return this.doc??nn(),this._length}_callObserver(e,n){super._callObserver(e,n),Gb(this,e,new JX(this,e))}insert(e,n){this.doc!==null?$e(this.doc,o=>{e6(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?$e(this.doc,n=>{YX(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?$e(this.doc,o=>{t6(o,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return JL(this,e)}toArray(){return WL(this)}slice(e=0,n=this.length){return KL(this,e,n)}toJSON(){return this.map(e=>e instanceof Lt?e.toJSON():e)}map(e){return XL(this,e)}forEach(e){ef(this,e)}[Symbol.iterator](){return WX(this)}_write(e){e.writeTypeRef(CJ)}}const QX=t=>new ic;class eJ extends Fb{constructor(e,n,o){super(e,n),this.keysChanged=o}}class jc extends Lt{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((o,r)=>{this.set(r,o)}),this._prelimContent=null}_copy(){return new jc}clone(){const e=new jc;return this.forEach((n,o)=>{e.set(o,n instanceof Lt?n.clone():n)}),e}_callObserver(e,n){Gb(this,e,new eJ(this,e,n))}toJSON(){this.doc??nn();const e={};return this._map.forEach((n,o)=>{if(!n.deleted){const r=n.content.getContent()[n.length-1];e[o]=r instanceof Lt?r.toJSON():r}}),e}get size(){return[...Zh(this)].length}keys(){return o1(Zh(this),e=>e[0])}values(){return o1(Zh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return o1(Zh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??nn(),this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?$e(this.doc,n=>{hg(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?$e(this.doc,o=>{qC(o,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return GC(this,e)}has(e){return o6(this,e)}clear(){this.doc!==null?$e(this.doc,e=>{this.forEach(function(n,o,r){hg(e,r,o)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(SJ)}}const tJ=t=>new jc,is=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&HY(t,e);class Rw{constructor(e,n,o,r){this.left=e,this.right=n,this.index=o,this.currentAttributes=r}forward(){switch(this.right===null&&oo(),this.right.content.constructor){case xt:this.right.deleted||ou(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const AT=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case xt:e.right.deleted||ou(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Mn(t,ie(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Kh=(t,e,n,o)=>{const r=new Map,i=o?qb(e,n):null;if(i){const s=new Rw(i.p.left,i.p,i.index,r);return AT(t,s,n-i.index)}else{const s=new Rw(null,e._start,0,r);return AT(t,s,n)}},r6=(t,e,n,o)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===xt&&is(o.get(n.right.content.key),n.right.content.value));)n.right.deleted||o.delete(n.right.content.key),n.forward();const r=t.doc,i=r.clientID;o.forEach((s,l)=>{const a=n.left,c=n.right,u=new Re(ie(i,mt(r.store,i)),a,a&&a.lastId,c,c&&c.id,e,null,new xt(l,s));u.integrate(t,0),n.right=u,n.forward()})},ou=(t,e)=>{const{key:n,value:o}=e;o===null?t.delete(n):t.set(n,o)},i6=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===xt&&is(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},s6=(t,e,n,o)=>{const r=t.doc,i=r.clientID,s=new Map;for(const l in o){const a=o[l],c=n.currentAttributes.get(l)??null;if(!is(c,a)){s.set(l,c);const{left:u,right:d}=n;n.right=new Re(ie(i,mt(r.store,i)),u,u&&u.lastId,d,d&&d.id,e,null,new xt(l,a)),n.right.integrate(t,0),n.forward()}}return s},s1=(t,e,n,o,r)=>{n.currentAttributes.forEach((f,h)=>{r[h]===void 0&&(r[h]=null)});const i=t.doc,s=i.clientID;i6(n,r);const l=s6(t,e,n,r),a=o.constructor===String?new Wo(o):o instanceof Lt?new er(o):new ta(o);let{left:c,right:u,index:d}=n;e._searchMarker&&Qd(e._searchMarker,n.index,a.getLength()),u=new Re(ie(s,mt(i.store,s)),c,c&&c.lastId,u,u&&u.id,e,null,a),u.integrate(t,0),n.right=u,n.index=d,n.forward(),r6(t,e,n,l)},NT=(t,e,n,o,r)=>{const i=t.doc,s=i.clientID;i6(n,r);const l=s6(t,e,n,r);e:for(;n.right!==null&&(o>0||l.size>0&&(n.right.deleted||n.right.content.constructor===xt));){if(!n.right.deleted)switch(n.right.content.constructor){case xt:{const{key:a,value:c}=n.right.content,u=r[a];if(u!==void 0){if(is(u,c))l.delete(a);else{if(o===0)break e;l.set(a,c)}n.right.delete(t)}else n.currentAttributes.set(a,c);break}default:o<n.right.length&&Mn(t,ie(n.right.id.client,n.right.id.clock+o)),o-=n.right.length;break}n.forward()}if(o>0){let a="";for(;o>0;o--)a+=`
`;n.right=new Re(ie(s,mt(i.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Wo(a)),n.right.integrate(t,0),n.forward()}r6(t,e,n,l)},l6=(t,e,n,o,r)=>{let i=e;const s=_o();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===xt){const c=i.content;s.set(c.key,c)}i=i.right}let l=0,a=!1;for(;e!==i;){if(n===e&&(a=!0),!e.deleted){const c=e.content;switch(c.constructor){case xt:{const{key:u,value:d}=c,f=o.get(u)??null;(s.get(u)!==c||f===d)&&(e.delete(t),l++,!a&&(r.get(u)??null)===d&&f!==d&&(f===null?r.delete(u):r.set(u,f))),!a&&!e.deleted&&ou(r,c);break}}}e=e.right}return l},nJ=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===xt){const o=e.content.key;n.has(o)?e.delete(t):n.add(o)}e=e.left}},oJ=t=>{let e=0;return $e(t.doc,n=>{let o=t._start,r=t._start,i=_o();const s=xw(i);for(;r;){if(r.deleted===!1)switch(r.content.constructor){case xt:ou(s,r.content);break;default:e+=l6(n,o,r,i,s),i=xw(s),o=r;break}r=r.right}}),e},rJ=t=>{const e=new Set,n=t.doc;for(const[o,r]of t.afterState.entries()){const i=t.beforeState.get(o)||0;r!==i&&VL(t,n.store.clients.get(o),i,r,s=>{!s.deleted&&s.content.constructor===xt&&s.constructor!==vo&&e.add(s.parent)})}$e(n,o=>{_s(t,t.deleteSet,r=>{if(r instanceof vo||!r.parent._hasFormatting||e.has(r.parent))return;const i=r.parent;r.content.constructor===xt?e.add(i):nJ(o,r)});for(const r of e)oJ(r)})},RT=(t,e,n)=>{const o=n,r=xw(e.currentAttributes),i=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case er:case ta:case Wo:n<e.right.length&&Mn(t,ie(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}i&&l6(t,i,e.right,r,e.currentAttributes);const s=(e.left||e.right).parent;return s._searchMarker&&Qd(s._searchMarker,e.index,-o+n),e};class iJ extends Fb{constructor(e,n,o){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,o.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];$e(e,o=>{const r=new Map,i=new Map;let s=this.target._start,l=null;const a={};let c="",u=0,d=0;const f=()=>{if(l!==null){let h=null;switch(l){case"delete":d>0&&(h={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(h={insert:c},r.size>0&&(h.attributes={},r.forEach((p,m)=>{p!==null&&(h.attributes[m]=p)}))),c="";break;case"retain":u>0&&(h={retain:u},PY(a)||(h.attributes=$Y({},a))),u=0;break}h&&n.push(h),l=null}};for(;s!==null;){switch(s.content.constructor){case er:case ta:this.adds(s)?this.deletes(s)||(f(),l="insert",c=s.content.getContent()[0],f()):this.deletes(s)?(l!=="delete"&&(f(),l="delete"),d+=1):s.deleted||(l!=="retain"&&(f(),l="retain"),u+=1);break;case Wo:this.adds(s)?this.deletes(s)||(l!=="insert"&&(f(),l="insert"),c+=s.content.str):this.deletes(s)?(l!=="delete"&&(f(),l="delete"),d+=s.length):s.deleted||(l!=="retain"&&(f(),l="retain"),u+=s.length);break;case xt:{const{key:h,value:p}=s.content;if(this.adds(s)){if(!this.deletes(s)){const m=r.get(h)??null;is(m,p)?p!==null&&s.delete(o):(l==="retain"&&f(),is(p,i.get(h)??null)?delete a[h]:a[h]=p)}}else if(this.deletes(s)){i.set(h,p);const m=r.get(h)??null;is(m,p)||(l==="retain"&&f(),a[h]=m)}else if(!s.deleted){i.set(h,p);const m=a[h];m!==void 0&&(is(m,p)?m!==null&&s.delete(o):(l==="retain"&&f(),p===null?delete a[h]:a[h]=p))}s.deleted||(l==="insert"&&f(),ou(r,s.content));break}}s=s.right}for(f();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Es extends Lt{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??nn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(o=>o())}catch(o){console.error(o)}this._pending=null}_copy(){return new Es}clone(){const e=new Es;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const o=new iJ(this,e,n);Gb(this,e,o),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??nn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Wo&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?$e(this.doc,o=>{const r=new Rw(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const s=e[i];if(s.insert!==void 0){const l=!n&&typeof s.insert=="string"&&i===e.length-1&&r.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof l!="string"||l.length>0)&&s1(o,this,r,l,s.attributes||{})}else s.retain!==void 0?NT(o,this,r,s.retain,s.attributes||{}):s.delete!==void 0&&RT(o,r,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,o){this.doc??nn();const r=[],i=new Map,s=this.doc;let l="",a=this._start;function c(){if(l.length>0){const d={};let f=!1;i.forEach((p,m)=>{f=!0,d[m]=p});const h={insert:l};f&&(h.attributes=d),r.push(h),l=""}}const u=()=>{for(;a!==null;){if(ol(a,e)||n!==void 0&&ol(a,n))switch(a.content.constructor){case Wo:{const d=i.get("ychange");e!==void 0&&!ol(a,e)?(d===void 0||d.user!==a.id.client||d.type!=="removed")&&(c(),i.set("ychange",o?o("removed",a.id):{type:"removed"})):n!==void 0&&!ol(a,n)?(d===void 0||d.user!==a.id.client||d.type!=="added")&&(c(),i.set("ychange",o?o("added",a.id):{type:"added"})):d!==void 0&&(c(),i.delete("ychange")),l+=a.content.str;break}case er:case ta:{c();const d={insert:a.content.getContent()[0]};if(i.size>0){const f={};d.attributes=f,i.forEach((h,p)=>{f[p]=h})}r.push(d);break}case xt:ol(a,e)&&(c(),ou(i,a.content));break}a=a.right}c()};return e||n?$e(s,d=>{e&&Aw(d,e),n&&Aw(d,n),u()},"cleanup"):u(),r}insert(e,n,o){if(n.length<=0)return;const r=this.doc;r!==null?$e(r,i=>{const s=Kh(i,this,e,!o);o||(o={},s.currentAttributes.forEach((l,a)=>{o[a]=l})),s1(i,this,s,n,o)}):this._pending.push(()=>this.insert(e,n,o))}insertEmbed(e,n,o){const r=this.doc;r!==null?$e(r,i=>{const s=Kh(i,this,e,!o);s1(i,this,s,n,o||{})}):this._pending.push(()=>this.insertEmbed(e,n,o||{}))}delete(e,n){if(n===0)return;const o=this.doc;o!==null?$e(o,r=>{RT(r,Kh(r,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,o){if(n===0)return;const r=this.doc;r!==null?$e(r,i=>{const s=Kh(i,this,e,!1);s.right!==null&&NT(i,this,s,n,o)}):this._pending.push(()=>this.format(e,n,o))}removeAttribute(e){this.doc!==null?$e(this.doc,n=>{hg(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?$e(this.doc,o=>{qC(o,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return GC(this,e)}getAttributes(){return n6(this)}_write(e){e.writeTypeRef(_J)}}const sJ=t=>new Es;class l1{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??nn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===dn||n.constructor===Il)&&n._start!==null)e=n._start;else for(;e!==null;){const o=e.next;if(o!==null){e=o;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Il extends Lt{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Il}clone(){const e=new Il;return e.insert(0,this.toArray().map(n=>n instanceof Lt?n.clone():n)),e}get length(){return this.doc??nn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new l1(this,e)}querySelector(e){e=e.toUpperCase();const o=new l1(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return o.done?null:o.value}querySelectorAll(e){return e=e.toUpperCase(),Cs(new l1(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Gb(this,e,new cJ(this,n,e))}toString(){return XL(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},o){const r=e.createDocumentFragment();return o!==void 0&&o._createAssociation(r,this),ef(this,i=>{r.insertBefore(i.toDOM(e,n,o),null)}),r}insert(e,n){this.doc!==null?$e(this.doc,o=>{e6(o,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)$e(this.doc,o=>{const r=e&&e instanceof Lt?e._item:e;fg(o,this,r,n)});else{const o=this._prelimContent,r=e===null?0:o.findIndex(i=>i===e)+1;if(r===0&&e!==null)throw Ss("Reference item not found");o.splice(r,0,...n)}}delete(e,n=1){this.doc!==null?$e(this.doc,o=>{t6(o,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return WL(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return JL(this,e)}slice(e=0,n=this.length){return KL(this,e,n)}forEach(e){ef(this,e)}_write(e){e.writeTypeRef(MJ)}}const lJ=t=>new Il;class dn extends Il{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((o,r)=>{this.setAttribute(r,o)}),this._prelimAttrs=null}_copy(){return new dn(this.nodeName)}clone(){const e=new dn(this.nodeName),n=this.getAttributes();return zY(n,(o,r)=>{typeof o=="string"&&e.setAttribute(r,o)}),e.insert(0,this.toArray().map(o=>o instanceof Lt?o.clone():o)),e}toString(){const e=this.getAttributes(),n=[],o=[];for(const l in e)o.push(l);o.sort();const r=o.length;for(let l=0;l<r;l++){const a=o[l];n.push(a+'="'+e[a]+'"')}const i=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${i}${s}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?$e(this.doc,n=>{hg(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?$e(this.doc,o=>{qC(o,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return GC(this,e)}hasAttribute(e){return o6(this,e)}getAttributes(e){return e?XX(this,e):n6(this)}toDOM(e=document,n={},o){const r=e.createElement(this.nodeName),i=this.getAttributes();for(const s in i){const l=i[s];typeof l=="string"&&r.setAttribute(s,l)}return ef(this,s=>{r.appendChild(s.toDOM(e,n,o))}),o!==void 0&&o._createAssociation(r,this),r}_write(e){e.writeTypeRef(EJ),e.writeKey(this.nodeName)}}const aJ=t=>new dn(t.readKey());class cJ extends Fb{constructor(e,n,o){super(e,o),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class pg extends jc{constructor(e){super(),this.hookName=e}_copy(){return new pg(this.hookName)}clone(){const e=new pg(this.hookName);return this.forEach((n,o)=>{e.set(o,n)}),e}toDOM(e=document,n={},o){const r=n[this.hookName];let i;return r!==void 0?i=r.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),o!==void 0&&o._createAssociation(i,this),i}_write(e){e.writeTypeRef(TJ),e.writeKey(this.hookName)}}const uJ=t=>new pg(t.readKey());class Xn extends Es{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Xn}clone(){const e=new Xn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,o){const r=e.createTextNode(this.toString());return o!==void 0&&o._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const n=[];for(const r in e.attributes){const i=[];for(const s in e.attributes[r])i.push({key:s,value:e.attributes[r][s]});i.sort((s,l)=>s.key<l.key?-1:1),n.push({nodeName:r,attrs:i})}n.sort((r,i)=>r.nodeName<i.nodeName?-1:1);let o="";for(let r=0;r<n.length;r++){const i=n[r];o+=`<${i.nodeName}`;for(let s=0;s<i.attrs.length;s++){const l=i.attrs[s];o+=` ${l.key}="${l.value}"`}o+=">"}o+=e.insert;for(let r=n.length-1;r>=0;r--)o+=`</${n[r].nodeName}>`;return o}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(AJ)}}const dJ=t=>new Xn;class ZC{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Uo()}mergeWith(e){return!1}write(e,n,o){throw Uo()}integrate(e,n){throw Uo()}}const fJ=0;class vo extends ZC{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),HL(e.doc.store,this)}write(e,n){e.writeInfo(fJ),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Vf{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Vf(this.content)}splice(e){throw Uo()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const hJ=t=>new Vf(t.readBuf());class tf{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new tf(this.len)}splice(e){const n=new tf(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Wd(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const pJ=t=>new tf(t.readLen()),a6=(t,e)=>new Is({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Uf{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Uf(a6(this.doc.guid,this.opts))}splice(e){throw Uo()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const mJ=t=>new Uf(a6(t.readString(),t.readAny()));class ta{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ta(this.embed)}splice(e){throw Uo()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const gJ=t=>new ta(t.readJSON());class xt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new xt(this.key,this.value)}splice(e){throw Uo()}mergeWith(e){return!1}integrate(e,n){const o=n.parent;o._searchMarker=null,o._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const bJ=t=>new xt(t.readKey(),t.readJSON());class mg{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new mg(this.arr)}splice(e){const n=new mg(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const i=this.arr[r];e.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const yJ=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++){const r=t.readString();r==="undefined"?n.push(void 0):n.push(JSON.parse(r))}return new mg(n)},vJ=cg("node_env")==="development";class Hl{constructor(e){this.arr=e,vJ&&yL(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Hl(this.arr)}splice(e){const n=new Hl(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const o=this.arr.length;e.writeLen(o-n);for(let r=n;r<o;r++){const i=this.arr[r];e.writeAny(i)}}getRef(){return 8}}const wJ=t=>{const e=t.readLen(),n=[];for(let o=0;o<e;o++)n.push(t.readAny());return new Hl(n)};class Wo{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Wo(this.str)}splice(e){const n=new Wo(this.str.slice(e));this.str=this.str.slice(0,e);const o=this.str.charCodeAt(e-1);return o>=55296&&o<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const kJ=t=>new Wo(t.readString()),xJ=[QX,tJ,sJ,aJ,lJ,uJ,dJ],CJ=0,SJ=1,_J=2,EJ=3,MJ=4,TJ=5,AJ=6;class er{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new er(this.type._copy())}splice(e){throw Uo()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(o=>{o.deleted?o.id.clock<(e.beforeState.get(o.id.client)||0)&&e._mergeStructs.push(o):o.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(o=>{for(;o!==null;)o.gc(e,!0),o=o.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const NJ=t=>new er(xJ[t.readTypeRef()](t)),Ow=(t,e)=>{let n=e,o=0,r;do o>0&&(n=ie(n.client,n.clock+o)),r=rc(t,n),o=n.clock-r.id.clock,n=r.redone;while(n!==null&&r instanceof Re);return{item:r,diff:o}},KC=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},gg=(t,e,n)=>{const{client:o,clock:r}=e.id,i=new Re(ie(o,r+n),e,ie(o,r+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=ie(e.redone.client,e.redone.clock+n)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=n,i},OT=(t,e)=>YW(t,n=>tu(n.deletions,e)),c6=(t,e,n,o,r,i)=>{const s=t.doc,l=s.store,a=s.clientID,c=e.redone;if(c!==null)return Mn(t,c);let u=e.parent._item,d=null,f;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!n.has(u)||c6(t,u,n,o,r,i)===null))return null;for(;u.redone!==null;)u=Mn(t,u.redone)}const h=u===null?e.parent:u.content.type;if(e.parentSub===null){for(d=e.left,f=e;d!==null;){let y=d;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:Mn(t,y.redone);if(y!==null&&y.parent._item===u){d=y;break}d=d.left}for(;f!==null;){let y=f;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:Mn(t,y.redone);if(y!==null&&y.parent._item===u){f=y;break}f=f.right}}else if(f=null,e.right&&!r){for(d=e;d!==null&&d.right!==null&&(d.right.redone||tu(o,d.right.id)||OT(i.undoStack,d.right.id)||OT(i.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Mn(t,d.redone);if(d&&d.right!==null)return null}else d=h._map.get(e.parentSub)||null;const p=mt(l,a),m=ie(a,p),b=new Re(m,d,d&&d.lastId,f,f&&f.id,h,e.parentSub,e.content.copy());return e.redone=m,KC(b,!0),b.integrate(t,0),b};class Re extends ZC{constructor(e,n,o,r,i,s,l,a){super(e,a.getLength()),this.origin=o,this.left=n,this.right=r,this.rightOrigin=i,this.parent=s,this.parentSub=l,this.redone=null,this.content=a,this.info=this.content.isCountable()?sT:0}set marker(e){(this.info&e1)>0!==e&&(this.info^=e1)}get marker(){return(this.info&e1)>0}get keep(){return(this.info&iT)>0}set keep(e){this.keep!==e&&(this.info^=iT)}get countable(){return(this.info&sT)>0}get deleted(){return(this.info&Q0)>0}set deleted(e){this.deleted!==e&&(this.info^=Q0)}markDeleted(){this.info|=Q0}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=mt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=mt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===oc&&this.id.client!==this.parent.client&&this.parent.clock>=mt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=CT(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Mn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===vo||this.right&&this.right.constructor===vo)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Re?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Re&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===oc){const o=rc(n,this.parent);o.constructor===vo?this.parent=null:this.parent=o.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=CT(e,e.doc.store,ie(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let o=this.left,r;if(o!==null)r=o.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const i=new Set,s=new Set;for(;r!==null&&r!==this.right;){if(s.add(r),i.add(r),Pa(this.origin,r.origin)){if(r.id.client<this.id.client)o=r,i.clear();else if(Pa(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&s.has(rc(e.doc.store,r.origin)))i.has(rc(e.doc.store,r.origin))||(o=r,i.clear());else break;r=r.right}this.left=o}if(this.left!==null){const o=this.left.right;this.right=o,this.left.right=this}else{let o;if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start,this.parent._start=this;this.right=o}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),HL(e.doc.store,this),this.content.integrate(e,this),_T(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new vo(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:ie(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Pa(e.origin,this.lastId)&&this.right===e&&Pa(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(o=>{o.p===e&&(o.p=this,!this.deleted&&this.countable&&(o.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Wd(e.deleteSet,this.id.client,this.id.clock,this.length),_T(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw oo();this.content.gc(e),n?LX(e,this,new vo(this.id,this.length)):this.content=new tf(this.length)}write(e,n){const o=n>0?ie(this.id.client,this.id.clock+n-1):this.origin,r=this.rightOrigin,i=this.parentSub,s=this.content.getRef()&Hb|(o===null?0:fn)|(r===null?0:pi)|(i===null?0:Gd);if(e.writeInfo(s),o!==null&&e.writeLeftID(o),r!==null&&e.writeRightID(r),o===null&&r===null){const l=this.parent;if(l._item!==void 0){const a=l._item;if(a===null){const c=Yd(l);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(a.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===oc?(e.writeParentInfo(!1),e.writeLeftID(l)):oo();i!==null&&e.writeString(i)}this.content.write(e,n)}}const u6=(t,e)=>RJ[e&Hb](t),RJ=[()=>{oo()},pJ,yJ,hJ,kJ,gJ,bJ,NJ,wJ,mJ,()=>{oo()}],OJ=10;class wo extends ZC{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){oo()}write(e,n){e.writeInfo(OJ),ye(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const d6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},f6="__ $YJS$ __";d6[f6]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");d6[f6]=!0;const DJ=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},LJ=/[\uD800-\uDBFF]/,jJ=/[\uDC00-\uDFFF]/,BJ=(t,e)=>{let n=0,o=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&LJ.test(t[n-1])&&n--;o+n<t.length&&o+n<e.length&&t[t.length-o-1]===e[e.length-o-1];)o++;return o>0&&jJ.test(t[t.length-o])&&o--,{index:n,remove:t.length-n-o,insert:e.slice(n,e.length-o)}},$J=BJ,Ee=new xe("y-sync"),xo=new xe("y-undo"),Pu=new xe("yjs-cursor"),yr=(t,e)=>t>>>e|t<<32-e,zJ=t=>yr(t,2)^yr(t,13)^yr(t,22),PJ=t=>yr(t,6)^yr(t,11)^yr(t,25),IJ=t=>yr(t,7)^yr(t,18)^t>>>3,HJ=t=>yr(t,17)^yr(t,19)^t>>>10,VJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),UJ=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);class FJ{constructor(){const e=new ArrayBuffer(320);this._H=new Uint32Array(e,0,8),this._H.set(UJ),this._W=new Uint32Array(e,64,64)}_updateHash(){const e=this._H,n=this._W;for(let d=16;d<64;d++)n[d]=HJ(n[d-2])+n[d-7]+IJ(n[d-15])+n[d-16];let o=e[0],r=e[1],i=e[2],s=e[3],l=e[4],a=e[5],c=e[6],u=e[7];for(let d=0,f,h;d<64;d++)f=u+PJ(l)+(l&a^~l&c)+VJ[d]+n[d]>>>0,h=zJ(o)+(o&r^o&i^r&i)>>>0,u=c,c=a,a=l,l=s+f>>>0,s=i,i=r,r=o,o=f+h>>>0;e[0]+=o,e[1]+=r,e[2]+=i,e[3]+=s,e[4]+=l,e[5]+=a,e[6]+=c,e[7]+=u}digest(e){let n=0;for(;n+56<=e.length;){let s=0;for(;s<16&&n+3<e.length;s++)this._W[s]=e[n++]<<24|e[n++]<<16|e[n++]<<8|e[n++];if(n%64!==0){for(this._W.fill(0,s,16);n<e.length;)this._W[s]|=e[n]<<(3-n%4)*8,n++;this._W[s]|=fn<<(3-n%4)*8}this._updateHash()}const o=n%64!==0;this._W.fill(0,0,16);let r=0;for(;n<e.length;r++)for(let s=3;s>=0&&n<e.length;s--)this._W[r]|=e[n++]<<s*8;o||(this._W[r-(n%4===0?0:1)]|=fn<<(3-n%4)*8),this._W[14]=e.byteLength/XW,this._W[15]=e.byteLength*8,this._updateHash();const i=new Uint8Array(32);for(let s=0;s<this._H.length;s++)for(let l=0;l<4;l++)i[s*4+l]=this._H[s]>>>(3-l)*8;return i}}const qJ=t=>new FJ().digest(t),GJ=t=>{for(let n=6;n<t.length;n++)t[n%6]=t[n%6]^t[n];return t.slice(0,6)},ZJ=t=>XY(GJ(qJ(QY(t)))),bg=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!tu(e.ds,t.id),KJ=[{light:"#ecd44433",dark:"#ecd444"}],WJ=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const o=zl();t.forEach(r=>o.add(r)),e=e.filter(r=>!o.has(r))}t.set(n,NY(e))}return t.get(n)},YJ=(t,{colors:e=KJ,colorMapping:n=new Map,permanentUserData:o=null,onFirstRender:r=()=>{},mapping:i}={})=>{let s=!1;const l=new JJ(t,i),a=new le({props:{editable:c=>{const u=Ee.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:Ee,state:{init:(c,u)=>({type:t,doc:t.doc,binding:l,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:o}),apply:(c,u)=>{const d=c.getMeta(Ee);if(d!==void 0){u=Object.assign({},u);for(const f in d)u[f]=d[f]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,l.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&LC(0,()=>{l.prosemirrorView!=null&&(d.restore==null?l._renderSnapshot(d.snapshot,d.prevSnapshot,u):(l._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,l.mux(()=>{l._prosemirrorChanged(l.prosemirrorView.state.doc)})))}),u}},view:c=>(l.initView(c),i==null&&l._forceRerender(),r(),{update:()=>{const u=a.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(s||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(s=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=xo.getState(c.state),f=d&&d.undoManager;f&&f.stopCapturing()}l.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),l._prosemirrorChanged(c.state.doc)},Ee)})}},destroy:()=>{l.destroy()}})});return a},XJ=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null)if(e.type==="all")t.setSelection(new Rn(t.doc));else if(e.type==="node"){const o=El(n.doc,n.type,e.anchor,n.mapping);t.setSelection(W.create(t.doc,o))}else{const o=El(n.doc,n.type,e.anchor,n.mapping),r=El(n.doc,n.type,e.head,n.mapping);if(o!==null&&r!==null){const i=Z.between(t.doc.resolve(o),t.doc.resolve(r));t.setSelection(i)}}},yg=(t,e)=>({type:e.selection.jsonID,anchor:of(e.selection.anchor,t.type,t.mapping),head:of(e.selection.head,t.type,t.mapping)});class JJ{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=DJ(),this.mapping=n,this.isOMark=new Map,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=yg(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(wL&&this._domSelectionInView===null&&(LC(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection();if(e==null||e.anchorNode==null)return!1;const n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const r=n.getBoundingClientRect(),i=tX.documentElement;return r.bottom>=0&&r.right>=0&&r.left<=(window.innerWidth||i.clientWidth||0)&&r.top<=(window.innerHeight||i.clientHeight||0)}renderSnapshot(e,n){n||(n=PL(AL(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Ee,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(o=>Np(o,this.prosemirrorView.state.schema,this)).filter(o=>o!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new H(D.from(e),0,0));n.setMeta(Ee,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(r=>Np(r,this.prosemirrorView.state.schema,this)).filter(r=>r!==null),o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new H(D.from(n),0,0));if(e){const r=hi(Ko(e.anchor,0),o.doc.content.size),i=hi(Ko(e.head,0),o.doc.content.size);o.setSelection(Z.create(o.doc,r,i))}this.prosemirrorView.dispatch(o.setMeta(Ee,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,o){let r=this.doc,i=this.type;if(e||(e=i1(this.doc)),e instanceof Uint8Array||n instanceof Uint8Array)if((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&oo(),r=new Is({gc:!1}),ug(r,n),n=i1(r),ug(r,e),e=i1(r),i._item===null){const s=Array.from(this.doc.share.keys()).find(l=>this.doc.share.get(l)===this.type);i=r.getXmlFragment(s)}else{const s=r.store.clients.get(i._item.id.client)??[],l=Ao(s,i._item.id.clock);i=s[l].content.type}this.mapping.clear(),this.mux(()=>{r.transact(s=>{const l=o.permanentUserData;l&&l.dss.forEach(d=>{_s(s,d,f=>{})});const a=(d,f)=>{const h=d==="added"?l.getUserByClientId(f.client):l.getUserByDeletedId(f);return{user:h,type:d,color:WJ(o.colorMapping,o.colors,h)}},c=YL(i,new IC(n.ds,e.sv)).map(d=>!d._item.deleted||bg(d._item,e)||bg(d._item,n)?Np(d,this.prosemirrorView.state.schema,{mapping:new Map,isOMark:new Map},e,n,a):null).filter(d=>d!==null),u=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new H(D.from(c),0,0));this.prosemirrorView.dispatch(u.setMeta(Ee,{isChangeOrigin:!0}))},Ee)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const o=Ee.getState(this.prosemirrorView.state);if(e.length===0||o.snapshot!=null||o.prevSnapshot!=null){this.renderSnapshot(o.snapshot,o.prevSnapshot);return}this.mux(()=>{const r=(l,a)=>this.mapping.delete(a);_s(n,n.deleteSet,l=>{if(l.constructor===Re){const a=l.content.type;a&&this.mapping.delete(a)}}),n.changed.forEach(r),n.changedParentTypes.forEach(r);const i=this.type.toArray().map(l=>h6(l,this.prosemirrorView.state.schema,this)).filter(l=>l!==null);let s=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new H(D.from(i),0,0));XJ(s,this.beforeTransactionSelection,this),s=s.setMeta(Ee,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof FL}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&s.scrollIntoView(),this.prosemirrorView.dispatch(s)})}_prosemirrorChanged(e){this.doc.transact(()=>{Lw(this.doc,this.type,e,this),this.beforeTransactionSelection=yg(this,this.prosemirrorView.state)},Ee)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const h6=(t,e,n,o,r,i)=>{const s=n.mapping.get(t);if(s===void 0){if(t instanceof dn)return Np(t,e,n,o,r,i);throw Uo()}return s},Np=(t,e,n,o,r,i)=>{const s=[],l=a=>{var c,u;if(a instanceof dn){const d=h6(a,e,n,o,r,i);d!==null&&s.push(d)}else{const d=(u=(c=a._item.right)==null?void 0:c.content)==null?void 0:u.type;d instanceof Es&&!d._item.deleted&&d._item.id.client===d.doc.clientID&&(a.applyDelta([{retain:a.length},...d.toDelta()]),d.doc.transact(h=>{d._item.delete(h)}));const f=QJ(a,e,n,o,r,i);f!==null&&f.forEach(h=>{h!==null&&s.push(h)})}};o===void 0||r===void 0?t.toArray().forEach(l):YL(t,new IC(r.ds,o.sv)).forEach(l);try{const a=t.getAttributes(o);o!==void 0&&(bg(t._item,o)?bg(t._item,r)||(a.ychange=i?i("added",t._item.id):{type:"added"}):a.ychange=i?i("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,a,s);return n.mapping.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Ee),n.mapping.delete(t),null}},QJ=(t,e,n,o,r,i)=>{const s=[],l=t.toDelta(o,r,i);try{for(let a=0;a<l.length;a++){const c=l[a];s.push(e.text(c.insert,iQ(c.attributes,e)))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Ee),null}return s},eQ=(t,e)=>{const n=new Xn,o=t.map(r=>({insert:r.text,attributes:g6(r.marks,e)}));return n.applyDelta(o),e.mapping.set(n,t),n},tQ=(t,e)=>{const n=new dn(t.type.name);for(const o in t.attrs){const r=t.attrs[o];r!==null&&o!=="ychange"&&n.setAttribute(o,r)}return n.insert(0,Zb(t).map(o=>Dw(o,e))),e.mapping.set(n,t),n},Dw=(t,e)=>t instanceof Array?eQ(t,e):tQ(t,e),DT=t=>typeof t=="object"&&t!==null,WC=(t,e)=>{const n=Object.keys(t).filter(r=>t[r]!==null);let o=n.length===(e==null?0:Object.keys(e).filter(r=>e[r]!==null).length);for(let r=0;r<n.length&&o;r++){const i=n[r],s=t[i],l=e[i];o=i==="ychange"||s===l||DT(s)&&DT(l)&&WC(s,l)}return o},Zb=t=>{const e=t.content.content,n=[];for(let o=0;o<e.length;o++){const r=e[o];if(r.isText){const i=[];for(let s=e[o];o<e.length&&s.isText;s=e[++o])i.push(s);o--,n.push(i)}else n.push(r)}return n},p6=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((o,r)=>o.insert===e[r].text&&gL(o.attributes||{}).length===e[r].marks.length&&bL(o.attributes,(i,s)=>{var c;const l=m6(s),a=e[r].marks;return WC(i,(c=a.find(u=>u.type.name===l))==null?void 0:c.attrs)}))},nf=(t,e)=>{if(t instanceof dn&&!(e instanceof Array)&&jw(t,e)){const n=Zb(e);return t._length===n.length&&WC(t.getAttributes(),e.attrs)&&t.toArray().every((o,r)=>nf(o,n[r]))}return t instanceof Xn&&e instanceof Array&&p6(t,e)},vg=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,o)=>e[o]===n),LT=(t,e,n)=>{const o=t.toArray(),r=Zb(e),i=r.length,s=o.length,l=hi(s,i);let a=0,c=0,u=!1;for(;a<l;a++){const d=o[a],f=r[a];if(vg(n.mapping.get(d),f))u=!0;else if(!nf(d,f))break}for(;a+c<l;c++){const d=o[s-c-1],f=r[i-c-1];if(vg(n.mapping.get(d),f))u=!0;else if(!nf(d,f))break}return{equalityFactor:a+c,foundMappedChild:u}},nQ=t=>{let e="",n=t._start;const o={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof Wo?e+=n.content.str:n.content instanceof xt&&(o[n.content.key]=null)),n=n.right;return{str:e,nAttrs:o}},oQ=(t,e,n)=>{n.mapping.set(t,e);const{nAttrs:o,str:r}=nQ(t),i=e.map(c=>({insert:c.text,attributes:Object.assign({},o,g6(c.marks,n))})),{insert:s,remove:l,index:a}=$J(r,i.map(c=>c.insert).join(""));t.delete(a,l),t.insert(a,s),t.applyDelta(i.map(c=>({retain:c.insert.length,attributes:c.attributes})))},rQ=/(.*)(--[a-zA-Z0-9+/=]{8})$/,m6=t=>{var e;return((e=rQ.exec(t))==null?void 0:e[1])??t},iQ=(t,e)=>{const n=[];for(const o in t)n.push(e.mark(m6(o),t[o]));return n},g6=(t,e)=>{const n={};return t.forEach(o=>{if(o.type.name!=="ychange"){const r=jr(e.isOMark,o.type,()=>!o.type.excludes(o.type));n[r?`${o.type.name}--${ZJ(o.toJSON())}`:o.type.name]=o.attrs}}),n},Lw=(t,e,n,o)=>{if(e instanceof dn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(o.mapping.set(e,n),e instanceof dn){const d=e.getAttributes(),f=n.attrs;for(const h in f)f[h]!==null?d[h]!==f[h]&&h!=="ychange"&&e.setAttribute(h,f[h]):e.removeAttribute(h);for(const h in d)f[h]===void 0&&e.removeAttribute(h)}const r=Zb(n),i=r.length,s=e.toArray(),l=s.length,a=hi(i,l);let c=0,u=0;for(;c<a;c++){const d=s[c],f=r[c];if(!vg(o.mapping.get(d),f))if(nf(d,f))o.mapping.set(d,f);else break}for(;u+c<a;u++){const d=s[l-u-1],f=r[i-u-1];if(!vg(o.mapping.get(d),f))if(nf(d,f))o.mapping.set(d,f);else break}t.transact(()=>{for(;l-c-u>0&&i-c-u>0;){const f=s[c],h=r[c],p=s[l-u-1],m=r[i-u-1];if(f instanceof Xn&&h instanceof Array)p6(f,h)||oQ(f,h,o),c+=1;else{let b=f instanceof dn&&jw(f,h),y=p instanceof dn&&jw(p,m);if(b&&y){const w=LT(f,h,o),k=LT(p,m,o);w.foundMappedChild&&!k.foundMappedChild?y=!1:!w.foundMappedChild&&k.foundMappedChild||w.equalityFactor<k.equalityFactor?b=!1:y=!1}b?(Lw(t,f,h,o),c+=1):y?(Lw(t,p,m,o),u+=1):(o.mapping.delete(e.get(c)),e.delete(c,1),e.insert(c,[Dw(h,o)]),c+=1)}}const d=l-c-u;if(l===1&&i===0&&s[0]instanceof Xn?(o.mapping.delete(s[0]),s[0].delete(0,s[0].length)):d>0&&(e.slice(c,c+d).forEach(f=>o.mapping.delete(f)),e.delete(c,d)),c+u<i){const f=[];for(let h=c;h<i-u;h++)f.push(Dw(r[h],o));e.insert(c,f)}},Ee)},jw=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name;let md=null;const sQ=()=>{const t=md;md=null,t.forEach((e,n)=>{const o=n.state.tr,r=Ee.getState(n.state);r&&r.binding&&!r.binding.isDestroyed&&(e.forEach((i,s)=>{o.setMeta(s,i)}),n.dispatch(o))})},lQ=(t,e,n)=>{md||(md=new Map,LC(0,sQ)),jr(md,t,_o).set(e,n)},of=(t,e,n)=>{if(t===0)return r1(e,0,e.length===0?-1:0);let o=e._first===null?null:e._first.content.type;for(;o!==null&&e!==o;){if(o instanceof Xn){if(o._length>=t)return r1(o,t,e.length===0?-1:0);if(t-=o._length,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{do o=o._item===null?null:o._item.parent,t--;while(o!==e&&o!==null&&o._item!==null&&o._item.next===null);o!==null&&o!==e&&(o=o._item===null?null:o._item.next.content.type)}}else{const r=(n.get(o)||{nodeSize:0}).nodeSize;if(o._first!==null&&t<r)o=o._first.content.type,t--;else{if(t===1&&o._length===0&&r>1)return new Jd(o._item===null?null:o._item.id,o._item===null?Yd(o):null,null);if(t-=r,o._item!==null&&o._item.next!==null)o=o._item.next.content.type;else{if(t===0)return o=o._item===null?o:o._item.parent,new Jd(o._item===null?null:o._item.id,o._item===null?Yd(o):null,null);do o=o._item.parent,t--;while(o!==e&&o._item.next===null);o!==e&&(o=o._item.next.content.type)}}}if(o===null)throw oo();if(t===0&&o.constructor!==Xn&&o!==e)return aQ(o._item.parent,o._item)}return r1(e,e._length,e.length===0?-1:0)},aQ=(t,e)=>{let n=null,o=null;return t._item===null?o=Yd(t):n=ie(t._item.id.client,t._item.id.clock),new Jd(n,o,e.id)},El=(t,e,n,o)=>{const r=OX(n,t);if(r===null||r.type!==e&&!Xd(e,r.type._item))return null;let i=r.type,s=0;if(i.constructor===Xn)s=r.index;else if(i._item===null||!i._item.deleted){let l=i._first,a=0;for(;a<i._length&&a<r.index&&l!==null;){if(!l.deleted){const c=l.content.type;a++,c instanceof Xn?s+=c._length:s+=o.get(c).nodeSize}l=l.right}s+=1}for(;i!==e&&i._item!==null;){const l=i._item.parent;if(l._item===null||!l._item.deleted){s+=1;let a=l._first;for(;a!==null;){const c=a.content.type;if(c===i)break;a.deleted||(c instanceof Xn?s+=c._length:s+=o.get(c).nodeSize),a=a.right}}i=l}return s-1},cQ=(t,e,n)=>t!==e,uQ=t=>{const e=document.createElement("span");e.classList.add("ProseMirror-yjs-cursor"),e.setAttribute("style",`border-color: ${t.color}`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${t.color}`),n.insertBefore(document.createTextNode(t.name),null);const o=document.createTextNode("⁠"),r=document.createTextNode("⁠");return e.insertBefore(o,null),e.insertBefore(n,null),e.insertBefore(r,null),e},b6=t=>({style:`background-color: ${t.color}70`,class:"ProseMirror-yjs-selection"}),dQ=/^#[0-9a-fA-F]{6}$/,jT=(t,e,n,o,r)=>{const i=Ee.getState(t),s=i.doc,l=[];return i.snapshot!=null||i.prevSnapshot!=null||i.binding.mapping.size===0?he.create(t.doc,[]):(e.getStates().forEach((a,c)=>{if(n(s.clientID,c,a)&&a.cursor!=null){const u=a.user||{};u.color==null?u.color="#ffa500":dQ.test(u.color)||console.warn("A user uses an unsupported color format",u),u.name==null&&(u.name=`User: ${c}`);let d=El(s,i.type,pd(a.cursor.anchor),i.binding.mapping),f=El(s,i.type,pd(a.cursor.head),i.binding.mapping);if(d!==null&&f!==null){const h=Ko(t.doc.content.size-1,0);d=hi(d,h),f=hi(f,h),l.push(Te.widget(f,()=>o(u,c),{key:c+"",side:10}));const p=hi(d,f),m=Ko(d,f);l.push(Te.inline(p,m,r(u,c),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),he.create(t.doc,l))},fQ=(t,{awarenessStateFilter:e=cQ,cursorBuilder:n=uQ,selectionBuilder:o=b6,getSelection:r=s=>s.selection}={},i="cursor")=>new le({key:Pu,state:{init(s,l){return jT(l,t,e,n,o)},apply(s,l,a,c){const u=Ee.getState(c),d=s.getMeta(Pu);return u&&u.isChangeOrigin||d&&d.awarenessUpdated?jT(c,t,e,n,o):l.map(s.mapping,s.doc)}},props:{decorations:s=>Pu.getState(s)},view:s=>{const l=()=>{s.docView&&lQ(s,Pu,{awarenessUpdated:!0})},a=()=>{const c=Ee.getState(s.state),u=t.getLocalState()||{};if(s.hasFocus()){const d=r(s.state),f=of(d.anchor,c.type,c.binding.mapping),h=of(d.head,c.type,c.binding.mapping);(u.cursor==null||!xT(pd(u.cursor.anchor),f)||!xT(pd(u.cursor.head),h))&&t.setLocalStateField(i,{anchor:f,head:h})}else u.cursor!=null&&El(c.doc,c.type,pd(u.cursor.anchor),c.binding.mapping)!==null&&t.setLocalStateField(i,null)};return t.on("change",l),s.dom.addEventListener("focusin",a),s.dom.addEventListener("focusout",a),{update:a,destroy:()=>{s.dom.removeEventListener("focusin",a),s.dom.removeEventListener("focusout",a),t.off("change",l),t.setLocalStateField(i,null)}}}}),hQ=t=>{var e,n;return((n=(e=xo.getState(t))==null?void 0:e.undoManager)==null?void 0:n.undo())!=null},pQ=t=>{var e,n;return((n=(e=xo.getState(t))==null?void 0:e.undoManager)==null?void 0:n.redo())!=null},mQ=(t,e)=>{var n,o;return e==null?(o=(n=xo.getState(t))==null?void 0:n.undoManager)==null?void 0:o.canUndo():hQ(t)},gQ=(t,e)=>{var n,o;return e==null?(o=(n=xo.getState(t))==null?void 0:n.undoManager)==null?void 0:o.canRedo():pQ(t)},bQ=new Set(["paragraph"]),yQ=(t,e)=>!(t instanceof Re)||!(t.content instanceof er)||!(t.content.type instanceof Es||t.content.type instanceof dn&&e.has(t.content.type.nodeName))||t.content.type._length===0,vQ=({protectedNodes:t=bQ,trackedOrigins:e=[],undoManager:n=null}={})=>new le({key:xo,state:{init:(o,r)=>{const i=Ee.getState(r),s=n||new FL(i.type,{trackedOrigins:new Set([Ee].concat(e)),deleteFilter:l=>yQ(l,t),captureTransaction:l=>l.meta.get("addToHistory")!==!1});return{undoManager:s,prevSel:null,hasUndoOps:s.undoStack.length>0,hasRedoOps:s.redoStack.length>0}},apply:(o,r,i,s)=>{const l=Ee.getState(s).binding,a=r.undoManager,c=a.undoStack.length>0,u=a.redoStack.length>0;return l?{undoManager:a,prevSel:yg(l,i),hasUndoOps:c,hasRedoOps:u}:c!==r.hasUndoOps||u!==r.hasRedoOps?Object.assign({},r,{hasUndoOps:a.undoStack.length>0,hasRedoOps:a.redoStack.length>0}):r}},view:o=>{const r=Ee.getState(o.state),i=xo.getState(o.state).undoManager;return i.on("stack-item-added",({stackItem:s})=>{const l=r.binding;l&&s.meta.set(l,xo.getState(o.state).prevSel)}),i.on("stack-item-popped",({stackItem:s})=>{const l=r.binding;l&&(l.beforeTransactionSelection=s.meta.get(l)||l.beforeTransactionSelection)}),{destroy:()=>{i.destroy()}}}});function wQ(t={}){return new le({view(e){return new kQ(e,t)}})}class kQ{constructor(e,n){var o;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=n.width)!==null&&o!==void 0?o:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=s=>{this[r](s)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,o,r=this.editorView.dom,i=r.getBoundingClientRect(),s=i.width/r.offsetWidth,l=i.height/r.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let p=h.getBoundingClientRect(),m=d?p.bottom:p.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;o={left:p.left,right:p.right,top:m-b,bottom:m+b}}}}if(!o){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*s;o={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!a||a==document.body&&getComputedStyle(a).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=a.getBoundingClientRect(),f=d.width/a.offsetWidth,h=d.height/a.offsetHeight;c=d.left-a.scrollLeft*f,u=d.top-a.scrollTop*h}this.element.style.left=(o.left-c)/s+"px",this.element.style.top=(o.top-u)/l+"px",this.element.style.width=(o.right-o.left)/s+"px",this.element.style.height=(o.bottom-o.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Fx(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const YC={slash_menu:{heading:{title:"Heading 1",subtext:"Top-level heading",aliases:["h","heading1","h1"],group:"Headings"},heading_2:{title:"Heading 2",subtext:"Key section heading",aliases:["h2","heading2","subheading"],group:"Headings"},heading_3:{title:"Heading 3",subtext:"Subsection and group heading",aliases:["h3","heading3","subheading"],group:"Headings"},heading_4:{title:"Heading 4",subtext:"Minor subsection heading",aliases:["h4","heading4","subheading4"],group:"Subheadings"},heading_5:{title:"Heading 5",subtext:"Small subsection heading",aliases:["h5","heading5","subheading5"],group:"Subheadings"},heading_6:{title:"Heading 6",subtext:"Lowest-level heading",aliases:["h6","heading6","subheading6"],group:"Subheadings"},toggle_heading:{title:"Toggle Heading 1",subtext:"Toggleable top-level heading",aliases:["h","heading1","h1","collapsable"],group:"Subheadings"},toggle_heading_2:{title:"Toggle Heading 2",subtext:"Toggleable key section heading",aliases:["h2","heading2","subheading","collapsable"],group:"Subheadings"},toggle_heading_3:{title:"Toggle Heading 3",subtext:"Toggleable subsection and group heading",aliases:["h3","heading3","subheading","collapsable"],group:"Subheadings"},quote:{title:"Quote",subtext:"Quote or excerpt",aliases:["quotation","blockquote","bq"],group:"Basic blocks"},toggle_list:{title:"Toggle List",subtext:"List with hideable sub-items",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"Basic blocks"},numbered_list:{title:"Numbered List",subtext:"List with ordered items",aliases:["ol","li","list","numberedlist","numbered list"],group:"Basic blocks"},bullet_list:{title:"Bullet List",subtext:"List with unordered items",aliases:["ul","li","list","bulletlist","bullet list"],group:"Basic blocks"},check_list:{title:"Check List",subtext:"List with checkboxes",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"Basic blocks"},paragraph:{title:"Paragraph",subtext:"The body of your document",aliases:["p","paragraph"],group:"Basic blocks"},code_block:{title:"Code Block",subtext:"Code block with syntax highlighting",aliases:["code","pre"],group:"Basic blocks"},page_break:{title:"Page Break",subtext:"Page separator",aliases:["page","break","separator"],group:"Basic blocks"},table:{title:"Table",subtext:"Table with editable cells",aliases:["table"],group:"Advanced"},image:{title:"Image",subtext:"Resizable image with caption",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"Media"},video:{title:"Video",subtext:"Resizable video with caption",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Embedded audio with caption",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"Media"},file:{title:"File",subtext:"Embedded file",aliases:["file","upload","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Search for and insert an emoji",aliases:["emoji","emote","emotion","face"],group:"Others"}},placeholders:{default:"Enter text or type '/' for commands",heading:"Heading",toggleListItem:"Toggle",bulletListItem:"List",numberedListItem:"List",checkListItem:"List",emptyDocument:void 0,new_comment:"Write a comment...",edit_comment:"Edit comment...",comment_reply:"Add comment..."},file_blocks:{image:{add_button_text:"Add image"},video:{add_button_text:"Add video"},audio:{add_button_text:"Add audio"},file:{add_button_text:"Add file"}},side_menu:{add_block_label:"Add block",drag_handle_label:"Open block menu"},drag_handle:{delete_menuitem:"Delete",colors_menuitem:"Colors",header_row_menuitem:"Header row",header_column_menuitem:"Header column"},table_handle:{delete_column_menuitem:"Delete column",delete_row_menuitem:"Delete row",add_left_menuitem:"Add column left",add_right_menuitem:"Add column right",add_above_menuitem:"Add row above",add_below_menuitem:"Add row below",split_cell_menuitem:"Split cell",merge_cells_menuitem:"Merge cells",background_color_menuitem:"Background color"},suggestion_menu:{no_items_title:"No items found"},color_picker:{text_title:"Text",background_title:"Background",colors:{default:"Default",gray:"Gray",brown:"Brown",red:"Red",orange:"Orange",yellow:"Yellow",green:"Green",blue:"Blue",purple:"Purple",pink:"Pink"}},formatting_toolbar:{bold:{tooltip:"Bold",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italic",secondary_tooltip:"Mod+I"},underline:{tooltip:"Underline",secondary_tooltip:"Mod+U"},strike:{tooltip:"Strike",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Colors"},link:{tooltip:"Create link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Edit caption",input_placeholder:"Edit caption"},file_replace:{tooltip:{image:"Replace image",video:"Replace video",audio:"Replace audio",file:"Replace file"}},file_rename:{tooltip:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"},input_placeholder:{image:"Rename image",video:"Rename video",audio:"Rename audio",file:"Rename file"}},file_download:{tooltip:{image:"Download image",video:"Download video",audio:"Download audio",file:"Download file"}},file_delete:{tooltip:{image:"Delete image",video:"Delete video",audio:"Delete audio",file:"Delete file"}},file_preview_toggle:{tooltip:"Toggle preview"},nest:{tooltip:"Nest block",secondary_tooltip:"Tab"},unnest:{tooltip:"Unnest block",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Align text left"},align_center:{tooltip:"Align text center"},align_right:{tooltip:"Align text right"},align_justify:{tooltip:"Justify text"},table_cell_merge:{tooltip:"Merge cells"},comment:{tooltip:"Add comment"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload image",video:"Upload video",audio:"Upload audio",file:"Upload file"},upload_error:"Error: Upload failed"},embed:{title:"Embed",embed_button:{image:"Embed image",video:"Embed video",audio:"Embed audio",file:"Embed file"},url_placeholder:"Enter URL"}},link_toolbar:{delete:{tooltip:"Remove link"},edit:{text:"Edit link",tooltip:"Edit"},open:{tooltip:"Open in new tab"},form:{title_placeholder:"Edit title",url_placeholder:"Edit URL"}},comments:{edited:"edited",save_button_text:"Save",cancel_button_text:"Cancel",actions:{add_reaction:"Add reaction",resolve:"Resolve",edit_comment:"Edit comment",delete_comment:"Delete comment",more_actions:"More actions"},reactions:{reacted_by:"Reacted by"},sidebar:{marked_as_resolved:"Marked as resolved",more_replies:t=>`${t} more replies`}},generic:{ctrl_shortcut:"Ctrl"}};var xQ=Object.defineProperty,CQ=(t,e,n)=>e in t?xQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A=(t,e,n)=>CQ(t,typeof e!="symbol"?e+"":e,n);function SQ(t,e=JSON.stringify){const n={};return t.filter(o=>{const r=e(o);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function _Q(t){const e=t.filter((n,o)=>t.indexOf(n)!==o);return SQ(e)}const Ff=Be.create({name:"uniqueID",priority:1e4,addOptions(){return{attributeName:"id",types:[],setIdAttribute:!1,generateID:()=>{if(typeof window<"u"&&window.__TEST_OPTIONS){const t=window.__TEST_OPTIONS;return t.mockID===void 0?t.mockID=0:t.mockID++,t.mockID.toString()}return ID()},filterTransaction:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:t=>t.getAttribute(`data-${this.options.attributeName}`),renderHTML:t=>{const e={[`data-${this.options.attributeName}`]:t[this.options.attributeName]};return this.options.setIdAttribute?{...e,id:t[this.options.attributeName]}:e}}}}]},addProseMirrorPlugins(){let t=null,e=!1;return[new le({key:new xe("uniqueID"),appendTransaction:(n,o,r)=>{const i=n.some(h=>h.docChanged)&&!o.doc.eq(r.doc),s=this.options.filterTransaction&&n.some(h=>{let p,m;return!(!((m=(p=this.options).filterTransaction)===null||m===void 0)&&m.call(p,h))});if(!i||s)return;const{tr:l}=r,{types:a,attributeName:c,generateID:u}=this.options,d=dC(o.doc,n),{mapping:f}=d;if(RD(d).forEach(({newRange:h})=>{const p=AD(r.doc,h,y=>a.includes(y.type.name)),m=p.map(({node:y})=>y.attrs[c]).filter(y=>y!==null),b=_Q(m);p.forEach(({node:y,pos:w})=>{let k;const x=(k=l.doc.nodeAt(w))===null||k===void 0?void 0:k.attrs[c];if(x===null){const E=o.doc.type.createAndFill().content;if(o.doc.content.findDiffStart(E)===null){const _=JSON.parse(JSON.stringify(r.doc.toJSON()));if(_.content[0].content[0].attrs.id="initialBlockId",JSON.stringify(_.content)===JSON.stringify(E.toJSON())){l.setNodeMarkup(w,void 0,{...y.attrs,[c]:"initialBlockId"});return}}l.setNodeMarkup(w,void 0,{...y.attrs,[c]:u()});return}const{deleted:C}=f.invert().mapResult(w);C&&b.includes(x)&&l.setNodeMarkup(w,void 0,{...y.attrs,[c]:u()})})}),!!l.steps.length)return l},view(n){const o=r=>{let i;t=!((i=n.dom.parentElement)===null||i===void 0)&&i.contains(r.target)?n.dom.parentElement:null};return window.addEventListener("dragstart",o),{destroy(){window.removeEventListener("dragstart",o)}}},props:{handleDOMEvents:{drop:(n,o)=>{let r;return t!==n.dom.parentElement||((r=o.dataTransfer)===null||r===void 0?void 0:r.effectAllowed)==="copy"?e=!0:e=!1,t=null,!1},paste:()=>(e=!0,!1)},transformPasted:n=>{if(!e)return n;const{types:o,attributeName:r}=this.options,i=s=>{const l=[];return s.forEach(a=>{if(a.isText){l.push(a);return}if(!o.includes(a.type.name)){l.push(a.copy(i(a.content)));return}const c=a.type.create({...a.attrs,[r]:null},i(a.content),a.marks);l.push(c)}),D.from(l)};return e=!1,new H(i(n.content),n.openStart,n.openEnd)}}})]}});function BT(t){return t.type==="link"}function y6(t){return typeof t!="string"&&t.type==="link"}function Vl(t){return typeof t!="string"&&t.type==="text"}function Ms(t){var e,n,o,r,i;return Ts(t)?{...t}:rf(t)?{type:"tableCell",content:[].concat(t.content),props:{backgroundColor:((e=t.props)==null?void 0:e.backgroundColor)??"default",textColor:((n=t.props)==null?void 0:n.textColor)??"default",textAlignment:((o=t.props)==null?void 0:o.textAlignment)??"left",colspan:((r=t.props)==null?void 0:r.colspan)??1,rowspan:((i=t.props)==null?void 0:i.rowspan)??1}}:{type:"tableCell",content:[].concat(t),props:{backgroundColor:"default",textColor:"default",textAlignment:"left",colspan:1,rowspan:1}}}function rf(t){return t!=null&&typeof t!="string"&&!Array.isArray(t)&&t.type==="tableCell"}function Ts(t){return rf(t)&&t.props!==void 0&&t.content!==void 0}function Ul(t){return Ts(t)?t.props.colspan??1:1}function sf(t){return Ts(t)?t.props.rowspan??1:1}class Cr extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function ae(t,e=!0){const{"data-test":n,...o}=t;if(Object.keys(o).length>0&&e)throw new Error("Object must be empty "+JSON.stringify(t))}const EQ=()=>typeof navigator<"u"&&(/Mac/.test(navigator.platform)||/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent));function Vn(t,e="Ctrl"){return EQ()?t.replace("Mod","⌘"):t.replace("Mod",e)}function qe(...t){return[...new Set(t.filter(e=>e).join(" ").split(" "))].join(" ")}const Bw=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function ro(t,e,n,o){const r=document.createElement("div");r.className=qe("bn-block-content",n.class),r.setAttribute("data-content-type",t);for(const[s,l]of Object.entries(n))s!=="class"&&r.setAttribute(s,l);const i=document.createElement(e);i.className=qe("bn-inline-content",o.class);for(const[s,l]of Object.entries(o))s!=="class"&&i.setAttribute(s,l);return r.appendChild(i),{dom:r,contentDOM:i}}const $T=(t,e)=>{let n=na(t,e.pmSchema);n.type.name==="blockContainer"&&(n=n.firstChild);const o=e.pmSchema.nodes[n.type.name].spec.toDOM;if(o===void 0)throw new Error("This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.");const r=o(n);if(typeof r!="object"||!("dom"in r))throw new Error("Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.");return r},rt={backgroundColor:{default:"default"},textColor:{default:"default"},textAlignment:{default:"left",values:["left","center","right","justify"]}},XC=["backgroundColor","textColor"];function wg(t){return"data-"+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zT(t){const e=t.split("/");return!e.length||e[e.length-1]===""?t:e[e.length-1]}function qf(t){const e={};return Object.entries(t).filter(([n,o])=>!XC.includes(n)).forEach(([n,o])=>{e[n]={default:o.default,keepOnSplit:!0,parseHTML:r=>{const i=r.getAttribute(wg(n));if(i===null)return null;if(o.default===void 0&&o.type==="boolean"||o.default!==void 0&&typeof o.default=="boolean")return i==="true"?!0:i==="false"?!1:null;if(o.default===void 0&&o.type==="number"||o.default!==void 0&&typeof o.default=="number"){const s=parseFloat(i);return!Number.isNaN(s)&&Number.isFinite(s)?s:null}return i},renderHTML:r=>r[n]!==o.default?{[wg(n)]:r[n]}:{}}}),e}function Kb(t,e,n,o){if(typeof t=="boolean")throw new Error("Cannot find node position as getPos is a boolean, not a function.");const r=t(),i=n.state.doc.resolve(r).node().attrs.id;if(!i)throw new Error("Block doesn't have id");const s=e.getBlock(i);if(s.type!==o)throw new Error("Block type does not match");return s}function Iu(t,e,n,o,r=!1,i){const s=document.createElement("div");if(i!==void 0)for(const[l,a]of Object.entries(i))l!=="class"&&s.setAttribute(l,a);s.className=qe("bn-block-content",(i==null?void 0:i.class)||""),s.setAttribute("data-content-type",e);for(const[l,a]of Object.entries(n)){const c=o[l].default;!XC.includes(l)&&a!==c&&s.setAttribute(wg(l),a)}return r&&s.setAttribute("data-file-block",""),s.appendChild(t.dom),t.contentDOM!==void 0&&(t.contentDOM.className=qe("bn-inline-content",t.contentDOM.className)),{...t,dom:s}}function vn(t){return Or.create(t)}function JC(t,e){return{config:t,implementation:e}}function Ro(t,e,n){return JC({type:t.name,content:t.config.content==="inline*"?"inline":t.config.content==="tableRow+"?"table":"none",propSchema:e},{node:t,requiredExtensions:n,toInternalHTML:$T,toExternalHTML:$T})}function v6(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function w6(t,e){t.stopEvent=n=>(n.type==="mousedown"&&setTimeout(()=>{e.view.dom.blur()},10),!0)}function k6(t,e){const n=[{tag:"[data-content-type="+t.type+"]",contentElement:".bn-inline-content"}];return e&&n.push({tag:"*",getAttrs(o){if(typeof o=="string")return!1;const r=e==null?void 0:e(o);return r===void 0?!1:r}}),n}function ru(t,e){const n=vn({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return qf(t.propSchema)},parseHTML(){return k6(t,e.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Iu({dom:r,contentDOM:t.content==="inline"?r:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return({getPos:o})=>{var r;const i=this.options.editor,s=Kb(o,i,this.editor,t.type),l=((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},a=e.render(s,i),c=Iu(a,s.type,s.props,t.propSchema,t.isFileBlock,l);return t.isSelectable===!1&&w6(c,this.editor),c}}});if(n.name!==t.type)throw new Error("Node name does not match block type. This is a bug in BlockNote.");return JC(t,{node:n,toInternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render(o,r);return Iu(l,o.type,o.props,t.propSchema,t.isFileBlock,s)},toExternalHTML:(o,r)=>{var i,s;const l=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{};let a=(s=e.toExternalHTML)==null?void 0:s.call(e,o,r);return a===void 0&&(a=e.render(o,r)),Iu(a,o.type,o.props,t.propSchema,l)}})}function Sr(t,e){const n=t.resolve(e);if(n.nodeAfter&&n.nodeAfter.type.isInGroup("bnBlock"))return{posBeforeNode:n.pos,node:n.nodeAfter};let o=n.depth,r=n.node(o);for(;o>0;){if(r.type.isInGroup("bnBlock"))return{posBeforeNode:n.before(o),node:r};o--,r=n.node(o)}const i=[];t.descendants((l,a)=>{l.type.isInGroup("bnBlock")&&i.push(a)}),console.warn(`Position ${e} is not within a blockContainer node.`);const s=t.resolve(i.find(l=>l>=e)||i[i.length-1]);return{posBeforeNode:s.pos,node:s.nodeAfter}}function QC(t,e){if(!t.type.isInGroup("bnBlock"))throw new Error(`Attempted to get bnBlock node at position but found node of different type ${t.type.name}`);const n=t,o=e,r=o+n.nodeSize,i={node:n,beforePos:o,afterPos:r};if(n.type.name==="blockContainer"){let s,l;if(n.forEach((a,c)=>{if(a.type.spec.group==="blockContent"){const u=a,d=o+c+1,f=d+a.nodeSize;s={node:u,beforePos:d,afterPos:f}}else if(a.type.name==="blockGroup"){const u=a,d=o+c+1,f=d+a.nodeSize;l={node:u,beforePos:d,afterPos:f}}}),!s)throw new Error(`blockContainer node does not contain a blockContent node in its children: ${n}`);return{isBlockContainer:!0,bnBlock:i,blockContent:s,childContainer:l,blockNoteType:s.node.type.name}}else{if(!i.node.type.isInGroup("childContainer"))throw new Error(`bnBlock node is not in the childContainer group: ${i.node}`);return{isBlockContainer:!1,bnBlock:i,childContainer:i,blockNoteType:i.node.type.name}}}function ki(t){return QC(t.node,t.posBeforeNode)}function Gf(t){if(!t.nodeAfter)throw new Error(`Attempted to get blockContainer node at position ${t.pos} but a node at this position does not exist`);return QC(t.nodeAfter,t.pos)}function Ye(t){const e=Sr(t.doc,t.selection.anchor);return ki(e)}function Wb(t){const e=Sr(t.doc,t.selection.anchor);return ki(e)}function $t(t){return"doc"in t?t.doc.type.schema:t.type.schema}function x6(t){return t.cached.blockNoteEditor}function Zf(t){return x6(t).schema}function eS(t){return Zf(t).blockSchema}function tS(t){return Zf(t).inlineContentSchema}function iu(t){return Zf(t).styleSchema}function nS(t){return x6(t).blockCache}function C6(t,e,n){var o,r;const i={type:"tableContent",columnWidths:[],headerRows:void 0,headerCols:void 0,rows:[]},s=[];t.content.forEach((l,a,c)=>{const u={cells:[]};c===0&&l.content.forEach(d=>{let f=d.attrs.colwidth;f==null&&(f=new Array(d.attrs.colspan??1).fill(void 0)),i.columnWidths.push(...f)}),u.cells=l.content.content.map((d,f)=>(s[c]||(s[c]=[]),s[c][f]=d.type.name==="tableHeader",{type:"tableCell",content:d.content.content.map(h=>Yb(h,e,n)).reduce((h,p)=>{if(!h.length)return p;const m=h[h.length-1],b=p[0];return b&&Vl(m)&&Vl(b)&&JSON.stringify(m.styles)===JSON.stringify(b.styles)?(m.text+=`
`+b.text,h.push(...p.slice(1)),h):(h.push(...p),h)},[]),props:{colspan:d.attrs.colspan,rowspan:d.attrs.rowspan,backgroundColor:d.attrs.backgroundColor,textColor:d.attrs.textColor,textAlignment:d.attrs.textAlignment}})),i.rows.push(u)});for(let l=0;l<s.length;l++)(o=s[l])!=null&&o.every(a=>a)&&(i.headerRows=(i.headerRows??0)+1);for(let l=0;l<((r=s[0])==null?void 0:r.length);l++)s!=null&&s.every(a=>a[l])&&(i.headerCols=(i.headerCols??0)+1);return i}function Yb(t,e,n){const o=[];let r;return t.content.forEach(i=>{if(i.type.name==="hardBreak"){if(r)if(Vl(r))r.text+=`
`;else if(BT(r))r.content[r.content.length-1].text+=`
`;else throw new Error("unexpected");else r={type:"text",text:`
`,styles:{}};return}if(i.type.name!=="link"&&i.type.name!=="text"){if(!e[i.type.name]){console.warn("unrecognized inline content type",i.type.name);return}r&&(o.push(r),r=void 0),o.push(MQ(i,e,n));return}const s={};let l;for(const a of i.marks)if(a.type.name==="link")l=a;else{const c=n[a.type.name];if(!c){if(a.type.spec.blocknoteIgnore)continue;throw new Error(`style ${a.type.name} not found in styleSchema`)}if(c.propSchema==="boolean")s[c.type]=!0;else if(c.propSchema==="string")s[c.type]=a.attrs.stringValue;else throw new Cr(c.propSchema)}r?Vl(r)?l?(o.push(r),r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):JSON.stringify(r.styles)===JSON.stringify(s)?r.text+=i.textContent:(o.push(r),r={type:"text",text:i.textContent,styles:s}):BT(r)&&(l?r.href===l.attrs.href?JSON.stringify(r.content[r.content.length-1].styles)===JSON.stringify(s)?r.content[r.content.length-1].text+=i.textContent:r.content.push({type:"text",text:i.textContent,styles:s}):(o.push(r),r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}):(o.push(r),r={type:"text",text:i.textContent,styles:s})):l?r={type:"link",href:l.attrs.href,content:[{type:"text",text:i.textContent,styles:s}]}:r={type:"text",text:i.textContent,styles:s}}),r&&o.push(r),o}function MQ(t,e,n){if(t.type.name==="text"||t.type.name==="link")throw new Error("unexpected");const o={},r=e[t.type.name];for(const[s,l]of Object.entries(t.attrs)){if(!r)throw Error("ic node is of an unrecognized type: "+t.type.name);const a=r.propSchema;s in a&&(o[s]=l)}let i;return r.content==="styled"?i=Yb(t,e,n):i=void 0,{type:t.type.name,props:o,content:i}}function Ge(t,e,n=eS(e),o=tS(e),r=iu(e),i=nS(e)){var s;if(!t.type.isInGroup("bnBlock"))throw Error("Node should be a bnBlock, but is instead: "+t.type.name);const l=i==null?void 0:i.get(t);if(l)return l;const a=QC(t,0);let c=a.bnBlock.node.attrs.id;c===null&&(c=Ff.options.generateID());const u=n[a.blockNoteType];if(!u)throw Error("Block is of an unrecognized type: "+a.blockNoteType);const d={};for(const[b,y]of Object.entries({...t.attrs,...a.isBlockContainer?a.blockContent.node.attrs:{}})){const w=u.propSchema;b in w&&!(w[b].default===void 0&&y===void 0)&&(d[b]=y)}const f=n[a.blockNoteType],h=[];(s=a.childContainer)==null||s.node.forEach(b=>{h.push(Ge(b,e,n,o,r,i))});let p;if(f.content==="inline"){if(!a.isBlockContainer)throw new Error("impossible");p=Yb(a.blockContent.node,o,r)}else if(f.content==="table"){if(!a.isBlockContainer)throw new Error("impossible");p=C6(a.blockContent.node,o,r)}else if(f.content==="none")p=void 0;else throw new Cr(f.content);const m={id:c,type:f.type,props:d,content:p,children:h};return i==null||i.set(t,m),m}function TQ(t,e,n=eS(e),o=tS(e),r=iu(e),i=nS(e)){const s=[];return t.firstChild.descendants(l=>(s.push(Ge(l,e,n,o,r,i)),!1)),s}function AQ(t,e,n=eS(e),o=tS(e),r=iu(e),i=nS(e)){function s(l,a,c){if(l.type.name!=="blockGroup")throw new Error("unexpected");const u=[];let d,f;return l.forEach((h,p,m)=>{if(h.type.name!=="blockContainer")throw new Error("unexpected");if(h.childCount===0)return;if(h.childCount===0||h.childCount>2)throw new Error("unexpected, blockContainer.childCount: "+h.childCount);const b=m===0,y=m===l.childCount-1;if(h.firstChild.type.name==="blockGroup"){if(!b)throw new Error("unexpected");const C=s(h.firstChild,Math.max(0,a-1),y?Math.max(0,c-1):0);d=C.blockCutAtStart,y&&(f=C.blockCutAtEnd),u.push(...C.blocks);return}const w=Ge(h,e,n,o,r,i),k=h.childCount>1?h.child(1):void 0;let x=[];if(k){const C=s(k,0,y?Math.max(0,c-1):0);x=C.blocks,y&&(f=C.blockCutAtEnd)}y&&!k&&c>1&&(f=w.id),b&&a>1&&(d=w.id),u.push({...w,children:x})}),{blocks:u,blockCutAtStart:d,blockCutAtEnd:f}}if(t.content.childCount===0)return{blocks:[],blockCutAtStart:void 0,blockCutAtEnd:void 0};if(t.content.childCount!==1)throw new Error("slice must be a single block, did you forget includeParents=true?");return s(t.content.firstChild,Math.max(t.openStart-1,0),Math.max(t.openEnd-1,0))}function S6(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function NQ(t,e){return{config:t,implementation:e}}function rl(t,e){return NQ({type:t.name,propSchema:e},{mark:t})}function _6(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n.config]))}function Hs(t){const{height:e,width:n}=oS(t),o=new Array(e).fill(!1).map(()=>new Array(n).fill(null)),r=(i,s)=>{for(let l=i;l<e;l++)for(let a=s;a<n;a++)if(!o[l][a])return{row:l,col:a};throw new Error("Unable to create occupancy grid for table, no more available cells")};for(let i=0;i<t.content.rows.length;i++)for(let s=0;s<t.content.rows[i].cells.length;s++){const l=Ms(t.content.rows[i].cells[s]),a=sf(l),c=Ul(l),{row:u,col:d}=r(i,s);for(let f=u;f<u+a;f++)for(let h=d;h<d+c;h++){if(o[f][h])throw new Error(`Unable to create occupancy grid for table, cell at ${f},${h} is already occupied`);o[f][h]={row:i,col:s,rowspan:a,colspan:c,cell:l}}}return o}function lf(t){const e=new Set;return t.map(n=>({cells:n.map(o=>e.has(o.row+":"+o.col)?!1:(e.add(o.row+":"+o.col),o.cell)).filter(o=>o!==!1)}))}function Fl(t,e,n=Hs(e)){for(let o=0;o<n.length;o++)for(let r=0;r<n[o].length;r++){const i=n[o][r];if(i.row===t.row&&i.col===t.col)return{row:o,col:r,cell:i.cell}}throw new Error(`Unable to resolve relative table cell indices for table, cell at ${t.row},${t.col} is not occupied`)}function oS(t){const e=t.content.rows.length;let n=0;return t.content.rows.forEach(o=>{let r=0;o.cells.forEach(i=>{r+=Ul(i)}),n=Math.max(n,r)}),{height:e,width:n}}function E6(t,e,n=Hs(e)){var o;const r=(o=n[t.row])==null?void 0:o[t.col];if(r)return{row:r.row,col:r.col,cell:r.cell}}function $w(t,e){var n;const o=Hs(t);if(e<0||e>=o.length)return[];let r=0;for(let s=0;s<e;s++){const l=(n=o[r])==null?void 0:n[0];if(!l)return[];r+=l.rowspan}const i=new Array(o[0].length).fill(!1).map((s,l)=>E6({row:r,col:l},t,o)).filter(s=>s!==void 0);return i.filter((s,l)=>i.findIndex(a=>a.row===s.row&&a.col===s.col)===l)}function zw(t,e){var n;const o=Hs(t);if(e<0||e>=o[0].length)return[];let r=0;for(let s=0;s<e;s++){const l=(n=o[0])==null?void 0:n[r];if(!l)return[];r+=l.colspan}const i=new Array(o.length).fill(!1).map((s,l)=>E6({row:l,col:r},t,o)).filter(s=>s!==void 0);return i.filter((s,l)=>i.findIndex(a=>a.row===s.row&&a.col===s.col)===l)}function RQ(t,e,n,o=Hs(t)){const{col:r}=Fl({row:0,col:e},t,o),{col:i}=Fl({row:0,col:n},t,o);return o.forEach(s=>{const[l]=s.splice(r,1);s.splice(i,0,l)}),lf(o)}function OQ(t,e,n,o=Hs(t)){const{row:r}=Fl({row:e,col:0},t,o),{row:i}=Fl({row:n,col:0},t,o),[s]=o.splice(r,1);return o.splice(i,0,s),lf(o)}function Pw(t){return t?rf(t)?Pw(t.content):typeof t=="string"?t.length===0:Array.isArray(t)?t.every(e=>typeof e=="string"?e.length===0:Vl(e)?e.text.length===0:y6(e)?typeof e.content=="string"?e.content.length===0:e.content.every(n=>n.text.length===0):!1):!1:!0}function DQ(t,e,n=Hs(t)){if(e==="columns"){let i=0;for(let s=n[0].length-1;s>=0&&n.every(l=>Pw(l[s].cell)&&l[s].colspan===1);s--)i++;for(let s=n.length-1;s>=0;s--){const l=Math.max(n[s].length-i,1);n[s]=n[s].slice(0,l)}return lf(n)}let o=0;for(let i=n.length-1;i>=0&&n[i].every(s=>Pw(s.cell)&&s.rowspan===1);i--)o++;const r=Math.min(o,n.length-1);return n.splice(n.length-r,r),lf(n)}function LQ(t,e,n,o=Hs(t)){const{width:r,height:i}=oS(t);if(e==="columns")o.forEach((s,l)=>{if(n>=0)for(let a=0;a<n;a++)s.push({row:l,col:Math.max(...s.map(c=>c.col))+1,rowspan:1,colspan:1,cell:Ms("")});else s.splice(r+n,-1*n)});else if(n>0)for(let s=0;s<n;s++){const l=new Array(r).fill(null).map((a,c)=>({row:i+s,col:c,rowspan:1,colspan:1,cell:Ms("")}));o.push(l)}else n<0&&o.splice(i+n,-1*n);return lf(o)}function M6(t,e,n){const o=$w(t,n);if(!o.some(s=>sf(s.cell)>1))return!0;let r=n,i=n;return o.forEach(s=>{const l=sf(s.cell);r=Math.max(r,s.row+l-1),i=Math.min(i,s.row)}),e<n?n===r:n===i}function T6(t,e,n){const o=zw(t,n);if(!o.some(s=>Ul(s.cell)>1))return!0;let r=n,i=n;return o.forEach(s=>{const l=Ul(s.cell);r=Math.max(r,s.col+l-1),i=Math.min(i,s.col)}),e<n?n===r:n===i}function jQ(t,e,n){const o=Fl(t,n),r=Fl(e,n);return o.col===r.col}function PT(t,e,n,o){const r=[];for(const[i,s]of Object.entries(t.styles||{})){const l=n[i];if(!l)throw new Error(`style ${i} not found in styleSchema`);if(l.propSchema==="boolean")s&&r.push(e.mark(i));else if(l.propSchema==="string")s&&r.push(e.mark(i,{stringValue:s}));else throw new Cr(l.propSchema)}return!o||!e.nodes[o].spec.code?t.text.split(/(\n)/g).filter(i=>i.length>0).map(i=>i===`
`?e.nodes.hardBreak.createChecked():e.text(i,r)):t.text.length>0?[e.text(t.text,r)]:[]}function BQ(t,e,n){const o=e.marks.link.create({href:t.href});return Iw(t.content,e,n).map(r=>{if(r.type.name==="text")return r.mark([...r.marks,o]);if(r.type.name==="hardBreak")return r;throw new Error("unexpected node type")})}function Iw(t,e,n,o){const r=[];if(typeof t=="string")return r.push(...PT({text:t,styles:{}},e,n,o)),r;for(const i of t)r.push(...PT(i,e,n,o));return r}function Yo(t,e,n,o=iu(e)){const r=[];for(const i of t)typeof i=="string"?r.push(...Iw(i,e,o,n)):y6(i)?r.push(...BQ(i,e,o)):Vl(i)?r.push(...Iw([i],e,o,n)):r.push(A6(i,e,o));return r}function Xb(t,e,n=iu(e)){const o=[],r=new Array(t.headerRows??0).fill(!0),i=new Array(t.headerCols??0).fill(!0),s=t.columnWidths??[];for(let l=0;l<t.rows.length;l++){const a=t.rows[l],c=[],u=r[l];for(let f=0;f<a.cells.length;f++){const h=a.cells[f],p=i[f],m=void 0;let b=null;const y=Fl({row:l,col:f},{content:t});let w=s[y.col]?[s[y.col]]:null;if(h)if(typeof h=="string")b=e.text(h);else if(rf(h)){h.content&&(b=Yo(h.content,e,"tableParagraph",n));const x=Ul(h);x>1&&(w=new Array(x).fill(!1).map((C,E)=>s[y.col+E]??void 0))}else b=Yo(h,e,"tableParagraph",n);const k=e.nodes[p||u?"tableHeader":"tableCell"].createChecked({...rf(h)?h.props:{},colwidth:w},e.nodes.tableParagraph.createChecked(m,b));c.push(k)}const d=e.nodes.tableRow.createChecked({},c);o.push(d)}return o}function A6(t,e,n){let o,r=t.type;if(r===void 0&&(r="paragraph"),!e.nodes[r])throw new Error(`node type ${r} not found in schema`);if(!t.content)o=e.nodes[r].createChecked(t.props);else if(typeof t.content=="string"){const i=Yo([t.content],e,r,n);o=e.nodes[r].createChecked(t.props,i)}else if(Array.isArray(t.content)){const i=Yo(t.content,e,r,n);o=e.nodes[r].createChecked(t.props,i)}else if(t.content.type==="tableContent"){const i=Xb(t.content,e,n);o=e.nodes[r].createChecked(t.props,i)}else throw new Cr(t.content.type);return o}function na(t,e,n=iu(e)){let o=t.id;o===void 0&&(o=Ff.options.generateID());const r=[];if(t.children)for(const i of t.children)r.push(na(i,e,n));if(!t.type||e.nodes[t.type].isInGroup("blockContent")){const i=A6(t,e,n),s=r.length>0?e.nodes.blockGroup.createChecked({},r):void 0;return e.nodes.blockContainer.createChecked({id:o,...t.props},s?[i,s]:i)}else{if(e.nodes[t.type].isInGroup("bnBlock"))return e.nodes[t.type].createChecked({id:o,...t.props},r);throw new Error(`block type ${t.type} doesn't match blockContent or bnBlock group`)}}function $Q(t,e){if(e===0)return;const n=t.resolve(e);for(let o=n.depth;o>0;o--){const r=n.node(o);if(rS(r))return r.attrs.id}}function gn(t,e){let n,o;if(e.firstChild.descendants((r,i)=>n?!1:!rS(r)||r.attrs.id!==t?!0:(n=r,o=i+1,!1)),!(n===void 0||o===void 0))return{node:n,posBeforeNode:o}}function rS(t){return t.type.isInGroup("bnBlock")}function zQ(t,e){return t.id!==e.id||t.type!==e.type||JSON.stringify(t.props)!==JSON.stringify(e.props)||JSON.stringify(t.content)!==JSON.stringify(e.content)}function PQ(t){return t.getMeta("paste")?{type:"paste"}:t.getMeta("uiEvent")==="drop"?{type:"drop"}:t.getMeta("history$")?{type:t.getMeta("history$").redo?"redo":"undo"}:t.getMeta("y-sync$")?t.getMeta("y-sync$").isUndoRedoOperation?{type:"undo-redo"}:{type:"yjs-remote"}:{type:"local"}}function IT(t){const e={},n=$t(t);return t.descendants((o,r)=>{if(rS(o)){const i=$Q(t,r);e[o.attrs.id]={block:Ge(o,n),parentId:i}}return!0}),e}function N6(t,e=[]){const n=PQ(t),o=dC(t.before,[t,...e]),r=IT(o.before),i=IT(o.doc),s=[];return Object.keys(i).filter(l=>!(l in r)).forEach(l=>{s.push({type:"insert",block:i[l].block,source:n,prevBlock:void 0})}),Object.keys(r).filter(l=>!(l in i)).forEach(l=>{s.push({type:"delete",block:r[l].block,source:n,prevBlock:void 0})}),Object.keys(i).filter(l=>l in r).forEach(l=>{var a,c;const u=r[l],d=i[l];u.parentId!==d.parentId?s.push({type:"move",block:d.block,prevBlock:u.block,source:n,prevParent:u.parentId?(a=r[u.parentId])==null?void 0:a.block:void 0,currentParent:d.parentId?(c=i[d.parentId])==null?void 0:c.block:void 0}):zQ(u.block,d.block)&&s.push({type:"update",block:d.block,prevBlock:u.block,source:n})}),s}function IQ(t,e,n,o="before"){const r=typeof n=="string"?n:n.id,i=$t(t),s=e.map(c=>na(c,i)),l=gn(r,t.doc);if(!l)throw new Error(`Block with ID ${r} not found`);let a=l.posBeforeNode;return o==="after"&&(a+=l.node.nodeSize),t.step(new vt(a,a,new H(D.from(s),0,0))),s.map(c=>Ge(c,i))}function HT(t,e,n){const o=$t(t),r=n.map(c=>na(c,o)),i=new Set(e.map(c=>typeof c=="string"?c:c.id)),s=[],l=typeof e[0]=="string"?e[0]:e[0].id;let a=0;if(t.doc.descendants((c,u)=>{if(i.size===0)return!1;if(!c.type.isInGroup("bnBlock")||!i.has(c.attrs.id))return!0;if(s.push(Ge(c,o)),i.delete(c.attrs.id),n.length>0&&c.attrs.id===l){const p=t.doc.nodeSize;t.insert(u,r);const m=t.doc.nodeSize;a+=p-m}const d=t.doc.nodeSize,f=t.doc.resolve(u-a);f.node().type.name==="blockGroup"&&f.node(f.depth-1).type.name!=="doc"&&f.node().childCount===1?t.delete(f.before(),f.after()):t.delete(u-a,u-a+c.nodeSize);const h=t.doc.nodeSize;return a+=d-h,!1}),i.size>0){const c=[...i].join(`
`);throw Error("Blocks with the following IDs could not be found in the editor: "+c)}return{insertedBlocks:r.map(c=>Ge(c,o)),removedBlocks:s}}const en=(t,e)=>({tr:n,dispatch:o})=>(o&&R6(n,t,e),!0);function R6(t,e,n,o,r){const i=Gf(t.doc.resolve(e)),s=$t(t),l=s.nodes[i.blockNoteType],a=s.nodes[n.type||i.blockNoteType],c=a.isInGroup("bnBlock")?a:s.nodes.blockContainer;if(i.isBlockContainer&&a.isInGroup("blockContent"))VT(n,t,i),HQ(n,t,l,a,i);else if(!i.isBlockContainer&&a.isInGroup("bnBlock"))VT(n,t,i);else{const u=Ge(i.bnBlock.node,s);t.replaceWith(i.bnBlock.beforePos,i.bnBlock.afterPos,na({children:u.children,...n},s));return}t.setNodeMarkup(i.bnBlock.beforePos,c,{...i.bnBlock.node.attrs,...n.props})}function HQ(t,e,n,o,r,i,s){const l=$t(e);let a="keep";if(t.content)if(typeof t.content=="string")a=Yo([t.content],l,o.name);else if(Array.isArray(t.content))a=Yo(t.content,l,o.name);else if(t.content.type==="tableContent")a=Xb(t.content,l);else throw new Cr(t.content.type);else n.spec.content===""||o.spec.content!==n.spec.content&&(a=[]);a==="keep"?e.setNodeMarkup(r.blockContent.beforePos,o,{...r.blockContent.node.attrs,...t.props}):e.replaceWith(r.blockContent.beforePos,r.blockContent.afterPos,o.createChecked({...r.blockContent.node.attrs,...t.props},a))}function VT(t,e,n){const o=$t(e);if(t.children!==void 0&&t.children.length>0){const r=t.children.map(i=>na(i,o));if(n.childContainer)e.step(new vt(n.childContainer.beforePos+1,n.childContainer.afterPos-1,new H(D.from(r),0,0)));else{if(!n.isBlockContainer)throw new Error("impossible");e.insert(n.blockContent.afterPos,o.nodes.blockGroup.createChecked({},r))}}}function VQ(t,e,n,o,r){const i=typeof e=="string"?e:e.id,s=gn(i,t.doc);if(!s)throw new Error(`Block with ID ${i} not found`);R6(t,s.posBeforeNode,n);const l=t.doc.resolve(s.posBeforeNode+1).node(),a=$t(t);return Ge(l,a)}function O6(t){const e=Array.from(t.classList).filter(n=>!n.startsWith("bn-"))||[];e.length>0?t.className=e.join(" "):t.removeAttribute("class")}function D6(t,e,n,o){let r;if(e)if(typeof e=="string")r=Yo([e],t.pmSchema);else if(Array.isArray(e))r=Yo(e,t.pmSchema);else if(e.type==="tableContent")r=Xb(e,t.pmSchema);else throw new Cr(e.type);else throw new Error("blockContent is required");const i=n.serializeFragment(D.from(r),o);return i.nodeType===1&&O6(i),i}function UQ(t,e,n,o,r,i,s){var l,a,c,u,d,f,h,p;const m=(s==null?void 0:s.document)??document,b=e.pmSchema.nodes.blockContainer;let y=n.props;if(!n.props){y={};for(const[_,S]of Object.entries(e.schema.blockSchema[n.type].propSchema))S.default!==void 0&&(y[_]=S.default)}const w=(a=(l=b.spec)==null?void 0:l.toDOM)==null?void 0:a.call(l,b.create({id:n.id,...y})),k=Array.from(w.dom.attributes),x=e.blockImplementations[n.type].implementation.toExternalHTML({...n,props:y},e),C=m.createDocumentFragment();if(x.dom.classList.contains("bn-block-content")){const _=[...k,...Array.from(x.dom.attributes)].filter(S=>S.name.startsWith("data")&&S.name!=="data-content-type"&&S.name!=="data-file-block"&&S.name!=="data-node-view-wrapper"&&S.name!=="data-node-type"&&S.name!=="data-id"&&S.name!=="data-index"&&S.name!=="data-editable");for(const S of _)x.dom.firstChild.setAttribute(S.name,S.value);O6(x.dom.firstChild),C.append(...Array.from(x.dom.childNodes))}else C.append(x.dom);if(x.contentDOM&&n.content){const _=D6(e,n.content,o,s);x.contentDOM.appendChild(_)}let E;if(r.has(n.type)?E="OL":i.has(n.type)&&(E="UL"),E){if(((c=t.lastChild)==null?void 0:c.nodeName)!==E){const S=m.createElement(E);E==="OL"&&y!=null&&y.start&&(y==null?void 0:y.start)!==1&&S.setAttribute("start",y.start+""),t.append(S)}const _=m.createElement("li");_.append(C),t.lastChild.appendChild(_)}else t.append(C);if(n.children&&n.children.length>0){const _=m.createDocumentFragment();if(L6(_,e,n.children,o,r,i,s),((u=t.lastChild)==null?void 0:u.nodeName)==="UL"||((d=t.lastChild)==null?void 0:d.nodeName)==="OL")for(;((f=_.firstChild)==null?void 0:f.nodeName)==="UL"||((h=_.firstChild)==null?void 0:h.nodeName)==="OL";)t.lastChild.lastChild.appendChild(_.firstChild);e.pmSchema.nodes[n.type].isInGroup("blockContent")?t.append(_):(p=x.contentDOM)==null||p.append(_)}}const L6=(t,e,n,o,r,i,s)=>{for(const l of n)UQ(t,e,l,o,r,i,s)},FQ=(t,e,n,o,r,i)=>{const s=((i==null?void 0:i.document)??document).createDocumentFragment();return L6(s,t,e,n,o,r,i),s},Jb=(t,e)=>{const n=_i.fromSchema(t);return{exportBlocks:(o,r)=>{const i=FQ(e,o,n,new Set(["numberedListItem"]),new Set(["bulletListItem","checkListItem"]),r),s=document.createElement("div");return s.append(i),s.innerHTML},exportInlineContent:(o,r)=>{const i=D6(e,o,n,r),s=document.createElement("div");return s.append(i.cloneNode(!0)),s.innerHTML}}};function qQ(t,e,n,o,r){let i;if(e)if(typeof e=="string")i=Yo([e],t.pmSchema,o);else if(Array.isArray(e))i=Yo(e,t.pmSchema,o);else if(e.type==="tableContent")i=Xb(e,t.pmSchema);else throw new Cr(e.type);else throw new Error("blockContent is required");return n.serializeFragment(D.from(i),r)}function GQ(t,e,n,o,r){var i,s,l,a,c;const u=t.pmSchema.nodes.blockContainer;let d=e.props;if(!e.props){d={};for(const[p,m]of Object.entries(t.schema.blockSchema[e.type].propSchema))m.default!==void 0&&(d[p]=m.default)}const f=t.blockImplementations[e.type].implementation.toInternalHTML({...e,props:d},t);if(e.type==="numberedListItem"&&f.dom.setAttribute("data-index",o.toString()),f.contentDOM&&e.content){const p=qQ(t,e.content,n,e.type,r);f.contentDOM.appendChild(p)}if(t.pmSchema.nodes[e.type].isInGroup("bnBlock")){if(e.children&&e.children.length>0){const p=j6(t,e.children,n,r);(i=f.contentDOM)==null||i.append(p)}return f.dom}const h=(l=(s=u.spec)==null?void 0:s.toDOM)==null?void 0:l.call(s,u.create({id:e.id,...d}));return(a=h.contentDOM)==null||a.appendChild(f.dom),e.children&&e.children.length>0&&((c=h.contentDOM)==null||c.appendChild(B6(t,e.children,n,r))),h.dom}function j6(t,e,n,o){const r=((o==null?void 0:o.document)??document).createDocumentFragment();let i=0;for(const s of e){s.type==="numberedListItem"?i++:i=0;const l=GQ(t,s,n,i,o);r.appendChild(l)}return r}const B6=(t,e,n,o)=>{var r;const i=t.pmSchema.nodes.blockGroup,s=i.spec.toDOM(i.create({})),l=j6(t,e,n,o);return(r=s.contentDOM)==null||r.appendChild(l),s.dom},ZQ=(t,e)=>{const n=_i.fromSchema(t);return{serializeBlocks:(o,r)=>B6(e,o,n,r).outerHTML}},Qb=(t,e)=>{const n=t.querySelector(e);if(!n)return;const o=t.querySelector("figcaption"),r=(o==null?void 0:o.textContent)??void 0;return{targetElement:n,caption:r}},KQ=(t,e,n,o)=>{const r=document.createElement("div");r.className="bn-add-file-button";const i=document.createElement("div");i.className="bn-add-file-button-icon",o?i.appendChild(o):i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',r.appendChild(i);const s=document.createElement("p");s.className="bn-add-file-button-text",s.innerHTML=n||e.dictionary.file_blocks.file.add_button_text,r.appendChild(s);const l=c=>{c.preventDefault()},a=()=>{e.transact(c=>c.setMeta(e.filePanel.plugins[0],{block:t}))};return r.addEventListener("mousedown",l,!0),r.addEventListener("click",a,!0),{dom:r,destroy:()=>{r.removeEventListener("mousedown",l,!0),r.removeEventListener("click",a,!0)}}},WQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"></path></svg>',YQ=t=>{const e=document.createElement("div");e.className="bn-file-name-with-icon";const n=document.createElement("div");n.className="bn-file-icon",n.innerHTML=WQ,e.appendChild(n);const o=document.createElement("p");return o.className="bn-file-name",o.textContent=t.props.name,e.appendChild(o),{dom:e}},iS=(t,e,n,o,r)=>{const i=document.createElement("div");if(i.className="bn-file-block-content-wrapper",t.props.url===""){const l=KQ(t,e,o,r);i.appendChild(l.dom);const a=e.onUploadStart(c=>{if(c===t.id){i.removeChild(l.dom);const u=document.createElement("div");u.className="bn-file-loading-preview",u.textContent="Loading...",i.appendChild(u)}});return{dom:i,destroy:()=>{a(),l.destroy()}}}const s={dom:i};if(t.props.showPreview===!1||!n){const l=YQ(t);i.appendChild(l.dom),s.destroy=()=>{var a;(a=l.destroy)==null||a.call(l)}}else i.appendChild(n.dom);if(t.props.caption){const l=document.createElement("p");l.className="bn-file-caption",l.textContent=t.props.caption,i.appendChild(l)}return s},sS=(t,e)=>{const n=document.createElement("figure"),o=document.createElement("figcaption");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},ey=(t,e)=>{const n=document.createElement("div"),o=document.createElement("p");return o.textContent=e,n.appendChild(t),n.appendChild(o),{dom:n}},UT=t=>({url:t.src||void 0}),XQ='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"></path></svg>',JQ={backgroundColor:rt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0}},$6={type:"audio",propSchema:JQ,content:"none",isFileBlock:!0,fileBlockAccept:["audio/*"]},QQ=(t,e)=>{const n=document.createElement("div");n.innerHTML=XQ;const o=document.createElement("audio");return o.className="bn-audio",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(r=>{o.src=r}):o.src=t.props.url,o.controls=!0,o.contentEditable="false",o.draggable=!1,iS(t,e,{dom:o},e.dictionary.file_blocks.audio.add_button_text,n.firstElementChild)},z6=t=>{if(t.tagName==="AUDIO")return t.closest("figure")?void 0:UT(t);if(t.tagName==="FIGURE"){const e=Qb(t,"audio");if(!e)return;const{targetElement:n,caption:o}=e;return{...UT(n),caption:o}}},eee=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add audio",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("audio"),e.src=t.props.url):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?sS(e,t.props.caption):ey(e,t.props.caption):{dom:e}},tee=ru($6,{render:QQ,parse:z6,toExternalHTML:eee}),FT=Symbol.for("blocknote.shikiParser"),a1=Symbol.for("blocknote.shikiHighlighterPromise"),nee={language:{default:"text"}},oee=vn({name:"codeBlock",content:"inline*",group:"blockContent",marks:"insertion deletion modification",code:!0,defining:!0,addOptions(){return{defaultLanguage:"text",indentLineWithTab:!0,supportedLanguages:{}}},addAttributes(){const t=this.options;return{language:{default:t.editor.settings.codeBlock.defaultLanguage,parseHTML:e=>{let n=e,o=null;(n==null?void 0:n.tagName)==="DIV"&&(n==null?void 0:n.dataset.contentType)==="codeBlock"&&(n=n.children[0]),(n==null?void 0:n.tagName)==="PRE"&&(n=n==null?void 0:n.children[0]);const r=n==null?void 0:n.getAttribute("data-language");if(r)o=r.toLowerCase();else{const i=[...(n==null?void 0:n.className.split(" "))||[]].filter(s=>s.startsWith("language-")).map(s=>s.replace("language-",""));i.length>0&&(o=i[0].toLowerCase())}return o?c1(t.editor.settings.codeBlock,o)??o:null},renderHTML:e=>e.language?{class:`language-${e.language}`,"data-language":e.language}:{}}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"pre",preserveWhitespace:"full"}]},renderHTML({HTMLAttributes:t}){var e,n;const o=document.createElement("pre"),{dom:r,contentDOM:i}=ro(this.name,"code",((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},{...((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{},...t});return r.removeChild(i),r.appendChild(o),o.appendChild(i),{dom:r,contentDOM:i}},addNodeView(){const t=this.options;return({editor:e,node:n,getPos:o,HTMLAttributes:r})=>{var i,s;const l=document.createElement("pre"),a=document.createElement("select"),c=document.createElement("div"),{dom:u,contentDOM:d}=ro(this.name,"code",{...((i=this.options.domAttributes)==null?void 0:i.blockContent)||{},...r},((s=this.options.domAttributes)==null?void 0:s.inlineContent)||{}),f=h=>{const p=h.target.value;e.commands.command(({tr:m})=>(m.setNodeAttribute(o(),"language",p),!0))};return Object.entries(t.editor.settings.codeBlock.supportedLanguages).forEach(([h,{name:p}])=>{const m=document.createElement("option");m.value=h,m.text=p,a.appendChild(m)}),c.contentEditable="false",a.value=n.attrs.language||t.editor.settings.codeBlock.defaultLanguage,u.removeChild(d),u.appendChild(c),u.appendChild(l),l.appendChild(d),c.appendChild(a),a.addEventListener("change",f),{dom:u,contentDOM:d,update:h=>h.type===this.type,destroy:()=>{a.removeEventListener("change",f)}}}},addProseMirrorPlugins(){const t=this.options,e=globalThis;let n,o;return[PZ({parser:r=>{if(!t.editor.settings.codeBlock.createHighlighter)return[];if(!n)return e[a1]=e[a1]||t.editor.settings.codeBlock.createHighlighter(),e[a1].then(s=>{n=s});const i=c1(t.editor.settings.codeBlock,r.language);return!i||i==="text"||i==="none"||i==="plaintext"||i==="txt"?[]:n.getLoadedLanguages().includes(i)?(o||(o=e[FT]||IZ(n),e[FT]=o),o(r)):n.loadLanguage(i)},languageExtractor:r=>r.attrs.language,nodeTypes:[this.name]})]},addInputRules(){const t=this.options;return[new xs({find:/^```(.*?)\s$/,handler:({state:e,range:n,match:o})=>{const r=e.doc.resolve(n.from),i=o[1].trim(),s={language:c1(t.editor.settings.codeBlock,i)??i};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),this.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,this.type,s).setSelection(Z.create(e.tr.doc,n.from))}})]},addKeyboardShortcuts(){return{Delete:({editor:t})=>{const{selection:e}=t.state,{$from:n}=e;if(t.isActive(this.name)&&!n.parent.textContent&&Bb(e)){const o=n.pos-n.parentOffset-2;return t.chain().setNodeSelection(o).deleteSelection().run(),!0}return!1},Tab:({editor:t})=>this.options.indentLineWithTab&&t.isActive(this.name)?(t.commands.insertContent("  "),!0):!1,Enter:({editor:t})=>{const{$from:e}=t.state.selection;if(!t.isActive(this.name))return!1;const n=e.parentOffset===e.parent.nodeSize-2,o=e.parent.textContent.endsWith(`

`);return!n||!o?(t.commands.insertContent(`
`),!0):t.chain().command(({tr:r})=>(r.delete(e.pos-2,e.pos),!0)).exitCode().run()},"Shift-Enter":({editor:t})=>{const{$from:e}=t.state.selection;return t.isActive(this.name)?(t.chain().insertContentAt(e.pos-e.parentOffset+e.parent.nodeSize,{type:"paragraph"}).run(),!0):!1}}}}),ree=Ro(oee,nee);function c1(t,e){var n;return(n=Object.entries(t.supportedLanguages).find(([o,{aliases:r}])=>(r==null?void 0:r.includes(e))||o===e))==null?void 0:n[0]}const iee=Zt.create({name:"backgroundColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-background-color"),renderHTML:t=>({"data-background-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-background-color")?{stringValue:t.getAttribute("data-background-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),see=rl(iee,"string"),lee=Zt.create({name:"textColor",addAttributes(){return{stringValue:{default:void 0,parseHTML:t=>t.getAttribute("data-text-color"),renderHTML:t=>({"data-text-color":t.stringValue})}}},parseHTML(){return[{tag:"span",getAttrs:t=>typeof t=="string"?!1:t.hasAttribute("data-text-color")?{stringValue:t.getAttribute("data-text-color")}:!1}]},renderHTML({HTMLAttributes:t}){return["span",t,0]}}),aee=rl(lee,"string"),qT=t=>({url:t.src||void 0}),cee={backgroundColor:rt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""}},P6={type:"file",propSchema:cee,content:"none",isFileBlock:!0},uee=(t,e)=>iS(t,e),I6=t=>{if(t.tagName==="EMBED")return t.closest("figure")?void 0:qT(t);if(t.tagName==="FIGURE"){const e=Qb(t,"embed");if(!e)return;const{targetElement:n,caption:o}=e;return{...qT(n),caption:o}}},dee=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add file",{dom:n}}const e=document.createElement("a");return e.href=t.props.url,e.textContent=t.props.name||t.props.url,t.props.caption?ey(e,t.props.caption):{dom:e}},fee=ru(P6,{render:uee,parse:I6,toExternalHTML:dee}),hee={set:(t,e)=>window.localStorage.setItem(`toggle-${t.id}`,e?"true":"false"),get:t=>window.localStorage.getItem(`toggle-${t.id}`)==="true"},H6=(t,e,n,o=hee)=>{if("isToggleable"in t.props&&!t.props.isToggleable)return{dom:n};const r=document.createElement("div"),i=document.createElement("div");i.className="bn-toggle-wrapper";const s=document.createElement("button");s.className="bn-toggle-button",s.type="button",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="CURRENTCOLOR"><path d="M320-200v-560l440 280-440 280Z"/></svg>';const l=p=>p.preventDefault();s.addEventListener("mousedown",l);const a=()=>{var p;i.getAttribute("data-show-children")==="true"?(i.setAttribute("data-show-children","false"),o.set(e.getBlock(t),!1),r.contains(c)&&r.removeChild(c)):(i.setAttribute("data-show-children","true"),o.set(e.getBlock(t),!0),((p=e.getBlock(t))==null?void 0:p.children.length)===0&&!r.contains(c)&&r.appendChild(c))};s.addEventListener("click",a),i.appendChild(s),i.appendChild(n);const c=document.createElement("button");c.className="bn-toggle-add-block-button",c.type="button",c.textContent="Empty toggle. Click to add a block.";const u=p=>p.preventDefault();c.addEventListener("mousedown",u);const d=()=>{e.transact(()=>{const p=e.updateBlock(t,{children:[{}]});e.setTextCursorPosition(p.children[0].id,"end"),e.focus()})};c.addEventListener("click",d),r.appendChild(i);let f=t.children.length;const h=e.onChange(()=>{var p;const m=((p=e.getBlock(t))==null?void 0:p.children.length)??0;m>f?(i.getAttribute("data-show-children")==="false"&&(i.setAttribute("data-show-children","true"),o.set(e.getBlock(t),!0)),r.contains(c)&&r.removeChild(c)):m===0&&m<f&&(i.getAttribute("data-show-children")==="true"&&(i.setAttribute("data-show-children","false"),o.set(e.getBlock(t),!1)),r.contains(c)&&r.removeChild(c)),f=m});return o.get(t)?(i.setAttribute("data-show-children","true"),t.children.length===0&&r.appendChild(c)):i.setAttribute("data-show-children","false"),{dom:r,ignoreMutation:p=>p instanceof MutationRecord&&(p.type==="attributes"&&p.target===i&&p.attributeName==="data-show-children"||p.type==="childList"&&(p.addedNodes[0]===c||p.removedNodes[0]===c)),destroy:()=>{s.removeEventListener("mousedown",l),s.removeEventListener("click",a),c.removeEventListener("mousedown",u),c.removeEventListener("click",d),h==null||h()}}},pee=[1,2,3,4,5,6],V6={...rt,level:{default:1,values:pee},isToggleable:{default:!1}},mee=vn({name:"heading",content:"inline*",group:"blockContent",addAttributes(){return qf(V6)},addInputRules(){return[...this.options.editor.settings.heading.levels.map(t=>new xs({find:new RegExp(`^(#{${t}})\\s$`),handler:({state:e,chain:n,range:o})=>{const r=Ye(e);!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||n().command(en(r.bnBlock.beforePos,{type:"heading",props:{level:t}})).deleteRange({from:o.from,to:o.to}).run()}}))]},addKeyboardShortcuts(){const t=this.options.editor;return Object.fromEntries(t.settings.heading.levels.map(e=>[`Mod-Alt-${e}`,()=>{const n=Ye(this.editor.state);return!n.isBlockContainer||n.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(n.bnBlock.beforePos,{type:"heading",props:{level:e}}))}]))},parseHTML(){const t=this.options.editor;return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},...t.settings.heading.levels.map(e=>({tag:`h${e}`,attrs:{level:e},node:"heading"}))]},renderHTML({node:t,HTMLAttributes:e}){var n,o;return ro(this.name,`h${t.attrs.level}`,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n})=>{var o,r;const{dom:i,contentDOM:s}=ro(this.name,`h${t.attrs.level}`,{...((o=this.options.domAttributes)==null?void 0:o.blockContent)||{},...e},((r=this.options.domAttributes)==null?void 0:r.inlineContent)||{});i.removeChild(s);const l=this.options.editor,a=Kb(n,l,this.editor,this.name),c=H6(a,l,s);return i.appendChild(c.dom),{dom:i,contentDOM:s,ignoreMutation:c.ignoreMutation,destroy:c.destroy}}}}),gee=Ro(mee,V6),U6=(t,e,n,o,r,i)=>{const{dom:s,destroy:l}=iS(t,e,n,r,i),a=s;t.props.url&&t.props.showPreview&&(t.props.previewWidth?a.style.width=`${t.props.previewWidth}px`:a.style.width="fit-content");const c=document.createElement("div");c.className="bn-resize-handle",c.style.left="4px";const u=document.createElement("div");u.className="bn-resize-handle",u.style.right="4px";let d,f=t.props.previewWidth;const h=k=>{var x,C;if(!d){!e.isEditable&&o.contains(c)&&o.contains(u)&&(o.removeChild(c),o.removeChild(u));return}let E;t.props.textAlignment==="center"?d.handleUsed==="left"?E=d.initialWidth+(d.initialClientX-k.clientX)*2:E=d.initialWidth+(k.clientX-d.initialClientX)*2:d.handleUsed==="left"?E=d.initialWidth+d.initialClientX-k.clientX:E=d.initialWidth+k.clientX-d.initialClientX,f=Math.min(Math.max(E,64),((C=(x=e.domElement)==null?void 0:x.firstElementChild)==null?void 0:C.clientWidth)||Number.MAX_VALUE),a.style.width=`${f}px`},p=k=>{(!k.target||!a.contains(k.target)||!e.isEditable)&&o.contains(c)&&o.contains(u)&&(o.removeChild(c),o.removeChild(u)),d&&(d=void 0,e.updateBlock(t,{props:{previewWidth:f}}))},m=()=>{e.isEditable&&(o.appendChild(c),o.appendChild(u))},b=k=>{k.relatedTarget===c||k.relatedTarget===u||d||e.isEditable&&o.contains(c)&&o.contains(u)&&(o.removeChild(c),o.removeChild(u))},y=k=>{k.preventDefault(),d={handleUsed:"left",initialWidth:a.clientWidth,initialClientX:k.clientX}},w=k=>{k.preventDefault(),d={handleUsed:"right",initialWidth:a.clientWidth,initialClientX:k.clientX}};return window.addEventListener("mousemove",h),window.addEventListener("mouseup",p),a.addEventListener("mouseenter",m),a.addEventListener("mouseleave",b),c.addEventListener("mousedown",y),u.addEventListener("mousedown",w),{dom:a,destroy:()=>{l==null||l(),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p),a.removeEventListener("mouseenter",m),a.removeEventListener("mouseleave",b),c.removeEventListener("mousedown",y),u.removeEventListener("mousedown",w)}}},GT=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},bee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"></path></svg>',yee={textAlignment:rt.textAlignment,backgroundColor:rt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},F6={type:"image",propSchema:yee,content:"none",isFileBlock:!0,fileBlockAccept:["image/*"]},vee=(t,e)=>{const n=document.createElement("div");n.innerHTML=bee;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const r=document.createElement("img");return r.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.alt=t.props.name||t.props.caption||"BlockNote image",r.contentEditable="false",r.draggable=!1,o.appendChild(r),U6(t,e,{dom:o},o,e.dictionary.file_blocks.image.add_button_text,n.firstElementChild)},q6=t=>{if(t.tagName==="IMG")return t.closest("figure")?void 0:GT(t);if(t.tagName==="FIGURE"){const e=Qb(t,"img");if(!e)return;const{targetElement:n,caption:o}=e;return{...GT(n),caption:o}}},wee=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add image",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("img"),e.src=t.props.url,e.alt=t.props.name||t.props.caption||"BlockNote image",t.props.previewWidth&&(e.width=t.props.previewWidth)):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?sS(e,t.props.caption):ey(e,t.props.caption):{dom:e}},kee=ru(F6,{render:vee,parse:q6,toExternalHTML:wee}),G6=(t,e,n)=>({state:o,dispatch:r})=>{const i=Sr(o.doc,t),s=ki(i);if(!s.isBlockContainer)throw new Error(`BlockContainer expected when calling splitBlock, position ${t}`);const l=[{type:s.bnBlock.node.type,attrs:n?{...s.bnBlock.node.attrs,id:void 0}:{}},{type:e?s.blockContent.node.type:o.schema.nodes.paragraph,attrs:n?{...s.blockContent.node.attrs}:{}}];return r&&o.tr.split(t,2,l),!0},ty=t=>{const{blockInfo:e,selectionEmpty:n}=t.transact(i=>({blockInfo:Wb(i),selectionEmpty:i.selection.anchor===i.selection.head}));if(!e.isBlockContainer)return!1;const{bnBlock:o,blockContent:r}=e;return!(r.node.type.name==="toggleListItem"||r.node.type.name==="bulletListItem"||r.node.type.name==="numberedListItem"||r.node.type.name==="checkListItem")||!n?!1:t._tiptapEditor.commands.first(({state:i,chain:s,commands:l})=>[()=>l.command(()=>r.node.childCount===0?l.command(en(o.beforePos,{type:"paragraph",props:{}})):!1),()=>l.command(()=>r.node.childCount>0?(s().deleteSelection().command(G6(i.selection.from,!0)).run(),!0):!1)])},xee={...rt},Cee=vn({name:"toggleListItem",content:"inline*",group:"blockContent",priority:90,addKeyboardShortcuts(){return{Enter:()=>ty(this.options.editor),"Mod-Shift-6":()=>{const t=Ye(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(t.bnBlock.beforePos,{type:"toggleListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"}]},renderHTML({HTMLAttributes:t}){var e,n;return ro(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({HTMLAttributes:t,getPos:e})=>{var n,o;const{dom:r,contentDOM:i}=ro(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...t},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{}),s=this.options.editor,l=Kb(e,s,this.editor,this.name),a=H6(l,s,i);return r.appendChild(a.dom),{dom:r,contentDOM:i,ignoreMutation:a.ignoreMutation,destroy:a.destroy}}}}),See=Ro(Cee,xee);function lS(t,e,n){var o,r,i;const s=ui.fromSchema(e),l=t,a=document.createElement("div");a.setAttribute("data-node-type","blockGroup");for(const h of Array.from(l.childNodes))a.appendChild(h.cloneNode(!0));let c=s.parse(a,{topNode:e.nodes.blockGroup.create()});((r=(o=c.firstChild)==null?void 0:o.firstChild)==null?void 0:r.type.name)==="checkListItem"&&(c=c.copy(c.content.cut(c.firstChild.firstChild.nodeSize+2)));const u=(i=c.firstChild)==null?void 0:i.firstChild;if(!(u!=null&&u.isTextblock))return D.from(c);const d=e.nodes[n].create({},u.content),f=c.content.cut(u.nodeSize+2);if(f.size>0){const h=c.copy(f);return d.content.addToEnd(h)}return d.content}const _ee={...rt},Eee=vn({name:"bulletListItem",content:"inline*",group:"blockContent",priority:90,addInputRules(){return[new xs({find:new RegExp("^[-+*]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ye(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||o.blockNoteType==="heading"||e().command(en(o.bnBlock.beforePos,{type:"bulletListItem",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>ty(this.options.editor),"Mod-Shift-8":()=>{const t=Ye(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(t.bnBlock.beforePos,{type:"bulletListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"li",getAttrs:t=>{var e;if(typeof t=="string")return!1;const n=t.parentElement;return n===null?!1:n.tagName==="UL"||n.tagName==="DIV"&&((e=n.parentElement)==null?void 0:e.tagName)==="UL"?{}:!1},getContent:(t,e)=>lS(t,e,this.name),node:"bulletListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return ro(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Mee=Ro(Eee,_ee),Z6={...rt,checked:{default:!1}},Tee=vn({name:"checkListItem",content:"inline*",group:"blockContent",addAttributes(){return qf(Z6)},addInputRules(){return[new xs({find:new RegExp("\\[\\s*\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ye(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(en(o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!1}})).deleteRange({from:n.from,to:n.to})}}),new xs({find:new RegExp("\\[[Xx]\\]\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ye(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(en(o.bnBlock.beforePos,{type:"checkListItem",props:{checked:!0}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>ty(this.options.editor),"Mod-Shift-9":()=>{const t=Ye(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(t.bnBlock.beforePos,{type:"checkListItem",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"input",getAttrs:t=>typeof t=="string"||t.closest("[data-content-type]")||t.closest("li")?!1:t.type==="checkbox"?{checked:t.checked}:!1,node:"checkListItem"},{tag:"li",getAttrs:t=>{var e;if(typeof t=="string")return!1;const n=t.parentElement;if(n===null)return!1;if(n.tagName==="UL"||n.tagName==="DIV"&&((e=n.parentElement)==null?void 0:e.tagName)==="UL"){const o=t.querySelector("input[type=checkbox]")||null;return o===null?!1:{checked:o.checked}}return!1},getContent:(t,e)=>lS(t,e,this.name),node:"checkListItem"}]},renderHTML({node:t,HTMLAttributes:e}){var n,o;const r=document.createElement("input");r.type="checkbox",r.checked=t.attrs.checked,t.attrs.checked&&r.setAttribute("checked","");const{dom:i,contentDOM:s}=ro(this.name,"p",{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e},((o=this.options.domAttributes)==null?void 0:o.inlineContent)||{});return i.insertBefore(r,s),{dom:i,contentDOM:s}},addNodeView(){return({node:t,getPos:e,editor:n,HTMLAttributes:o})=>{var r,i;const s=document.createElement("div"),l=document.createElement("div");l.contentEditable="false";const a=document.createElement("input");a.type="checkbox",a.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","");const c=()=>{if(!n.isEditable){a.checked=!a.checked;return}if(typeof e!="boolean"){const f=Sr(n.state.doc,e());if(f.node.type.name!=="blockContainer")throw new Error(`Expected blockContainer node, got ${f.node.type.name}`);this.editor.commands.command(en(f.posBeforeNode,{type:"checkListItem",props:{checked:a.checked}}))}};a.addEventListener("change",c);const{dom:u,contentDOM:d}=ro(this.name,"p",{...((r=this.options.domAttributes)==null?void 0:r.blockContent)||{},...o},((i=this.options.domAttributes)==null?void 0:i.inlineContent)||{});if(typeof e!="boolean"){const f="label-"+this.editor.state.doc.resolve(e()).node().attrs.id;a.setAttribute("aria-labelledby",f),d.id=f}return u.removeChild(d),u.appendChild(s),s.appendChild(l),s.appendChild(d),l.appendChild(a),{dom:u,contentDOM:d,destroy:()=>{a.removeEventListener("change",c)}}}}}),Aee=Ro(Tee,Z6),Nee=new xe("numbered-list-indexing"),Ree=()=>new le({key:Nee,appendTransaction:(t,e,n)=>{const o=n.tr;o.setMeta("numberedListIndexing",!0);let r=!1;return n.doc.descendants((i,s)=>{var l;if(i.type.name==="blockContainer"&&i.firstChild.type.name==="numberedListItem"){let a=`${i.firstChild.attrs.start||1}`;const c=ki({posBeforeNode:s,node:i});if(!c.isBlockContainer)throw new Error("impossible");const u=o.doc.resolve(c.bnBlock.beforePos).nodeBefore;if(u){const p=ki({posBeforeNode:c.bnBlock.beforePos-u.nodeSize,node:u});if(p.blockNoteType==="numberedListItem"){if(!p.isBlockContainer)throw new Error("impossible");const m=p.blockContent.node.attrs.index;a=(parseInt(m)+1).toString()}}const d=c.blockContent.node,f=d.attrs.index,h=((l=u==null?void 0:u.firstChild)==null?void 0:l.type.name)!=="numberedListItem";if(f!==a||d.attrs.start&&!h){r=!0;const{start:p,...m}=d.attrs;o.setNodeMarkup(c.blockContent.beforePos,void 0,{...m,index:a,...typeof p=="number"&&h&&{start:p}})}}}),r?o:null}}),K6={...rt,start:{default:void 0,type:"number"}},Oee=vn({name:"numberedListItem",content:"inline*",group:"blockContent",priority:90,addAttributes(){return{...qf(K6),index:{default:null,parseHTML:t=>t.getAttribute("data-index"),renderHTML:t=>({"data-index":t.index})}}},addInputRules(){return[new xs({find:new RegExp("^(\\d+)\\.\\s$"),handler:({state:t,chain:e,range:n,match:o})=>{const r=Ye(t);if(!r.isBlockContainer||r.blockContent.node.type.spec.content!=="inline*"||r.blockNoteType==="numberedListItem"||r.blockNoteType==="heading")return;const i=parseInt(o[1]);e().command(en(r.bnBlock.beforePos,{type:"numberedListItem",props:i===1&&{}||{start:i}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{Enter:()=>ty(this.options.editor),"Mod-Shift-7":()=>{const t=Ye(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(t.bnBlock.beforePos,{type:"numberedListItem",props:{}}))}}},addProseMirrorPlugins(){return[Ree()]},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"li",getAttrs:t=>{var e;if(typeof t=="string")return!1;const n=t.parentElement;if(n===null)return!1;if(n.tagName==="OL"||n.tagName==="DIV"&&((e=n.parentElement)==null?void 0:e.tagName)==="OL"){const o=parseInt(n.getAttribute("start")||"1")||1;return t.previousSibling||o===1?{}:{start:o}}return!1},getContent:(t,e)=>lS(t,e,this.name),priority:300,node:"numberedListItem"}]},renderHTML({HTMLAttributes:t}){var e,n;return ro(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Dee=Ro(Oee,K6),Lee={...rt},jee=vn({name:"paragraph",content:"inline*",group:"blockContent",addKeyboardShortcuts(){return{"Mod-Alt-0":()=>{const t=Ye(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(t.bnBlock.beforePos,{type:"paragraph",props:{}}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"p",getAttrs:t=>{var e;return typeof t=="string"||!((e=t.textContent)!=null&&e.trim())?!1:{}},node:"paragraph"}]},renderHTML({HTMLAttributes:t}){var e,n;return ro(this.name,"p",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Bee=Ro(jee,Lee),$ee={...rt},zee=vn({name:"quote",content:"inline*",group:"blockContent",addInputRules(){return[new xs({find:new RegExp("^>\\s$"),handler:({state:t,chain:e,range:n})=>{const o=Ye(t);!o.isBlockContainer||o.blockContent.node.type.spec.content!=="inline*"||e().command(en(o.bnBlock.beforePos,{type:"quote",props:{}})).deleteRange({from:n.from,to:n.to})}})]},addKeyboardShortcuts(){return{"Mod-Alt-q":()=>{const t=Ye(this.editor.state);return!t.isBlockContainer||t.blockContent.node.type.spec.content!=="inline*"?!0:this.editor.commands.command(en(t.bnBlock.beforePos,{type:"quote"}))}}},parseHTML(){return[{tag:"div[data-content-type="+this.name+"]",contentElement:".bn-inline-content"},{tag:"blockquote",node:"quote"}]},renderHTML({HTMLAttributes:t}){var e,n;return ro(this.name,"blockquote",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})}}),Pee=Ro(zee,$ee),Iee=35,aS=120,Hee=31,Vee=Be.create({name:"BlockNoteTableExtension",addProseMirrorPlugins:()=>[GK({cellMinWidth:Iee,defaultCellMinWidth:aS,View:null}),nW()],addKeyboardShortcuts(){return{Enter:()=>this.editor.state.selection.empty&&this.editor.state.selection.$head.parent.type.name==="tableParagraph"?(this.editor.commands.insertContent({type:"hardBreak"}),!0):!1,Backspace:()=>{const t=this.editor.state.selection,e=t.empty,n=t.$head.parentOffset===0,o=t.$head.node().type.name==="tableParagraph";return e&&n&&o},Tab:()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>VM(1)(t,e,n)),"Shift-Tab":()=>this.editor.commands.command(({state:t,dispatch:e,view:n})=>VM(-1)(t,e,n))}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:me(K(t,"tableRole",e))}}}),Uee={textColor:rt.textColor},Fee=vn({name:"table",content:"tableRow+",group:"blockContent",tableRole:"table",marks:"deletion insertion modification",isolating:!0,parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:t}){var e,n;return ro(this.name,"table",{...((e=this.options.domAttributes)==null?void 0:e.blockContent)||{},...t},((n=this.options.domAttributes)==null?void 0:n.inlineContent)||{})},addNodeView(){return({node:t,HTMLAttributes:e})=>{var n;class o extends WD{constructor(i,s,l){super(i,s),this.node=i,this.cellMinWidth=s,this.blockContentHTMLAttributes=l;const a=document.createElement("div");a.className=qe("bn-block-content",l.class),a.setAttribute("data-content-type","table");for(const[f,h]of Object.entries(l))f!=="class"&&a.setAttribute(f,h);const c=this.dom,u=document.createElement("div");u.className="tableWrapper-inner",u.appendChild(c.firstChild),c.appendChild(u),a.appendChild(c);const d=document.createElement("div");d.className="table-widgets-container",d.style.position="relative",c.appendChild(d),this.dom=a}ignoreMutation(i){return!i.target.closest(".tableWrapper-inner")||super.ignoreMutation(i)}}return new o(t,aS,{...((n=this.options.domAttributes)==null?void 0:n.blockContent)||{},...e})}}}),qee=vn({name:"tableParagraph",group:"tableContent",content:"inline*",parseHTML(){return[{tag:"p",getAttrs:t=>{if(typeof t=="string"||!t.textContent||!t.closest("[data-content-type]"))return!1;const e=t.parentElement;return e===null?!1:e.tagName==="TD"||e.tagName==="TH"?{}:!1},node:"tableParagraph"}]},renderHTML({HTMLAttributes:t}){return["p",t,0]}}),Gee=Or.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)+",tableRole:"row",marks:"deletion insertion modification",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",no(this.options.HTMLAttributes,t),0]}});function ZT(t,e){const n=ui.fromSchema(e).parse(t,{topNode:e.nodes.blockGroup.create()}),o=[];return n.content.descendants(r=>{if(r.isInline)return o.push(r),!1}),D.fromArray(o)}const Zee=Ro(Fee,Uee,[Vee,qee,sK.extend({content:"tableContent+",parseHTML(){return[{tag:"th",getContent:(t,e)=>ZT(t,e)}]}}),iK.extend({content:"tableContent+",parseHTML(){return[{tag:"td",getContent:(t,e)=>ZT(t,e)}]}}),Gee]),KT=t=>{const e=t.src||void 0,n=t.width||void 0;return{url:e,previewWidth:n}},Kee='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"></path></svg>',Wee={textAlignment:rt.textAlignment,backgroundColor:rt.backgroundColor,name:{default:""},url:{default:""},caption:{default:""},showPreview:{default:!0},previewWidth:{default:void 0,type:"number"}},W6={type:"video",propSchema:Wee,content:"none",isFileBlock:!0,fileBlockAccept:["video/*"]},Yee=(t,e)=>{const n=document.createElement("div");n.innerHTML=Kee;const o=document.createElement("div");o.className="bn-visual-media-wrapper";const r=document.createElement("video");return r.className="bn-visual-media",e.resolveFileUrl?e.resolveFileUrl(t.props.url).then(i=>{r.src=i}):r.src=t.props.url,r.controls=!0,r.contentEditable="false",r.draggable=!1,r.width=t.props.previewWidth,o.appendChild(r),U6(t,e,{dom:o},o,e.dictionary.file_blocks.video.add_button_text,n.firstElementChild)},Y6=t=>{if(t.tagName==="VIDEO")return t.closest("figure")?void 0:KT(t);if(t.tagName==="FIGURE"){const e=Qb(t,"video");if(!e)return;const{targetElement:n,caption:o}=e;return{...KT(n),caption:o}}},Xee=t=>{if(!t.props.url){const n=document.createElement("p");return n.textContent="Add video",{dom:n}}let e;return t.props.showPreview?(e=document.createElement("video"),e.src=t.props.url,t.props.previewWidth&&(e.width=t.props.previewWidth)):(e=document.createElement("a"),e.href=t.props.url,e.textContent=t.props.name||t.props.url),t.props.caption?t.props.showPreview?sS(e,t.props.caption):ey(e,t.props.caption):{dom:e}},Jee=ru(W6,{render:Yee,parse:Y6,toExternalHTML:Xee}),af={paragraph:Bee,heading:gee,quote:Pee,codeBlock:ree,toggleListItem:See,bulletListItem:Mee,numberedListItem:Dee,checkListItem:Aee,table:Zee,file:fee,image:kee,video:Jee,audio:tee},Qee=v6(af),cf={bold:rl(GZ,"boolean"),italic:rl(eK,"boolean"),underline:rl(rK,"boolean"),strike:rl(oK,"boolean"),code:rl(WZ,"boolean"),textColor:aee,backgroundColor:see};_6(cf);const kg={text:{config:"text",implementation:{}},link:{config:"link",implementation:{}}},ete=S6(kg);function Kt(t,e){return t in e.schema.blockSchema&&e.schema.blockSchema[t]===Qee[t]}function tte(t,e){return t in e.schema.inlineContentSchema&&e.schema.inlineContentSchema[t]===ete[t]}function nte(t,e,n){return e.type===t&&e.type in n.schema.blockSchema&&Kt(e.type,n)}function Kf(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock||!1}function ote(t,e){return t.type in e.schema.blockSchema&&e.schema.blockSchema[t.type].isFileBlock&&"showPreview"in e.schema.blockSchema[t.type].propSchema||!1}function Wf(t,e){return e.schema.blockSchema[t.type].isFileBlock&&!t.props.url}function Ia(t,e,n){return e in n.schema.blockSchema&&t in n.schema.blockSchema[e].propSchema&&n.schema.blockSchema[e].propSchema[t]===rt[t]}function Hw(t,e,n){return Ia(t,e.type,n)}function Vw(t){return t instanceof je}function rte(t){let e=t.getTextCursorPosition().block,n=t.schema.blockSchema[e.type].content;for(;n==="none";){if(e=t.getTextCursorPosition().nextBlock,e===void 0)return;n=t.schema.blockSchema[e.type].content,t.setTextCursorPosition(e,"end")}}function lt(t,e){const n=t.getTextCursorPosition().block;if(n.content===void 0)throw new Error("Slash Menu open in a block that doesn't contain content.");let o;return Array.isArray(n.content)&&(n.content.length===1&&Vl(n.content[0])&&n.content[0].type==="text"&&n.content[0].text==="/"||n.content.length===0)?(o=t.updateBlock(n,e),t.setTextCursorPosition(o)):(o=t.insertBlocks([e],n,"after")[0],t.setTextCursorPosition(t.getTextCursorPosition().nextBlock)),rte(t),o}function ite(t){const e=[];return Kt("heading",t)&&e.push({onItemClick:()=>{lt(t,{type:"heading",props:{level:1}})},badge:Vn("Mod-Alt-1"),key:"heading",...t.dictionary.slash_menu.heading},{onItemClick:()=>{lt(t,{type:"heading",props:{level:2}})},badge:Vn("Mod-Alt-2"),key:"heading_2",...t.dictionary.slash_menu.heading_2},{onItemClick:()=>{lt(t,{type:"heading",props:{level:3}})},badge:Vn("Mod-Alt-3"),key:"heading_3",...t.dictionary.slash_menu.heading_3}),Kt("quote",t)&&e.push({onItemClick:()=>{lt(t,{type:"quote"})},key:"quote",...t.dictionary.slash_menu.quote}),Kt("toggleListItem",t)&&e.push({onItemClick:()=>{lt(t,{type:"toggleListItem"})},badge:Vn("Mod-Shift-6"),key:"toggle_list",...t.dictionary.slash_menu.toggle_list}),Kt("numberedListItem",t)&&e.push({onItemClick:()=>{lt(t,{type:"numberedListItem"})},badge:Vn("Mod-Shift-7"),key:"numbered_list",...t.dictionary.slash_menu.numbered_list}),Kt("bulletListItem",t)&&e.push({onItemClick:()=>{lt(t,{type:"bulletListItem"})},badge:Vn("Mod-Shift-8"),key:"bullet_list",...t.dictionary.slash_menu.bullet_list}),Kt("checkListItem",t)&&e.push({onItemClick:()=>{lt(t,{type:"checkListItem"})},badge:Vn("Mod-Shift-9"),key:"check_list",...t.dictionary.slash_menu.check_list}),Kt("paragraph",t)&&e.push({onItemClick:()=>{lt(t,{type:"paragraph"})},badge:Vn("Mod-Alt-0"),key:"paragraph",...t.dictionary.slash_menu.paragraph}),Kt("codeBlock",t)&&e.push({onItemClick:()=>{lt(t,{type:"codeBlock"})},badge:Vn("Mod-Alt-c"),key:"code_block",...t.dictionary.slash_menu.code_block}),Kt("table",t)&&e.push({onItemClick:()=>{lt(t,{type:"table",content:{type:"tableContent",rows:[{cells:["","",""]},{cells:["","",""]}]}})},badge:void 0,key:"table",...t.dictionary.slash_menu.table}),Kt("image",t)&&e.push({onItemClick:()=>{const n=lt(t,{type:"image"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"image",...t.dictionary.slash_menu.image}),Kt("video",t)&&e.push({onItemClick:()=>{const n=lt(t,{type:"video"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"video",...t.dictionary.slash_menu.video}),Kt("audio",t)&&e.push({onItemClick:()=>{const n=lt(t,{type:"audio"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"audio",...t.dictionary.slash_menu.audio}),Kt("file",t)&&e.push({onItemClick:()=>{const n=lt(t,{type:"file"});t.transact(o=>o.setMeta(t.filePanel.plugins[0],{block:n}))},key:"file",...t.dictionary.slash_menu.file}),Kt("heading",t)&&(e.push({onItemClick:()=>{lt(t,{type:"heading",props:{level:1,isToggleable:!0}})},key:"toggle_heading",...t.dictionary.slash_menu.toggle_heading},{onItemClick:()=>{lt(t,{type:"heading",props:{level:2,isToggleable:!0}})},key:"toggle_heading_2",...t.dictionary.slash_menu.toggle_heading_2},{onItemClick:()=>{lt(t,{type:"heading",props:{level:3,isToggleable:!0}})},key:"toggle_heading_3",...t.dictionary.slash_menu.toggle_heading_3}),t.settings.heading.levels.filter(n=>n>3).forEach(n=>{e.push({onItemClick:()=>{lt(t,{type:"heading",props:{level:n}})},key:`heading_${n}`,...t.dictionary.slash_menu[`heading_${n}`]})})),e.push({onItemClick:()=>{t.openSuggestionMenu(":",{deleteTriggerCharacter:!0,ignoreQueryLength:!0})},key:"emoji",...t.dictionary.slash_menu.emoji}),e}function X6(t,e){return t.filter(({title:n,aliases:o})=>n.toLowerCase().includes(e.toLowerCase())||o&&o.filter(r=>r.toLowerCase().includes(e.toLowerCase())).length!==0)}function u1(t){return t&&Object.fromEntries(Object.entries(t).filter(([,e])=>e!==void 0))}let su=class J6{constructor(e){A(this,"blockSpecs"),A(this,"inlineContentSpecs"),A(this,"styleSpecs"),A(this,"blockSchema"),A(this,"inlineContentSchema"),A(this,"styleSchema"),A(this,"BlockNoteEditor","only for types"),A(this,"Block","only for types"),A(this,"PartialBlock","only for types"),this.blockSpecs=u1(e==null?void 0:e.blockSpecs)||af,this.inlineContentSpecs=u1(e==null?void 0:e.inlineContentSpecs)||kg,this.styleSpecs=u1(e==null?void 0:e.styleSpecs)||cf,this.blockSchema=v6(this.blockSpecs),this.inlineContentSchema=S6(this.inlineContentSpecs),this.styleSchema=_6(this.styleSpecs)}static create(e){return new J6(e)}};const ste={type:"pageBreak",propSchema:{},content:"none",isFileBlock:!1,isSelectable:!1},lte=()=>{const t=document.createElement("div");return t.className="bn-page-break",t.setAttribute("data-page-break",""),{dom:t}},ate=t=>{if(t.tagName==="DIV"&&t.hasAttribute("data-page-break"))return{type:"pageBreak"}},cte=()=>{const t=document.createElement("div");return t.setAttribute("data-page-break",""),{dom:t}},ute=ru(ste,{render:lte,parse:ate,toExternalHTML:cte});su.create({blockSpecs:{pageBreak:ute}});function dte(t){return t.transact(e=>{const n=Sr(e.doc,e.selection.anchor);if(e.selection instanceof je)return{type:"cell",anchorBlockId:n.node.attrs.id,anchorCellOffset:e.selection.$anchorCell.pos-n.posBeforeNode,headCellOffset:e.selection.$headCell.pos-n.posBeforeNode};if(e.selection instanceof W)return{type:"node",anchorBlockId:n.node.attrs.id};{const o=Sr(e.doc,e.selection.head);return{type:"text",anchorBlockId:n.node.attrs.id,headBlockId:o.node.attrs.id,anchorOffset:e.selection.anchor-n.posBeforeNode,headOffset:e.selection.head-o.posBeforeNode}}})}function fte(t,e){var n,o;const r=(n=gn(e.anchorBlockId,t.doc))==null?void 0:n.posBeforeNode;if(r===void 0)throw new Error(`Could not find block with ID ${e.anchorBlockId} to update selection`);let i;if(e.type==="cell")i=je.create(t.doc,r+e.anchorCellOffset,r+e.headCellOffset);else if(e.type==="node")i=W.create(t.doc,r+1);else{const s=(o=gn(e.headBlockId,t.doc))==null?void 0:o.posBeforeNode;if(s===void 0)throw new Error(`Could not find block with ID ${e.headBlockId} to update selection`);i=Z.create(t.doc,r+e.anchorOffset,s+e.headOffset)}t.setSelection(i)}function Uw(t){return t.map(e=>e.type==="columnList"?e.children.map(n=>Uw(n.children)).flat():{...e,children:Uw(e.children)}).flat()}function Q6(t,e,n){t.transact(o=>{var r;const i=((r=t.getSelection())==null?void 0:r.blocks)||[t.getTextCursorPosition().block],s=dte(t);t.removeBlocks(i),t.insertBlocks(Uw(i),e,n),fte(o,s)})}function e8(t){return!t||t.type!=="columnList"}function t8(t,e,n){let o,r;if(e?e.children.length>0?(o=e.children[e.children.length-1],r="after"):(o=e,r="before"):n&&(o=n,r="before"),!o||!r)return;const i=t.getParentBlock(o);return e8(i)?{referenceBlock:o,placement:r}:t8(t,r==="after"?o:t.getPrevBlock(o),i)}function n8(t,e,n){let o,r;if(e?e.children.length>0?(o=e.children[0],r="before"):(o=e,r="after"):n&&(o=n,r="after"),!o||!r)return;const i=t.getParentBlock(o);return e8(i)?{referenceBlock:o,placement:r}:n8(t,r==="before"?o:t.getNextBlock(o),i)}function hte(t){t.transact(()=>{const e=t.getSelection(),n=(e==null?void 0:e.blocks[0])||t.getTextCursorPosition().block,o=t8(t,t.getPrevBlock(n),t.getParentBlock(n));o&&Q6(t,o.referenceBlock,o.placement)})}function pte(t){t.transact(()=>{const e=t.getSelection(),n=(e==null?void 0:e.blocks[(e==null?void 0:e.blocks.length)-1])||t.getTextCursorPosition().block,o=n8(t,t.getNextBlock(n),t.getParentBlock(n));o&&Q6(t,o.referenceBlock,o.placement)})}function mte(t,e,n){const{$from:o,$to:r}=t.selection,i=o.blockRange(r,h=>h.childCount>0&&(h.type.name==="blockGroup"||h.type.name==="column"));if(!i)return!1;const s=i.startIndex;if(s===0)return!1;const l=i.parent.child(s-1);if(l.type!==e)return!1;const a=l.lastChild&&l.lastChild.type===n,c=D.from(a?e.create():null),u=new H(D.from(e.create(null,D.from(n.create(null,c)))),a?3:1,0),d=i.start,f=i.end;return t.step(new gt(d-(a?3:1),f,d,f,u,1,!0)).scrollIntoView(),!0}function o8(t){return t.transact(e=>mte(e,t.pmSchema.nodes.blockContainer,t.pmSchema.nodes.blockGroup))}function gte(t){t._tiptapEditor.commands.liftListItem("blockContainer")}function bte(t){return t.transact(e=>{const{bnBlock:n}=Wb(e);return e.doc.resolve(n.beforePos).nodeBefore!==null})}function yte(t){return t.transact(e=>{const{bnBlock:n}=Wb(e);return e.doc.resolve(n.beforePos).depth>1})}function vte(t,e){const n=typeof e=="string"?e:e.id,o=$t(t),r=gn(n,t);if(r)return Ge(r.node,o)}function wte(t,e){const n=typeof e=="string"?e:e.id,o=gn(n,t),r=$t(t);if(!o)return;const i=t.resolve(o.posBeforeNode).nodeBefore;if(i)return Ge(i,r)}function kte(t,e){const n=typeof e=="string"?e:e.id,o=gn(n,t),r=$t(t);if(!o)return;const i=t.resolve(o.posBeforeNode+o.node.nodeSize).nodeAfter;if(i)return Ge(i,r)}function xte(t,e){const n=typeof e=="string"?e:e.id,o=$t(t),r=gn(n,t);if(!r)return;const i=t.resolve(r.posBeforeNode),s=i.node(),l=i.node(-1),a=l.type.name!=="doc"?s.type.name==="blockGroup"?l:s:void 0;if(a)return Ge(a,o)}function Cte(t,e,n,o={updateSelection:!0}){let{from:r,to:i}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},s=!0,l=!0,a="";if(n.forEach(c=>{c.check(),s&&c.isText&&c.marks.length===0?a+=c.text:s=!1,l=l?c.isBlock:!1}),r===i&&l){const{parent:c}=t.doc.resolve(r);c.isTextblock&&!c.type.spec.code&&!c.childCount&&(r-=1,i+=1)}return s?t.insertText(a,r,i):t.replaceWith(r,i,n),o.updateSelection&&ED(t,t.steps.length-1,-1),!0}function Ste(t){const e=$t(t);if(t.selection.empty||"node"in t.selection)return;const n=t.doc.resolve(Sr(t.doc,t.selection.from).posBeforeNode),o=t.doc.resolve(Sr(t.doc,t.selection.to).posBeforeNode),r=(c,u)=>{const d=n.posAtIndex(c,u),f=t.doc.resolve(d).nodeAfter;if(!f)throw new Error(`Error getting selection - node not found at position ${d}`);return Ge(f,e)},i=[],s=n.sharedDepth(o.pos),l=n.index(s),a=o.index(s);if(n.depth>s){i.push(Ge(n.nodeAfter,e));for(let c=n.depth;c>s;c--)if(n.node(c).type.isInGroup("childContainer")){const u=n.index(c)+1,d=n.node(c).childCount;for(let f=u;f<d;f++)i.push(r(f,c))}}else i.push(r(l,s));for(let c=l+1;c<=a;c++)i.push(r(c,s));if(i.length===0)throw new Error(`Error getting selection - selection doesn't span any blocks (${t.selection})`);return{blocks:i}}function _te(t,e,n){const o=typeof e=="string"?e:e.id,r=typeof n=="string"?n:n.id,i=$t(t),s=Zf(i);if(o===r)throw new Error(`Attempting to set selection with the same anchor and head blocks (id ${o})`);const l=gn(o,t.doc);if(!l)throw new Error(`Block with ID ${o} not found`);const a=gn(r,t.doc);if(!a)throw new Error(`Block with ID ${r} not found`);const c=ki(l),u=ki(a),d=s.blockSchema[c.blockNoteType],f=s.blockSchema[u.blockNoteType];if(!c.isBlockContainer||d.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${o})`);if(!u.isBlockContainer||f.content==="none")throw new Error(`Attempting to set selection anchor in block without content (id ${r})`);let h,p;if(d.content==="table"){const m=Qe.get(c.blockContent.node);h=c.blockContent.beforePos+m.positionAt(0,0,c.blockContent.node)+1+2}else h=c.blockContent.beforePos+1;if(f.content==="table"){const m=Qe.get(u.blockContent.node),b=u.blockContent.beforePos+m.positionAt(m.height-1,m.width-1,u.blockContent.node)+1,y=t.doc.resolve(b).nodeAfter.nodeSize;p=b+y-2}else p=u.blockContent.afterPos-1;t.setSelection(Z.create(t.doc,h,p))}function Ete(t){const e=$t(t);let n=t.selection.$from,o=t.selection.$to;for(;o.parentOffset>=o.parent.nodeSize-2&&o.depth>0;)o=t.doc.resolve(o.pos+1);for(;o.parentOffset===0&&o.depth>0;)o=t.doc.resolve(o.pos-1);for(;n.parentOffset===0&&n.depth>0;)n=t.doc.resolve(n.pos-1);for(;n.parentOffset>=n.parent.nodeSize-2&&n.depth>0;)n=t.doc.resolve(n.pos+1);const r=AQ(t.doc.slice(n.pos,o.pos,!0),e);return{_meta:{startPos:n.pos,endPos:o.pos},...r}}function Mte(t){const{bnBlock:e}=Wb(t),n=$t(t.doc),o=t.doc.resolve(e.beforePos),r=o.nodeBefore,i=t.doc.resolve(e.afterPos).nodeAfter;let s;return o.depth>1&&(s=o.node(),s.type.isInGroup("bnBlock")||(s=o.node(o.depth-1))),{block:Ge(e.node,n),prevBlock:r===null?void 0:Ge(r,n),nextBlock:i===null?void 0:Ge(i,n),parentBlock:s===void 0?void 0:Ge(s,n)}}function r8(t,e,n="start"){const o=typeof e=="string"?e:e.id,r=$t(t.doc),i=Zf(r),s=gn(o,t.doc);if(!s)throw new Error(`Block with ID ${o} not found`);const l=ki(s),a=i.blockSchema[l.blockNoteType].content;if(l.isBlockContainer){const c=l.blockContent;if(a==="none"){t.setSelection(W.create(t.doc,c.beforePos));return}if(a==="inline")n==="start"?t.setSelection(Z.create(t.doc,c.beforePos+1)):t.setSelection(Z.create(t.doc,c.afterPos-1));else if(a==="table")n==="start"?t.setSelection(Z.create(t.doc,c.beforePos+4)):t.setSelection(Z.create(t.doc,c.afterPos-4));else throw new Cr(a)}else{const c=n==="start"?l.childContainer.node.firstChild:l.childContainer.node.lastChild;r8(t,c.attrs.id,n)}}let Ha;async function cS(){if(Ha)return Ha;const t=await Promise.all([Cn(()=>import("./index-zmo21ssV.js"),__vite__mapDeps([0,1,2,3,4,5])),Cn(()=>import("./index-5Zz36bbo.js"),__vite__mapDeps([6,4,7,8,9])),Cn(()=>import("./index-O4_y2vqi.js"),__vite__mapDeps([10,1,2])),Cn(()=>import("./index-CfyObm-o.js"),__vite__mapDeps([11,5,4])),Cn(()=>import("./index-CS_xzTwR.js"),__vite__mapDeps([12,13,14,15,9,16,17,18])),Cn(()=>import("./index-BuQLf8Am.js"),__vite__mapDeps([19,20,21,22,8,3,15,23,17,18,16])),Cn(()=>import("./index--n2O05f-.js"),__vite__mapDeps([24,7,23,22,21,17,15,18,16,25])),Cn(()=>import("./index-BxE2facF.js"),__vite__mapDeps([26,25,20,21,22,2,18])),Cn(()=>import("./index-DoJwJBw7.js"),__vite__mapDeps([27,13,21,17,15])),Cn(()=>import("./index-BCPnb1JI.js"),__vite__mapDeps([28,14,15,9]))]);return Ha={rehypeParse:t[0],rehypeStringify:t[1],unified:t[2],hastUtilFromDom:t[3],rehypeRemark:t[4],remarkGfm:t[5],remarkStringify:t[6],remarkParse:t[7],remarkRehype:t[8],rehypeFormat:t[9]},Ha}function Tte(){const t=e=>{let n=e.children.length;for(let o=0;o<n;o++){const r=e.children[o];if(r.type==="element"&&(t(r),r.tagName==="u"))if(r.children.length>0){e.children.splice(o,1,...r.children);const i=r.children.length-1;n+=i,o+=i}else e.children.splice(o,1),n--,o--}};return t}function Ate(){const t=Ha;if(!t)throw new Error("addSpacesToCheckboxes requires ESM dependencies to be initialized");const e=n=>{var o;if(n.children&&"length"in n.children&&n.children.length)for(let r=n.children.length-1;r>=0;r--){const i=n.children[r],s=r+1<n.children.length?n.children[r+1]:void 0;i.type==="element"&&i.tagName==="input"&&((o=i.properties)==null?void 0:o.type)==="checkbox"&&(s==null?void 0:s.type)==="element"&&s.tagName==="p"?(s.tagName="span",s.children.splice(0,0,t.hastUtilFromDom.fromDom(document.createTextNode(" ")))):e(i)}};return e}function uS(t){const e=Ha;if(!e)throw new Error("cleanHTMLToMarkdown requires ESM dependencies to be initialized");return e.unified.unified().use(e.rehypeParse.default,{fragment:!0}).use(Tte).use(Ate).use(e.rehypeRemark.default).use(e.remarkGfm.default).use(e.remarkStringify.default,{handlers:{text:n=>n.value}}).processSync(t).value}async function Nte(t,e,n,o){await cS();const r=Jb(e,n).exportBlocks(t,o);return uS(r)}function Rte(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function Ote(t){return t.nodeType===3&&!/\S/.test(t.nodeValue||"")}function Dte(t){t.querySelectorAll("li > ul, li > ol").forEach(e=>{const n=Rte(e),o=e.parentElement,r=Array.from(o.childNodes).slice(n+1);e.remove(),r.forEach(i=>{i.remove()}),o.insertAdjacentElement("afterend",e),r.reverse().forEach(i=>{if(Ote(i))return;const s=document.createElement("li");s.append(i),e.insertAdjacentElement("afterend",s)}),o.childNodes.length===0&&o.remove()})}function Lte(t){t.querySelectorAll("li + ul, li + ol").forEach(e=>{var n,o;const r=e.previousElementSibling,i=document.createElement("div");r.insertAdjacentElement("afterend",i),i.append(r);const s=document.createElement("div");for(s.setAttribute("data-node-type","blockGroup"),i.append(s);((n=i.nextElementSibling)==null?void 0:n.nodeName)==="UL"||((o=i.nextElementSibling)==null?void 0:o.nodeName)==="OL";)s.append(i.nextElementSibling)})}let WT=null;function jte(){return WT||(WT=document.implementation.createHTMLDocument("title"))}function i8(t){if(typeof t=="string"){const e=jte().createElement("div");e.innerHTML=t,t=e}return Dte(t),Lte(t),t}async function s8(t,e){const n=i8(t),o=ui.fromSchema(e).parse(n,{topNode:e.nodes.blockGroup.create()}),r=[];for(let i=0;i<o.childCount;i++)r.push(Ge(o.child(i),e));return r}function Bte(t,e){const n=e.value?e.value:"",o={};e.lang&&(o["data-language"]=e.lang);let r={type:"element",tagName:"code",properties:o,children:[{type:"text",value:n}]};return e.meta&&(r.data={meta:e.meta}),t.patch(e,r),r=t.applyData(e,r),r={type:"element",tagName:"pre",properties:{},children:[r]},t.patch(e,r),r}async function l8(t){const e=await cS();return e.unified.unified().use(e.remarkParse.default).use(e.remarkGfm.default).use(e.remarkRehype.default,{handlers:{...e.remarkRehype.defaultHandlers,code:Bte}}).use(e.rehypeStringify.default).processSync(t).value}async function $te(t,e){const n=await l8(t);return s8(n,e)}const dS=["vscode-editor-data","blocknote/html","text/markdown","text/html","text/plain","Files"];function zte(t,e){if(!t.startsWith(".")||!e.startsWith("."))throw new Error("The strings provided are not valid file extensions.");return t===e}function Pte(t,e){const n=t.split("/"),o=e.split("/");if(n.length!==2)throw new Error(`The string ${t} is not a valid MIME type.`);if(o.length!==2)throw new Error(`The string ${e} is not a valid MIME type.`);return n[1]==="*"||o[1]==="*"?n[0]===o[0]:(n[0]==="*"||o[0]==="*"||n[0]===o[0])&&n[1]===o[1]}function YT(t,e,n){let o;return Array.isArray(e.content)&&e.content.length===0?o=t.updateBlock(e,n).id:o=t.insertBlocks([n],e,"after")[0].id,o}async function a8(t,e){var n;if(!e.uploadFile){console.warn("Attempted ot insert file, but uploadFile is not set in the BlockNote editor options");return}const o="dataTransfer"in t?t.dataTransfer:t.clipboardData;if(o===null)return;let r=null;for(const l of dS)if(o.types.includes(l)){r=l;break}if(r!=="Files")return;const i=o.items;if(!i)return;t.preventDefault();const s=Object.values(e.schema.blockSchema).filter(l=>l.isFileBlock);for(let l=0;l<i.length;l++){let a="file";for(const u of s)for(const d of u.fileBlockAccept||[]){const f=d.startsWith("."),h=i[l].getAsFile();if(h&&(!f&&h.type&&Pte(i[l].type,d)||f&&zte("."+h.name.split(".").pop(),d))){a=u.type;break}}const c=i[l].getAsFile();if(c){const u={type:a,props:{name:c.name}};let d;if(t.type==="paste"){const p=e.getTextCursorPosition().block;d=YT(e,p,u)}else if(t.type==="drop"){const p={left:t.clientX,top:t.clientY},m=(n=e.prosemirrorView)==null?void 0:n.posAtCoords(p);if(!m)return;d=e.transact(b=>{const y=Sr(b.doc,m.pos);return YT(e,e.getBlock(y.node.attrs.id),u)})}else return;const f=await e.uploadFile(c,d),h=typeof f=="string"?{props:{url:f}}:{...f};e.updateBlock(d,h)}}}const Ite=t=>Be.create({name:"dropFile",addProseMirrorPlugins(){return[new le({props:{handleDOMEvents:{drop(e,n){if(!t.isEditable)return;let o=null;for(const r of dS)if(n.dataTransfer.types.includes(r)){o=r;break}return o===null?!0:o==="Files"?(a8(n,t),!0):!1}}}})]}}),Hte=/(^|\n) {0,3}#{1,6} {1,8}[^\n]{1,64}\r?\n\r?\n\s{0,32}\S/,Vte=/(_|__|\*|\*\*|~~|==|\+\+)(?!\s)(?:[^\s](?:.{0,62}[^\s])?|\S)(?=\1)/,Ute=/\[[^\]]{1,128}\]\(https?:\/\/\S{1,999}\)/,Fte=/(?:\s|^)`(?!\s)(?:[^\s`](?:[^`]{0,46}[^\s`])?|[^\s`])`([^\w]|$)/,qte=/(?:^|\n)\s{0,5}-\s{1}[^\n]+\n\s{0,15}-\s/,Gte=/(?:^|\n)\s{0,5}\d+\.\s{1}[^\n]+\n\s{0,15}\d+\.\s/,Zte=/\n{2} {0,3}-{2,48}\n{2}/,Kte=/(?:\n|^)(```|~~~|\$\$)(?!`|~)[^\s]{0,64} {0,64}[^\n]{0,64}\n[\s\S]{0,9999}?\s*\1 {0,64}(?:\n+|$)/,Wte=/(?:\n|^)(?!\s)\w[^\n]{0,64}\r?\n(-|=)\1{0,64}\n\n\s{0,64}(\w|$)/,Yte=/(?:^|(\r?\n\r?\n))( {0,3}>[^\n]{1,333}\n){1,999}($|(\r?\n))/,Xte=/^\s*\|(.+\|)+\s*$/m,Jte=/^\s*\|(\s*[-:]+[-:]\s*\|)+\s*$/m,Qte=/^\s*\|(.+\|)+\s*$/m,ene=t=>Hte.test(t)||Vte.test(t)||Ute.test(t)||Fte.test(t)||qte.test(t)||Gte.test(t)||Zte.test(t)||Kte.test(t)||Wte.test(t)||Yte.test(t)||Xte.test(t)||Jte.test(t)||Qte.test(t);async function tne(t,e){const{schema:n}=e.state;if(!t.clipboardData)return!1;const o=t.clipboardData.getData("text/plain");if(!o)return!1;if(!n.nodes.codeBlock)return e.pasteText(o),!0;const r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;return s?(e.pasteHTML(`<pre><code class="language-${s}">${o.replace(/\r\n?/g,`
`)}</code></pre>`),!0):!1}function nne({event:t,editor:e,prioritizeMarkdownOverHTML:n,plainTextAsMarkdown:o}){var r;if(e.transact(l=>l.selection.$from.parent.type.spec.code&&l.selection.$to.parent.type.spec.code)){const l=(r=t.clipboardData)==null?void 0:r.getData("text/plain");if(l)return e.pasteText(l),!0}let i;for(const l of dS)if(t.clipboardData.types.includes(l)){i=l;break}if(!i)return!0;if(i==="vscode-editor-data")return tne(t,e.prosemirrorView),!0;if(i==="Files")return a8(t,e),!0;const s=t.clipboardData.getData(i);if(i==="blocknote/html")return e.pasteHTML(s,!0),!0;if(i==="text/markdown")return e.pasteMarkdown(s),!0;if(n){const l=t.clipboardData.getData("text/plain");if(ene(l))return e.pasteMarkdown(l),!0}return i==="text/html"?(e.pasteHTML(s),!0):o?(e.pasteMarkdown(s),!0):(e.pasteText(s),!0)}const one=(t,e)=>Be.create({name:"pasteFromClipboard",addProseMirrorPlugins(){return[new le({props:{handleDOMEvents:{paste(n,o){if(o.preventDefault(),!!t.isEditable)return e({event:o,editor:t,defaultPasteHandler:({prioritizeMarkdownOverHTML:r=!0,plainTextAsMarkdown:i=!0}={})=>nne({event:o,editor:t,prioritizeMarkdownOverHTML:r,plainTextAsMarkdown:i})})}}}})]}});function c8(t){const e=[];return t.descendants(n=>{var o,r;const i=$t(n);return n.type.name==="blockContainer"&&((o=n.firstChild)==null?void 0:o.type.name)==="blockGroup"?!0:n.type.name==="columnList"&&n.childCount===1?((r=n.firstChild)==null||r.forEach(s=>{e.push(Ge(s,i))}),!1):n.type.isInGroup("bnBlock")?(e.push(Ge(n,i)),!1):!0}),e}function rne(t,e,n){var o;let r=!1;const i=t.state.selection instanceof je;if(!i){const a=t.state.doc.slice(t.state.selection.from,t.state.selection.to,!1).content,c=[];for(let u=0;u<a.childCount;u++)c.push(a.child(u));r=c.find(u=>u.type.isInGroup("bnBlock")||u.type.name==="blockGroup"||u.type.spec.group==="blockContent")===void 0,r&&(e=a)}let s;const l=Jb(t.state.schema,n);if(i){((o=e.firstChild)==null?void 0:o.type.name)==="table"&&(e=e.firstChild.content);const a=C6(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=`<table>${l.exportInlineContent(a,{})}</table>`}else if(r){const a=Yb(e,n.schema.inlineContentSchema,n.schema.styleSchema);s=l.exportInlineContent(a,{})}else{const a=c8(e);s=l.exportBlocks(a,{})}return s}function u8(t,e){"node"in t.state.selection&&t.state.selection.node.type.spec.group==="blockContent"&&e.transact(s=>s.setSelection(new W(s.doc.resolve(t.state.selection.from-1))));const n=t.serializeForClipboard(t.state.selection.content()).dom.innerHTML,o=t.state.selection.content().content,r=rne(t,o,e),i=uS(r);return{clipboardHTML:n,externalHTML:r,markdown:i}}const XT=()=>{const t=window.getSelection();if(!t||t.isCollapsed)return!0;let e=t.focusNode;for(;e;){if(e instanceof HTMLElement&&e.getAttribute("contenteditable")==="false")return!0;e=e.parentElement}return!1},JT=(t,e,n)=>{n.preventDefault(),n.clipboardData.clearData();const{clipboardHTML:o,externalHTML:r,markdown:i}=u8(e,t);n.clipboardData.setData("blocknote/html",o),n.clipboardData.setData("text/html",r),n.clipboardData.setData("text/plain",i)},ine=t=>Be.create({name:"copyToClipboard",addProseMirrorPlugins(){return[new le({props:{handleDOMEvents:{copy(e,n){return XT()||JT(t,e,n),!0},cut(e,n){return XT()||(JT(t,e,n),e.editable&&e.dispatch(e.state.tr.deleteSelection())),!0},dragstart(e,n){if(!("node"in e.state.selection)||e.state.selection.node.type.spec.group!=="blockContent")return;t.transact(s=>s.setSelection(new W(s.doc.resolve(e.state.selection.from-1)))),n.preventDefault(),n.dataTransfer.clearData();const{clipboardHTML:o,externalHTML:r,markdown:i}=u8(e,t);return n.dataTransfer.setData("blocknote/html",o),n.dataTransfer.setData("text/html",r),n.dataTransfer.setData("text/plain",i),!0}}}})]}}),sne=Be.create({name:"blockBackgroundColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{backgroundColor:{default:rt.backgroundColor.default,parseHTML:t=>t.hasAttribute("data-background-color")?t.getAttribute("data-background-color"):rt.backgroundColor.default,renderHTML:t=>t.backgroundColor===rt.backgroundColor.default?{}:{"data-background-color":t.backgroundColor}}}}]}});let fS=class{constructor(){A(this,"callbacks",{})}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),()=>this.off(e,n)}emit(e,...n){const o=this.callbacks[e];o&&o.forEach(r=>r.apply(this,n))}off(e,n){const o=this.callbacks[e];o&&(n?this.callbacks[e]=o.filter(r=>r!==n):delete this.callbacks[e])}removeAllListeners(){this.callbacks={}}},Bt=class extends fS{constructor(...e){super(),A(this,"plugins",[])}static key(){throw new Error("You must implement the key method in your extension")}addProsemirrorPlugin(e){this.plugins.push(e)}get priority(){}};class lne extends Bt{constructor(){super(),A(this,"beforeChangeCallbacks",[]),this.addProsemirrorPlugin(new le({filterTransaction:e=>{let n;return this.beforeChangeCallbacks.reduce((o,r)=>o===!1?o:r({getChanges(){return n||(n=N6(e),n)},tr:e})!==!1,!0)}}))}static key(){return"blockChange"}subscribe(e){return this.beforeChangeCallbacks.push(e),()=>{this.beforeChangeCallbacks=this.beforeChangeCallbacks.filter(n=>n!==e)}}}const Rp=class d8 extends Bt{constructor(e){super(),A(this,"provider"),A(this,"recentlyUpdatedCursors"),A(this,"renderCursor",(n,o)=>{let r=this.recentlyUpdatedCursors.get(o);if(!r){const i=(this.collaboration.renderCursor??d8.defaultCursorRender)(n);this.collaboration.showCursorLabels!=="always"&&(i.addEventListener("mouseenter",()=>{const s=this.recentlyUpdatedCursors.get(o);s.element.setAttribute("data-active",""),s.hideTimeout&&(clearTimeout(s.hideTimeout),this.recentlyUpdatedCursors.set(o,{element:s.element,hideTimeout:void 0}))}),i.addEventListener("mouseleave",()=>{const s=this.recentlyUpdatedCursors.get(o);this.recentlyUpdatedCursors.set(o,{element:s.element,hideTimeout:setTimeout(()=>{s.element.removeAttribute("data-active")},2e3)})})),r={element:i,hideTimeout:void 0},this.recentlyUpdatedCursors.set(o,r)}return r.element}),A(this,"updateUser",n=>{this.provider.awareness.setLocalStateField("user",n)}),this.collaboration=e,this.provider=e.provider,this.recentlyUpdatedCursors=new Map,this.provider.awareness.setLocalStateField("user",e.user),e.showCursorLabels!=="always"&&this.provider.awareness.on("change",({updated:n})=>{for(const o of n){const r=this.recentlyUpdatedCursors.get(o);r&&(r.element.setAttribute("data-active",""),r.hideTimeout&&clearTimeout(r.hideTimeout),this.recentlyUpdatedCursors.set(o,{element:r.element,hideTimeout:setTimeout(()=>{r.element.removeAttribute("data-active")},2e3)}))}}),this.addProsemirrorPlugin(fQ(this.provider.awareness,{selectionBuilder:b6,cursorBuilder:this.renderCursor}))}static key(){return"yCursorPlugin"}get priority(){return 999}static isDarkColor(e){const n=e.charAt(0)==="#"?e.substring(1,7):e,o=parseInt(n.substring(0,2),16),r=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16),s=[o/255,r/255,i/255].map(l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4));return .2126*s[0]+.7152*s[1]+.0722*s[2]<=.179}};A(Rp,"defaultCursorRender",t=>{const e=document.createElement("span");e.classList.add("bn-collaboration-cursor__base");const n=document.createElement("span");n.setAttribute("contentedEditable","false"),n.classList.add("bn-collaboration-cursor__caret"),n.setAttribute("style",`background-color: ${t.color}; color: ${Rp.isDarkColor(t.color)?"white":"black"}`);const o=document.createElement("span");return o.classList.add("bn-collaboration-cursor__label"),o.setAttribute("style",`background-color: ${t.color}; color: ${Rp.isDarkColor(t.color)?"white":"black"}`),o.insertBefore(document.createTextNode(t.name),null),n.insertBefore(o,null),e.insertBefore(document.createTextNode("⁠"),null),e.insertBefore(n,null),e.insertBefore(document.createTextNode("⁠"),null),e});let f8=Rp,Fw=class extends Bt{static key(){return"ySyncPlugin"}constructor(e){super(),this.addProsemirrorPlugin(YJ(e))}get priority(){return 1001}},qw=class extends Bt{static key(){return"yUndoPlugin"}constructor({editor:e}){super(),this.addProsemirrorPlugin(vQ({trackedOrigins:[e]}))}get priority(){return 1e3}};const h8=Zt.create({name:"comment",excludes:"",inclusive:!1,keepOnSplit:!0,addAttributes(){return{orphan:{parseHTML:t=>!!t.getAttribute("data-orphan"),renderHTML:t=>t.orphan?{"data-orphan":"true"}:{},default:!1},threadId:{parseHTML:t=>t.getAttribute("data-bn-thread-id"),renderHTML:t=>({"data-bn-thread-id":t.threadId}),default:""}}},renderHTML({HTMLAttributes:t}){return["span",no(t,{class:"bn-thread-mark"})]},parseHTML(){return[{tag:"span.bn-thread-mark"}]},extendMarkSchema(t){return t.name==="comment"?{blocknoteIgnore:!0}:{}}});class ane extends fS{constructor(e){super(),A(this,"userCache",new Map),A(this,"loadingUsers",new Set),this.resolveUsers=e}async loadUsers(e){const n=e.filter(o=>!this.userCache.has(o)&&!this.loadingUsers.has(o));if(n.length!==0){for(const o of n)this.loadingUsers.add(o);try{const o=await this.resolveUsers(n);for(const r of o)this.userCache.set(r.id,r);this.emit("update",this.userCache)}finally{for(const o of n)this.loadingUsers.delete(o)}}}getUser(e){return this.userCache.get(e)}subscribe(e){return this.on("update",e)}}const Wh=new xe("blocknote-comments"),cne="SET_SELECTED_THREAD_ID";function une(t,e){const n=new Map;return t.descendants((o,r)=>{o.marks.forEach(i=>{if(i.type.name===e){const s=i.attrs.threadId;if(!s)return;const l=r,a=l+o.nodeSize,c=n.get(s)??{from:1/0,to:0};n.set(s,{from:Math.min(l,c.from),to:Math.max(a,c.to)})}})}),n}class dne extends Bt{constructor(e,n,o){if(super(),A(this,"userStore"),A(this,"pendingComment",!1),A(this,"selectedThreadId"),A(this,"threadPositions",new Map),A(this,"updateMarksFromThreads",i=>{this.editor.transact(s=>{s.doc.descendants((l,a)=>{l.marks.forEach(c=>{if(c.type.name===this.markType){const u=c.type,d=c.attrs.threadId,f=i.get(d),h=!!(!f||f.resolved||f.deletedAt);if(h!==c.attrs.orphan){const p=Math.max(a,0),m=Math.min(a+l.nodeSize,s.doc.content.size-1,s.doc.content.size-1);s.removeMark(p,m,c),s.addMark(p,m,u.create({...c.attrs,orphan:h})),h&&this.selectedThreadId===d&&(this.selectedThreadId=void 0,this.emitStateUpdate())}}})})})}),this.editor=e,this.threadStore=n,this.markType=o,!e.resolveUsers)throw new Error("resolveUsers is required for comments");this.userStore=new ane(e.resolveUsers),this.threadStore.subscribe(this.updateMarksFromThreads),e.onCreate(()=>{this.updateMarksFromThreads(this.threadStore.getThreads()),e.onSelectionChange(()=>{this.pendingComment&&(this.pendingComment=!1,this.emitStateUpdate())})});const r=this;this.addProsemirrorPlugin(new le({key:Wh,state:{init(){return{decorations:he.empty}},apply(i,s){const l=i.getMeta(Wh);if(!i.docChanged&&!l)return s;const a=i.docChanged?une(i.doc,r.markType):r.threadPositions;(a.size>0||r.threadPositions.size>0)&&(r.threadPositions=a,r.emitStateUpdate());const c=[];if(r.selectedThreadId){const u=a.get(r.selectedThreadId);u&&c.push(Te.inline(u.from,u.to,{class:"bn-thread-mark-selected"}))}return{decorations:he.create(i.doc,c)}}},props:{decorations(i){var s;return((s=Wh.getState(i))==null?void 0:s.decorations)??he.empty},handleClick:(i,s,l)=>{if(l.button!==0)return;const a=i.state.doc.nodeAt(s);if(!a){r.selectThread(void 0);return}const c=a.marks.find(d=>d.type.name===o&&d.attrs.orphan!==!0),u=c==null?void 0:c.attrs.threadId;r.selectThread(u,!1)}}}))}static key(){return"comments"}emitStateUpdate(){this.emit("update",{selectedThreadId:this.selectedThreadId,pendingComment:this.pendingComment,threadPositions:this.threadPositions})}onUpdate(e){return this.on("update",e)}selectThread(e,n=!0){var o,r;if(this.selectedThreadId!==e&&(this.selectedThreadId=e,this.emitStateUpdate(),this.editor.transact(i=>i.setMeta(Wh,{name:cne})),e&&n)){const i=this.threadPositions.get(e);if(!i)return;(r=(o=this.editor.prosemirrorView)==null?void 0:o.domAtPos(i.from).node)==null||r.scrollIntoView({behavior:"smooth",block:"center"})}}startPendingComment(){this.pendingComment=!0,this.emitStateUpdate()}stopPendingComment(){this.pendingComment=!1,this.emitStateUpdate()}async createThread(e){const n=await this.threadStore.createThread(e);if(this.threadStore.addThreadToDocument){const o=this.editor.prosemirrorView,r=o.state.selection,i=Ee.getState(o.state),s={prosemirror:{head:r.head,anchor:r.anchor},yjs:i?yg(i.binding,o.state):void 0};await this.threadStore.addThreadToDocument({threadId:n.id,selection:s})}else this.editor._tiptapEditor.commands.setMark(this.markType,{orphan:!1,threadId:n.id})}}class fne{constructor(e,n,o,r){A(this,"state"),A(this,"emitUpdate"),A(this,"mouseDownHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"dragstartHandler",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"scrollHandler",()=>{var i;if((i=this.state)!=null&&i.show){const s=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${this.state.block.id}"]`);if(!s)return;this.state.referencePos=s.getBoundingClientRect(),this.emitUpdate()}}),A(this,"closeMenu",()=>{var i;(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pluginKey=n,this.pmView=o,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized file panel");r(this.state)},o.dom.addEventListener("mousedown",this.mouseDownHandler),o.dom.addEventListener("dragstart",this.dragstartHandler),o.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o,r;const i=this.pluginKey.getState(e.state),s=this.pluginKey.getState(n);if(!((o=this.state)!=null&&o.show)&&i!=null&&i.block&&this.editor.isEditable){const c=this.pmView.root.querySelector(`[data-node-type="blockContainer"][data-id="${i.block.id}"]`);if(!c)return;this.state={show:!0,referencePos:c.getBoundingClientRect(),block:i.block},this.emitUpdate();return}const l=(i==null?void 0:i.block)&&!(s!=null&&s.block),a=!(i!=null&&i.block)&&(s==null?void 0:s.block);l&&this.state&&!this.state.show&&(this.state.show=!0,this.emitUpdate()),a&&(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("mousedown",this.mouseDownHandler),this.pmView.dom.removeEventListener("dragstart",this.dragstartHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const d1=new xe("FilePanelPlugin");class hne extends Bt{constructor(e){super(),A(this,"view"),A(this,"closeMenu",()=>{var n;return(n=this.view)==null?void 0:n.closeMenu()}),this.addProsemirrorPlugin(new le({key:d1,view:n=>(this.view=new fne(e,d1,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>{var r;return o.key==="Escape"&&this.shown?((r=this.view)==null||r.closeMenu(),!0):!1}},state:{init:()=>({block:void 0}),apply:(n,o)=>n.getMeta(d1)||(!n.getMeta(Ee)&&(n.selectionSet||n.docChanged)?{block:void 0}:o)}}))}static key(){return"filePanel"}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}class pne{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"preventHide",!1),A(this,"preventShow",!1),A(this,"shouldShow",({view:r,state:i,from:s,to:l})=>{const{doc:a,selection:c}=i,{empty:u}=c,d=!a.textBetween(s,l).length&&Bb(i.selection);if(c.$from.parent.type.spec.code||lw(c)&&c.node.type.spec.code||u||d)return!1;const f=document.activeElement;return!(!this.isElementWithinEditorWrapper(f)&&r.editable)}),A(this,"blurHandler",r=>{var i;if(this.preventHide){this.preventHide=!1;return}const s=this.pmView.dom.parentElement;r&&r.relatedTarget&&(s===r.relatedTarget||s.contains(r.relatedTarget)||r.relatedTarget.matches(".bn-ui-container, .bn-ui-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"isElementWithinEditorWrapper",r=>{if(!r)return!1;const i=this.pmView.dom.parentElement;return i?i.contains(r):!1}),A(this,"viewMousedownHandler",r=>{(!this.isElementWithinEditorWrapper(r.target)||r.button===0)&&(this.preventShow=!0)}),A(this,"mouseupHandler",()=>{this.preventShow&&(this.preventShow=!1,setTimeout(()=>this.update(this.pmView)))}),A(this,"dragHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"scrollHandler",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.referencePos=this.getSelectionBoundingBox(),this.emitUpdate())}),A(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized formatting toolbar");o(this.state)},n.dom.addEventListener("mousedown",this.viewMousedownHandler),n.root.addEventListener("mouseup",this.mouseupHandler),n.dom.addEventListener("dragstart",this.dragHandler),n.dom.addEventListener("dragover",this.dragHandler),n.dom.addEventListener("blur",this.blurHandler),n.root.addEventListener("scroll",this.scrollHandler,!0)}update(e,n){var o,r,i;const{state:s,composing:l}=e,{doc:a,selection:c}=s,u=n&&n.doc.eq(a)&&n.selection.eq(c);if(l||u)return;const{ranges:d}=c,f=Math.min(...d.map(b=>b.$from.pos)),h=Math.max(...d.map(b=>b.$to.pos)),p=this.shouldShow({view:e,state:s,from:f,to:h}),m=typeof Range.prototype.getClientRects>"u";if(!this.preventShow&&(p||this.preventHide)&&!m){const b={show:!0,referencePos:this.getSelectionBoundingBox()};(b.show!==((o=this.state)==null?void 0:o.show)||b.referencePos.toJSON()!==((r=this.state)==null?void 0:r.referencePos.toJSON()))&&(this.state=b,this.emitUpdate());return}if((i=this.state)!=null&&i.show&&!this.preventHide&&(!p||this.preventShow||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("mouseup",this.mouseupHandler),this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}getSelectionBoundingBox(){const{state:e}=this.pmView,{selection:n}=e,{ranges:o}=n,r=Math.min(...o.map(s=>s.$from.pos)),i=Math.max(...o.map(s=>s.$to.pos));if(lw(n)){const s=this.pmView.nodeDOM(r);if(s)return s.getBoundingClientRect()}return Lm(this.pmView,r,i)}}const mne=new xe("FormattingToolbarPlugin");class gne extends Bt{constructor(e){super(),A(this,"view"),A(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new le({key:mne,view:n=>(this.view=new pne(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"formattingToolbar"}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}onUpdate(e){return this.on("update",e)}}const bne=Or.create({name:"hardBreak",inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,priority:10,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",no(this.options.HTMLAttributes,t)]},renderText(){return`
`}}),QT=(t,e)=>{const n=t.resolve(e);if(n.depth<=1)return;const o=n.posAtIndex(n.index(n.depth-1),n.depth-1);return Gf(t.resolve(o))},Op=(t,e)=>{const n=t.resolve(e),o=n.index();if(o===0)return;const r=n.posAtIndex(o-1);return Gf(t.resolve(r))},p8=(t,e)=>{for(;e.childContainer;){const n=e.childContainer.node,o=t.resolve(e.childContainer.beforePos+1).posAtIndex(n.childCount-1);e=Gf(t.resolve(o))}return e},yne=(t,e)=>t.isBlockContainer&&t.blockContent.node.type.spec.content==="inline*"&&t.blockContent.node.childCount>0&&e.isBlockContainer&&e.blockContent.node.type.spec.content==="inline*",vne=(t,e,n,o)=>{if(!o.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but next block is not a block container`);if(o.childContainer){const r=t.doc.resolve(o.childContainer.beforePos+1),i=t.doc.resolve(o.childContainer.afterPos-1),s=r.blockRange(i);if(e){const l=t.doc.resolve(o.bnBlock.beforePos);t.tr.lift(s,l.depth)}}if(e){if(!n.isBlockContainer)throw new Error(`Attempted to merge block at position ${o.bnBlock.beforePos} into previous block at position ${n.bnBlock.beforePos}, but previous block is not a block container`);e(t.tr.delete(n.blockContent.afterPos-1,o.blockContent.beforePos+1))}return!0},eA=t=>({state:e,dispatch:n})=>{const o=e.doc.resolve(t),r=Gf(o),i=Op(e.doc,r.bnBlock.beforePos);if(!i)return!1;const s=p8(e.doc,i);return yne(s,r)?vne(e,n,s,r):!1},wne=Be.create({priority:50,addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({chain:o,commands:r})=>[()=>r.deleteSelection(),()=>r.undoInputRule(),()=>r.command(({state:i})=>{const s=Ye(i);if(!s.isBlockContainer)return!1;const l=i.selection.from===s.blockContent.beforePos+1,a=s.blockContent.node.type.name==="paragraph";return l&&!a?r.command(en(s.bnBlock.beforePos,{type:"paragraph",props:{}})):!1}),()=>r.command(({state:i})=>{const s=Ye(i);if(!s.isBlockContainer)return!1;const{blockContent:l}=s;return i.selection.from===l.beforePos+1?r.liftListItem("blockContainer"):!1}),()=>r.command(({state:i})=>{const s=Ye(i);if(!s.isBlockContainer)return!1;const{bnBlock:l,blockContent:a}=s,c=i.selection.from===a.beforePos+1,u=i.selection.empty,d=l.beforePos;return c&&u?o().command(eA(d)).scrollIntoView().run():!1}),()=>r.command(({state:i,dispatch:s})=>{const l=Ye(i);if(!l.isBlockContainer||i.selection.from!==l.blockContent.beforePos+1||Op(i.doc,l.bnBlock.beforePos))return!1;const a=QT(i.doc,l.bnBlock.beforePos);if((a==null?void 0:a.blockNoteType)!=="column")return!1;const c=a,u=QT(i.doc,c.bnBlock.beforePos);if((u==null?void 0:u.blockNoteType)!=="columnList")throw new Error("parent of column is not a column list");const d=c.childContainer.node.childCount===1,f=d&&u.childContainer.node.childCount===2,h=u.childContainer.node.firstChild===c.bnBlock.node;if(s){const p=i.doc.slice(l.bnBlock.beforePos,l.bnBlock.afterPos,!1);if(f)if(h){i.tr.step(new gt(u.bnBlock.beforePos,u.bnBlock.afterPos,c.bnBlock.afterPos+1,u.bnBlock.afterPos-2,p,p.size,!1));const m=i.tr.doc.resolve(c.bnBlock.beforePos);i.tr.setSelection(Z.between(m,m))}else{i.tr.step(new gt(u.bnBlock.beforePos,u.bnBlock.afterPos,u.bnBlock.beforePos+2,c.bnBlock.beforePos-1,p,0,!1));const m=i.tr.doc.resolve(i.tr.mapping.map(c.bnBlock.beforePos-1));i.tr.setSelection(Z.between(m,m))}else if(d)if(h){i.tr.delete(c.bnBlock.beforePos,c.bnBlock.afterPos),i.tr.insert(u.bnBlock.beforePos,p.content);const m=i.tr.doc.resolve(u.bnBlock.beforePos);i.tr.setSelection(Z.between(m,m))}else i.tr.delete(c.bnBlock.beforePos-1,c.bnBlock.beforePos+1);else{i.tr.delete(l.bnBlock.beforePos,l.bnBlock.afterPos),h?i.tr.insert(u.bnBlock.beforePos-1,p.content):i.tr.insert(c.bnBlock.beforePos-1,p.content);const m=i.tr.doc.resolve(c.bnBlock.beforePos-1);i.tr.setSelection(Z.between(m,m))}}return!0}),()=>r.command(({state:i})=>{const s=Ye(i);if(!s.isBlockContainer)return!1;if(s.blockContent.node.childCount===0&&s.blockContent.node.type.spec.content==="inline*"){const l=Op(i.doc,s.bnBlock.beforePos);if(!l||!l.isBlockContainer)return!1;let a=o();if(l.blockContent.node.type.spec.content==="tableRow+"){const c=s.bnBlock.beforePos-1-1-1-1-1;a=a.setTextSelection(c)}else if(l.blockContent.node.type.spec.content===""){const c=l.blockContent.afterPos-l.blockContent.node.nodeSize;a=a.setNodeSelection(c)}else{const c=l.blockContent.afterPos-l.blockContent.node.nodeSize;a=a.setTextSelection(c)}return a.deleteRange({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos}).scrollIntoView().run()}return!1}),()=>r.command(({state:i})=>{const s=Ye(i);if(!s.isBlockContainer)throw new Error("todo");const l=i.selection.from===s.blockContent.beforePos+1,a=i.selection.empty,c=Op(i.doc,s.bnBlock.beforePos);if(c&&l&&a){const u=p8(i.doc,c);if(!u.isBlockContainer)throw new Error("todo");if(u.blockContent.node.type.spec.content===""||u.blockContent.node.type.spec.content==="inline*"&&u.blockContent.node.childCount===0)return o().cut({from:s.bnBlock.beforePos,to:s.bnBlock.afterPos},u.bnBlock.afterPos).deleteRange({from:u.bnBlock.beforePos,to:u.bnBlock.afterPos}).run()}return!1})]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.command(({state:r})=>{const i=Ye(r);if(!i.isBlockContainer)return!1;const{bnBlock:s,blockContent:l,childContainer:a}=i,{depth:c}=r.doc.resolve(s.beforePos),u=s.afterPos===r.doc.nodeSize-3,d=r.selection.from===l.afterPos-1,f=r.selection.empty;if(!u&&d&&f&&a===void 0){let h=c,p=s.afterPos+1,m=r.doc.resolve(p).depth;for(;m<h;)h=m,p+=2,m=r.doc.resolve(p).depth;return o.command(eA(p-1))}return!1})]),n=(o=!1)=>this.editor.commands.first(({commands:r,tr:i})=>[()=>r.command(({state:s})=>{const l=Ye(s);if(!l.isBlockContainer)return!1;const{bnBlock:a,blockContent:c}=l,{depth:u}=s.doc.resolve(a.beforePos),d=s.selection.$anchor.parentOffset===0,f=s.selection.anchor===s.selection.head,h=c.node.childCount===0,p=u>1;return d&&f&&h&&p?r.liftListItem("blockContainer"):!1}),()=>r.command(({state:s})=>{const l=Ye(s),a=this.options.editor.schema.blockSchema[l.blockNoteType].hardBreakShortcut??"shift+enter";if(a==="none")return!1;if(a==="shift+enter"&&o||a==="enter"){const c=i.storedMarks||i.selection.$head.marks().filter(u=>this.editor.extensionManager.splittableMarks.includes(u.type.name));return i.insert(i.selection.head,i.doc.type.schema.nodes.hardBreak.create()).ensureMarks(c),!0}return!1}),()=>r.command(({state:s,dispatch:l})=>{const a=Ye(s);if(!a.isBlockContainer)return!1;const{bnBlock:c,blockContent:u}=a,d=s.selection.$anchor.parentOffset===0,f=s.selection.anchor===s.selection.head,h=u.node.childCount===0;if(d&&f&&h){const p=c.afterPos,m=p+2;if(l){const b=s.schema.nodes.blockContainer.createAndFill();s.tr.insert(p,b).scrollIntoView(),s.tr.setSelection(new Z(s.doc.resolve(m)))}return!0}return!1}),()=>r.command(({state:s,chain:l})=>{const a=Ye(s);if(!a.isBlockContainer)return!1;const{blockContent:c}=a,u=s.selection.$anchor.parentOffset===0;return c.node.childCount===0?!1:(l().deleteSelection().command(G6(s.selection.from,u,u)).run(),!0)})]);return{Backspace:t,Delete:e,Enter:()=>n(),"Shift-Enter":()=>n(!0),Tab:()=>{var o,r,i;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(r=this.options.editor.linkToolbar)!=null&&r.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:o8(this.options.editor)},"Shift-Tab":()=>{var o,r,i;return this.options.tabBehavior!=="prefer-indent"&&((o=this.options.editor.formattingToolbar)!=null&&o.shown||(r=this.options.editor.linkToolbar)!=null&&r.shown||(i=this.options.editor.filePanel)!=null&&i.shown)?!1:(this.editor.commands.liftListItem("blockContainer"),!0)},"Shift-Mod-ArrowUp":()=>(this.options.editor.moveBlocksUp(),!0),"Shift-Mod-ArrowDown":()=>(this.options.editor.moveBlocksDown(),!0),"Mod-z":()=>this.options.editor.undo(),"Mod-y":()=>this.options.editor.redo(),"Shift-Mod-z":()=>this.options.editor.redo()}}});class kne{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"menuUpdateTimer"),A(this,"startMenuUpdateTimer"),A(this,"stopMenuUpdateTimer"),A(this,"mouseHoveredLinkMark"),A(this,"mouseHoveredLinkMarkRange"),A(this,"keyboardHoveredLinkMark"),A(this,"keyboardHoveredLinkMarkRange"),A(this,"linkMark"),A(this,"linkMarkRange"),A(this,"mouseOverHandler",r=>{if(this.mouseHoveredLinkMark=void 0,this.mouseHoveredLinkMarkRange=void 0,this.stopMenuUpdateTimer(),r.target instanceof HTMLAnchorElement&&r.target.nodeName==="A"){const i=r.target,s=this.pmView.posAtDOM(i,0)+1,l=this.pmView.state.doc.resolve(s),a=l.marks();for(const c of a)if(c.type.name===this.pmView.state.schema.mark("link").type.name){this.mouseHoveredLinkMark=c,this.mouseHoveredLinkMarkRange=Hd(l,c.type,c.attrs)||void 0;break}}return this.startMenuUpdateTimer(),!1}),A(this,"clickHandler",r=>{var i;const s=this.pmView.dom.parentElement;this.linkMark&&r&&r.target&&!(s===r.target||s.contains(r.target))&&(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())}),A(this,"scrollHandler",()=>{var r;this.linkMark!==void 0&&(r=this.state)!=null&&r.show&&(this.state.referencePos=Lm(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),this.emitUpdate())}),A(this,"closeMenu",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.show=!1,this.emitUpdate())}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized link toolbar");o(this.state)},this.startMenuUpdateTimer=()=>{this.menuUpdateTimer=setTimeout(()=>{this.update(this.pmView,void 0,!0)},250)},this.stopMenuUpdateTimer=()=>(this.menuUpdateTimer&&(clearTimeout(this.menuUpdateTimer),this.menuUpdateTimer=void 0),!1),this.pmView.dom.addEventListener("mouseover",this.mouseOverHandler),this.pmView.root.addEventListener("click",this.clickHandler,!0),this.pmView.root.addEventListener("scroll",this.scrollHandler,!0)}editLink(e,n){var o;this.editor.transact(r=>{const i=$t(r);r.insertText(n,this.linkMarkRange.from,this.linkMarkRange.to),r.addMark(this.linkMarkRange.from,this.linkMarkRange.from+n.length,i.mark("link",{href:e}))}),this.pmView.focus(),(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}deleteLink(){var e;this.editor.transact(n=>n.removeMark(this.linkMarkRange.from,this.linkMarkRange.to,this.linkMark.type).setMeta("preventAutolink",!0)),this.pmView.focus(),(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate())}update(e,n,o=!1){var r;const{state:i}=e;if(n&&n.selection.from===i.selection.from&&n.selection.to===i.selection.to||!this.pmView.hasFocus())return;const s=this.linkMark;if(this.linkMark=void 0,this.linkMarkRange=void 0,this.keyboardHoveredLinkMark=void 0,this.keyboardHoveredLinkMarkRange=void 0,this.pmView.state.selection.empty){const l=this.pmView.state.selection.$from.marks();for(const a of l)if(a.type.name===this.pmView.state.schema.mark("link").type.name){this.keyboardHoveredLinkMark=a,this.keyboardHoveredLinkMarkRange=Hd(this.pmView.state.selection.$from,a.type,a.attrs)||void 0;break}}if(this.mouseHoveredLinkMark&&o&&(this.linkMark=this.mouseHoveredLinkMark,this.linkMarkRange=this.mouseHoveredLinkMarkRange),this.keyboardHoveredLinkMark&&(this.linkMark=this.keyboardHoveredLinkMark,this.linkMarkRange=this.keyboardHoveredLinkMarkRange),this.linkMark&&this.editor.isEditable){this.state={show:!0,referencePos:Lm(this.pmView,this.linkMarkRange.from,this.linkMarkRange.to),url:this.linkMark.attrs.href,text:this.pmView.state.doc.textBetween(this.linkMarkRange.from,this.linkMarkRange.to)},this.emitUpdate();return}if((r=this.state)!=null&&r.show&&s&&(!this.linkMark||!this.editor.isEditable)){this.state.show=!1,this.emitUpdate();return}}destroy(){this.pmView.dom.removeEventListener("mouseover",this.mouseOverHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0),this.pmView.root.removeEventListener("click",this.clickHandler,!0)}}const xne=new xe("LinkToolbarPlugin");class Cne extends Bt{constructor(e){super(),A(this,"view"),A(this,"editLink",(n,o)=>{this.view.editLink(n,o)}),A(this,"deleteLink",()=>{this.view.deleteLink()}),A(this,"startHideTimer",()=>{this.view.startMenuUpdateTimer()}),A(this,"stopHideTimer",()=>{this.view.stopMenuUpdateTimer()}),A(this,"closeMenu",()=>this.view.closeMenu()),this.addProsemirrorPlugin(new le({key:xne,view:n=>(this.view=new kne(e,n,o=>{this.emit("update",o)}),this.view),props:{handleKeyDown:(n,o)=>o.key==="Escape"&&this.shown?(this.view.closeMenu(),!0):!1}}))}static key(){return"linkToolbar"}onUpdate(e){return this.on("update",e)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const m8=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"],g8="https",Sne=new xe("node-selection-keyboard");class _ne extends Bt{static key(){return"nodeSelectionKeyboard"}constructor(){super(),this.addProsemirrorPlugin(new le({key:Sne,props:{handleKeyDown:(e,n)=>{if("node"in e.state.selection){if(n.ctrlKey||n.metaKey)return!1;if(n.key.length===1)return n.preventDefault(),!0;if(n.key==="Enter"&&!n.shiftKey&&!n.altKey&&!n.ctrlKey&&!n.metaKey){const o=e.state.tr;return e.dispatch(o.insert(e.state.tr.selection.$to.after(),e.state.schema.nodes.paragraph.createChecked()).setSelection(new Z(o.doc.resolve(e.state.tr.selection.$to.after()+1)))),!0}}return!1}}}))}}const Ene=new xe("blocknote-placeholder");class Mne extends Bt{static key(){return"placeholder"}constructor(e,n){super(),this.addProsemirrorPlugin(new le({key:Ene,view:o=>{var r,i;const s=`placeholder-selector-${ID()}`;o.dom.classList.add(s);const l=document.createElement("style"),a=e._tiptapEditor.options.injectNonce;a&&l.setAttribute("nonce",a),((r=e.prosemirrorView)==null?void 0:r.root)instanceof ShadowRoot?e.prosemirrorView.root.append(l):(i=e.prosemirrorView)==null||i.root.head.appendChild(l);const c=l.sheet,u=(d="")=>`.${s} .bn-block-content${d} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`;try{const{default:d,emptyDocument:f,...h}=n;for(const[b,y]of Object.entries(h)){const w=`[data-content-type="${b}"]`;c.insertRule(`${u(w)} { content: ${JSON.stringify(y)}; }`)}c.insertRule(`${u("[data-is-only-empty-block]")} { content: ${JSON.stringify(f)}; }`),c.insertRule(`${u("[data-is-empty-and-focused]")} { content: ${JSON.stringify(d)}; }`)}catch(d){console.warn("Failed to insert placeholder CSS rule - this is likely due to the browser not supporting certain CSS pseudo-element selectors (:has, :only-child:, or :before)",d)}return{destroy:()=>{var d,f;((d=e.prosemirrorView)==null?void 0:d.root)instanceof ShadowRoot?e.prosemirrorView.root.removeChild(l):(f=e.prosemirrorView)==null||f.root.head.removeChild(l)}}},props:{decorations:o=>{const{doc:r,selection:i}=o;if(!e.isEditable||!i.empty||i.$from.parent.type.spec.code)return;const s=[];o.doc.content.size===6&&s.push(Te.node(2,4,{"data-is-only-empty-block":"true"}));const l=i.$anchor,a=l.parent;if(a.content.size===0){const c=l.before();s.push(Te.node(c,c+a.nodeSize,{"data-is-empty-and-focused":"true"}))}return he.create(r,s)}}}))}}const tA=new xe("previous-blocks"),Tne={index:"index",level:"level",type:"type",depth:"depth","depth-change":"depth-change"};class Ane extends Bt{static key(){return"previousBlockType"}constructor(){super();let e;this.addProsemirrorPlugin(new le({key:tA,view(n){return{update:async(o,r)=>{var i;((i=this.key)==null?void 0:i.getState(o.state).updatedBlocks.size)>0&&(e=setTimeout(()=>{o.dispatch(o.state.tr.setMeta(tA,{clearUpdate:!0}))},0))},destroy:()=>{e&&clearTimeout(e)}}},state:{init(){return{prevTransactionOldBlockAttrs:{},currentTransactionOldBlockAttrs:{},updatedBlocks:new Set}},apply(n,o,r,i){if(o.currentTransactionOldBlockAttrs={},o.updatedBlocks.clear(),!n.docChanged||r.doc.eq(i.doc))return o;const s={},l=BM(r.doc,u=>u.attrs.id),a=new Map(l.map(u=>[u.node.attrs.id,u])),c=BM(i.doc,u=>u.attrs.id);for(const u of c){const d=a.get(u.node.attrs.id),f=d==null?void 0:d.node.firstChild,h=u.node.firstChild;if(d&&f&&h){const p={index:h.attrs.index,level:h.attrs.level,type:h.type.name,depth:i.doc.resolve(u.pos).depth};let m={index:f.attrs.index,level:f.attrs.level,type:f.type.name,depth:r.doc.resolve(d.pos).depth};s[u.node.attrs.id]=m,n.getMeta("numberedListIndexing")&&(u.node.attrs.id in o.prevTransactionOldBlockAttrs&&(m=o.prevTransactionOldBlockAttrs[u.node.attrs.id]),p.type==="numberedListItem"&&(m.index=p.index)),o.currentTransactionOldBlockAttrs[u.node.attrs.id]=m,JSON.stringify(m)!==JSON.stringify(p)&&(m["depth-change"]=m.depth-p.depth,o.updatedBlocks.add(u.node.attrs.id))}}return o.prevTransactionOldBlockAttrs=s,o}},props:{decorations(n){const o=this.getState(n);if(o.updatedBlocks.size===0)return;const r=[];return n.doc.descendants((i,s)=>{if(!i.attrs.id||!o.updatedBlocks.has(i.attrs.id))return;const l=o.currentTransactionOldBlockAttrs[i.attrs.id],a={};for(const[u,d]of Object.entries(l))a["data-prev-"+Tne[u]]=d||"none";const c=Te.node(s,s+i.nodeSize,{...a});r.push(c)}),he.create(n.doc,r)}}}))}}const nA=new xe("blocknote-show-selection");class Nne extends Bt{constructor(e){super(),A(this,"enabled",!1),this.editor=e,this.addProsemirrorPlugin(new le({key:nA,props:{decorations:n=>{const{doc:o,selection:r}=n;if(!this.enabled)return he.empty;const i=Te.inline(r.from,r.to,{"data-show-selection":"true"});return he.create(o,[i])}}}))}static key(){return"showSelection"}setEnabled(e){this.enabled!==e&&(this.enabled=e,this.editor.transact(n=>n.setMeta(nA,{})))}getEnabled(){return this.enabled}}function b8(t,e){for(var n,o;t&&t.parentElement&&t.parentElement!==e.dom&&((n=t.getAttribute)==null?void 0:n.call(t,"data-node-type"))!=="blockContainer";)t=t.parentElement;if(((o=t.getAttribute)==null?void 0:o.call(t,"data-node-type"))==="blockContainer")return{node:t,id:t.getAttribute("data-id")}}let Gw=class Dp extends Q{constructor(e,n){super(e,n),A(this,"nodes");const o=e.node();this.nodes=[],e.doc.nodesBetween(e.pos,n.pos,(r,i,s)=>{if(s!==null&&s.eq(o))return this.nodes.push(r),!1})}static create(e,n,o=n){return new Dp(e.resolve(n),e.resolve(o))}content(){return new H(D.from(this.nodes),0,0)}eq(e){if(!(e instanceof Dp)||this.nodes.length!==e.nodes.length||this.from!==e.from||this.to!==e.to)return!1;for(let n=0;n<this.nodes.length;n++)if(!this.nodes[n].eq(e.nodes[n]))return!1;return!0}map(e,n){const o=n.mapResult(this.from),r=n.mapResult(this.to);return r.deleted?Q.near(e.resolve(o.pos)):o.deleted?Q.near(e.resolve(r.pos)):new Dp(e.resolve(o.pos),e.resolve(r.pos))}toJSON(){return{type:"multiple-node",anchor:this.anchor,head:this.head}}};Q.jsonID("multiple-node",Gw);let Bo;function Rne(t,e){let n,o;const r=e.resolve(t.from).node().type.spec.group==="blockContent",i=e.resolve(t.to).node().type.spec.group==="blockContent",s=Math.min(t.$anchor.depth,t.$head.depth);if(r&&i){const l=t.$from.start(s-1),a=t.$to.end(s-1);n=e.resolve(l-1).pos,o=e.resolve(a+1).pos}else n=t.from,o=t.to;return{from:n,to:o}}function oA(t,e,n=e){e===n&&(n+=t.state.doc.resolve(e+1).node().nodeSize);const o=t.domAtPos(e).node.cloneNode(!0),r=t.domAtPos(e).node,i=(u,d)=>Array.prototype.indexOf.call(u.children,d),s=i(r,t.domAtPos(e+1).node.parentElement),l=i(r,t.domAtPos(n-1).node.parentElement);for(let u=r.childElementCount-1;u>=0;u--)(u>l||u<s)&&o.removeChild(o.children[u]);y8(t.root),Bo=o;const a=Bo.getElementsByTagName("iframe");for(let u=0;u<a.length;u++){const d=a[u],f=d.parentElement;f&&f.removeChild(d)}const c=t.dom.className.split(" ").filter(u=>u!=="ProseMirror"&&u!=="bn-root"&&u!=="bn-editor").join(" ");Bo.className=Bo.className+" bn-drag-preview "+c,t.root instanceof ShadowRoot?t.root.appendChild(Bo):t.root.body.appendChild(Bo)}function y8(t){Bo!==void 0&&(t instanceof ShadowRoot?t.removeChild(Bo):t.body.removeChild(Bo),Bo=void 0)}function One(t,e,n){if(!t.dataTransfer)return;const o=n.prosemirrorView;if(!o)return;const r=gn(e.id,o.state.doc);if(!r)throw new Error(`Block with ID ${e.id} not found`);const i=r.posBeforeNode;if(i!=null){const s=o.state.selection,l=o.state.doc,{from:a,to:c}=Rne(s,l),u=a<=i&&i<c,d=s.$anchor.node()!==s.$head.node()||s instanceof Gw;u&&d?(o.dispatch(o.state.tr.setSelection(Gw.create(l,a,c))),oA(o,a,c)):(o.dispatch(o.state.tr.setSelection(W.create(o.state.doc,i))),oA(o,i));const f=o.state.selection.content(),h=n.pmSchema,p=o.serializeForClipboard(f).dom.innerHTML,m=Jb(h,n),b=c8(f.content),y=m.exportBlocks(b,{}),w=uS(y);t.dataTransfer.clearData(),t.dataTransfer.setData("blocknote/html",p),t.dataTransfer.setData("text/html",y),t.dataTransfer.setData("text/plain",w),t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(Bo,0,0)}}const rA=250;function Zw(t,e,n=!0){const o=t.root.elementsFromPoint(e.left,e.top);for(const r of o)if(t.dom.contains(r))return n&&r.closest("[data-node-type=columnList]")?Zw(t,{left:e.left+50,top:e.top},!1):b8(r,t)}function Dne(t,e){if(!e.dom.firstChild)return;const n=e.dom.firstChild.getBoundingClientRect(),o={left:Math.min(Math.max(n.left+10,t.x),n.right-10),top:t.y},r=Zw(e,o);if(!r)return;const i=r.node.getBoundingClientRect();return Zw(e,{left:i.right-10,top:t.y},!1)}class Lne{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"mousePos"),A(this,"hoveredBlock"),A(this,"menuFrozen",!1),A(this,"isDragOrigin",!1),A(this,"updateState",r=>{this.state=r,this.emitUpdate(this.state)}),A(this,"updateStateFromMousePos",()=>{var r,i,s,l,a;if(this.menuFrozen||!this.mousePos)return;const c=this.findClosestEditorElement({clientX:this.mousePos.x,clientY:this.mousePos.y});if((c==null?void 0:c.element)!==this.pmView.dom||c.distance>rA){(r=this.state)!=null&&r.show&&(this.state.show=!1,this.updateState(this.state));return}const u=Dne(this.mousePos,this.pmView);if(!u||!this.editor.isEditable){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.updateState(this.state));return}if((s=this.state)!=null&&s.show&&(l=this.hoveredBlock)!=null&&l.hasAttribute("data-id")&&((a=this.hoveredBlock)==null?void 0:a.getAttribute("data-id"))===u.id)return;this.hoveredBlock=u.node;const d=u.node.firstChild;if(d&&this.editor.isEditable){const f=d.getBoundingClientRect(),h=u.node.closest("[data-node-type=column]");this.updateState({show:!0,referencePos:new DOMRect(h?h.firstElementChild.getBoundingClientRect().x:this.pmView.dom.firstChild.getBoundingClientRect().x,f.y,f.width,f.height),block:this.editor.getBlock(this.hoveredBlock.getAttribute("data-id"))})}}),A(this,"onDragStart",r=>{var i;const s=(i=r.dataTransfer)==null?void 0:i.getData("blocknote/html");if(!s||this.pmView.dragging)return;const l=document.createElement("div");l.innerHTML=s;const a=ui.fromSchema(this.pmView.state.schema).parse(l,{topNode:this.pmView.state.schema.nodes.blockGroup.create()});this.pmView.dragging={slice:new H(a.content,0,0),move:!0}}),A(this,"findClosestEditorElement",r=>{const i=Array.from(this.pmView.root.querySelectorAll(".bn-editor"));if(i.length===0)return null;let s=i[0],l=Number.MAX_VALUE;return i.forEach(a=>{const c=a.querySelector(".bn-block-group").getBoundingClientRect(),u=r.clientX<c.left?c.left-r.clientX:r.clientX>c.right?r.clientX-c.right:0,d=r.clientY<c.top?c.top-r.clientY:r.clientY>c.bottom?r.clientY-c.bottom:0,f=Math.sqrt(Math.pow(u,2)+Math.pow(d,2));f<l&&(l=f,s=a)}),{element:s,distance:l}}),A(this,"onDragOver",r=>{if(r.synthetic)return;const i=this.getDragEventContext(r);if(!i||!i.isDropPoint){this.closeDropCursor();return}i.isDropPoint&&!i.isDropWithinEditorBounds&&this.dispatchSyntheticEvent(r)}),A(this,"closeDropCursor",()=>{const r=new Event("dragleave",{bubbles:!1});r.synthetic=!0,this.pmView.dom.dispatchEvent(r)}),A(this,"getDragEventContext",r=>{var i;const s=!((i=r.dataTransfer)!=null&&i.types.includes("blocknote/html"))&&!!this.pmView.dragging,l=!!this.isDragOrigin,a=s||l,c=this.findClosestEditorElement(r);if(!c||c.distance>rA)return;const u=c.element===this.pmView.dom,d=u&&c.distance===0;if(!(!u&&!a))return{isDropPoint:u,isDropWithinEditorBounds:d,isDragOrigin:a}}),A(this,"onDrop",r=>{if(r.synthetic)return;const i=this.getDragEventContext(r);if(!i){this.closeDropCursor();return}const{isDropPoint:s,isDropWithinEditorBounds:l,isDragOrigin:a}=i;if(l||this.dispatchSyntheticEvent(r),!(s&&a)){if(s){this.pmView.dispatch(this.pmView.state.tr.setSelection(Z.create(this.pmView.state.tr.doc,this.pmView.state.tr.selection.anchor)));return}else if(a){setTimeout(()=>this.pmView.dispatch(this.pmView.state.tr.deleteSelection()),0);return}}}),A(this,"onDragEnd",r=>{r.synthetic||(this.pmView.dragging=null)}),A(this,"onKeyDown",r=>{var i;(i=this.state)!=null&&i.show&&this.editor.isFocused()&&(this.state.show=!1,this.emitUpdate(this.state))}),A(this,"onMouseMove",r=>{var i;if(this.menuFrozen)return;this.mousePos={x:r.clientX,y:r.clientY};const s=this.pmView.dom.getBoundingClientRect(),l=this.mousePos.x>s.left&&this.mousePos.x<s.right&&this.mousePos.y>s.top&&this.mousePos.y<s.bottom,a=this.pmView.dom.parentElement;if(l&&r&&r.target&&!(a===r.target||a.contains(r.target))){(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate(this.state));return}this.updateStateFromMousePos()}),A(this,"onScroll",()=>{var r;(r=this.state)!=null&&r.show&&(this.state.referencePos=this.hoveredBlock.getBoundingClientRect(),this.emitUpdate(this.state)),this.updateStateFromMousePos()}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized side menu");o(this.state)},this.pmView.root.addEventListener("dragstart",this.onDragStart),this.pmView.root.addEventListener("dragover",this.onDragOver),this.pmView.root.addEventListener("drop",this.onDrop,!0),this.pmView.root.addEventListener("dragend",this.onDragEnd,!0),cS(),this.pmView.root.addEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.addEventListener("keydown",this.onKeyDown,!0),n.root.addEventListener("scroll",this.onScroll,!0)}dispatchSyntheticEvent(e){const n=new Event(e.type,e),o=this.pmView.dom.firstChild.getBoundingClientRect();n.clientX=e.clientX,n.clientY=e.clientY,n.clientX=Math.min(Math.max(e.clientX,o.left),o.left+o.width),n.clientY=Math.min(Math.max(e.clientY,o.top),o.top+o.height),n.dataTransfer=e.dataTransfer,n.preventDefault=()=>e.preventDefault(),n.synthetic=!0,this.pmView.dom.dispatchEvent(n)}update(e,n){var o;!n.doc.eq(this.pmView.state.doc)&&(o=this.state)!=null&&o.show&&this.updateStateFromMousePos()}destroy(){var e;(e=this.state)!=null&&e.show&&(this.state.show=!1,this.emitUpdate(this.state)),this.pmView.root.removeEventListener("mousemove",this.onMouseMove,!0),this.pmView.root.removeEventListener("dragstart",this.onDragStart),this.pmView.root.removeEventListener("dragover",this.onDragOver),this.pmView.root.removeEventListener("drop",this.onDrop,!0),this.pmView.root.removeEventListener("dragend",this.onDragEnd,!0),this.pmView.root.removeEventListener("keydown",this.onKeyDown,!0),this.pmView.root.removeEventListener("scroll",this.onScroll,!0)}}const jne=new xe("SideMenuPlugin");class Bne extends Bt{constructor(e){super(),A(this,"view"),A(this,"blockDragStart",(n,o)=>{this.view&&(this.view.isDragOrigin=!0),One(n,o,this.editor)}),A(this,"blockDragEnd",()=>{this.editor.prosemirrorView&&y8(this.editor.prosemirrorView.root),this.view&&(this.view.isDragOrigin=!1)}),A(this,"freezeMenu",()=>{this.view.menuFrozen=!0,this.view.state.show=!0,this.view.emitUpdate(this.view.state)}),A(this,"unfreezeMenu",()=>{this.view.menuFrozen=!1,this.view.state.show=!1,this.view.emitUpdate(this.view.state)}),this.editor=e,this.addProsemirrorPlugin(new le({key:jne,view:n=>(this.view=new Lne(e,n,o=>{this.emit("update",o)}),this.view)}))}static key(){return"sideMenu"}onUpdate(e){return this.on("update",e)}}const Yh=new Map;function $ne(t){if(Yh.has(t))return Yh.get(t);const e=new Sc;return t._tiptapEditor.on("transaction",({transaction:n})=>{e.appendMapping(n.mapping)}),t._tiptapEditor.on("destroy",()=>{Yh.delete(t)}),Yh.set(t,e),e}function zne(t,e,n="left"){const o=Ee.getState(t._tiptapEditor.state);if(!o){const i=$ne(t),s=i.maps.length;return()=>i.slice(s).map(e,n==="left"?-1:1)}const r=of(e+(n==="right"?1:0),o.binding.type,o.binding.mapping);return()=>{const i=Ee.getState(t._tiptapEditor.state),s=El(i.doc,i.binding.type,r,i.binding.mapping);if(s===null)throw new Error("Position not found, cannot track positions");return s+(n==="right"?-1:0)}}const Pne=Pb(t=>t.type.name==="blockContainer");class Ine{constructor(e,n){A(this,"state"),A(this,"emitUpdate"),A(this,"rootEl"),A(this,"pluginState"),A(this,"handleScroll",()=>{var i,s;if((i=this.state)!=null&&i.show){const l=(s=this.rootEl)==null?void 0:s.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);if(!l)return;this.state.referencePos=l.getBoundingClientRect(),this.emitUpdate(this.pluginState.triggerCharacter)}}),A(this,"closeMenu",()=>{this.editor.transact(i=>i.setMeta(sc,null))}),A(this,"clearQuery",()=>{this.pluginState!==void 0&&this.editor._tiptapEditor.chain().focus().deleteRange({from:this.pluginState.queryStartPos()-(this.pluginState.deleteTriggerCharacter?this.pluginState.triggerCharacter.length:0),to:this.editor.transact(i=>i.selection.from)}).run()});var o,r;this.editor=e,this.pluginState=void 0,this.emitUpdate=i=>{var s;if(!this.state)throw new Error("Attempting to update uninitialized suggestions menu");n(i,{...this.state,ignoreQueryLength:(s=this.pluginState)==null?void 0:s.ignoreQueryLength})},this.rootEl=(o=this.editor.prosemirrorView)==null?void 0:o.root,(r=this.rootEl)==null||r.addEventListener("scroll",this.handleScroll,!0)}update(e,n){var o;const r=sc.getState(n),i=sc.getState(e.state),s=r===void 0&&i!==void 0,l=r!==void 0&&i===void 0;if(!s&&!(r!==void 0&&i!==void 0)&&!l)return;if(this.pluginState=l?r:i,l||!this.editor.isEditable){this.state&&(this.state.show=!1),this.emitUpdate(this.pluginState.triggerCharacter);return}const a=(o=this.rootEl)==null?void 0:o.querySelector(`[data-decoration-id="${this.pluginState.decorationId}"]`);this.editor.isEditable&&a&&(this.state={show:!0,referencePos:a.getBoundingClientRect(),query:this.pluginState.query},this.emitUpdate(this.pluginState.triggerCharacter))}destroy(){var e;(e=this.rootEl)==null||e.removeEventListener("scroll",this.handleScroll,!0)}}const sc=new xe("SuggestionMenuPlugin");class Hne extends Bt{constructor(e){super(),A(this,"view"),A(this,"triggerCharacters",[]),A(this,"addTriggerCharacter",o=>{this.triggerCharacters.push(o)}),A(this,"removeTriggerCharacter",o=>{this.triggerCharacters=this.triggerCharacters.filter(r=>r!==o)}),A(this,"closeMenu",()=>this.view.closeMenu()),A(this,"clearQuery",()=>this.view.clearQuery());const n=this.triggerCharacters;this.addProsemirrorPlugin(new le({key:sc,view:()=>(this.view=new Ine(e,(o,r)=>{this.emit(`update ${o}`,r)}),this.view),state:{init(){},apply:(o,r,i,s)=>{if(o.getMeta("orderedListIndexing")!==void 0||o.selection.$from.parent.type.spec.code)return r;const l=o.getMeta(sc);if(typeof l=="object"&&l!==null){r&&this.closeMenu();const c=zne(e,s.selection.from-l.triggerCharacter.length);return{triggerCharacter:l.triggerCharacter,deleteTriggerCharacter:l.deleteTriggerCharacter!==!1,queryStartPos:()=>c()+l.triggerCharacter.length,query:"",decorationId:`id_${Math.floor(Math.random()*4294967295)}`,ignoreQueryLength:l==null?void 0:l.ignoreQueryLength}}if(r===void 0)return r;if(s.selection.from!==s.selection.to||l===null||o.getMeta("focus")||o.getMeta("blur")||o.getMeta("pointer")||r.triggerCharacter!==void 0&&s.selection.from<r.queryStartPos()||!s.selection.$from.sameParent(s.doc.resolve(r.queryStartPos())))return;const a={...r};return a.query=s.doc.textBetween(r.queryStartPos(),s.selection.from),a}},props:{handleTextInput(o,r,i,s){if(r===i){const l=o.state.doc;for(const a of n){const c=a.length>1?l.textBetween(r-a.length,r)+s:s;if(a===c)return o.dispatch(o.state.tr.insertText(s)),o.dispatch(o.state.tr.setMeta(sc,{triggerCharacter:c}).scrollIntoView()),!0}}return!1},decorations(o){const r=this.getState(o);if(r===void 0)return null;if(!r.deleteTriggerCharacter){const i=Pne(o.selection);if(i)return he.create(o.doc,[Te.node(i.pos,i.pos+i.node.nodeSize,{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":r.decorationId})])}return he.create(o.doc,[Te.inline(r.queryStartPos()-r.triggerCharacter.length,r.queryStartPos(),{nodeName:"span",class:"bn-suggestion-decorator","data-decoration-id":r.decorationId})])}}}))}static key(){return"suggestionMenu"}onUpdate(e,n){return this.triggerCharacters.includes(e)||this.addTriggerCharacter(e),this.on(`update ${e}`,n)}get shown(){var e,n;return((n=(e=this.view)==null?void 0:e.state)==null?void 0:n.show)||!1}}const Vne=Zt.create({name:"insertion",inclusive:!1,excludes:"deletion modification insertion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(t){return t.name!=="insertion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(e,n){return["ins",{"data-id":String(e.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"ins",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10)}:!1}}]}}}),Une=Zt.create({name:"deletion",inclusive:!1,excludes:"insertion modification deletion",addAttributes(){return{id:{default:null,validate:"number"}}},extendMarkSchema(t){return t.name!=="deletion"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(e,n){return["del",{"data-id":String(e.attrs.id),"data-inline":String(n),...!n&&{style:"display: contents"}},0]},parseDOM:[{tag:"del",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10)}:!1}}]}}}),Fne=Zt.create({name:"modification",inclusive:!1,excludes:"deletion insertion",addAttributes(){return{id:{default:null,validate:"number"},type:{validate:"string"},attrName:{default:null,validate:"string|null"},previousValue:{default:null},newValue:{default:null}}},extendMarkSchema(t){return t.name!=="modification"?{}:{blocknoteIgnore:!0,inclusive:!1,toDOM(e,n){return[n?"span":"div",{"data-type":"modification","data-id":String(e.attrs.id),"data-mod-type":e.attrs.type,"data-mod-prev-val":JSON.stringify(e.attrs.previousValue),"data-mod-new-val":JSON.stringify(e.attrs.newValue)},0]},parseDOM:[{tag:"span[data-type='modification']",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10),type:e.dataset.modType,previousValue:e.dataset.modPrevVal,newValue:e.dataset.modNewVal}:!1}},{tag:"div[data-type='modification']",getAttrs(e){return e.dataset.id?{id:parseInt(e.dataset.id,10),type:e.dataset.modType,previousValue:e.dataset.modPrevVal}:!1}}]}}});let _n;function iA(t){_n||(_n=document.createElement("div"),_n.innerHTML="_",_n.style.opacity="0",_n.style.height="1px",_n.style.width="1px",t instanceof Document?t.body.appendChild(_n):t.appendChild(_n))}function qne(t){_n&&(t instanceof Document?t.body.removeChild(_n):t.removeChild(_n),_n=void 0)}function Xh(t){return Array.prototype.indexOf.call(t.parentElement.childNodes,t)}function Gne(t){let e=t;for(;e&&e.nodeName!=="TD"&&e.nodeName!=="TH"&&!e.classList.contains("tableWrapper");){if(e.classList.contains("ProseMirror"))return;const n=e.parentNode;if(!n||!(n instanceof Element))return;e=n}return e.nodeName==="TD"||e.nodeName==="TH"?{type:"cell",domNode:e,tbodyNode:e.closest("tbody")}:{type:"wrapper",domNode:e,tbodyNode:e.querySelector("tbody")}}function Zne(t,e){const n=e.querySelectorAll(t);for(let o=0;o<n.length;o++)n[o].style.visibility="hidden"}class Kne{constructor(e,n,o){A(this,"state"),A(this,"emitUpdate"),A(this,"tableId"),A(this,"tablePos"),A(this,"tableElement"),A(this,"menuFrozen",!1),A(this,"mouseState","up"),A(this,"prevWasEditable",null),A(this,"viewMousedownHandler",()=>{this.mouseState="down"}),A(this,"mouseUpHandler",r=>{this.mouseState="up",this.mouseMoveHandler(r)}),A(this,"mouseMoveHandler",r=>{var i,s,l,a,c,u,d;if(this.menuFrozen||this.mouseState==="selecting"||!(r.target instanceof Element)||!this.pmView.dom.contains(r.target))return;const f=Gne(r.target);if((f==null?void 0:f.type)==="cell"&&this.mouseState==="down"&&!((i=this.state)!=null&&i.draggingState)){this.mouseState="selecting",(s=this.state)!=null&&s.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!f||!this.editor.isEditable){(l=this.state)!=null&&l.show&&(this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate());return}if(!f.tbodyNode)return;const h=f.tbodyNode.getBoundingClientRect(),p=b8(f.domNode,this.pmView);if(!p)return;this.tableElement=p.node;let m;const b=this.editor.transact(k=>gn(p.id,k.doc));if(!b)throw new Error(`Block with ID ${p.id} not found`);const y=Ge(b.node,this.editor.pmSchema,this.editor.schema.blockSchema,this.editor.schema.inlineContentSchema,this.editor.schema.styleSchema);if(nte("table",y,this.editor)&&(this.tablePos=b.posBeforeNode+1,m=y),!m)return;this.tableId=p.id;const w=(a=f.domNode.closest(".tableWrapper"))==null?void 0:a.querySelector(".table-widgets-container");if((f==null?void 0:f.type)==="wrapper"){const k=r.clientY>=h.bottom-1&&r.clientY<h.bottom+20,x=r.clientX>=h.right-1&&r.clientX<h.right+20,C=r.clientX>h.right||r.clientY>h.bottom;this.state={...this.state,show:!0,showAddOrRemoveRowsButton:k,showAddOrRemoveColumnsButton:x,referencePosTable:h,block:m,widgetContainer:w,colIndex:C||(c=this.state)==null?void 0:c.colIndex,rowIndex:C||(u=this.state)==null?void 0:u.rowIndex,referencePosCell:C||(d=this.state)==null?void 0:d.referencePosCell}}else{const k=Xh(f.domNode),x=Xh(f.domNode.parentElement),C=f.domNode.getBoundingClientRect();if(this.state!==void 0&&this.state.show&&this.tableId===p.id&&this.state.rowIndex===x&&this.state.colIndex===k)return;this.state={show:!0,showAddOrRemoveColumnsButton:k===m.content.rows[0].cells.length-1,showAddOrRemoveRowsButton:x===m.content.rows.length-1,referencePosTable:h,block:m,draggingState:void 0,referencePosCell:C,colIndex:k,rowIndex:x,widgetContainer:w}}return this.emitUpdate(),!1}),A(this,"dragOverHandler",r=>{var i;if(((i=this.state)==null?void 0:i.draggingState)===void 0)return;r.preventDefault(),r.dataTransfer.dropEffect="move",Zne(".prosemirror-dropcursor-block, .prosemirror-dropcursor-inline",this.pmView.root);const s={left:Math.min(Math.max(r.clientX,this.state.referencePosTable.left+1),this.state.referencePosTable.right-1),top:Math.min(Math.max(r.clientY,this.state.referencePosTable.top+1),this.state.referencePosTable.bottom-1)},l=this.pmView.root.elementsFromPoint(s.left,s.top).filter(m=>m.tagName==="TD"||m.tagName==="TH");if(l.length===0)return;const a=l[0];let c=!1;const u=Xh(a.parentElement),d=Xh(a),f=this.state.draggingState.draggedCellOrientation==="row"?this.state.rowIndex:this.state.colIndex,h=(this.state.draggingState.draggedCellOrientation==="row"?u:d)!==f;(this.state.rowIndex!==u||this.state.colIndex!==d)&&(this.state.rowIndex=u,this.state.colIndex=d,this.state.referencePosCell=a.getBoundingClientRect(),c=!0);const p=this.state.draggingState.draggedCellOrientation==="row"?s.top:s.left;this.state.draggingState.mousePos!==p&&(this.state.draggingState.mousePos=p,c=!0),c&&this.emitUpdate(),h&&this.editor.transact(m=>m.setMeta(Hu,!0))}),A(this,"dropHandler",r=>{if(this.mouseState="up",this.state===void 0||this.state.draggingState===void 0)return!1;if(this.state.rowIndex===void 0||this.state.colIndex===void 0)throw new Error("Attempted to drop table row or column, but no table block was hovered prior.");r.preventDefault();const{draggingState:i,colIndex:s,rowIndex:l}=this.state,a=this.state.block.content.columnWidths;if(i.draggedCellOrientation==="row"){if(!M6(this.state.block,i.originalIndex,l))return!1;const c=OQ(this.state.block,i.originalIndex,l);this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,rows:c}})}else{if(!T6(this.state.block,i.originalIndex,s))return!1;const c=RQ(this.state.block,i.originalIndex,s),[u]=a.splice(i.originalIndex,1);a.splice(s,0,u),this.editor.updateBlock(this.state.block,{type:"table",content:{...this.state.block.content,columnWidths:a,rows:c}})}return this.editor.setTextCursorPosition(this.state.block.id),!0}),this.editor=e,this.pmView=n,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized image toolbar");o(this.state)},n.dom.addEventListener("mousemove",this.mouseMoveHandler),n.dom.addEventListener("mousedown",this.viewMousedownHandler),window.addEventListener("mouseup",this.mouseUpHandler),n.root.addEventListener("dragover",this.dragOverHandler),n.root.addEventListener("drop",this.dropHandler)}update(){var e;if(!this.state||!this.state.show)return;if(this.state.block=this.editor.getBlock(this.state.block.id),!this.state.block||this.state.block.type!=="table"||!((e=this.tableElement)!=null&&e.isConnected)){this.state.show=!1,this.state.showAddOrRemoveRowsButton=!1,this.state.showAddOrRemoveColumnsButton=!1,this.emitUpdate();return}const{height:n,width:o}=oS(this.state.block);this.state.rowIndex!==void 0&&this.state.colIndex!==void 0&&(this.state.rowIndex>=n&&(this.state.rowIndex=n-1),this.state.colIndex>=o&&(this.state.colIndex=o-1));const r=this.tableElement.querySelector("tbody");if(!r)throw new Error("Table block does not contain a 'tbody' HTML element. This should never happen.");if(this.state.rowIndex!==void 0&&this.state.colIndex!==void 0){const i=r.children[this.state.rowIndex].children[this.state.colIndex];i?this.state.referencePosCell=i.getBoundingClientRect():(this.state.rowIndex=void 0,this.state.colIndex=void 0)}this.state.referencePosTable=r.getBoundingClientRect(),this.emitUpdate()}destroy(){this.pmView.dom.removeEventListener("mousemove",this.mouseMoveHandler),window.removeEventListener("mouseup",this.mouseUpHandler),this.pmView.dom.removeEventListener("mousedown",this.viewMousedownHandler),this.pmView.root.removeEventListener("dragover",this.dragOverHandler),this.pmView.root.removeEventListener("drop",this.dropHandler)}}const Hu=new xe("TableHandlesPlugin");class Wne extends Bt{constructor(e){super(),A(this,"view"),A(this,"colDragStart",n=>{if(this.view.state===void 0||this.view.state.colIndex===void 0)throw new Error("Attempted to drag table column, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"col",originalIndex:this.view.state.colIndex,mousePos:n.clientX},this.view.emitUpdate(),this.editor.transact(o=>o.setMeta(Hu,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.colIndex,newIndex:this.view.state.colIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");iA(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(_n,0,0),n.dataTransfer.effectAllowed="move"}),A(this,"rowDragStart",n=>{if(this.view.state===void 0||this.view.state.rowIndex===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState={draggedCellOrientation:"row",originalIndex:this.view.state.rowIndex,mousePos:n.clientY},this.view.emitUpdate(),this.editor.transact(o=>o.setMeta(Hu,{draggedCellOrientation:this.view.state.draggingState.draggedCellOrientation,originalIndex:this.view.state.rowIndex,newIndex:this.view.state.rowIndex,tablePos:this.view.tablePos})),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");iA(this.editor.prosemirrorView.root),n.dataTransfer.setDragImage(_n,0,0),n.dataTransfer.effectAllowed="copyMove"}),A(this,"dragEnd",()=>{if(this.view.state===void 0)throw new Error("Attempted to drag table row, but no table block was hovered prior.");if(this.view.state.draggingState=void 0,this.view.emitUpdate(),this.editor.transact(n=>n.setMeta(Hu,null)),!this.editor.prosemirrorView)throw new Error("Editor view not initialized.");qne(this.editor.prosemirrorView.root)}),A(this,"freezeHandles",()=>{this.view.menuFrozen=!0}),A(this,"unfreezeHandles",()=>{this.view.menuFrozen=!1}),A(this,"getCellsAtRowHandle",(n,o)=>$w(n,o)),A(this,"getCellsAtColumnHandle",(n,o)=>zw(n,o)),A(this,"setCellSelection",(n,o,r=o)=>{const i=this.view;if(!i)throw new Error("Table handles view not initialized");const s=n.doc.resolve(i.tablePos+1),l=n.doc.resolve(s.posAtIndex(o.row)+1),a=n.doc.resolve(l.posAtIndex(o.col)),c=n.doc.resolve(s.posAtIndex(r.row)+1),u=n.doc.resolve(c.posAtIndex(r.col)),d=n.tr;return d.setSelection(new je(a,u)),n.apply(d)}),A(this,"addRowOrColumn",(n,o)=>{this.editor.exec((r,i)=>{const s=this.setCellSelection(r,o.orientation==="row"?{row:n,col:0}:{row:0,col:n});return o.orientation==="row"?o.side==="above"?TK(s,i):AK(s,i):o.side==="left"?CK(s,i):SK(s,i)})}),A(this,"removeRowOrColumn",(n,o)=>o==="row"?this.editor.exec((r,i)=>{const s=this.setCellSelection(r,{row:n,col:0});return RK(s,i)}):this.editor.exec((r,i)=>{const s=this.setCellSelection(r,{row:0,col:n});return EK(s,i)})),A(this,"mergeCells",n=>this.editor.exec((o,r)=>{const i=n?this.setCellSelection(o,n.relativeStartCell,n.relativeEndCell):o;return DK(i,r)})),A(this,"splitCell",n=>this.editor.exec((o,r)=>{const i=n?this.setCellSelection(o,n):o;return LK(i,r)})),A(this,"getCellSelection",()=>this.editor.transact(n=>{const o=n.selection;let r=o.$from,i=o.$to;if(Vw(o)){const{ranges:p}=o;p.forEach(m=>{r=m.$from.min(r??m.$from),i=m.$to.max(i??m.$to)})}else if(r=n.doc.resolve(o.$from.pos-o.$from.parentOffset-1),i=n.doc.resolve(o.$to.pos-o.$to.parentOffset-1),r.pos===0||i.pos===0)return;const s=n.doc.resolve(r.pos-r.parentOffset-1),l=n.doc.resolve(i.pos-i.parentOffset-1),a=n.doc.resolve(s.pos-s.parentOffset-1),c=r.index(s.depth),u=s.index(a.depth),d=i.index(l.depth),f=l.index(a.depth),h=[];for(let p=u;p<=f;p++)for(let m=c;m<=d;m++)h.push({row:p,col:m});return{from:{row:u,col:c},to:{row:f,col:d},cells:h}})),A(this,"getMergeDirection",n=>this.editor.transact(o=>{const r=Vw(o.selection)?o.selection:void 0;if(!r||!n||r.ranges.length<=1)return;const i=this.getCellSelection();if(i)return jQ(i.from,i.to,n)?"vertical":"horizontal"})),A(this,"cropEmptyRowsOrColumns",(n,o)=>DQ(n,o)),A(this,"addRowsOrColumns",(n,o,r)=>LQ(n,o,r)),this.editor=e,this.addProsemirrorPlugin(new le({key:Hu,view:n=>(this.view=new Kne(e,n,o=>{this.emit("update",o)}),this.view),props:{decorations:n=>{if(this.view===void 0||this.view.state===void 0||this.view.state.draggingState===void 0||this.view.tablePos===void 0)return;const o=this.view.state.draggingState.draggedCellOrientation==="row"?this.view.state.rowIndex:this.view.state.colIndex;if(o===void 0)return;const r=[],{block:i,draggingState:s}=this.view.state,{originalIndex:l,draggedCellOrientation:a}=s;if(o===l||!i||a==="row"&&!M6(i,l,o)||a==="col"&&!T6(i,l,o))return he.create(n.doc,r);const c=n.doc.resolve(this.view.tablePos+1);return this.view.state.draggingState.draggedCellOrientation==="row"?$w(this.view.state.block,o).forEach(({row:u,col:d})=>{const f=n.doc.resolve(c.posAtIndex(u)+1),h=n.doc.resolve(f.posAtIndex(d)+1),p=h.node(),m=h.pos+(o>l?p.nodeSize-2:0);r.push(Te.widget(m,()=>{const b=document.createElement("div");return b.className="bn-table-drop-cursor",b.style.left="0",b.style.right="0",o>l?b.style.bottom="-2px":b.style.top="-3px",b.style.height="4px",b}))}):zw(this.view.state.block,o).forEach(({row:u,col:d})=>{const f=n.doc.resolve(c.posAtIndex(u)+1),h=n.doc.resolve(f.posAtIndex(d)+1),p=h.node(),m=h.pos+(o>l?p.nodeSize-2:0);r.push(Te.widget(m,()=>{const b=document.createElement("div");return b.className="bn-table-drop-cursor",b.style.top="0",b.style.bottom="0",o>l?b.style.right="-2px":b.style.left="-3px",b.style.width="4px",b}))}),he.create(n.doc,r)}}}))}static key(){return"tableHandles"}onUpdate(e){return this.on("update",e)}}const Yne=Be.create({name:"textAlignment",addGlobalAttributes(){return[{types:["paragraph","heading","bulletListItem","numberedListItem","checkListItem","tableCell","tableHeader"],attributes:{textAlignment:{default:"left",parseHTML:t=>t.getAttribute("data-text-alignment"),renderHTML:t=>t.textAlignment==="left"?{}:{"data-text-alignment":t.textAlignment}}}}]}}),Xne=Be.create({name:"blockTextColor",addGlobalAttributes(){return[{types:["blockContainer","tableCell","tableHeader"],attributes:{textColor:{default:rt.textColor.default,parseHTML:t=>t.hasAttribute("data-text-color")?t.getAttribute("data-text-color"):rt.textColor.default,renderHTML:t=>t.textColor===rt.textColor.default?{}:{"data-text-color":t.textColor}}}}]}}),Jne=Be.create({name:"trailingNode",addProseMirrorPlugins(){const t=new xe(this.name);return[new le({key:t,appendTransaction:(e,n,o)=>{const{doc:r,tr:i,schema:s}=o,l=t.getState(o),a=r.content.size-2,c=s.nodes.blockContainer,u=s.nodes.paragraph;if(l)return i.insert(a,c.create(void 0,u.create()))},state:{init:(e,n)=>{},apply:(e,n)=>{if(!e.docChanged)return n;let o=e.doc.lastChild;if(!o||o.type.name!=="blockGroup")throw new Error("Expected blockGroup");if(o=o.lastChild,!o||o.type.name!=="blockContainer")return!0;const r=o.firstChild;if(!r)throw new Error("Expected blockContent");return o.nodeSize>4||r.type.spec.content!=="inline*"}}})]}}),Qne={blockColor:"data-block-color",blockStyle:"data-block-style",id:"data-id",depth:"data-depth",depthChange:"data-depth-change"},eoe=Or.create({name:"blockContainer",group:"blockGroupChild bnBlock",content:"blockContent blockGroup?",priority:50,defining:!0,marks:"insertion modification deletion",parseHTML(){return[{tag:"div[data-node-type="+this.name+"]",getAttrs:t=>{if(typeof t=="string")return!1;const e={};for(const[n,o]of Object.entries(Qne))t.getAttribute(o)&&(e[n]=t.getAttribute(o));return e}},{tag:'div[data-node-type="blockOuter"]',skip:!0}]},renderHTML({HTMLAttributes:t}){var e;const n=document.createElement("div");n.className="bn-block-outer",n.setAttribute("data-node-type","blockOuter");for(const[i,s]of Object.entries(t))i!=="class"&&n.setAttribute(i,s);const o={...((e=this.options.domAttributes)==null?void 0:e.block)||{},...t},r=document.createElement("div");r.className=qe("bn-block",o.class),r.setAttribute("data-node-type",this.name);for(const[i,s]of Object.entries(o))i!=="class"&&r.setAttribute(i,s);return n.appendChild(r),{dom:n,contentDOM:r}}}),toe=Or.create({name:"blockGroup",group:"childContainer",content:"blockGroupChild+",marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")==="blockGroup"?null:!1}]},renderHTML({HTMLAttributes:t}){var e;const n={...((e=this.options.domAttributes)==null?void 0:e.blockGroup)||{},...t},o=document.createElement("div");o.className=qe("bn-block-group",n.class),o.setAttribute("data-node-type","blockGroup");for(const[r,i]of Object.entries(n))r!=="class"&&o.setAttribute(r,i);return{dom:o,contentDOM:o}}}),noe=Or.create({name:"doc",topNode:!0,content:"blockGroup",marks:"insertion modification deletion"});class ooe extends Bt{constructor({editor:e,collaboration:n}){super(e),A(this,"editor"),A(this,"collaboration"),A(this,"forkedState"),this.editor=e,this.collaboration=n}static key(){return"ForkYDocPlugin"}findTypeInOtherYdoc(e,n){const o=e.doc;if(e._item===null){const r=Array.from(o.share.keys()).find(i=>o.share.get(i)===e);if(r==null)throw new Error("type does not exist in other ydoc");return n.get(r,e.constructor)}else{const r=e._item,i=n.store.clients.get(r.id.client)??[],s=Ao(i,r.id.clock);return i[s].content.type}}get isForkedFromRemote(){return this.forkedState!==void 0}fork(){if(this.isForkedFromRemote)return;const e=this.collaboration.fragment;if(!e)throw new Error("No fragment to fork from");const n=new Is;bT(n,yT(e.doc));const o=this.findTypeInOtherYdoc(e,n);this.forkedState={undoStack:xo.getState(this.editor.prosemirrorState).undoManager.undoStack,originalFragment:e,forkedFragment:o},this.editor._tiptapEditor.unregisterPlugin([Pu,xo,Ee]),this.editor._tiptapEditor.registerPlugin(new Fw(o).plugins[0]),this.editor._tiptapEditor.registerPlugin(new qw({editor:this.editor}).plugins[0]),this.emit("forked",!0)}merge({keepChanges:e}){if(!this.forkedState)return;this.editor._tiptapEditor.unregisterPlugin(Ee),this.editor._tiptapEditor.unregisterPlugin(xo);const{originalFragment:n,forkedFragment:o,undoStack:r}=this.forkedState;if(this.editor.extensions.ySyncPlugin=new Fw(n),this.editor.extensions.yCursorPlugin=new f8(this.collaboration),this.editor.extensions.yUndoPlugin=new qw({editor:this.editor}),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.ySyncPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yCursorPlugin.plugins[0]),this.editor._tiptapEditor.registerPlugin(this.editor.extensions.yUndoPlugin.plugins[0]),xo.getState(this.editor.prosemirrorState).undoManager.undoStack=r,e){const i=yT(o.doc,MX(n.doc));bT(n.doc,i,this.editor)}this.forkedState=void 0,this.emit("forked",!1)}}const roe=t=>{var e;const n={},o=ioe(t);for(const i of o)n[i.name]=i;t.collaboration&&(n.ySyncPlugin=new Fw(t.collaboration.fragment),n.yUndoPlugin=new qw({editor:t.editor}),(e=t.collaboration.provider)!=null&&e.awareness&&(n.yCursorPlugin=new f8(t.collaboration)),n.forkYDocPlugin=new ooe({editor:t.editor,collaboration:t.collaboration})),n.formattingToolbar=new gne(t.editor),n.linkToolbar=new Cne(t.editor),n.sideMenu=new Bne(t.editor),n.suggestionMenus=new Hne(t.editor),n.filePanel=new hne(t.editor),n.placeholder=new Mne(t.editor,t.placeholders),(t.animations??!0)&&(n.animations=new Ane),t.tableHandles&&(n.tableHandles=new Wne(t.editor)),n.nodeSelectionKeyboard=new _ne,n.blockChange=new lne,n.showSelection=new Nne(t.editor),t.comments&&(n.comments=new dne(t.editor,t.comments.threadStore,h8.name));const r=t.disableExtensions||[];for(const i of r)delete n[i];return n};let sA=!1;const ioe=t=>{const e=[Eu.ClipboardTextSerializer,Eu.Commands,Eu.Editable,Eu.FocusEvents,Eu.Tabindex,uW,Be.create({name:"dropCursor",addProseMirrorPlugins:()=>[t.dropCursor({width:5,color:"#ddeeff",editor:t.editor})]}),Ff.configure({types:["blockContainer","columnList","column"],setIdAttribute:t.setIdAttribute}),bne,GW,Vne,Une,Fne,qW.extend({inclusive:!1}).configure({defaultProtocol:g8,protocols:sA?[]:m8}),...Object.values(t.styleSpecs).map(n=>n.implementation.mark.configure({editor:t.editor})),Xne,sne,Yne,Be.create({name:"OverrideEscape",addKeyboardShortcuts(){return{Escape:()=>t.editor.suggestionMenus.shown?!1:this.editor.commands.blur()}}}),noe,eoe.configure({editor:t.editor,domAttributes:t.domAttributes}),wne.configure({editor:t.editor,tabBehavior:t.tabBehavior}),toe.configure({domAttributes:t.domAttributes}),...Object.values(t.inlineContentSpecs).filter(n=>n.config!=="link"&&n.config!=="text").map(n=>n.implementation.node.configure({editor:t.editor})),...Object.values(t.blockSpecs).flatMap(n=>[...(n.implementation.requiredExtensions||[]).map(o=>o.configure({editor:t.editor,domAttributes:t.domAttributes})),n.implementation.node.configure({editor:t.editor,domAttributes:t.domAttributes})]),ine(t.editor),one(t.editor,t.pasteHandler||(n=>n.defaultPasteHandler())),Ite(t.editor),...t.trailingBlock===void 0||t.trailingBlock?[Jne]:[],...t.comments?[h8]:[]];return sA=!0,t.collaboration||e.push(wW),e};function soe(t,e){const n=[];return t.forEach((o,r,i)=>{i!==e&&n.push(o)}),D.from(n)}function loe(t,e){const n=[];for(let o=0;o<t.childCount;o++)if(t.child(o).type.name==="tableRow")if(n.length>0&&n[n.length-1].type.name==="table"){const r=n[n.length-1],i=r.copy(r.content.addToEnd(t.child(o)));n[n.length-1]=i}else{const r=e.nodes.table.createChecked(void 0,t.child(o));n.push(r)}else n.push(t.child(o));return t=D.from(n),t}function aoe(t,e){let n=D.from(t.content);if(n=loe(n,e.state.schema),!coe(n,e))return new H(n,t.openStart,t.openEnd);for(let o=0;o<n.childCount;o++)if(n.child(o).type.spec.group==="blockContent"){const r=[n.child(o)];if(o+1<n.childCount&&n.child(o+1).type.name==="blockGroup"){const s=n.child(o+1).child(0).child(0);(s.type.name==="bulletListItem"||s.type.name==="numberedListItem"||s.type.name==="checkListItem")&&(r.push(n.child(o+1)),n=soe(n,o+1))}const i=e.state.schema.nodes.blockContainer.createChecked(void 0,r);n=n.replaceChild(o,i)}return new H(n,t.openStart,t.openEnd)}function coe(t,e){var n,o;const r=t.childCount===1,i=((n=t.firstChild)==null?void 0:n.type.spec.content)==="inline*",s=((o=t.firstChild)==null?void 0:o.type.spec.content)==="tableRow+";if(r){if(i)return!1;if(s){const l=Ye(e.state);if(l.isBlockContainer)return l.blockContent.node.type.spec.content!=="tableRow+"}}return!0}const Kw=class extends RZ{constructor(e,n){super({...e,content:void 0}),A(this,"_state"),A(this,"mount",(l,a,c)=>{a?(this.options.element=a,this.createViewAlternative(l,c)):(this.destroy(),this.isInitialized=!1)});const o=this.schema;let r;const i=o.nodes.doc.createAndFill;o.nodes.doc.createAndFill=(...l)=>{if(r)return r;const a=i.apply(o.nodes.doc,l),c=JSON.parse(JSON.stringify(a.toJSON()));return c.content[0].content[0].attrs.id="initialBlockId",r=ci.fromJSON(o,c),r};let s;try{const l=e==null?void 0:e.content.map(a=>na(a,this.schema,n).toJSON());s=Dm({type:"doc",content:[{type:"blockGroup",content:l}]},this.schema,this.options.parseOptions)}catch(l){throw console.error("Error creating document from blocks passed as `initialContent`. Caused by exception: ",l),new Error("Error creating document from blocks passed as `initialContent`:\n"+ +JSON.stringify(e.content))}this._state=sl.create({doc:s,schema:this.schema})}get state(){return this.view&&(this._state=this.view.state),this._state}dispatch(e){if(!this.view){this._state=this.state.apply(e),this.emit("transaction",{editor:this,transaction:e});return}if(this.view.isDestroyed)return;if(this.isCapturingTransaction){this.dispatchTransaction(e);return}const{state:n,transactions:o}=this.state.applyTransaction(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&(this.emit("update",{editor:this,transaction:e}),this.emit("v3-update",{editor:this,transaction:e,appendedTransactions:o.slice(1)}))}forceEnablePlugins(){if(this.view)throw new Error("forcePluginsEnabled called after view has been initialized");this._state=this.state.reconfigure({plugins:this.extensionManager.plugins})}createViewAlternative(e,n){this.contentComponent=n;const o={};this.extensionManager.extensions.forEach(i=>{i.type==="mark"&&i.config.addMarkView&&(o[i.name]=i.config.addMarkView(e))}),this.view=new nC({mount:this.options.element},{...this.options.editorProps,dispatchTransaction:this.dispatch.bind(this),state:this.state,markViews:o,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.commands.focus(this.options.autofocus||this.options.element.getAttribute("data-bn-autofocus")==="true",{scrollIntoView:!1}),this.emit("create",{editor:this}),this.isInitialized=!0}};A(Kw,"create",(t,e)=>{var n,o;const r=(n=globalThis==null?void 0:globalThis.window)==null?void 0:n.setTimeout;typeof((o=globalThis==null?void 0:globalThis.window)==null?void 0:o.setTimeout)<"u"&&(globalThis.window.setTimeout=()=>0);try{return new Kw(t,e)}finally{r&&(globalThis.window.setTimeout=r)}});let v8=Kw;v8.prototype.createView=function(){this.options.onPaste=this.options.onDrop=void 0};const uoe={enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!1};let doe=class w8 extends fS{constructor(e){var n,o,r,i,s,l,a,c,u,d,f,h,p,m,b,y;super(),A(this,"pmSchema"),A(this,"extensions",{}),A(this,"headless",!1),A(this,"_tiptapEditor"),A(this,"elementRenderer",null),A(this,"blockCache",new WeakMap),A(this,"dictionary"),A(this,"schema"),A(this,"blockImplementations"),A(this,"inlineContentImplementations"),A(this,"styleImplementations"),A(this,"formattingToolbar"),A(this,"linkToolbar"),A(this,"sideMenu"),A(this,"suggestionMenus"),A(this,"filePanel"),A(this,"tableHandles"),A(this,"comments"),A(this,"showSelectionPlugin"),A(this,"forkYDocPlugin"),A(this,"uploadFile"),A(this,"onUploadStartCallbacks",[]),A(this,"onUploadEndCallbacks",[]),A(this,"resolveFileUrl"),A(this,"resolveUsers"),A(this,"settings"),A(this,"activeTransaction",null),A(this,"mount",(S,M)=>{this._tiptapEditor.mount(this,S,M)}),this.options=e;const w=e;if(w.onEditorContentChange)throw new Error("onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)");if(w.onTextCursorPositionChange)throw new Error("onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)");if(w.onEditorReady)throw new Error("onEditorReady is deprecated. Editor is immediately ready for use after creation.");if(w.editable)throw new Error("editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false");this.dictionary=e.dictionary||YC,this.settings={tables:{splitCells:((n=e==null?void 0:e.tables)==null?void 0:n.splitCells)??!1,cellBackgroundColor:((o=e==null?void 0:e.tables)==null?void 0:o.cellBackgroundColor)??!1,cellTextColor:((r=e==null?void 0:e.tables)==null?void 0:r.cellTextColor)??!1,headers:((i=e==null?void 0:e.tables)==null?void 0:i.headers)??!1},codeBlock:{indentLineWithTab:((s=e==null?void 0:e.codeBlock)==null?void 0:s.indentLineWithTab)??!0,defaultLanguage:((l=e==null?void 0:e.codeBlock)==null?void 0:l.defaultLanguage)??"text",supportedLanguages:((a=e==null?void 0:e.codeBlock)==null?void 0:a.supportedLanguages)??{},createHighlighter:((c=e==null?void 0:e.codeBlock)==null?void 0:c.createHighlighter)??void 0},heading:{levels:((u=e==null?void 0:e.heading)==null?void 0:u.levels)??[1,2,3]}};const k={defaultStyles:!0,schema:e.schema||su.create(),_headless:!1,...e,placeholders:{...this.dictionary.placeholders,...e.placeholders}};if(k.comments&&!k.resolveUsers)throw new Error("resolveUsers is required when using comments");this.resolveUsers=k.resolveUsers,this.schema=k.schema,this.blockImplementations=k.schema.blockSpecs,this.inlineContentImplementations=k.schema.inlineContentSpecs,this.styleImplementations=k.schema.styleSpecs,this.extensions=roe({editor:this,domAttributes:k.domAttributes||{},blockSpecs:this.schema.blockSpecs,styleSpecs:this.schema.styleSpecs,inlineContentSpecs:this.schema.inlineContentSpecs,collaboration:k.collaboration,trailingBlock:k.trailingBlock,disableExtensions:k.disableExtensions,setIdAttribute:k.setIdAttribute,animations:k.animations??!0,tableHandles:Kt("table",this),dropCursor:this.options.dropCursor??wQ,placeholders:k.placeholders,tabBehavior:k.tabBehavior,comments:k.comments,pasteHandler:k.pasteHandler}),(((d=k._tiptapOptions)==null?void 0:d.extensions)||[]).forEach(S=>{this.extensions[S.name]=S});for(let S of k.extensions||[]){typeof S=="function"&&(S=S(this));const M=S.constructor.key();if(!M)throw new Error(`Extension ${S.constructor.name} does not have a key method`);if(this.extensions[M])throw new Error(`Extension ${S.constructor.name} already exists with key ${M}`);this.extensions[M]=S}if(Object.entries(k._extensions||{}).forEach(([S,M])=>{const T=typeof M=="function"?M(this):M;if(!("plugin"in T)){this.extensions[S]=T;return}this.extensions[S]=new class extends Bt{static key(){return S}constructor(){super(),this.addProsemirrorPlugin(T.plugin)}get priority(){return T.priority}}}),this.formattingToolbar=this.extensions.formattingToolbar,this.linkToolbar=this.extensions.linkToolbar,this.sideMenu=this.extensions.sideMenu,this.suggestionMenus=this.extensions.suggestionMenus,this.filePanel=this.extensions.filePanel,this.tableHandles=this.extensions.tableHandles,this.comments=this.extensions.comments,this.showSelectionPlugin=this.extensions.showSelection,this.forkYDocPlugin=this.extensions.forkYDocPlugin,k.uploadFile){const S=k.uploadFile;this.uploadFile=async(M,T)=>{this.onUploadStartCallbacks.forEach(B=>B.apply(this,[T]));try{return await S(M,T)}finally{this.onUploadEndCallbacks.forEach(B=>B.apply(this,[T]))}}}this.resolveFileUrl=k.resolveFileUrl,this.headless=k._headless;const x="ySyncPlugin"in this.extensions||"liveblocksExtension"in this.extensions;x&&k.initialContent&&console.warn("When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider");const C=k.initialContent||(x?[{type:"paragraph",id:"initialBlockId"}]:[{type:"paragraph",id:Ff.options.generateID()}]);if(!Array.isArray(C)||C.length===0)throw new Error("initialContent must be a non-empty array of blocks, received: "+C);const E=[...Object.entries(this.extensions).map(([S,M])=>{if(M instanceof Be||M instanceof Or||M instanceof Zt)return M;if(!(M instanceof Bt&&!M.plugins.length))return Be.create({name:S,priority:M.priority,addProseMirrorPlugins:()=>M.plugins})})].filter(S=>S!==void 0),_={...uoe,...k._tiptapOptions,content:C,extensions:E,editorProps:{...(f=k._tiptapOptions)==null?void 0:f.editorProps,attributes:{tabIndex:"0",...(p=(h=k._tiptapOptions)==null?void 0:h.editorProps)==null?void 0:p.attributes,...(m=k.domAttributes)==null?void 0:m.editor,class:qe("bn-editor",k.defaultStyles?"bn-default-styles":"",((y=(b=k.domAttributes)==null?void 0:b.editor)==null?void 0:y.class)||"")},transformPasted:aoe}};this.headless?this.pmSchema=oZ(_.extensions):(this._tiptapEditor=v8.create(_,this.schema.styleSchema),this.pmSchema=this._tiptapEditor.schema),this.pmSchema.cached.blockNoteEditor=this,this.emit("create")}static create(e={}){return new w8(e)}exec(e){if(this.activeTransaction)throw new Error("`exec` should not be called within a `transact` call, move the `exec` call outside of the `transact` call");const n=this._tiptapEditor.state,o=this._tiptapEditor.view;return e(n,r=>this._tiptapEditor.dispatch(r),o)}canExec(e){if(this.activeTransaction)throw new Error("`canExec` should not be called within a `transact` call, move the `canExec` call outside of the `transact` call");const n=this._tiptapEditor.state,o=this._tiptapEditor.view;return e(n,void 0,o)}transact(e){if(this.activeTransaction)return e(this.activeTransaction);try{this.activeTransaction=this._tiptapEditor.state.tr;const n=e(this.activeTransaction),o=this.activeTransaction;return this.activeTransaction=null,o&&(o.docChanged||o.selectionSet||o.scrolledIntoView||o.storedMarksSet||!o.isGeneric)&&this._tiptapEditor.dispatch(o),n}finally{this.activeTransaction=null}}extension(e,n=e.key()){const o=this.extensions[n];if(!o)throw new Error(`Extension ${n} not found`);return o}get prosemirrorState(){if(this.activeTransaction)throw new Error("`prosemirrorState` should not be called within a `transact` call, move the `prosemirrorState` call outside of the `transact` call or use `editor.transact` to read the current editor state");return this._tiptapEditor.state}get prosemirrorView(){return this._tiptapEditor.view}get domElement(){var e;return(e=this.prosemirrorView)==null?void 0:e.dom}isFocused(){var e;return((e=this.prosemirrorView)==null?void 0:e.hasFocus())||!1}focus(){var e;(e=this.prosemirrorView)==null||e.focus()}onUploadStart(e){return this.onUploadStartCallbacks.push(e),()=>{const n=this.onUploadStartCallbacks.indexOf(e);n>-1&&this.onUploadStartCallbacks.splice(n,1)}}onUploadEnd(e){return this.onUploadEndCallbacks.push(e),()=>{const n=this.onUploadEndCallbacks.indexOf(e);n>-1&&this.onUploadEndCallbacks.splice(n,1)}}get topLevelBlocks(){return this.document}get document(){return this.transact(e=>TQ(e.doc,this.pmSchema))}getBlock(e){return this.transact(n=>vte(n.doc,e))}getPrevBlock(e){return this.transact(n=>wte(n.doc,e))}getNextBlock(e){return this.transact(n=>kte(n.doc,e))}getParentBlock(e){return this.transact(n=>xte(n.doc,e))}forEachBlock(e,n=!1){const o=this.document.slice();n&&o.reverse();function r(i){for(const s of i){if(e(s)===!1)return!1;const l=n?s.children.slice().reverse():s.children;if(!r(l))return!1}return!0}r(o)}onEditorContentChange(e){this._tiptapEditor.on("update",e)}onEditorSelectionChange(e){this._tiptapEditor.on("selectionUpdate",e)}getTextCursorPosition(){return this.transact(e=>Mte(e))}setTextCursorPosition(e,n="start"){return this.transact(o=>r8(o,e,n))}getSelection(){return this.transact(e=>Ste(e))}getSelectionCutBlocks(){return this.transact(e=>Ete(e))}setSelection(e,n){return this.transact(o=>_te(o,e,n))}get isEditable(){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return!1}return this._tiptapEditor.isEditable===void 0?!0:this._tiptapEditor.isEditable}set isEditable(e){if(!this._tiptapEditor){if(!this.headless)throw new Error("no editor, but also not headless?");return}this._tiptapEditor.options.editable!==e&&this._tiptapEditor.setEditable(e)}insertBlocks(e,n,o="before"){return this.transact(r=>IQ(r,e,n,o))}updateBlock(e,n){return this.transact(o=>VQ(o,e,n))}removeBlocks(e){return this.transact(n=>HT(n,e,[]).removedBlocks)}replaceBlocks(e,n){return this.transact(o=>HT(o,e,n))}undo(){return this.options.collaboration?this.exec(mQ):this.exec(yC)}redo(){return this.options.collaboration?this.exec(gQ):this.exec(vC)}insertInlineContent(e,{updateSelection:n=!1}={}){const o=Yo(e,this.pmSchema);this.transact(r=>{Cte(r,{from:r.selection.from,to:r.selection.to},o,{updateSelection:n})})}getActiveStyles(){return this.transact(e=>{const n={},o=e.selection.$to.marks();for(const r of o){const i=this.schema.styleSchema[r.type.name];if(!i){r.type.name!=="link"&&!r.type.spec.blocknoteIgnore&&console.warn("mark not found in styleschema",r.type.name);continue}i.propSchema==="boolean"?n[i.type]=!0:n[i.type]=r.attrs.stringValue}return n})}addStyles(e){for(const[n,o]of Object.entries(e)){const r=this.schema.styleSchema[n];if(!r)throw new Error(`style ${n} not found in styleSchema`);if(r.propSchema==="boolean")this._tiptapEditor.commands.setMark(n);else if(r.propSchema==="string")this._tiptapEditor.commands.setMark(n,{stringValue:o});else throw new Cr(r.propSchema)}}removeStyles(e){for(const n of Object.keys(e))this._tiptapEditor.commands.unsetMark(n)}toggleStyles(e){for(const[n,o]of Object.entries(e)){const r=this.schema.styleSchema[n];if(!r)throw new Error(`style ${n} not found in styleSchema`);if(r.propSchema==="boolean")this._tiptapEditor.commands.toggleMark(n);else if(r.propSchema==="string")this._tiptapEditor.commands.toggleMark(n,{stringValue:o});else throw new Cr(r.propSchema)}}getSelectedText(){return this.transact(e=>e.doc.textBetween(e.selection.from,e.selection.to))}getSelectedLinkUrl(){return this._tiptapEditor.getAttributes("link").href}createLink(e,n){if(e==="")return;const o=this.pmSchema.mark("link",{href:e});this.transact(r=>{const{from:i,to:s}=r.selection;n?r.insertText(n,i,s).addMark(i,i+n.length,o):r.setSelection(Z.create(r.doc,s)).addMark(i,s,o)})}canNestBlock(){return bte(this)}nestBlock(){o8(this)}canUnnestBlock(){return yte(this)}unnestBlock(){gte(this)}moveBlocksUp(){return hte(this)}moveBlocksDown(){return pte(this)}async blocksToHTMLLossy(e=this.document){return Jb(this.pmSchema,this).exportBlocks(e,{})}async blocksToFullHTML(e){return ZQ(this.pmSchema,this).serializeBlocks(e,{})}async tryParseHTMLToBlocks(e){return s8(e,this.pmSchema)}async blocksToMarkdownLossy(e=this.document){return Nte(e,this.pmSchema,this,{})}async tryParseMarkdownToBlocks(e){return $te(e,this.pmSchema)}updateCollaborationUserInfo(e){if(!this.options.collaboration)throw new Error("Cannot update collaboration user info when collaboration is disabled.");this.extensions.yCursorPlugin.updateUser(e)}beforeChange(e){return this.headless?()=>{}:this.extensions.blockChange.subscribe(n=>e(this,n))}onChange(e){if(this.headless)return;const n=({transaction:o,appendedTransactions:r})=>{e(this,{getChanges:()=>N6(o,r)})};return this._tiptapEditor.on("v3-update",n),()=>{this._tiptapEditor.off("v3-update",n)}}onSelectionChange(e,n){if(this.headless)return;const o=r=>{r.transaction.getMeta(Ee)&&!n||e(this)};return this._tiptapEditor.on("selectionUpdate",o),()=>{this._tiptapEditor.off("selectionUpdate",o)}}onCreate(e){return this.on("create",e),()=>{this.off("create",e)}}getSelectionBoundingBox(){if(!this.prosemirrorView)return;const{selection:e}=this.prosemirrorState,{ranges:n}=e,o=Math.min(...n.map(i=>i.$from.pos)),r=Math.max(...n.map(i=>i.$to.pos));if(lw(e)){const i=this.prosemirrorView.nodeDOM(o);if(i)return i.getBoundingClientRect()}return Lm(this.prosemirrorView,o,r)}get isEmpty(){const e=this.document;return e.length===0||e.length===1&&e[0].type==="paragraph"&&e[0].content.length===0}openSuggestionMenu(e,n){this.prosemirrorView&&(this.focus(),this.transact(o=>{n!=null&&n.deleteTriggerCharacter&&o.insertText(e),o.scrollIntoView().setMeta(this.suggestionMenus.plugins[0],{triggerCharacter:e,deleteTriggerCharacter:(n==null?void 0:n.deleteTriggerCharacter)||!1,ignoreQueryLength:(n==null?void 0:n.ignoreQueryLength)||!1})}))}getForceSelectionVisible(){return this.showSelectionPlugin.getEnabled()}setForceSelectionVisible(e){this.showSelectionPlugin.setEnabled(e)}convertHtmlToBlockNoteHtml(e){return i8(e.trim()).innerHTML}pasteHTML(e,n=!1){var o;let r=e;n||(r=this.convertHtmlToBlockNoteHtml(e)),r&&((o=this.prosemirrorView)==null||o.pasteHTML(r))}pasteText(e){var n;return(n=this.prosemirrorView)==null?void 0:n.pasteText(e)}async pasteMarkdown(e){return this.pasteHTML(await l8(e))}},f1;async function foe(){return f1||(f1=(async()=>{const[t,e]=await Promise.all([Cn(()=>import("./module-BvCTiNll.js"),[]),Cn(()=>import("./native-B5Vb9Oiz.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),f1)}async function hoe(t,e){if(!tte("text",t))return[];const{emojiData:n,emojiMart:o}=await foe();return(e.trim()===""?Object.values(n.emojis):await o.SearchIndex.search(e)).map(r=>({id:r.skins[0].native,onItemClick:()=>t.insertInlineContent(r.skins[0].native+" ")}))}function poe(t,...e){const n=[...t];for(const o of e)for(const r of o){const i=n.findLastIndex(s=>s.group===r.group);i===-1?n.push(r):n.splice(i+1,0,r)}return n}const moe={slash_menu:{heading:{title:"عنوان 1",subtext:"يستخدم لعناوين المستوى الأعلى",aliases:["ع","عنوان1","ع1"],group:"العناوين"},heading_2:{title:"عنوان 2",subtext:"يستخدم للأقسام الرئيسية",aliases:["ع2","عنوان2","عنوان فرعي"],group:"العناوين"},heading_3:{title:"عنوان 3",subtext:"يستخدم للأقسام الفرعية والعناوين المجموعة",aliases:["ع3","عنوان3","عنوان فرعي"],group:"العناوين"},heading_4:{title:"عنوان 4",subtext:"عنوان فرعي ثانوي صغير",aliases:["ع4","عنوان4","عنوان فرعي صغير"],group:"العناوين الفرعية"},heading_5:{title:"عنوان 5",subtext:"عنوان فرعي صغير",aliases:["ع5","عنوان5","عنوان فرعي صغير"],group:"العناوين الفرعية"},heading_6:{title:"عنوان 6",subtext:"أدنى مستوى للعناوين",aliases:["ع6","عنوان6","العنوان الفرعي الأدنى"],group:"العناوين الفرعية"},toggle_heading:{title:"عنوان قابل للطي 1",subtext:"عنوان قابل للطي لإظهار وإخفاء المحتوى",aliases:["ع","عنوان1","ع1","قابل للطي","طي"],group:"العناوين الفرعية"},toggle_heading_2:{title:"عنوان قابل للطي 2",subtext:"عنوان فرعي قابل للطي لإظهار وإخفاء المحتوى",aliases:["ع2","عنوان2","عنوان فرعي","قابل للطي","طي"],group:"العناوين الفرعية"},toggle_heading_3:{title:"عنوان قابل للطي 3",subtext:"عنوان فرعي ثانوي قابل للطي لإظهار وإخفاء المحتوى",aliases:["ع3","عنوان3","عنوان فرعي","قابل للطي","طي"],group:"العناوين الفرعية"},quote:{title:"اقتباس",subtext:"اقتباس أو مقتطف",aliases:["quotation","blockquote","bq"],group:"الكتل الأساسية"},numbered_list:{title:"قائمة مرقمة",subtext:"تستخدم لعرض قائمة مرقمة",aliases:["ق","عناصر قائمة","قائمة","قائمة مرقمة"],group:"الكتل الأساسية"},bullet_list:{title:"قائمة نقطية",subtext:"تستخدم لعرض قائمة غير مرتبة",aliases:["ق","عناصر قائمة","قائمة","قائمة نقطية"],group:"الكتل الأساسية"},check_list:{title:"قائمة تحقق",subtext:"تستخدم لعرض قائمة بمربعات التحقق",aliases:["قوائم غير مرتبة","عناصر قائمة","قائمة","قائمة تحقق","قائمة التحقق","قائمة مشطوبة","مربع التحقق"],group:"الكتل الأساسية"},toggle_list:{title:"قائمة قابلة للطي",subtext:"قائمة بعناصر فرعية قابلة للإخفاء",aliases:["عناصر قائمة","قائمة","قائمة قابلة للطي","قائمة منسدلة"],group:"الكتل الأساسية"},paragraph:{title:"فقرة",subtext:"تستخدم لنص الوثيقة الأساسي",aliases:["ف","فقرة"],group:"الكتل الأساسية"},code_block:{title:"كود",subtext:"يستخدم لعرض الكود مع تحديد الصيغة",aliases:["كود","مسبق"],group:"الكتل الأساسية"},page_break:{title:"فاصل الصفحة",subtext:"فاصل الصفحة",aliases:["page","break","separator","فاصل","الصفحة"],group:"الكتل الأساسية"},table:{title:"جدول",subtext:"يستخدم للجداول",aliases:["جدول"],group:"متقدم"},image:{title:"صورة",subtext:"إدراج صورة",aliases:["صورة","رفع صورة","تحميل","صورة","صورة","وسائط","رابط"],group:"وسائط"},video:{title:"فيديو",subtext:"إدراج فيديو",aliases:["فيديو","رفع فيديو","تحميل","فيديو","فيلم","وسائط","رابط"],group:"وسائط"},audio:{title:"صوت",subtext:"إدراج صوت",aliases:["صوت","رفع صوت","تحميل","صوت","صوت","وسائط","رابط"],group:"وسائط"},file:{title:"ملف",subtext:"إدراج ملف",aliases:["ملف","تحميل","تضمين","وسائط","رابط"],group:"وسائط"},emoji:{title:"الرموز التعبيرية",subtext:"تُستخدم لإدراج رمز تعبيري",aliases:["رمز تعبيري","إيموجي","إيموت","عاطفة","وجه"],group:"آخرون"}},placeholders:{default:"أدخل نصًا أو اكتب '/' للأوامر",heading:"عنوان",toggleListItem:"طيّ",bulletListItem:"قائمة",numberedListItem:"قائمة",checkListItem:"قائمة",new_comment:"اكتب تعليقًا...",edit_comment:"تحرير التعليق...",comment_reply:"أضف تعليقًا..."},file_blocks:{image:{add_button_text:"إضافة صورة"},video:{add_button_text:"إضافة فيديو"},audio:{add_button_text:"إضافة صوت"},file:{add_button_text:"إضافة ملف"}},side_menu:{add_block_label:"إضافة محتوي",drag_handle_label:"فتح قائمة المحتويات"},drag_handle:{delete_menuitem:"حذف",colors_menuitem:"ألوان",header_row_menuitem:"عنوان الصف",header_column_menuitem:"عنوان العمود"},table_handle:{delete_column_menuitem:"حذف عمود",delete_row_menuitem:"حذف صف",add_left_menuitem:"إضافة عمود إلى اليسار",add_right_menuitem:"إضافة عمود إلى اليمين",add_above_menuitem:"إضافة صف أعلى",add_below_menuitem:"إضافة صف أسفل",split_cell_menuitem:"تقسيم الخلية",merge_cells_menuitem:"جمع الخلايا",background_color_menuitem:"لون الخلفية"},suggestion_menu:{no_items_title:"لم يتم العثور على عناصر"},color_picker:{text_title:"نص",background_title:"خلفية",colors:{default:"افتراضي",gray:"رمادي",brown:"بني",red:"أحمر",orange:"برتقالي",yellow:"أصفر",green:"أخضر",blue:"أزرق",purple:"أرجواني",pink:"وردي"}},formatting_toolbar:{bold:{tooltip:"عريض",secondary_tooltip:"Mod+B"},italic:{tooltip:"مائل",secondary_tooltip:"Mod+I"},underline:{tooltip:"تحته خط",secondary_tooltip:"Mod+U"},strike:{tooltip:"مشطوب",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"كود",secondary_tooltip:""},colors:{tooltip:"ألوان"},link:{tooltip:"إنشاء رابط",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"تحرير التسمية التوضيحية",input_placeholder:"تحرير التسمية التوضيحية"},file_replace:{tooltip:{image:"استبدال الصورة",video:"استبدال الفيديو",audio:"استبدال الصوت",file:"استبدال الملف"}},file_rename:{tooltip:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"},input_placeholder:{image:"إعادة تسمية الصورة",video:"إعادة تسمية الفيديو",audio:"إعادة تسمية الصوت",file:"إعادة تسمية الملف"}},file_download:{tooltip:{image:"تنزيل الصورة",video:"تنزيل الفيديو",audio:"تنزيل الصوت",file:"تنزيل الملف"}},file_delete:{tooltip:{image:"حذف الصورة",video:"حذف الفيديو",audio:"حذف الصوت",file:"حذف الملف"}},file_preview_toggle:{tooltip:"تبديل المعاينة"},nest:{tooltip:"محتويات متداخلة",secondary_tooltip:"Tab"},unnest:{tooltip:"إلغاء التداخل",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"محاذاة النص إلى اليسار"},align_center:{tooltip:"محاذاة النص في المنتصف"},align_right:{tooltip:"محاذاة النص إلى اليمين"},align_justify:{tooltip:"ضبط النص"},table_cell_merge:{tooltip:"جمع الخلايا"},comment:{tooltip:"إضافة ملاحظة"}},file_panel:{upload:{title:"تحميل",file_placeholder:{image:"تحميل صورة",video:"تحميل فيديو",audio:"تحميل صوت",file:"تحميل ملف"},upload_error:"خطأ: فشل التحميل"},embed:{title:"تضمين",embed_button:{image:"تضمين صورة",video:"تضمين فيديو",audio:"تضمين صوت",file:"تضمين ملف"},url_placeholder:"أدخل الرابط"}},link_toolbar:{delete:{tooltip:"إزالة الرابط"},edit:{text:"تحرير الرابط",tooltip:"تحرير"},open:{tooltip:"فتح في تبويب جديد"},form:{title_placeholder:"تحرير العنوان",url_placeholder:"تحرير الرابط"}},comments:{edited:"تم التحرير",save_button_text:"حفظ",cancel_button_text:"إلغاء",actions:{add_reaction:"أضف تفاعلًا",resolve:"حل",edit_comment:"تحرير التعليق",delete_comment:"حذف التعليق",more_actions:"المزيد من الإجراءات"},reactions:{reacted_by:"تفاعل بواسطة"},sidebar:{marked_as_resolved:"تم وضع علامة كتم الحل",more_replies:t=>`${t} ردود أخرى`}},generic:{ctrl_shortcut:"Ctrl"}},goe={slash_menu:{heading:{title:"Überschrift 1",subtext:"Hauptebene Überschrift",aliases:["h","überschrift1","h1"],group:"Überschriften"},heading_2:{title:"Überschrift 2",subtext:"Wichtige Abschnittsüberschrift",aliases:["h2","überschrift2","unterüberschrift"],group:"Überschriften"},heading_3:{title:"Überschrift 3",subtext:"Unterabschnitts- und Gruppenüberschrift",aliases:["h3","überschrift3","unterüberschrift"],group:"Überschriften"},heading_4:{title:"Überschrift 4",subtext:"Überschrift für kleinere Unterabschnitte",aliases:["h4","überschrift4","unterüberschrift4"],group:"Unterüberschriften"},heading_5:{title:"Überschrift 5",subtext:"Überschrift für tiefere Unterabschnitte",aliases:["h5","überschrift5","unterüberschrift5"],group:"Unterüberschriften"},heading_6:{title:"Überschrift 6",subtext:"Überschrift auf der untersten Ebene",aliases:["h6","überschrift6","unterüberschrift6"],group:"Unterüberschriften"},toggle_heading:{title:"Aufklappbare Überschrift 1",subtext:"Aufklappbare Hauptebene Überschrift",aliases:["h","überschrift1","h1","aufklappbar","einklappbar"],group:"Unterüberschrift"},toggle_heading_2:{title:"Aufklappbare Überschrift 2",subtext:"Aufklappbare wichtige Abschnittsüberschrift",aliases:["h2","überschrift2","unterüberschrift","aufklappbar","einklappbar"],group:"Unterüberschriften"},toggle_heading_3:{title:"Aufklappbare Überschrift 3",subtext:"Aufklappbare Unterabschnitts- und Gruppenüberschrift",aliases:["h3","überschrift3","unterüberschrift","aufklappbar","einklappbar"],group:"Unterüberschriften"},quote:{title:"Zitat",subtext:"Zitat oder Auszug",aliases:["quotation","blockquote","bq"],group:"Grundlegende Blöcke"},numbered_list:{title:"Nummerierte Liste",subtext:"Liste mit nummerierten Elementen",aliases:["ol","li","liste","nummerierteliste","nummerierte liste"],group:"Grundlegende Blöcke"},bullet_list:{title:"Aufzählungsliste",subtext:"Liste mit unnummerierten Elementen",aliases:["ul","li","liste","aufzählungsliste","aufzählung liste"],group:"Grundlegende Blöcke"},check_list:{title:"Checkliste",subtext:"Liste mit Kontrollkästchen",aliases:["ul","li","liste","checkliste","check liste","geprüfte liste","kontrollkästchen"],group:"Grundlegende Blöcke"},toggle_list:{title:"Aufklappbare Liste",subtext:"Liste mit ausblendbare Unterpunkten",aliases:["li","liste","aufklappbare liste","einklappbare liste","aufklappbareListe","aufklappbare liste"],group:"Grundlegende Blöcke"},paragraph:{title:"Absatz",subtext:"Der Hauptteil Ihres Dokuments",aliases:["p","absatz"],group:"Grundlegende Blöcke"},code_block:{title:"Codeblock",subtext:"Codeblock mit Syntaxhervorhebung",aliases:["code","pre"],group:"Grundlegende Blöcke"},page_break:{title:"Seitenumbruch",subtext:"Seitentrenner",aliases:["page","break","separator","seitenumbruch","trenner"],group:"Grundlegende Blöcke"},table:{title:"Tabelle",subtext:"Tabelle mit editierbaren Zellen",aliases:["tabelle"],group:"Erweitert"},image:{title:"Bild",subtext:"Größenveränderbares Bild mit Beschriftung",aliases:["bild","bildhochladen","hochladen","img","bild","medien","url"],group:"Medien"},video:{title:"Video",subtext:"Größenveränderbares Video mit Beschriftung",aliases:["video","videoupload","hochladen","mp4","film","medien","url"],group:"Medien"},audio:{title:"Audio",subtext:"Eingebettetes Audio mit Beschriftung",aliases:["audio","audioupload","hochladen","mp3","ton","medien","url"],group:"Medien"},file:{title:"Datei",subtext:"Eingebettete Datei",aliases:["datei","hochladen","einbetten","medien","url"],group:"Medien"},emoji:{title:"Emoji",subtext:"Nach Emoji suchen und einfügen",aliases:["emoji","emote","emotion","gesicht"],group:"Andere"}},placeholders:{default:"Text eingeben oder '/' für Befehle tippen",heading:"Überschrift",toggleListItem:"Umschalten",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Einen Kommentar schreiben …",edit_comment:"Kommentar bearbeiten …",comment_reply:"Kommentar hinzufügen …"},file_blocks:{image:{add_button_text:"Bild hinzufügen"},video:{add_button_text:"Video hinzufügen"},audio:{add_button_text:"Audio hinzufügen"},file:{add_button_text:"Datei hinzufügen"}},side_menu:{add_block_label:"Block hinzufügen",drag_handle_label:"Blockmenü öffnen"},drag_handle:{delete_menuitem:"Löschen",colors_menuitem:"Farben",header_row_menuitem:"Kopfzeile",header_column_menuitem:"Kopfspalte"},table_handle:{delete_column_menuitem:"Spalte löschen",delete_row_menuitem:"Zeile löschen",add_left_menuitem:"Spalte links hinzufügen",add_right_menuitem:"Spalte rechts hinzufügen",add_above_menuitem:"Zeile oberhalb hinzufügen",add_below_menuitem:"Zeile unterhalb hinzufügen",split_cell_menuitem:"Zelle teilen",merge_cells_menuitem:"Zellen zusammenführen",background_color_menuitem:"Hintergrundfarbe"},suggestion_menu:{no_items_title:"Keine Elemente gefunden"},color_picker:{text_title:"Text",background_title:"Hintergrund",colors:{default:"Standard",gray:"Grau",brown:"Braun",red:"Rot",orange:"Orange",yellow:"Gelb",green:"Grün",blue:"Blau",purple:"Lila",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fett",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Unterstrichen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Durchgestrichen",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Farben"},link:{tooltip:"Link erstellen",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Beschriftung bearbeiten",input_placeholder:"Beschriftung bearbeiten"},file_replace:{tooltip:{image:"Bild ersetzen",video:"Video ersetzen",audio:"Audio ersetzen",file:"Datei ersetzen"}},file_rename:{tooltip:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"},input_placeholder:{image:"Bild umbenennen",video:"Video umbenennen",audio:"Audio umbenennen",file:"Datei umbenennen"}},file_download:{tooltip:{image:"Bild herunterladen",video:"Video herunterladen",audio:"Audio herunterladen",file:"Datei herunterladen"}},file_delete:{tooltip:{image:"Bild löschen",video:"Video löschen",audio:"Audio löschen",file:"Datei löschen"}},file_preview_toggle:{tooltip:"Vorschau umschalten"},nest:{tooltip:"Block verschachteln",secondary_tooltip:"Tab"},unnest:{tooltip:"Block entnesten",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Text linksbündig"},align_center:{tooltip:"Text zentrieren"},align_right:{tooltip:"Text rechtsbündig"},align_justify:{tooltip:"Text Blocksatz"},table_cell_merge:{tooltip:"Zellen zusammenführen"},comment:{tooltip:"Kommentar hinzufügen"}},file_panel:{upload:{title:"Hochladen",file_placeholder:{image:"Bild hochladen",video:"Video hochladen",audio:"Audio hochladen",file:"Datei hochladen"},upload_error:"Fehler: Hochladen fehlgeschlagen"},embed:{title:"Einbetten",embed_button:{image:"Bild einbetten",video:"Video einbetten",audio:"Audio einbetten",file:"Datei einbetten"},url_placeholder:"URL eingeben"}},link_toolbar:{delete:{tooltip:"Link entfernen"},edit:{text:"Link bearbeiten",tooltip:"Bearbeiten"},open:{tooltip:"In neuem Tab öffnen"},form:{title_placeholder:"Titel bearbeiten",url_placeholder:"URL bearbeiten"}},comments:{edited:"bearbeitet",save_button_text:"Speichern",cancel_button_text:"Abbrechen",actions:{add_reaction:"Reaktion hinzufügen",resolve:"Lösen",edit_comment:"Kommentar bearbeiten",delete_comment:"Kommentar löschen",more_actions:"Weitere Aktionen"},reactions:{reacted_by:"Reagiert von"},sidebar:{marked_as_resolved:"Als gelöst markiert",more_replies:t=>`${t} weitere Antworten`}},generic:{ctrl_shortcut:"Strg"}},boe={slash_menu:{heading:{title:"Encabezado 1",subtext:"Encabezado de primer nivel",aliases:["h","encabezado1","h1"],group:"Encabezados"},heading_2:{title:"Encabezado 2",subtext:"Encabezado de sección principal",aliases:["h2","encabezado2","subencabezado"],group:"Encabezados"},heading_3:{title:"Encabezado 3",subtext:"Encabezado de subsección y grupo",aliases:["h3","encabezado3","subencabezado"],group:"Encabezados"},heading_4:{title:"Encabezado 4",subtext:"Encabezado de subsección menor",aliases:["h4","encabezado4","subencabezado4"],group:"Subencabezados"},heading_5:{title:"Encabezado 5",subtext:"Encabezado de subsección pequeña",aliases:["h5","encabezado5","subencabezado5"],group:"Subencabezados"},heading_6:{title:"Encabezado 6",subtext:"Encabezado de nivel más bajo",aliases:["h6","encabezado6","subencabezado6"],group:"Subencabezados"},toggle_heading:{title:"Encabezado Plegable 1",subtext:"Encabezado de primer nivel que se puede plegar",aliases:["h","encabezado1","h1","plegable","contraible"],group:"Subencabezados"},toggle_heading_2:{title:"Encabezado Plegable 2",subtext:"Encabezado de sección principal que se puede plegar",aliases:["h2","encabezado2","subencabezado","plegable","contraible"],group:"Subencabezados"},toggle_heading_3:{title:"Encabezado Plegable 3",subtext:"Encabezado de subsección y grupo que se puede plegar",aliases:["h3","encabezado3","subencabezado","plegable","contraible"],group:"Subencabezados"},quote:{title:"Cita",subtext:"Cita o extracto",aliases:["quotation","blockquote","bq"],group:"Bloques básicos"},numbered_list:{title:"Lista Numerada",subtext:"Lista con elementos ordenados",aliases:["ol","li","lista","lista numerada"],group:"Bloques básicos"},bullet_list:{title:"Lista con Viñetas",subtext:"Lista con elementos no ordenados",aliases:["ul","li","lista","lista con viñetas"],group:"Bloques básicos"},check_list:{title:"Lista de Verificación",subtext:"Lista con casillas de verificación",aliases:["ul","li","lista","lista de verificación","lista de chequeo","checkbox"],group:"Bloques básicos"},toggle_list:{title:"Lista Plegable",subtext:"Lista con subelementos ocultables",aliases:["li","lista","lista plegable","lista colapsable"],group:"Bloques básicos"},paragraph:{title:"Párrafo",subtext:"El cuerpo de tu documento",aliases:["p","párrafo"],group:"Bloques básicos"},code_block:{title:"Bloque de Código",subtext:"Bloque de código con resaltado de sintaxis",aliases:["code","pre"],group:"Bloques básicos"},page_break:{title:"Salto de página",subtext:"Separador de página",aliases:["page","break","separator","salto","separador"],group:"Bloques básicos"},table:{title:"Tabla",subtext:"Tabla con celdas editables",aliases:["tabla"],group:"Avanzado"},image:{title:"Imagen",subtext:"Imagen redimensionable con leyenda",aliases:["imagen","subir imagen","cargar","img","foto","media","url"],group:"Medios"},video:{title:"Vídeo",subtext:"Vídeo redimensionable con leyenda",aliases:["video","subir vídeo","cargar","mp4","película","media","url"],group:"Medios"},audio:{title:"Audio",subtext:"Audio incrustado con leyenda",aliases:["audio","subir audio","cargar","mp3","sonido","media","url"],group:"Medios"},file:{title:"Archivo",subtext:"Archivo incrustado",aliases:["archivo","cargar","incrustar","media","url"],group:"Medios"},emoji:{title:"Emoji",subtext:"Busca e inserta un emoji",aliases:["emoji","emoticono","emoción","cara"],group:"Otros"}},placeholders:{default:"Escribe o teclea '/' para comandos",heading:"Encabezado",toggleListItem:"Plegable",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escribe un comentario...",edit_comment:"Editar comentario...",comment_reply:"Agregar comentario..."},file_blocks:{image:{add_button_text:"Agregar imagen"},video:{add_button_text:"Agregar vídeo"},audio:{add_button_text:"Agregar audio"},file:{add_button_text:"Agregar archivo"}},side_menu:{add_block_label:"Agregar bloque",drag_handle_label:"Abrir menú de bloque"},drag_handle:{delete_menuitem:"Eliminar",colors_menuitem:"Colores",header_row_menuitem:"Fila de encabezado",header_column_menuitem:"Columna de encabezado"},table_handle:{delete_column_menuitem:"Eliminar columna",delete_row_menuitem:"Eliminar fila",add_left_menuitem:"Agregar columna a la izquierda",add_right_menuitem:"Agregar columna a la derecha",add_above_menuitem:"Agregar fila arriba",add_below_menuitem:"Agregar fila abajo",split_cell_menuitem:"Dividir celda",merge_cells_menuitem:"Combinar celdas",background_color_menuitem:"Color de fondo"},suggestion_menu:{no_items_title:"No se encontraron elementos"},color_picker:{text_title:"Texto",background_title:"Fondo",colors:{default:"Por defecto",gray:"Gris",brown:"Marrón",red:"Rojo",orange:"Naranja",yellow:"Amarillo",green:"Verde",blue:"Azul",purple:"Morado",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrita",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursiva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Subrayado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Tachado",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Colores"},link:{tooltip:"Crear enlace",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar leyenda",input_placeholder:"Editar leyenda"},file_replace:{tooltip:{image:"Reemplazar imagen",video:"Reemplazar vídeo",audio:"Reemplazar audio",file:"Reemplazar archivo"}},file_rename:{tooltip:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"},input_placeholder:{image:"Renombrar imagen",video:"Renombrar vídeo",audio:"Renombrar audio",file:"Renombrar archivo"}},file_download:{tooltip:{image:"Descargar imagen",video:"Descargar vídeo",audio:"Descargar audio",file:"Descargar archivo"}},file_delete:{tooltip:{image:"Eliminar imagen",video:"Eliminar vídeo",audio:"Eliminar audio",file:"Eliminar archivo"}},file_preview_toggle:{tooltip:"Alternar vista previa"},nest:{tooltip:"Anidar bloque",secondary_tooltip:"Tab"},unnest:{tooltip:"Desanidar bloque",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinear texto a la izquierda"},align_center:{tooltip:"Alinear texto al centro"},align_right:{tooltip:"Alinear texto a la derecha"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Combinar celdas"},comment:{tooltip:"Añadir comentario"}},file_panel:{upload:{title:"Subir",file_placeholder:{image:"Subir imagen",video:"Subir vídeo",audio:"Subir audio",file:"Subir archivo"},upload_error:"Error: Fallo en la subida"},embed:{title:"Incrustar",embed_button:{image:"Incrustar imagen",video:"Incrustar vídeo",audio:"Incrustar audio",file:"Incrustar archivo"},url_placeholder:"Introduce la URL"}},link_toolbar:{delete:{tooltip:"Eliminar enlace"},edit:{text:"Editar enlace",tooltip:"Editar"},open:{tooltip:"Abrir en nueva pestaña"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{edited:"editado",save_button_text:"Guardar",cancel_button_text:"Cancelar",actions:{add_reaction:"Agregar reacción",resolve:"Resolver",edit_comment:"Editar comentario",delete_comment:"Eliminar comentario",more_actions:"Más acciones"},reactions:{reacted_by:"Reaccionado por"},sidebar:{marked_as_resolved:"Marcado como resuelto",more_replies:t=>`${t} respuestas más`}},generic:{ctrl_shortcut:"Ctrl"}},yoe={slash_menu:{heading:{title:"Titre 1",subtext:"Utilisé pour un titre de premier niveau",aliases:["h","titre1","h1"],group:"Titres"},heading_2:{title:"Titre 2",subtext:"Titre de deuxième niveau Utilisé pour les sections clés",aliases:["h2","titre2","sous-titre"],group:"Titres"},heading_3:{title:"Titre 3",subtext:"Titre de troisième niveau utilisé pour les sous-sections et les titres de groupe",aliases:["h3","titre3","sous-titre"],group:"Titres"},heading_4:{title:"Titre 4",subtext:"Titre de sous‑section mineure",aliases:["h4","titre4","sous‑titre4"],group:"Sous-titres"},heading_5:{title:"Titre 5",subtext:"Titre de sous-section mineure",aliases:["h5","titre5","sous-titre5"],group:"Sous-titres"},heading_6:{title:"Titre 6",subtext:"Titre de niveau le plus bas",aliases:["h6","titre6","sous-titre6"],group:"Sous-titres"},toggle_heading:{title:"Titre Repliable 1",subtext:"Titre de premier niveau qui peut être replié pour masquer son contenu",aliases:["h","titre1","h1","repliable","masquable","déroulant"],group:"Sous-titres"},toggle_heading_2:{title:"Titre Repliable 2",subtext:"Titre de section qui peut être replié pour masquer son contenu",aliases:["h2","titre2","sous-titre","repliable","masquable","déroulant"],group:"Sous-titres"},toggle_heading_3:{title:"Titre Repliable 3",subtext:"Titre de sous-section qui peut être replié pour masquer son contenu",aliases:["h3","titre3","sous-titre","repliable","masquable","déroulant"],group:"Sous-titres"},quote:{title:"Citation",subtext:"Citation ou extrait",aliases:["quotation","blockquote","bq"],group:"Blocs de base"},numbered_list:{title:"Liste Numérotée",subtext:"Utilisé pour afficher une liste numérotée",aliases:["ol","li","liste","listenumérotée","liste numérotée"],group:"Blocs de base"},bullet_list:{title:"Liste à puces",subtext:"Utilisé pour afficher une liste à puce non numérotée",aliases:["ul","li","liste","listeàpuces","liste à puces","bullet points","bulletpoints"],group:"Blocs de base"},check_list:{title:"Liste de tâches",subtext:"Utilisé pour afficher une liste avec des cases à cocher",aliases:["ul","li","liste","liste de vérification","liste cochée","case à cocher","checklist","checkbox","check box","to do","todo"],group:"Blocs de base"},toggle_list:{title:"Liste repliable",subtext:"Liste avec des sous-éléments masquables",aliases:["li","liste","liste pliable","liste escamotable","liste repliable"],group:"Blocs de base"},paragraph:{title:"Paragraphe",subtext:"Utilisé pour le corps de votre document",aliases:["p","paragraphe","texte"],group:"Blocs de base"},code_block:{title:"Bloc de code",subtext:"Bloc de code avec coloration syntaxique",aliases:["code","pre"],group:"Blocs de base"},page_break:{title:"Saut de page",subtext:"Séparateur de page",aliases:["page","break","separator","saut","séparateur"],group:"Blocs de base"},table:{title:"Tableau",subtext:"Utilisé pour les tableaux",aliases:["tableau","grille"],group:"Avancé"},image:{title:"Image",subtext:"Insérer une image",aliases:["image","uploadImage","télécharger image","téléverser image","uploader image","img","photo","média","url"],group:"Médias"},video:{title:"Vidéo",subtext:"Insérer une vidéo",aliases:["vidéo","télécharger vidéo","téléverser vidéo","mp4","film","média","url"],group:"Média"},audio:{title:"Audio",subtext:"Insérer un audio",aliases:["audio","télécharger audio","téléverser audio","mp3","son","média","url"],group:"Média"},file:{title:"Fichier",subtext:"Insérer un fichier",aliases:["fichier","téléverser fichier","intégrer fichier","insérer fichier","média","url"],group:"Média"},emoji:{title:"Emoji",subtext:"Utilisé pour insérer un emoji",aliases:["emoji","émoticône","émotion","visage","smiley"],group:"Autres"}},placeholders:{default:"Entrez du texte ou tapez '/' pour faire apparaître les options de mise en page",heading:"Titre",toggleListItem:"Basculer",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Écrire un commentaire...",edit_comment:"Modifier le commentaire...",comment_reply:"Ajouter un commentaire..."},file_blocks:{image:{add_button_text:"Ajouter une image"},video:{add_button_text:"Ajouter une vidéo"},audio:{add_button_text:"Ajouter un audio"},file:{add_button_text:"Ajouter un fichier"}},side_menu:{add_block_label:"Ajouter un bloc",drag_handle_label:"Ouvrir le menu du bloc"},drag_handle:{delete_menuitem:"Supprimer",colors_menuitem:"Couleurs",header_row_menuitem:"En-tête de ligne",header_column_menuitem:"En-tête de colonne"},table_handle:{delete_column_menuitem:"Supprimer la colonne",delete_row_menuitem:"Supprimer la ligne",add_left_menuitem:"Ajouter une colonne à gauche",add_right_menuitem:"Ajouter une colonne à droite",add_above_menuitem:"Ajouter une ligne au-dessus",add_below_menuitem:"Ajouter une ligne en dessous",split_cell_menuitem:"Diviser la cellule",merge_cells_menuitem:"Fusionner les cellules",background_color_menuitem:"Couleur de fond"},suggestion_menu:{no_items_title:"Aucun élément trouvé"},color_picker:{text_title:"Texte",background_title:"Fond",colors:{default:"Défaut",gray:"Gris",brown:"Marron",red:"Rouge",orange:"Orange",yellow:"Jaune",green:"Vert",blue:"Bleu",purple:"Violet",pink:"Rose"}},formatting_toolbar:{bold:{tooltip:"Gras",secondary_tooltip:"Mod+B"},italic:{tooltip:"Italique",secondary_tooltip:"Mod+I"},underline:{tooltip:"Souligner",secondary_tooltip:"Mod+U"},strike:{tooltip:"Barré",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Couleurs"},link:{tooltip:"Créer un lien",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Modifier la légende",input_placeholder:"Modifier la légende"},file_replace:{tooltip:{image:"Remplacer l'image",video:"Remplacer la vidéo",audio:"Remplacer l'audio",file:"Remplacer le fichier"}},file_rename:{tooltip:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"},input_placeholder:{image:"Renommer l'image",video:"Renommer la vidéo",audio:"Renommer l'audio",file:"Renommer le fichier"}},file_download:{tooltip:{image:"Télécharger l'image",video:"Télécharger la vidéo",audio:"Télécharger l'audio",file:"Télécharger le fichier"}},file_delete:{tooltip:{image:"Supprimer l'image",video:"Supprimer la vidéo",audio:"Supprimer l'audio",file:"Supprimer le fichier"}},file_preview_toggle:{tooltip:"Basculer l'aperçu"},nest:{tooltip:"Augmenter le retrait du bloc",secondary_tooltip:"Tab"},unnest:{tooltip:"Diminuer le retait du bloc",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Aligner le texte à gauche"},align_center:{tooltip:"Aligner le texte au centre"},align_right:{tooltip:"Aligner le texte à droite"},align_justify:{tooltip:"Justifier le texte"},table_cell_merge:{tooltip:"Fusionner les cellules"},comment:{tooltip:"Ajouter un commentaire"}},file_panel:{upload:{title:"Télécharger",file_placeholder:{image:"Télécharger une image",video:"Télécharger une vidéo",audio:"Télécharger un fichier audio",file:"Télécharger un fichier"},upload_error:"Erreur : échec du téléchargement"},embed:{title:"Intégrer",embed_button:{image:"Intégrer une image",video:"Intégrer une vidéo",audio:"Intégrer un fichier audio",file:"Intégrer un fichier"},url_placeholder:"Entrez l'URL"}},link_toolbar:{delete:{tooltip:"Supprimer le lien"},edit:{text:"Modifier le lien",tooltip:"Modifier"},open:{tooltip:"Ouvrir dans un nouvel onglet"},form:{title_placeholder:"Modifier le titre",url_placeholder:"Modifier l'URL"}},comments:{edited:"modifié",save_button_text:"Enregistrer",cancel_button_text:"Annuler",actions:{add_reaction:"Ajouter une réaction",resolve:"Résoudre",edit_comment:"Modifier le commentaire",delete_comment:"Supprimer le commentaire",more_actions:"Plus d'actions"},reactions:{reacted_by:"Réagi par"},sidebar:{marked_as_resolved:"Marqué comme résolu",more_replies:t=>`${t} réponses de plus`}},generic:{ctrl_shortcut:"Ctrl"}},voe={slash_menu:{heading:{title:"כותרת 1",subtext:"כותרת ראשית",aliases:["h","heading1","h1"],group:"כותרות"},heading_2:{title:"כותרת 2",subtext:"כותרת סעיף ראשי",aliases:["h2","heading2","subheading"],group:"כותרות"},heading_3:{title:"כותרת 3",subtext:"כותרת משנה",aliases:["h3","heading3","subheading"],group:"כותרות"},toggle_heading:{title:"כותרת מתקפלת 1",subtext:"כותרת ראשית מתקפלת",aliases:["h","heading1","h1","collapsable"],group:"כותרות משנה"},toggle_heading_2:{title:"כותרת מתקפלת 2",subtext:"כותרת סעיף ראשי מתקפלת",aliases:["h2","heading2","subheading","collapsable"],group:"כותרות משנה"},toggle_heading_3:{title:"כותרת מתקפלת 3",subtext:"כותרת משנה מתקפלת",aliases:["h3","heading3","subheading","collapsable"],group:"כותרות משנה"},heading_4:{title:"כותרת 4",subtext:"כותרת משנה",aliases:["h4","heading4","subheading"],group:"כותרות משנה"},heading_5:{title:"כותרת 5",subtext:"כותרת משנה",aliases:["h5","heading5","subheading"],group:"כותרות משנה"},heading_6:{title:"כותרת 6",subtext:"כותרת משנה",aliases:["h6","heading6","subheading"],group:"כותרות משנה"},quote:{title:"ציטוט",subtext:"ציטוט או קטע",aliases:["quotation","blockquote","bq"],group:"בלוקים בסיסיים"},toggle_list:{title:"רשימה מתקפלת",subtext:"רשימה עם פריטים ניתנים להסתרה",aliases:["li","list","toggleList","toggle list","collapsable list"],group:"בלוקים בסיסיים"},numbered_list:{title:"רשימה ממוספרת",subtext:"רשימה עם פריטים מסודרים",aliases:["ol","li","list","numberedlist","numbered list"],group:"בלוקים בסיסיים"},bullet_list:{title:"רשימת תבליטים",subtext:"רשימה עם פריטים לא מסודרים",aliases:["ul","li","list","bulletlist","bullet list"],group:"בלוקים בסיסיים"},check_list:{title:"רשימת סימון",subtext:"רשימה עם תיבות סימון",aliases:["ul","li","list","checklist","check list","checked list","checkbox"],group:"בלוקים בסיסיים"},paragraph:{title:"פסקה",subtext:"גוף המסמך שלך",aliases:["p","paragraph"],group:"בלוקים בסיסיים"},code_block:{title:"בלוק קוד",subtext:"בלוק קוד עם הדגשת תחביר",aliases:["code","pre"],group:"בלוקים בסיסיים"},page_break:{title:"שבירת עמוד",subtext:"מפריד עמודים",aliases:["page","break","separator"],group:"בלוקים בסיסיים"},table:{title:"טבלה",subtext:"טבלה עם תאים ניתנים לעריכה",aliases:["table"],group:"מתקדם"},image:{title:"תמונה",subtext:"תמונה עם כיתוב וניתנת לשינוי גודל",aliases:["image","imageUpload","upload","img","picture","media","url"],group:"מדיה"},video:{title:"וידאו",subtext:"וידאו עם כיתוב וניתן לשינוי גודל",aliases:["video","videoUpload","upload","mp4","film","media","url"],group:"מדיה"},audio:{title:"אודיו",subtext:"אודיו מוטבע עם כיתוב",aliases:["audio","audioUpload","upload","mp3","sound","media","url"],group:"מדיה"},file:{title:"קובץ",subtext:"קובץ מוטבע",aliases:["file","upload","embed","media","url"],group:"מדיה"},emoji:{title:"אימוג'י",subtext:"חיפוש והוספת אימוג'י",aliases:["emoji","emote","emotion","face"],group:"אחר"}},placeholders:{default:"הזן טקסט או הקלד '/' לפקודות",heading:"כותרת",toggleListItem:"החלף",bulletListItem:"רשימה",numberedListItem:"רשימה",checkListItem:"רשימה",emptyDocument:void 0,new_comment:"כתוב תגובה...",edit_comment:"ערוך תגובה...",comment_reply:"הוסף תגובה..."},file_blocks:{image:{add_button_text:"הוסף תמונה"},video:{add_button_text:"הוסף וידאו"},audio:{add_button_text:"הוסף אודיו"},file:{add_button_text:"הוסף קובץ"}},side_menu:{add_block_label:"הוסף בלוק",drag_handle_label:"פתח תפריט בלוק"},drag_handle:{delete_menuitem:"מחק",colors_menuitem:"צבעים",header_row_menuitem:"שורת כותרת",header_column_menuitem:"עמודת כותרת"},table_handle:{delete_column_menuitem:"מחק עמודה",delete_row_menuitem:"מחק שורה",add_left_menuitem:"הוסף עמודה משמאל",add_right_menuitem:"הוסף עמודה מימין",add_above_menuitem:"הוסף שורה מעל",add_below_menuitem:"הוסף שורה מתחת",split_cell_menuitem:"פיצול תא",merge_cells_menuitem:"מיזוג תאים",background_color_menuitem:"צבע רקע"},suggestion_menu:{no_items_title:"לא נמצאו פריטים"},color_picker:{text_title:"טקסט",background_title:"רקע",colors:{default:"ברירת מחדל",gray:"אפור",brown:"חום",red:"אדום",orange:"כתום",yellow:"צהוב",green:"ירוק",blue:"כחול",purple:"סגול",pink:"ורוד"}},formatting_toolbar:{bold:{tooltip:"מודגש",secondary_tooltip:"Ctrl+B"},italic:{tooltip:"נטוי",secondary_tooltip:"Ctrl+I"},underline:{tooltip:"קו תחתון",secondary_tooltip:"Ctrl+U"},strike:{tooltip:"קו חוצה",secondary_tooltip:"Ctrl+Shift+S"},code:{tooltip:"קוד",secondary_tooltip:""},colors:{tooltip:"צבעים"},link:{tooltip:"צור קישור",secondary_tooltip:"Ctrl+K"},file_caption:{tooltip:"ערוך כיתוב",input_placeholder:"ערוך כיתוב"},file_replace:{tooltip:{image:"החלף תמונה",video:"החלף וידאו",audio:"החלף אודיו",file:"החלף קובץ"}},file_rename:{tooltip:{image:"שנה שם תמונה",video:"שנה שם וידאו",audio:"שנה שם אודיו",file:"שנה שם קובץ"},input_placeholder:{image:"שנה שם תמונה",video:"שנה שם וידאו",audio:"שנה שם אודיו",file:"שנה שם קובץ"}},file_download:{tooltip:{image:"הורד תמונה",video:"הורד וידאו",audio:"הורד אודיו",file:"הורד קובץ"}},file_delete:{tooltip:{image:"מחק תמונה",video:"מחק וידאו",audio:"מחק אודיו",file:"מחק קובץ"}},file_preview_toggle:{tooltip:"החלף תצוגה מקדימה"},nest:{tooltip:"קינון בלוק",secondary_tooltip:"Tab"},unnest:{tooltip:"הוצא מקינון",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"ישר טקסט לשמאל"},align_center:{tooltip:"מרכז טקסט"},align_right:{tooltip:"ישר טקסט לימין"},align_justify:{tooltip:"ישר טקסט לשני הצדדים"},table_cell_merge:{tooltip:"מיזוג תאים"},comment:{tooltip:"הוסף תגובה"}},file_panel:{upload:{title:"העלאה",file_placeholder:{image:"העלה תמונה",video:"העלה וידאו",audio:"העלה אודיו",file:"העלה קובץ"},upload_error:"שגיאה: ההעלאה נכשלה"},embed:{title:"הטמעה",embed_button:{image:"הטמע תמונה",video:"הטמע וידאו",audio:"הטמע אודיו",file:"הטמע קובץ"},url_placeholder:"הזן כתובת URL"}},link_toolbar:{delete:{tooltip:"הסר קישור"},edit:{text:"ערוך קישור",tooltip:"ערוך"},open:{tooltip:"פתח בכרטיסייה חדשה"},form:{title_placeholder:"ערוך כותרת",url_placeholder:"ערוך כתובת URL"}},comments:{edited:"נערך",save_button_text:"שמור",cancel_button_text:"בטל",actions:{add_reaction:"הוסף תגובה",resolve:"סמן כפתור",edit_comment:"ערוך תגובה",delete_comment:"מחק תגובה",more_actions:"פעולות נוספות"},reactions:{reacted_by:"קיבל תגובה מ"},sidebar:{marked_as_resolved:"סומן כפתור",more_replies:t=>`${t} תגובות נוספות`}},generic:{ctrl_shortcut:"Ctrl"}},woe={slash_menu:{heading:{title:"Naslov 1",subtext:"Glavni naslov",aliases:["h","naslov1","h1"],group:"Naslovi"},heading_2:{title:"Naslov 2",subtext:"Naslov poglavlja",aliases:["h2","naslov2","podnaslov"],group:"Naslovi"},heading_3:{title:"Naslov 3",subtext:"Naslov podpoglavlja",aliases:["h3","naslov3","podnaslov"],group:"Naslovi"},heading_4:{title:"Naslov 4",subtext:"Manji naslov podpoglavlja",aliases:["h4","naslov4","podnaslov4"],group:"Podnaslovi"},heading_5:{title:"Naslov 5",subtext:"Mali naslov podpoglavlja",aliases:["h5","naslov5","podnaslov5"],group:"Podnaslovi"},heading_6:{title:"Naslov 6",subtext:"Naslov najniže razine",aliases:["h6","naslov6","podnaslov6"],group:"Podnaslovi"},toggle_heading:{title:"Proširivi Naslov 1",subtext:"Proširivi glavni naslov",aliases:["h","naslov1","h1","proširivi"],group:"Podnaslovi"},toggle_heading_2:{title:"Proširivi Naslov 2",subtext:"Proširivi naslov poglavlja",aliases:["h2","naslov2","podnaslov","proširivi"],group:"Podnaslovi"},toggle_heading_3:{title:"Proširivi Naslov 3",subtext:"Proširivi naslov podpoglavlja",aliases:["h3","naslov3","podnaslov","proširivi"],group:"Podnaslovi"},quote:{title:"Citat",subtext:"Citat ili izvadak",aliases:["quotation","blockquote","bq"],group:"Osnovni blokovi"},numbered_list:{title:"Numerirani popis",subtext:"Popis s numeriranim stavkama",aliases:["poredaniPopis","stavkaPopisa","popis","numeriraniPopis","numerirani popis"],group:"Osnovni blokovi"},bullet_list:{title:"Popis s oznakama",subtext:"Popis s grafičkim oznakama",aliases:["neporedaniPopis","stavkaPopisa","popis","popisSOznakama","popis s oznakama"],group:"Osnovni blokovi"},check_list:{title:"Check lista",subtext:"Popis s kućicama za označavanje",aliases:["neporedaniPopis","stavkaPopisa","popis","popisZaProvjeru","check lista","označeni popis","kućicaZaOznačavanje"],group:"Osnovni blokovi"},toggle_list:{title:"Proširivi popis",subtext:"Popis sa skrivenim podstavkama",aliases:["stavkaPopisa","popis","proširivi popis","sklopivi popis"],group:"Osnovni blokovi"},paragraph:{title:"Normalan tekst",subtext:"Tekst paragrafa",aliases:["p","paragraf"],group:"Osnovni blokovi"},table:{title:"Tablica",subtext:"Tablica s podesivim ćelijama",aliases:["tablica"],group:"Napredno"},code_block:{title:"Blok koda",subtext:"Blok koda sa sintaksnim isticanjem",aliases:["code","pre"],group:"Osnovni blokovi"},page_break:{title:"Prijelom stranice",subtext:"Razdjelnik stranice",aliases:["page","break","separator","prijelom","razdjelnik"],group:"Osnovni blokovi"},image:{title:"Slika",subtext:"Slika s podesivom veličinom i natpisom",aliases:["slika","učitavanjeSlike","učitaj","img","fotografija","medij","url"],group:"Mediji"},video:{title:"Video",subtext:"Video s podesivom veličinom i natpisom",aliases:["video","učitavanjeVidea","učitaj","mp4","film","medij","url"],group:"Mediji"},audio:{title:"Audio",subtext:"Audio s natpisom",aliases:["audio","učitavanjeAudija","učitaj","mp3","zvuk","medij","url"],group:"Mediji"},file:{title:"Datoteka",subtext:"Ugrađena datoteka",aliases:["datoteka","učitaj","ugradi","medij","url"],group:"Mediji"},emoji:{title:"Emoji",subtext:"Pretraži i umetni emoji",aliases:["emoji","emotikon","emocija","lice"],group:"Ostalo"}},placeholders:{default:"Unesi tekst ili upiši ‘/’ za naredbe",heading:"Naslov",toggleListItem:"Prebaciti",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napišite komentar...",edit_comment:"Uredi komentar...",comment_reply:"Dodaj komentar..."},file_blocks:{image:{add_button_text:"Dodaj sliku"},video:{add_button_text:"Dodaj video"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj datoteku"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Meni za dodavanje bloka"},drag_handle:{delete_menuitem:"Ukloni",colors_menuitem:"Boje",header_row_menuitem:"Zaglavni redak",header_column_menuitem:"Zaglavni stupac"},table_handle:{delete_column_menuitem:"Ukloni stupac",delete_row_menuitem:"Ukloni redak",add_left_menuitem:"Dodaj stupac lijevo",add_right_menuitem:"Dodaj stupac desno",add_above_menuitem:"Dodaj redak iznad",add_below_menuitem:"Dodaj redak ispod",split_cell_menuitem:"Podijeli ćeliju",merge_cells_menuitem:"Spoji ćelije",background_color_menuitem:"Boja pozadine"},suggestion_menu:{no_items_title:"Stavke nisu pronađene"},color_picker:{text_title:"Tekst",background_title:"Pozadina",colors:{default:"Zadano",gray:"Siva",brown:"Smeđa",red:"Crvena",orange:"Narančasta",yellow:"Žuta",green:"Zelena",blue:"Plava",purple:"Ljubičasta",pink:"Ružičasta"}},formatting_toolbar:{bold:{tooltip:"Podebljano",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurziv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podcrtano",secondary_tooltip:"Mod+U"},strike:{tooltip:"Precrtano",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Boja"},link:{tooltip:"Kreiraj poveznicu",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Uredi natpis",input_placeholder:"Uredi natpis"},file_replace:{tooltip:{image:"Zamijeni sliku",video:"Zamijeni video",audio:"Zamijeni audio",file:"Zamijeni datoteku"}},file_rename:{tooltip:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"},input_placeholder:{image:"Preimenuj sliku",video:"Preimenuj video",audio:"Preimenuj audio",file:"Preimenuj datoteku"}},file_download:{tooltip:{image:"Preuzmi sliku",video:"Preuzmi video",audio:"Preuzmi audio",file:"Preuzmi datoteku"}},file_delete:{tooltip:{image:"Ukloni sliku",video:"Ukloni video",audio:"Ukloni audio",file:"Ukloni datoteku"}},file_preview_toggle:{tooltip:"Prikaži/sakrij pregled"},nest:{tooltip:"Ugnijezdi blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Razgnijezdi blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Poravnaj tekst lijevo"},align_center:{tooltip:"Poravnaj tekst po sredini"},align_right:{tooltip:"Poravnaj tekst desno"},align_justify:{tooltip:"Poravnaj tekst obostrano"},table_cell_merge:{tooltip:"Spoji ćelije"},comment:{tooltip:"Dodaj komentar"}},file_panel:{upload:{title:"Učitaj",file_placeholder:{image:"Učitaj sliku",video:"Učitaj video",audio:"Učitaj audio",file:"Učitaj datoteku"},upload_error:"Pogreška: Učitavanje nije uspjelo"},embed:{title:"Ugradi",embed_button:{image:"Ugradi sliku",video:"Ugradi video",audio:"Ugradi audio",file:"Ugradi datoteku"},url_placeholder:"Dodaj URL"}},link_toolbar:{delete:{tooltip:"Ukloni poveznicu"},edit:{text:"Uredi poveznicu",tooltip:"Uredi"},open:{tooltip:"Otvori u novoj kartici"},form:{title_placeholder:"Uredi naslov",url_placeholder:"Uredi URL"}},comments:{edited:"uredio",save_button_text:"Spremi",cancel_button_text:"Odustani",actions:{add_reaction:"Dodaj reakciju",resolve:"Riješi",edit_comment:"Uredi komentar",delete_comment:"Obriši komentar",more_actions:"Više radnji"},reactions:{reacted_by:"Reagirao/la"},sidebar:{marked_as_resolved:"Označeno kao riješeno",more_replies:t=>`${t} dodatnih odgovora`}},generic:{ctrl_shortcut:"Ctrl"}},koe={slash_menu:{heading:{title:"Fyrirsögn 1",subtext:"Notað fyrir efstu fyrirsögn",aliases:["h","fyrirsogn1","h1"],group:"Fyrirsagnir"},heading_2:{title:"Fyrirsögn 2",subtext:"Notað fyrir lykilhluta",aliases:["h2","fyrirsogn2","undirfyrirsogn"],group:"Fyrirsagnir"},heading_3:{title:"Fyrirsögn 3",subtext:"Notað fyrir undirhluta og hópfyrirsagnir",aliases:["h3","fyrirsogn3","undirfyrirsogn"],group:"Fyrirsagnir"},heading_4:{title:"Fyrirsögn 4",subtext:"Titill fyrir minni undirhluta",aliases:["h4","fyrirsogn4","undirfyrirsogn4"],group:"Undirfyrirsagnir"},heading_5:{title:"Fyrirsögn 5",subtext:"Titill fyrir litla undirkafla",aliases:["h5","fyrirsogn5","undirfyrirsogn5"],group:"Undirfyrirsagnir"},heading_6:{title:"Fyrirsögn 6",subtext:"Titill á lægsta stigi",aliases:["h6","fyrirsogn6","undirfyrirsogn6"],group:"Undirfyrirsagnir"},toggle_heading:{title:"Fellanleg Fyrirsögn 1",subtext:"Fellanleg efsta fyrirsögn sem hægt er að sýna eða fela innihald",aliases:["h","fyrirsogn1","h1","fellanleg","fellanlegt"],group:"Undirfyrirsagnir"},toggle_heading_2:{title:"Fellanleg Fyrirsögn 2",subtext:"Fellanleg fyrirsögn fyrir lykilhluta sem hægt er að sýna eða fela innihald",aliases:["h2","fyrirsogn2","undirfyrirsogn","fellanleg","fellanlegt"],group:"Undirfyrirsagnir"},toggle_heading_3:{title:"Fellanleg Fyrirsögn 3",subtext:"Fellanleg fyrirsögn fyrir undirhluta og hópfyrirsagnir sem hægt er að sýna eða fela innihald",aliases:["h3","fyrirsogn3","undirfyrirsogn","fellanleg","fellanlegt"],group:"Undirfyrirsagnir"},quote:{title:"Tilvitnun",subtext:"Tilvitnun eða útdráttur",aliases:["quotation","blockquote","bq"],group:"Grunnblokkar"},numbered_list:{title:"Númeruð listi",subtext:"Notað til að birta númeraðan lista",aliases:["ol","li","listi","numeradurlisti"],group:"Grunnblokkar"},bullet_list:{title:"Punktalisti",subtext:"Notað til að birta óraðaðan lista",aliases:["ul","li","listi","punktalisti"],group:"Grunnblokkar"},check_list:{title:"Athugunarlisti",subtext:"Notað til að sýna lista með gátreitum",aliases:["ul","li","listi","athugunarlisti","merktur listi"],group:"Grunnblokkar"},toggle_list:{title:"Fellanlegur listi",subtext:"Listi með földum undirliðum",aliases:["li","listi","fellanlegur listi","samfellanlegur listi","faldanlegur listi"],group:"Grunnblokkar"},paragraph:{title:"Málsgrein",subtext:"Notað fyrir meginmál skjalsins",aliases:["p","malsgrein"],group:"Grunnblokkar"},code_block:{title:"Kóðablokk",subtext:"Kóðablokkur með litskiptingu",aliases:["kóði","pre"],group:"Grunnblokkar"},page_break:{title:"Síðubrot",subtext:"Síðuskil",aliases:["page","break","separator","síðubrot","síðuskil"],group:"Grunnblokkir"},table:{title:"Tafla",subtext:"Notað fyrir töflur",aliases:["tafla"],group:"Ítarlegt"},image:{title:"Mynd",subtext:"Settu inn mynd",aliases:["mynd","myndaupphlaed","upphlaed","img","mynd","media","url"],group:"Miðlar"},video:{title:"Myndband",subtext:"Setja inn myndband",aliases:["myndband","videoUpphala","hlaða upp","mp4","kvikmynd","miðill","url"],group:"Miðill"},audio:{title:"Hljóð",subtext:"Setja inn hljóð",aliases:["hljóð","audioUpphala","hlaða upp","mp3","hljóð","miðill","url"],group:"Miðlar"},file:{title:"Skrá",subtext:"Setja inn skrá",aliases:["skrá","hlaða upp","fella inn","miðill","url"],group:"Miðlar"},emoji:{title:"Emoji",subtext:"Notað til að setja inn smámynd",aliases:["emoji","andlitsávísun","tilfinningar","andlit"],group:"Annað"}},placeholders:{default:"Sláðu inn texta eða skrifaðu '/' fyrir skipanir",heading:"Fyrirsögn",toggleListItem:"Víxla",bulletListItem:"Listi",numberedListItem:"Listi",checkListItem:"Listi",new_comment:"Skrifaðu athugasemd...",edit_comment:"Breyta athugasemd...",comment_reply:"Bæta við athugasemd..."},file_blocks:{image:{add_button_text:"Bæta við mynd"},video:{add_button_text:"Bæta við myndbandi"},audio:{add_button_text:"Bæta við hljóði"},file:{add_button_text:"Bæta við skrá"}},side_menu:{add_block_label:"Bæta við blokki",drag_handle_label:"Opna blokkarvalmynd"},drag_handle:{delete_menuitem:"Eyða",colors_menuitem:"Litir",header_row_menuitem:"Höfuðröð",header_column_menuitem:"Höfuðdálkur"},table_handle:{delete_column_menuitem:"Eyða dálki",delete_row_menuitem:"Eyða röð",add_left_menuitem:"Bæta dálki við til vinstri",add_right_menuitem:"Bæta dálki við til hægri",add_above_menuitem:"Bæta röð við fyrir ofan",add_below_menuitem:"Bæta röð við fyrir neðan",split_cell_menuitem:"Splita dálk",merge_cells_menuitem:"Sameina dálka",background_color_menuitem:"Breyta bakgrunni"},suggestion_menu:{no_items_title:"Engir hlutir fundust"},color_picker:{text_title:"Texti",background_title:"Bakgrunnur",colors:{default:"Sjálfgefið",gray:"Grár",brown:"Brúnn",red:"Rauður",orange:"Appelsínugulur",yellow:"Gulur",green:"Grænn",blue:"Blár",purple:"Fjólublár",pink:"Bleikur"}},formatting_toolbar:{bold:{tooltip:"Feitletrað",secondary_tooltip:"Mod+B"},italic:{tooltip:"Skáletrað",secondary_tooltip:"Mod+I"},underline:{tooltip:"Undirstrikað",secondary_tooltip:"Mod+U"},strike:{tooltip:"Yfirstrikað",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kóði",secondary_tooltip:""},colors:{tooltip:"Litir"},link:{tooltip:"Búa til tengil",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Breyta myndatexta",input_placeholder:"Breyta myndatexta"},file_replace:{tooltip:{image:"Skipta um mynd",video:"Skipta um myndband",audio:"Skipta um hljóð",file:"Skipta um skrá"}},file_rename:{tooltip:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"},input_placeholder:{image:"Endurnefna mynd",video:"Endurnefna myndband",audio:"Endurnefna hljóð",file:"Endurnefna skrá"}},file_download:{tooltip:{image:"Sækja mynd",video:"Sækja myndband",audio:"Sækja hljóð",file:"Sækja skrá"}},file_delete:{tooltip:{image:"Eyða mynd",video:"Eyða myndbandi",audio:"Eyða hljóði",file:"Eyða skrá"}},file_preview_toggle:{tooltip:"Skipta um forskoðun"},nest:{tooltip:"Fella blokk saman",secondary_tooltip:"Tab"},unnest:{tooltip:"Afþýða blokk",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Vinstrijafna texta"},align_center:{tooltip:"Miðjustilla texta"},align_right:{tooltip:"Hægrijafna texta"},align_justify:{tooltip:"Jafna texta"},table_cell_merge:{tooltip:"Sameina dálka"},comment:{tooltip:"Bæta við athugasemd"}},file_panel:{upload:{title:"Hlaða upp",file_placeholder:{image:"Hlaða upp mynd",video:"Hlaða upp myndband",audio:"Hlaða upp hljóð",file:"Hlaða upp skrá"},upload_error:"Villa: Upphleðsla mistókst"},embed:{title:"Innsetja",embed_button:{image:"Innsetja mynd",video:"Innsetja myndband",audio:"Innsetja hljóð",file:"Innsetja skrá"},url_placeholder:"Sláðu inn URL"}},link_toolbar:{delete:{tooltip:"Fjarlægja tengil"},edit:{text:"Breyta tengli",tooltip:"Breyta"},open:{tooltip:"Opna í nýjum flipa"},form:{title_placeholder:"Breyta titli",url_placeholder:"Breyta URL"}},comments:{edited:"breytt",save_button_text:"Vista",cancel_button_text:"Hætta",actions:{add_reaction:"Bæta við viðbrögðum",resolve:"Leysa",edit_comment:"Breyta athugasemd",delete_comment:"Eyða athugasemd",more_actions:"Fleiri aðgerðir"},reactions:{reacted_by:"Brást við af"},sidebar:{marked_as_resolved:"Merkt sem leyst",more_replies:t=>`${t} fleiri svör`}},generic:{ctrl_shortcut:"Ctrl"}},xoe={slash_menu:{heading:{title:"Intestazione 1",subtext:"Intestazione di primo livello",aliases:["h","intestazione1","h1"],group:"Intestazioni"},heading_2:{title:"Intestazione 2",subtext:"Intestazione di sezione chiave",aliases:["h2","intestazione2","sottotitolo"],group:"Intestazioni"},heading_3:{title:"Intestazione 3",subtext:"Intestazione di sottosezione e gruppo",aliases:["h3","intestazione3","sottotitolo"],group:"Intestazioni"},heading_4:{title:"Intestazione 4",subtext:"Intestazione di sottosezione minore",aliases:["h4","intestazione4","sottotitolo4"],group:"Sottotitoli"},heading_5:{title:"Intestazione 5",subtext:"Intestazione di sottosezione minore",aliases:["h5","intestazione5","sottotitolo5"],group:"Sottotitoli"},heading_6:{title:"Intestazione 6",subtext:"Intestazione di livello più basso",aliases:["h6","intestazione6","sottotitolo6"],group:"Sottotitoli"},toggle_heading:{title:"Intestazione Espandibile 1",subtext:"Intestazione di primo livello che può essere espansa o compressa per mostrare il contenuto",aliases:["h","intestazione1","h1","espandibile","comprimibile"],group:"Sottotitoli"},toggle_heading_2:{title:"Intestazione Espandibile 2",subtext:"Intestazione di sezione che può essere espansa o compressa per mostrare il contenuto",aliases:["h2","intestazione2","sottotitolo","espandibile","comprimibile"],group:"Sottotitoli"},toggle_heading_3:{title:"Intestazione Espandibile 3",subtext:"Intestazione di sottosezione che può essere espansa o compressa per mostrare il contenuto",aliases:["h3","intestazione3","sottotitolo","espandibile","comprimibile"],group:"Sottotitoli"},quote:{title:"Citazione",subtext:"Citazione o estratto",aliases:["quotation","blockquote","bq"],group:"Blocchi Base"},numbered_list:{title:"Elenco Numerato",subtext:"Elenco con elementi ordinati",aliases:["ol","li","elenco","elenconumerato","elenco numerato"],group:"Blocchi Base"},bullet_list:{title:"Elenco Puntato",subtext:"Elenco con elementi non ordinati",aliases:["ul","li","elenco","elencopuntato","elenco puntato"],group:"Blocchi Base"},check_list:{title:"Elenco di Controllo",subtext:"Elenco con caselle di controllo",aliases:["ul","li","elenco","elencocontrollo","elenco controllo","elenco verificato","casella di controllo"],group:"Blocchi Base"},toggle_list:{title:"Elenco Espandibile",subtext:"Elenco con elementi nascondibili",aliases:["li","elenco","elenco espandibile","elenco collassabile","elenco espandibile"],group:"Blocchi Base"},paragraph:{title:"Paragrafo",subtext:"Il corpo del tuo documento",aliases:["p","paragrafo"],group:"Blocchi Base"},code_block:{title:"Blocco di Codice",subtext:"Blocco di codice con evidenziazione della sintassi",aliases:["code","pre"],group:"Blocchi Base"},page_break:{title:"Interruzione di Pagina",subtext:"Separatore di pagina",aliases:["pagina","interruzione","separatore"],group:"Blocchi base"},table:{title:"Tabella",subtext:"Tabella con celle modificabili",aliases:["tabella"],group:"Avanzato"},image:{title:"Immagine",subtext:"Immagine ridimensionabile con didascalia",aliases:["immagine","caricaImmagine","carica","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Video ridimensionabile con didascalia",aliases:["video","caricaVideo","carica","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Audio incorporato con didascalia",aliases:["audio","caricaAudio","carica","mp3","suono","media","url"],group:"Media"},file:{title:"File",subtext:"File incorporato",aliases:["file","carica","embed","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Cerca e inserisci un'emoji",aliases:["emoji","emote","emozione","faccia"],group:"Altri"}},placeholders:{default:"Inserisci testo o digita '/' per i comandi",heading:"Intestazione",toggleListItem:"Attiva/Disattiva",bulletListItem:"Elenco",numberedListItem:"Elenco",checkListItem:"Elenco",new_comment:"Scrivi un commento...",edit_comment:"Modifica commento...",comment_reply:"Aggiungi commento..."},file_blocks:{image:{add_button_text:"Aggiungi immagine"},video:{add_button_text:"Aggiungi video"},audio:{add_button_text:"Aggiungi audio"},file:{add_button_text:"Aggiungi file"}},side_menu:{add_block_label:"Aggiungi blocco",drag_handle_label:"Apri menu blocco"},drag_handle:{delete_menuitem:"Elimina",colors_menuitem:"Colori",header_row_menuitem:"Riga intestazione",header_column_menuitem:"Colonna intestazione"},table_handle:{delete_column_menuitem:"Elimina colonna",delete_row_menuitem:"Elimina riga",add_left_menuitem:"Aggiungi colonna a sinistra",add_right_menuitem:"Aggiungi colonna a destra",add_above_menuitem:"Aggiungi riga sopra",add_below_menuitem:"Aggiungi riga sotto",split_cell_menuitem:"Dividi cella",merge_cells_menuitem:"Unisci celle",background_color_menuitem:"Colore di sfondo"},suggestion_menu:{no_items_title:"Nessun elemento trovato"},color_picker:{text_title:"Testo",background_title:"Sfondo",colors:{default:"Predefinito",gray:"Grigio",brown:"Marrone",red:"Rosso",orange:"Arancione",yellow:"Giallo",green:"Verde",blue:"Blu",purple:"Viola",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Grassetto",secondary_tooltip:"Cmd+B"},italic:{tooltip:"Corsivo",secondary_tooltip:"Cmd+I"},underline:{tooltip:"Sottolineato",secondary_tooltip:"Cmd+U"},strike:{tooltip:"Barrato",secondary_tooltip:"Cmd+Shift+S"},code:{tooltip:"Codice",secondary_tooltip:""},colors:{tooltip:"Colori"},link:{tooltip:"Crea link",secondary_tooltip:"Cmd+K"},file_caption:{tooltip:"Modifica didascalia",input_placeholder:"Modifica didascalia"},file_replace:{tooltip:{image:"Sostituisci immagine",video:"Sostituisci video",audio:"Sostituisci audio",file:"Sostituisci file"}},file_rename:{tooltip:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"},input_placeholder:{image:"Rinomina immagine",video:"Rinomina video",audio:"Rinomina audio",file:"Rinomina file"}},file_download:{tooltip:{image:"Scarica immagine",video:"Scarica video",audio:"Scarica audio",file:"Scarica file"}},file_delete:{tooltip:{image:"Elimina immagine",video:"Elimina video",audio:"Elimina audio",file:"Elimina file"}},file_preview_toggle:{tooltip:"Attiva/disattiva anteprima"},nest:{tooltip:"Annida blocco",secondary_tooltip:"Tab"},unnest:{tooltip:"Disannida blocco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Allinea testo a sinistra"},align_center:{tooltip:"Allinea testo al centro"},align_right:{tooltip:"Allinea testo a destra"},align_justify:{tooltip:"Giustifica testo"},table_cell_merge:{tooltip:"Unisci celle"},comment:{tooltip:"Aggiungi commento"}},file_panel:{upload:{title:"Carica",file_placeholder:{image:"Carica immagine",video:"Carica video",audio:"Carica audio",file:"Carica file"},upload_error:"Errore: Caricamento fallito"},embed:{title:"Incorpora",embed_button:{image:"Incorpora immagine",video:"Incorpora video",audio:"Incorpora audio",file:"Incorpora file"},url_placeholder:"Inserisci URL"}},link_toolbar:{delete:{tooltip:"Rimuovi link"},edit:{text:"Modifica link",tooltip:"Modifica"},open:{tooltip:"Apri in una nuova scheda"},form:{title_placeholder:"Modifica titolo",url_placeholder:"Modifica URL"}},comments:{edited:"modificato",save_button_text:"Salva",cancel_button_text:"Annulla",actions:{add_reaction:"Aggiungi reazione",resolve:"Risolvi",edit_comment:"Modifica commento",delete_comment:"Elimina commento",more_actions:"Altre azioni"},reactions:{reacted_by:"Reagito da"},sidebar:{marked_as_resolved:"Contrassegnato come risolto",more_replies:t=>`${t} altre risposte`}},generic:{ctrl_shortcut:"Ctrl"}},Coe={slash_menu:{heading:{title:"見出し１",subtext:"トップレベルの見出しに使用",aliases:["h","見出し１","h1","大見出し"],group:"見出し"},heading_2:{title:"見出し２",subtext:"重要なセクションに使用",aliases:["h2","見出し2","subheading","中見出し"],group:"見出し"},heading_3:{title:"見出し３",subtext:"セクションやグループの見出しに使用",aliases:["h3","見出し3","subheading","小見出し"],group:"見出し"},heading_4:{title:"見出し４",subtext:"小さなサブセクションの見出しに使用",aliases:["h4","見出し4","subheading4","小見出し4"],group:"サブ見出し"},heading_5:{title:"見出し５",subtext:"小さなサブセクションの見出しに使用",aliases:["h5","見出し5","subheading5","小見出し5"],group:"サブ見出し"},heading_6:{title:"見出し６",subtext:"最下位レベルの見出しに使用",aliases:["h6","見出し6","subheading6","小見出し6"],group:"サブ見出し"},toggle_heading:{title:"折りたたみ見出し１",subtext:"内容の表示/非表示が切り替え可能なトップレベルの見出し",aliases:["h","見出し１","h1","大見出し","折りたたみ","トグル"],group:"サブ見出し"},toggle_heading_2:{title:"折りたたみ見出し２",subtext:"内容の表示/非表示が切り替え可能な重要なセクションの見出し",aliases:["h2","見出し2","subheading","中見出し","折りたたみ","トグル"],group:"サブ見出し"},toggle_heading_3:{title:"折りたたみ見出し３",subtext:"内容の表示/非表示が切り替え可能なセクションやグループの見出し",aliases:["h3","見出し3","subheading","小見出し","折りたたみ","トグル"],group:"サブ見出し"},quote:{title:"引用",subtext:"引用または抜粋",aliases:["quotation","blockquote","bq"],group:"基本ブロック"},numbered_list:{title:"番号付リスト",subtext:"番号付リストを表示するために使用",aliases:["ol","li","numberedlist","numbered list","リスト","番号付リスト","番号 リスト"],group:"基本ブロック"},bullet_list:{title:"箇条書き",subtext:"箇条書きを表示するために使用",aliases:["ul","li","bulletlist","bullet list","リスト","箇条書きリスト"],group:"基本ブロック"},check_list:{title:"チェックリスト",subtext:"チェックボックス付きリストを表示するために使用されます",aliases:["ul","li","list","checklist","checked list","リスト","チェックリスト","チェックされたリスト"],group:"基本ブロック"},toggle_list:{title:"折りたたみリスト",subtext:"サブ項目を非表示にできるリスト",aliases:["li","リスト","折りたたみリスト","トグルリスト","折りたたみリスト"],group:"基本ブロック"},paragraph:{title:"標準テキスト",subtext:"本文に使用",aliases:["p","paragraph","標準テキスト"],group:"基本ブロック"},code_block:{title:"コードブロック",subtext:"シンタックスハイライト付きのコードブロック",aliases:["code","pre","コード","コードブロック"],group:"基本ブロック"},page_break:{title:"改ページ",subtext:"ページ区切り",aliases:["page","break","separator","改ページ","区切り"],group:"基本ブロック"},table:{title:"表",subtext:"表に使用",aliases:["table","表","テーブル"],group:"高度なブロック"},image:{title:"画像",subtext:"画像を挿入",aliases:["image","imageUpload","upload","img","picture","media","url","画像"],group:"メディア"},video:{title:"ビデオ",subtext:"ビデオを挿入",aliases:["video","videoUpload","upload","mp4","film","media","url","ビデオ"],group:"メディア"},audio:{title:"オーディオ",subtext:"オーディオを挿入",aliases:["audio","audioUpload","upload","mp3","sound","media","url","オーディオ"],group:"メディア"},file:{title:"ファイル",subtext:"ファイルを挿入",aliases:["file","upload","embed","media","url","ファイル"],group:"メディア"},emoji:{title:"絵文字",subtext:"絵文字を挿入するために使用します",aliases:["絵文字","顔文字","感情表現","顔"],group:"その他"}},placeholders:{default:"テキストを入力するか'/' を入力してコマンド選択",heading:"見出し",toggleListItem:"トグル",bulletListItem:"リストを追加",numberedListItem:"リストを追加",checkListItem:"リストを追加",new_comment:"コメントを書く...",edit_comment:"コメントを編集...",comment_reply:"コメントを追加..."},file_blocks:{image:{add_button_text:"画像を追加"},video:{add_button_text:"ビデオを追加"},audio:{add_button_text:"オーディオを追加"},file:{add_button_text:"ファイルを追加"}},side_menu:{add_block_label:"ブロックを追加",drag_handle_label:"ブロックメニュー"},drag_handle:{delete_menuitem:"削除",colors_menuitem:"色を変更",header_row_menuitem:"行の見出し",header_column_menuitem:"列の見出し"},table_handle:{delete_column_menuitem:"列を削除",delete_row_menuitem:"行を削除",add_left_menuitem:"左に列を追加",add_right_menuitem:"右に列を追加",add_above_menuitem:"上に行を追加",add_below_menuitem:"下に行を追加",split_cell_menuitem:"セルを分割",merge_cells_menuitem:"セルを結合",background_color_menuitem:"背景色を変更"},suggestion_menu:{no_items_title:"アイテムが見つかりません"},color_picker:{text_title:"文字色",background_title:"背景色",colors:{default:"デフォルト",gray:"グレー",brown:"茶色",red:"赤",orange:"オレンジ",yellow:"黄色",green:"緑",blue:"青",purple:"紫",pink:"ピンク"}},formatting_toolbar:{bold:{tooltip:"太字",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下線",secondary_tooltip:"Mod+U"},strike:{tooltip:"打ち消し",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"コード",secondary_tooltip:""},colors:{tooltip:"色"},link:{tooltip:"リンク",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"キャプションを編集",input_placeholder:"キャプションを編集"},file_replace:{tooltip:{image:"画像を置換",video:"ビデオを置換",audio:"オーディオを置換",file:"ファイルを置換"}},file_rename:{tooltip:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"},input_placeholder:{image:"画像の名前を変更",video:"ビデオの名前を変更",audio:"オーディオの名前を変更",file:"ファイルの名前を変更"}},file_download:{tooltip:{image:"画像をダウンロード",video:"ビデオをダウンロード",audio:"オーディオをダウンロード",file:"ファイルをダウンロード"}},file_delete:{tooltip:{image:"画像を削除",video:"ビデオを削除",audio:"オーディオを削除",file:"ファイルを削除"}},file_preview_toggle:{tooltip:"プレビューの切り替え"},nest:{tooltip:"インデント増",secondary_tooltip:"Tab"},unnest:{tooltip:"インデント減",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左揃え"},align_center:{tooltip:"中央揃え"},align_right:{tooltip:"右揃え"},align_justify:{tooltip:"両端揃え"},table_cell_merge:{tooltip:"セルを結合"},comment:{tooltip:"コメントを追加"}},file_panel:{upload:{title:"アップロード",file_placeholder:{image:"画像をアップロード",video:"ビデオをアップロード",audio:"オーディオをアップロード",file:"ファイルをアップロード"},upload_error:"エラー: アップロードが失敗しました"},embed:{title:"埋め込み",embed_button:{image:"画像を埋め込む",video:"ビデオを埋め込む",audio:"オーディオを埋め込む",file:"ファイルを埋め込む"},url_placeholder:"URLを入力"}},link_toolbar:{delete:{tooltip:"リンクを解除"},edit:{text:"リンクを編集",tooltip:"編集"},open:{tooltip:"新しいタブでリンクを開く"},form:{title_placeholder:"タイトルを編集",url_placeholder:"URLを編集"}},comments:{edited:"編集済み",save_button_text:"保存",cancel_button_text:"キャンセル",actions:{add_reaction:"リアクションを追加",resolve:"解決",edit_comment:"コメントを編集",delete_comment:"コメントを削除",more_actions:"その他の操作"},reactions:{reacted_by:"リアクションした人"},sidebar:{marked_as_resolved:"解決済みとしてマーク",more_replies:t=>`${t} 件の追加返信`}},generic:{ctrl_shortcut:"Ctrl"}},Soe={slash_menu:{heading:{title:"제목1",subtext:"섹션 제목(대)",aliases:["h","제목1","h1","대제목"],group:"제목"},heading_2:{title:"제목2",subtext:"섹션 제목(중)",aliases:["h2","제목2","중제목"],group:"제목"},heading_3:{title:"제목3",subtext:"섹션 제목(소)",aliases:["h3","제목3","subheading"],group:"제목"},heading_4:{title:"제목4",subtext:"하위 소단락 제목",aliases:["h4","제목4","소제목4"],group:"소제목"},heading_5:{title:"제목5",subtext:"작은 하위 섹션 제목",aliases:["h5","제목5","소제목5"],group:"소제목"},heading_6:{title:"제목6",subtext:"가장 하위 수준 제목",aliases:["h6","제목6","소제목6"],group:"소제목"},toggle_heading:{title:"접을 수 있는 제목1",subtext:"내용을 표시하거나 숨길 수 있는 섹션 제목(대)",aliases:["h","제목1","h1","대제목","접기","토글"],group:"제목"},toggle_heading_2:{title:"접을 수 있는 제목2",subtext:"내용을 표시하거나 숨길 수 있는 섹션 제목(중)",aliases:["h2","제목2","중제목","접기","토글"],group:"소제목"},toggle_heading_3:{title:"접을 수 있는 제목3",subtext:"내용을 표시하거나 숨길 수 있는 섹션 제목(소)",aliases:["h3","제목3","subheading","접기","토글"],group:"소제목"},quote:{title:"인용",subtext:"인용문 또는 발췌",aliases:["quotation","blockquote","bq"],group:"기본 블록"},numbered_list:{title:"번호 매기기 목록",subtext:"번호가 매겨진 목록을 추가합니다.",aliases:["ol","li","목록","번호 매기기 목록","번호 목록"],group:"기본 블록"},bullet_list:{title:"글머리 기호 목록",subtext:"간단한 글머리 기호를 추가합니다.",aliases:["ul","li","목록","글머리 기호 목록","글머리 목록"],group:"기본 블록"},check_list:{title:"체크리스트",subtext:"체크박스가 있는 목록을 표시하는 데 사용",aliases:["ul","li","목록","체크리스트","체크 리스트","체크된 목록","체크박스"],group:"기본 블록"},toggle_list:{title:"접을 수 있는 목록",subtext:"숨길 수 있는 하위 항목이 있는 목록",aliases:["li","목록","접을 수 있는 목록","토글 목록","접기 목록"],group:"기본 블록"},paragraph:{title:"본문",subtext:"일반 텍스트",aliases:["p","paragraph","본문"],group:"기본 블록"},code_block:{title:"코드 블록",subtext:"구문 강조가 있는 코드 블록",aliases:["code","pre"],group:"기본 블록"},page_break:{title:"페이지 나누기",subtext:"페이지 구분자",aliases:["page","break","separator","페이지","구분자"],group:"기본 블록"},table:{title:"표",subtext:"간단한 표를 추가합니다.",aliases:["표"],group:"고급"},image:{title:"이미지",subtext:"이미지 파일을 업로드합니다.",aliases:["image","imageUpload","upload","img","picture","media","이미지","url"],group:"미디어"},video:{title:"비디오",subtext:"비디오 삽입",aliases:["video","videoUpload","upload","mp4","film","media","동영상","url"],group:"미디어"},audio:{title:"오디오",subtext:"오디오 삽입",aliases:["audio","audioUpload","upload","mp3","sound","media","오디오","url"],group:"미디어"},file:{title:"파일",subtext:"파일 삽입",aliases:["file","upload","embed","media","파일","url"],group:"미디어"},emoji:{title:"이모지",subtext:"이모지 삽입용으로 사용됩니다",aliases:["이모지","emoji","감정 표현","emotion expression","표정","face expression","얼굴","face"],group:"기타"}},placeholders:{default:"텍스트를 입력하거나 /를 입력하여 명령을 입력하세요.",heading:"제목",toggleListItem:"토글",bulletListItem:"목록",numberedListItem:"목록",checkListItem:"목록",new_comment:"댓글 작성...",edit_comment:"댓글 수정...",comment_reply:"댓글 추가..."},file_blocks:{image:{add_button_text:"이미지 추가"},video:{add_button_text:"비디오 추가"},audio:{add_button_text:"오디오 추가"},file:{add_button_text:"파일 추가"}},side_menu:{add_block_label:"블록 추가",drag_handle_label:"블록 메뉴 열기"},drag_handle:{delete_menuitem:"삭제",colors_menuitem:"색깔",header_row_menuitem:"행 제목",header_column_menuitem:"열 제목"},table_handle:{delete_column_menuitem:"열 1개 삭제",delete_row_menuitem:"행 삭제",add_left_menuitem:"왼쪽에 열 1개 추가",add_right_menuitem:"오른쪽에 열 1개 추가",add_above_menuitem:"위에 행 1개 추가",add_below_menuitem:"아래에 행 1개 추가",split_cell_menuitem:"셀 분할",merge_cells_menuitem:"셀 병합",background_color_menuitem:"배경색 변경"},suggestion_menu:{no_items_title:"항목을 찾을 수 없음"},color_picker:{text_title:"텍스트",background_title:"배경",colors:{default:"기본",gray:"회색",brown:"갈색",red:"빨간색",orange:"주황색",yellow:"노란색",green:"녹색",blue:"파란색",purple:"보라색",pink:"분홍색"}},formatting_toolbar:{bold:{tooltip:"진하게",secondary_tooltip:"Mod+B"},italic:{tooltip:"기울임",secondary_tooltip:"Mod+I"},underline:{tooltip:"밑줄",secondary_tooltip:"Mod+U"},strike:{tooltip:"취소선",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"코드",secondary_tooltip:""},colors:{tooltip:"색깔"},link:{tooltip:"링크 만들기",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"이미지 캡션 수정",input_placeholder:"이미지 캡션 수정"},file_replace:{tooltip:{image:"이미지 교체",video:"비디오 교체",audio:"오디오 교체",file:"파일 교체"}},file_rename:{tooltip:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"},input_placeholder:{image:"이미지 이름 변경",video:"비디오 이름 변경",audio:"오디오 이름 변경",file:"파일 이름 변경"}},file_download:{tooltip:{image:"이미지 다운로드",video:"비디오 다운로드",audio:"오디오 다운로드",file:"파일 다운로드"}},file_delete:{tooltip:{image:"이미지 삭제",video:"비디오 삭제",audio:"오디오 삭제",file:"파일 삭제"}},file_preview_toggle:{tooltip:"미리보기 전환"},nest:{tooltip:"중첩 블록",secondary_tooltip:"Tab"},unnest:{tooltip:"비중첩 블록",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"텍스트 왼쪽 맞춤"},align_center:{tooltip:"텍스트 가운데 맞춤"},align_right:{tooltip:"텍스트 오른쪽 맞춤"},align_justify:{tooltip:"텍스트 양쪽 맞춤"},table_cell_merge:{tooltip:"셀 병합"},comment:{tooltip:"코멘트 추가"}},file_panel:{upload:{title:"업로드",file_placeholder:{image:"이미지 업로드",video:"비디오 업로드",audio:"오디오 업로드",file:"파일 업로드"},upload_error:"오류: 업로드 실패"},embed:{title:"임베드",embed_button:{image:"이미지 삽입",video:"비디오 삽입",audio:"오디오 삽입",file:"파일 삽입"},url_placeholder:"URL을 입력하세요."}},link_toolbar:{delete:{tooltip:"링크 삭제"},edit:{text:"링크 수정",tooltip:"수정"},open:{tooltip:"새 탭으로 열기"},form:{title_placeholder:"제목 수정",url_placeholder:"URL 수정"}},comments:{edited:"수정됨",save_button_text:"저장",cancel_button_text:"취소",actions:{add_reaction:"반응 추가",resolve:"해결",edit_comment:"댓글 수정",delete_comment:"댓글 삭제",more_actions:"더 많은 작업"},reactions:{reacted_by:"반응한 사람"},sidebar:{marked_as_resolved:"해결됨으로 표시됨",more_replies:t=>`${t}개의 추가 답글`}},generic:{ctrl_shortcut:"Ctrl"}},_oe={slash_menu:{heading:{title:"Kop 1",subtext:"Gebruikt voor een hoofdkop",aliases:["h","kop1","h1"],group:"Koppen"},heading_2:{title:"Kop 2",subtext:"Gebruikt voor belangrijke secties",aliases:["h2","kop2","subkop"],group:"Koppen"},heading_3:{title:"Kop 3",subtext:"Gebruikt voor subsecties en groepskoppen",aliases:["h3","kop3","subkop"],group:"Koppen"},heading_4:{title:"Kop 4",subtext:"Gebruikt voor kleinere subsecties",aliases:["h4","kop4","subkop4"],group:"Subkoppen"},heading_5:{title:"Kop 5",subtext:"Gebruikt voor kleinere subsecties",aliases:["h5","kop5","subkop5"],group:"Subkoppen"},heading_6:{title:"Kop 6",subtext:"Gebruikt voor koppen op het laagste niveau",aliases:["h6","kop6","subkop6"],group:"Subkoppen"},toggle_heading:{title:"Uitklapbare Kop 1",subtext:"Hoofdkop die kan worden uit- en ingeklapt om inhoud te tonen",aliases:["h","kop1","h1","uitklapbaar","inklapbaar"],group:"Subkoppen"},toggle_heading_2:{title:"Uitklapbare Kop 2",subtext:"Sectiekop die kan worden uit- en ingeklapt om inhoud te tonen",aliases:["h2","kop2","subkop","uitklapbaar","inklapbaar"],group:"Subkoppen"},toggle_heading_3:{title:"Uitklapbare Kop 3",subtext:"Subsectiekop die kan worden uit- en ingeklapt om inhoud te tonen",aliases:["h3","kop3","subkop","uitklapbaar","inklapbaar"],group:"Subkoppen"},quote:{title:"Citaat",subtext:"Citaat of uittreksel",aliases:["quotation","blockquote","bq"],group:"Basisblokken"},numbered_list:{title:"Genummerde Lijst",subtext:"Gebruikt om een genummerde lijst weer te geven",aliases:["ol","li","lijst","genummerdelijst","genummerde lijst"],group:"Basisblokken"},bullet_list:{title:"Puntenlijst",subtext:"Gebruikt om een ongeordende lijst weer te geven",aliases:["ul","li","lijst","puntenlijst","punten lijst"],group:"Basisblokken"},check_list:{title:"Controlelijst",subtext:"Gebruikt om een lijst met selectievakjes weer te geven",aliases:["ul","li","lijst","aangevinkte lijst","selectievakje"],group:"Basisblokken"},toggle_list:{title:"Uitklapbare Lijst",subtext:"Lijst met verbergbare sub-items",aliases:["li","lijst","uitklapbare lijst","inklapbare lijst"],group:"Basisblokken"},paragraph:{title:"Paragraaf",subtext:"Gebruikt voor de hoofdtekst van uw document",aliases:["p","paragraaf"],group:"Basisblokken"},code_block:{title:"Codeblok",subtext:"Codeblok met syntax highlighting",aliases:["code","pre"],group:"Basisblokken"},page_break:{title:"Pagina-einde",subtext:"Paginascheiding",aliases:["page","break","separator","pagina","scheiding"],group:"Basisblokken"},table:{title:"Tabel",subtext:"Gebruikt voor tabellen",aliases:["tabel"],group:"Geavanceerd"},image:{title:"Afbeelding",subtext:"Voeg een afbeelding in",aliases:["afbeelding","imageUpload","upload","img","foto","media","url"],group:"Media"},video:{title:"Video",subtext:"Voeg een video in",aliases:["video","videoUploaden","upload","mp4","film","media","url","drive","dropbox"],group:"Media"},audio:{title:"Audio",subtext:"Voeg audio in",aliases:["audio","audioUploaden","upload","mp3","geluid","media","url"],group:"Media"},file:{title:"Bestand",subtext:"Voeg een bestand in",aliases:["bestand","upload","insluiten","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Gebruikt voor het invoegen van een emoji",aliases:["emoji","emotie-uitdrukking","gezichtsuitdrukking","gezicht"],group:"Overig"}},placeholders:{default:"Voer tekst in of type '/' voor commando's",heading:"Kop",toggleListItem:"Uitklapbaar",bulletListItem:"Lijst",numberedListItem:"Lijst",checkListItem:"Lijst",new_comment:"Schrijf een reactie...",edit_comment:"Reactie bewerken...",comment_reply:"Reactie toevoegen..."},file_blocks:{image:{add_button_text:"Afbeelding toevoegen"},video:{add_button_text:"Video toevoegen"},audio:{add_button_text:"Audio toevoegen"},file:{add_button_text:"Bestand toevoegen"}},side_menu:{add_block_label:"Nieuw blok",drag_handle_label:"Open blok menu"},drag_handle:{delete_menuitem:"Verwijder",colors_menuitem:"Kleuren",header_row_menuitem:"Kopregel",header_column_menuitem:"Kopkolom"},table_handle:{delete_column_menuitem:"Verwijder kolom",delete_row_menuitem:"Verwijder rij",add_left_menuitem:"Voeg kolom links toe",add_right_menuitem:"Voeg kolom rechts toe",add_above_menuitem:"Voeg rij boven toe",add_below_menuitem:"Voeg rij onder toe",split_cell_menuitem:"Splits cel",merge_cells_menuitem:"Voeg cellen samen",background_color_menuitem:"Achtergrondkleur wijzigen"},suggestion_menu:{no_items_title:"Geen items gevonden"},color_picker:{text_title:"Tekst",background_title:"Achtergrond",colors:{default:"Standaard",gray:"Grijs",brown:"Bruin",red:"Rood",orange:"Oranje",yellow:"Geel",green:"Groen",blue:"Blauw",purple:"Paars",pink:"Roze"}},formatting_toolbar:{bold:{tooltip:"Vet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Cursief",secondary_tooltip:"Mod+I"},underline:{tooltip:"Onderstrepen",secondary_tooltip:"Mod+U"},strike:{tooltip:"Doorstrepen",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Kleuren"},link:{tooltip:"Maak link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Bewerk onderschrift",input_placeholder:"Bewerk onderschrift"},file_replace:{tooltip:{image:"Afbeelding vervangen",video:"Video vervangen",audio:"Audio vervangen",file:"Bestand vervangen"}},file_rename:{tooltip:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"},input_placeholder:{image:"Afbeelding hernoemen",video:"Video hernoemen",audio:"Audio hernoemen",file:"Bestand hernoemen"}},file_download:{tooltip:{image:"Afbeelding downloaden",video:"Video downloaden",audio:"Audio downloaden",file:"Bestand downloaden"}},file_delete:{tooltip:{image:"Afbeelding verwijderen",video:"Video verwijderen",audio:"Audio verwijderen",file:"Bestand verwijderen"}},file_preview_toggle:{tooltip:"Voorbeeldschakelaar"},nest:{tooltip:"Nest blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Ontnest blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Tekst links uitlijnen"},align_center:{tooltip:"Tekst centreren"},align_right:{tooltip:"Tekst rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"},table_cell_merge:{tooltip:"Voeg cellen samen"},comment:{tooltip:"Commentaar toevoegen"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Afbeelding uploaden",video:"Video uploaden",audio:"Audio uploaden",file:"Bestand uploaden"},upload_error:"Fout: Upload mislukt"},embed:{title:"Insluiten",embed_button:{image:"Afbeelding insluiten",video:"Video insluiten",audio:"Audio insluiten",file:"Bestand insluiten"},url_placeholder:"Voer URL in"}},link_toolbar:{delete:{tooltip:"Verwijder link"},edit:{text:"Bewerk link",tooltip:"Bewerk"},open:{tooltip:"Open in nieuw tabblad"},form:{title_placeholder:"Bewerk titel",url_placeholder:"Bewerk URL"}},comments:{edited:"bewerkt",save_button_text:"Opslaan",cancel_button_text:"Annuleren",actions:{add_reaction:"Reactie toevoegen",resolve:"Oplossen",edit_comment:"Reactie bewerken",delete_comment:"Reactie verwijderen",more_actions:"Meer acties"},reactions:{reacted_by:"Gereageerd door"},sidebar:{marked_as_resolved:"Gemarkeerd als opgelost",more_replies:t=>`${t} extra reacties`}},generic:{ctrl_shortcut:"Ctrl"}},Eoe={slash_menu:{heading:{title:"Overskrift 1",subtext:"Toppnivåoverskrift",aliases:["h","overskrift1","h1"],group:"Overskrifter"},heading_2:{title:"Overskrift 2",subtext:"Hovedseksjonsoverskrift",aliases:["h2","overskrift2","underoverskrift"],group:"Overskrifter"},heading_3:{title:"Overskrift 3",subtext:"Underseksjon og gruppeoverskrift",aliases:["h3","overskrift3","underoverskrift"],group:"Overskrifter"},heading_4:{title:"Overskrift 4",subtext:"Underoverskrift for mindre underseksjoner",aliases:["h4","overskrift4","underoverskrift4"],group:"Underoverskrifter"},heading_5:{title:"Overskrift 5",subtext:"Overskrift for mindre underseksjoner",aliases:["h5","overskrift5","underoverskrift5"],group:"Underoverskrifter"},heading_6:{title:"Overskrift 6",subtext:"Overskrift på laveste nivå",aliases:["h6","overskrift6","underoverskrift6"],group:"Underoverskrifter"},toggle_heading:{title:"Sammenleggbar Overskrift 1",subtext:"Toppnivåoverskrift som kan vises eller skjules",aliases:["h","overskrift1","h1","sammenleggbar","toggle"],group:"Underoverskrifter"},toggle_heading_2:{title:"Sammenleggbar Overskrift 2",subtext:"Hovedseksjonsoverskrift som kan vises eller skjules",aliases:["h2","overskrift2","underoverskrift","sammenleggbar","toggle"],group:"Underoverskrifter"},toggle_heading_3:{title:"Sammenleggbar Overskrift 3",subtext:"Underseksjonsoverskrift som kan vises eller skjules",aliases:["h3","overskrift3","underoverskrift","sammenleggbar","toggle"],group:"Underoverskrifter"},quote:{title:"Sitat",subtext:"Sitat eller utdrag",aliases:["quotation","blockquote","bq"],group:"Grunnleggende blokker"},numbered_list:{title:"Nummerert liste",subtext:"Liste med ordnede elementer",aliases:["ol","li","liste","nummerertliste","nummerert liste"],group:"Grunnleggende blokker"},bullet_list:{title:"Punktliste",subtext:"Liste med uordnede elementer",aliases:["ul","li","liste","punktliste","punkt liste"],group:"Grunnleggende blokker"},check_list:{title:"Sjekkliste",subtext:"Liste med avmerkingsbokser",aliases:["ul","li","liste","sjekkliste","sjekk liste","avmerket liste","avmerkingsboks"],group:"Grunnleggende blokker"},toggle_list:{title:"Sammenleggbar liste",subtext:"Liste med skjulbare underpunkter",aliases:["li","liste","sammenleggbar liste","skjulbar liste","sammenleggbar liste"],group:"Grunnleggende blokker"},paragraph:{title:"Avsnitt",subtext:"Hoveddelen av dokumentet ditt",aliases:["p","avsnitt"],group:"Grunnleggende blokker"},code_block:{title:"Kodeblokk",subtext:"Kodeblokk med syntaksfremheving",aliases:["kode","pre"],group:"Grunnleggende blokker"},page_break:{title:"Sideskift",subtext:"Sideskilletegn",aliases:["side","skift","skilletegn"],group:"Grunnleggende blokker"},table:{title:"Tabell",subtext:"Tabell med redigerbare celler",aliases:["tabell"],group:"Avansert"},image:{title:"Bilde",subtext:"Justerbart bilde med bildetekst",aliases:["bilde","bildeopplasting","opplasting","img","bilde","media","url"],group:"Media"},video:{title:"Video",subtext:"Justerbar video med bildetekst",aliases:["video","videoopplasting","opplasting","mp4","film","media","url"],group:"Media"},audio:{title:"Lyd",subtext:"legg til lyd med bildetekst",aliases:["lyd","lydopplasting","opplasting","mp3","lyd","media","url"],group:"Media"},file:{title:"Fil",subtext:"Innebygd fil",aliases:["fil","opplasting","innebygd","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Søk etter og legg til en emoji",aliases:["emoji","emote","emosjon","ansikt"],group:"Andre"}},placeholders:{default:"Skriv tekst eller skriv '/' for å vise kommandoer",heading:"Overskrift",toggleListItem:"Veksle",bulletListItem:"Liste",numberedListItem:"Liste",checkListItem:"Liste",new_comment:"Skriv en kommentar...",edit_comment:"Rediger kommentar...",comment_reply:"Legg til kommentar..."},file_blocks:{image:{add_button_text:"Legg til bilde"},video:{add_button_text:"Legg til video"},audio:{add_button_text:"Legg til lyd"},file:{add_button_text:"Legg til fil"}},side_menu:{add_block_label:"Legg til blokk",drag_handle_label:"Åpne blokkmeny"},drag_handle:{delete_menuitem:"Slett",colors_menuitem:"Farger",header_row_menuitem:"Rad overskrift",header_column_menuitem:"Kolonne overskrift"},table_handle:{delete_column_menuitem:"Slett kolonne",delete_row_menuitem:"Slett rad",add_left_menuitem:"Legg til kolonne til venstre",add_right_menuitem:"Legg til kolonne til høyre",add_above_menuitem:"Legg til rad over",add_below_menuitem:"Legg til rad under",split_cell_menuitem:"Del celle",merge_cells_menuitem:"Slå sammen celler",background_color_menuitem:"Bakgrunnsfarge"},suggestion_menu:{no_items_title:"Ingen elementer funnet"},color_picker:{text_title:"Tekst",background_title:"Bakgrunn",colors:{default:"Standard",gray:"Grå",brown:"Brun",red:"Rød",orange:"Oransje",yellow:"Gul",green:"Grønn",blue:"Blå",purple:"Lilla",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Fet",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursiv",secondary_tooltip:"Mod+I"},underline:{tooltip:"Understrek",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gjennomstrek",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kode",secondary_tooltip:""},colors:{tooltip:"Farger"},link:{tooltip:"Opprett lenke",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Rediger bildetekst",input_placeholder:"Rediger bildetekst"},file_replace:{tooltip:{image:"Bytt ut bilde",video:"Bytt ut video",audio:"Bytt ut lyd",file:"Bytt ut fil"}},file_rename:{tooltip:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"},input_placeholder:{image:"Endre navn på bilde",video:"Endre navn på video",audio:"Endre navn på lyd",file:"Endre navn på fil"}},file_download:{tooltip:{image:"Last ned bilde",video:"Last ned video",audio:"Last ned lyd",file:"Last ned fil"}},file_delete:{tooltip:{image:"Slett bilde",video:"Slett video",audio:"Slett lyd",file:"Slett fil"}},file_preview_toggle:{tooltip:"Veksle forhåndsvisning"},nest:{tooltip:"Plasser blokk inni",secondary_tooltip:"Tab"},unnest:{tooltip:"Ta blokk ut",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Venstrejuster tekst"},align_center:{tooltip:"Midtstill tekst"},align_right:{tooltip:"Høyrejuster tekst"},align_justify:{tooltip:"Juster tekst"},comment:{tooltip:"Legg til kommentar"},table_cell_merge:{tooltip:"Slå sammen celler"}},file_panel:{upload:{title:"Last opp",file_placeholder:{image:"Last opp bilde",video:"Last opp video",audio:"Last opp lyd",file:"Last opp fil"},upload_error:"Feil: Opplasting mislyktes"},embed:{title:"Bygg inn",embed_button:{image:"Bygg inn bilde",video:"Bygg inn video",audio:"Bygg inn lyd",file:"Bygg inn fil"},url_placeholder:"Skriv inn URL"}},link_toolbar:{delete:{tooltip:"Fjern lenke"},edit:{text:"Rediger lenke",tooltip:"Rediger"},open:{tooltip:"Åpne i ny fane"},form:{title_placeholder:"Rediger tittel",url_placeholder:"Rediger URL"}},comments:{edited:"redigert",save_button_text:"Lagre",cancel_button_text:"Avbryt",actions:{add_reaction:"Legg til reaksjon",resolve:"Løs",edit_comment:"Rediger kommentar",delete_comment:"Slett kommentar",more_actions:"Flere handlinger"},reactions:{reacted_by:"Reagert av"},sidebar:{marked_as_resolved:"Merket som løst",more_replies:t=>`${t} flere svar`}},generic:{ctrl_shortcut:"Ctrl"}},Moe={slash_menu:{heading:{title:"Nagłówek 1",subtext:"Używany dla nagłówka najwyższego poziomu",aliases:["h","naglowek1","h1"],group:"Nagłówki"},heading_2:{title:"Nagłówek 2",subtext:"Używany dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek"],group:"Nagłówki"},heading_3:{title:"Nagłówek 3",subtext:"Używany dla podsekcji i grup nagłówków",aliases:["h3","naglowek3","podnaglowek"],group:"Nagłówki"},heading_4:{title:"Nagłówek 4",subtext:"Nagłówek mniejszej podsekcji",aliases:["h4","naglowek4","podnaglowek4"],group:"Podnagłówki"},heading_5:{title:"Nagłówek 5",subtext:"Nagłówek mniejszej podsekcji",aliases:["h5","naglowek5","podnaglowek5"],group:"Podnagłówki"},heading_6:{title:"Nagłówek 6",subtext:"Nagłówek najniższego poziomu",aliases:["h6","naglowek6","podnaglowek6"],group:"Podnagłówki"},toggle_heading:{title:"Nagłówek rozwijany 1",subtext:"Rozwijany nagłówek najwyższego poziomu",aliases:["h","naglowek1","h1","rozwijany"],group:"Podnagłówki"},toggle_heading_2:{title:"Nagłówek rozwijany 2",subtext:"Rozwijany nagłówek dla kluczowych sekcji",aliases:["h2","naglowek2","podnaglowek","rozwijany"],group:"Podnagłówki"},toggle_heading_3:{title:"Nagłówek rozwijany 3",subtext:"Rozwijany nagłówek dla podsekcji i grup",aliases:["h3","naglowek3","podnaglowek","rozwijany"],group:"Podnagłówki"},quote:{title:"Cytat",subtext:"Cytat lub fragment",aliases:["quotation","blockquote","bq"],group:"Podstawowe bloki"},numbered_list:{title:"Lista numerowana",subtext:"Używana do wyświetlania listy numerowanej",aliases:["ol","li","lista","numerowana lista"],group:"Podstawowe bloki"},bullet_list:{title:"Lista punktowana",subtext:"Używana do wyświetlania listy bez numeracji",aliases:["ul","li","lista","punktowana lista"],group:"Podstawowe bloki"},check_list:{title:"Lista z polami wyboru",subtext:"Używana do wyświetlania listy z polami wyboru",aliases:["ul","li","lista","lista z polami wyboru","pole wyboru"],group:"Podstawowe bloki"},toggle_list:{title:"Lista rozwijana",subtext:"Lista z elementami, które można ukryć",aliases:["li","lista","lista rozwijana","lista rozwijalna","lista składana"],group:"Podstawowe bloki"},paragraph:{title:"Akapit",subtext:"Używany dla treści dokumentu",aliases:["p","akapit"],group:"Podstawowe bloki"},code_block:{title:"Blok kodu",subtext:"Blok kodu z podświetleniem składni",aliases:["kod","pre"],group:"Podstawowe bloki"},page_break:{title:"Podział strony",subtext:"Separator strony",aliases:["page","break","separator","podział","separator"],group:"Podstawowe bloki"},table:{title:"Tabela",subtext:"Używana do tworzenia tabel",aliases:["tabela"],group:"Zaawansowane"},image:{title:"Zdjęcie",subtext:"Wstaw zdjęcie",aliases:["obraz","wrzućZdjęcie","wrzuć","img","zdjęcie","media","url"],group:"Media"},video:{title:"Wideo",subtext:"Wstaw wideo",aliases:["wideo","wrzućWideo","wrzuć","mp4","film","media","url"],group:"Media"},audio:{title:"Audio",subtext:"Wstaw audio",aliases:["audio","wrzućAudio","wrzuć","mp3","dźwięk","media","url"],group:"Media"},file:{title:"Plik",subtext:"Wstaw plik",aliases:["plik","wrzuć","wstaw","media","url"],group:"Media"},emoji:{title:"Emoji",subtext:"Używane do wstawiania emoji",aliases:["emoji","emotka","wyrażenie emocji","twarz"],group:"Inne"}},placeholders:{default:"Wprowadź tekst lub wpisz '/' aby użyć poleceń",heading:"Nagłówek",toggleListItem:"Przełącz",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Napisz komentarz...",edit_comment:"Edytuj komentarz...",comment_reply:"Dodaj komentarz..."},file_blocks:{image:{add_button_text:"Dodaj zdjęcie"},video:{add_button_text:"Dodaj wideo"},audio:{add_button_text:"Dodaj audio"},file:{add_button_text:"Dodaj plik"}},side_menu:{add_block_label:"Dodaj blok",drag_handle_label:"Otwórz menu bloków"},drag_handle:{delete_menuitem:"Usuń",colors_menuitem:"Kolory",header_row_menuitem:"Nagłówek wiersza",header_column_menuitem:"Nagłówek kolumny"},table_handle:{delete_column_menuitem:"Usuń kolumnę",delete_row_menuitem:"Usuń wiersz",add_left_menuitem:"Dodaj kolumnę po lewej",add_right_menuitem:"Dodaj kolumnę po prawej",add_above_menuitem:"Dodaj wiersz powyżej",add_below_menuitem:"Dodaj wiersz poniżej",split_cell_menuitem:"Podziel komórkę",merge_cells_menuitem:"Połącz komórki",background_color_menuitem:"Zmień kolor tła"},suggestion_menu:{no_items_title:"Nie znaleziono elementów"},color_picker:{text_title:"Tekst",background_title:"Tło",colors:{default:"Domyślny",gray:"Szary",brown:"Brązowy",red:"Czerwony",orange:"Pomarańczowy",yellow:"Żółty",green:"Zielony",blue:"Niebieski",purple:"Fioletowy",pink:"Różowy"}},formatting_toolbar:{bold:{tooltip:"Pogrubienie",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kursywa",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podkreślenie",secondary_tooltip:"Mod+U"},strike:{tooltip:"Przekreślenie",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Kod",secondary_tooltip:""},colors:{tooltip:"Kolory"},link:{tooltip:"Utwórz link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Zmień podpis",input_placeholder:"Zmień podpis"},file_replace:{tooltip:{image:"Zmień obraz",video:"Zmień wideo",audio:"Zmień audio",file:"Zmień plik"}},file_rename:{tooltip:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"},input_placeholder:{image:"Zmień nazwę zdjęcia",video:"Zmień nazwę wideo",audio:"Zmień nazwę audio",file:"Zmień nazwę pliku"}},file_download:{tooltip:{image:"Pobierz zdjęcie",video:"Pobierz wideo",audio:"Pobierz audio",file:"Pobierz plik"}},file_delete:{tooltip:{image:"Usuń zdjęcie",video:"Usuń wideo",audio:"Usuń audio",file:"Usuń plik"}},file_preview_toggle:{tooltip:"Przełącz podgląd"},nest:{tooltip:"Zagnieźdź blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odgagnieźdź blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Wyrównaj tekst do lewej"},align_center:{tooltip:"Wyśrodkuj tekst"},align_right:{tooltip:"Wyrównaj tekst do prawej"},align_justify:{tooltip:"Wyjustuj tekst"},table_cell_merge:{tooltip:"Połącz komórki"},comment:{tooltip:"Dodaj komentarz"}},file_panel:{upload:{title:"Wrzuć",file_placeholder:{image:"Wrzuć zdjęcie",video:"Wrzuć wideo",audio:"Wrzuć audio",file:"Wrzuć plik"},upload_error:"Błąd: Przesyłanie nie powiodło się"},embed:{title:"Wstaw",embed_button:{image:"Wstaw zdjęice",video:"Wstaw wideo",audio:"Wstaw audio",file:"Wstaw plik"},url_placeholder:"Wprowadź URL"}},link_toolbar:{delete:{tooltip:"Usuń link"},edit:{text:"Edytuj link",tooltip:"Edytuj"},open:{tooltip:"Otwórz w nowej karcie"},form:{title_placeholder:"Edytuj tytuł",url_placeholder:"Edytuj URL"}},comments:{edited:"edytowany",save_button_text:"Zapisz",cancel_button_text:"Anuluj",actions:{add_reaction:"Dodaj reakcję",resolve:"Rozwiąż",edit_comment:"Edytuj komentarz",delete_comment:"Usuń komentarz",more_actions:"Więcej akcji"},reactions:{reacted_by:"Zareagowali"},sidebar:{marked_as_resolved:"Oznaczone jako rozwiązane",more_replies:t=>`${t} więcej odpowiedzi`}},generic:{ctrl_shortcut:"Ctrl"}},Toe={slash_menu:{heading:{title:"Título",subtext:"Usado para um título de nível superior",aliases:["h","titulo1","h1"],group:"Títulos"},heading_2:{title:"Título 2",subtext:"Usado para seções principais",aliases:["h2","titulo2","subtitulo"],group:"Títulos"},heading_3:{title:"Título 3",subtext:"Usado para subseções e títulos de grupo",aliases:["h3","titulo3","subtitulo"],group:"Títulos"},heading_4:{title:"Título 4",subtext:"Usado para subseções menores",aliases:["h4","titulo4","subtitulo4"],group:"Subtítulos"},heading_5:{title:"Título 5",subtext:"Usado para títulos de subseções pequenas",aliases:["h5","titulo5","subtitulo5"],group:"Subtítulos"},heading_6:{title:"Título 6",subtext:"Usado para títulos de nível mais baixo",aliases:["h6","titulo6","subtitulo6"],group:"Subtítulos"},toggle_heading:{title:"Título Expansível",subtext:"Título expansível de nível superior",aliases:["h","titulo1","h1","expansível"],group:"Subtítulos"},toggle_heading_2:{title:"Título Expansível 2",subtext:"Título expansível para seções principais",aliases:["h2","titulo2","subtitulo","expansível"],group:"Subtítulos"},toggle_heading_3:{title:"Título Expansível 3",subtext:"Título expansível para subseções e títulos de grupo",aliases:["h3","titulo3","subtitulo","expansível"],group:"Subtítulos"},quote:{title:"Citação",subtext:"Citação ou trecho",aliases:["quotation","blockquote","bq"],group:"Blocos básicos"},numbered_list:{title:"Lista Numerada",subtext:"Usado para exibir uma lista numerada",aliases:["ol","li","lista","listanumerada","lista numerada"],group:"Blocos básicos"},bullet_list:{title:"Lista com Marcadores",subtext:"Usado para exibir uma lista não ordenada",aliases:["ul","li","lista","listamarcadores","lista com marcadores"],group:"Blocos básicos"},check_list:{title:"Lista de verificação",subtext:"Usado para exibir uma lista com caixas de seleção",aliases:["ul","li","lista","lista de verificação","lista marcada","caixa de seleção"],group:"Blocos básicos"},toggle_list:{title:"Lista expansível",subtext:"Lista com subitens ocultáveis",aliases:["li","lista","lista expansível","lista recolhível"],group:"Blocos básicos"},paragraph:{title:"Parágrafo",subtext:"Usado para o corpo do seu documento",aliases:["p","paragrafo"],group:"Blocos básicos"},code_block:{title:"Bloco de Código",subtext:"Usado para exibir código com destaque de sintaxe",aliases:["codigo","pre"],group:"Blocos básicos"},page_break:{title:"Quebra de página",subtext:"Separador de página",aliases:["page","break","separator","quebra","separador"],group:"Blocos básicos"},table:{title:"Tabela",subtext:"Usado para tabelas",aliases:["tabela"],group:"Avançado"},image:{title:"Imagem",subtext:"Inserir uma imagem",aliases:["imagem","uploadImagem","upload","img","foto","media","url"],group:"Mídia"},video:{title:"Vídeo",subtext:"Inserir um vídeo",aliases:["vídeo","uploadVídeo","upload","mp4","filme","mídia","url"],group:"Mídia"},audio:{title:"Áudio",subtext:"Inserir um áudio",aliases:["áudio","uploadÁudio","upload","mp3","som","mídia","url"],group:"Mídia"},file:{title:"Arquivo",subtext:"Inserir um arquivo",aliases:["arquivo","upload","incorporar","mídia","url"],group:"Mídia"},emoji:{title:"Emoji",subtext:"Usado para inserir um emoji",aliases:["emoji","emoticon","expressão emocional","rosto"],group:"Outros"}},placeholders:{default:"Digite texto ou use '/' para comandos",heading:"Título",toggleListItem:"Alternar",bulletListItem:"Lista",numberedListItem:"Lista",checkListItem:"Lista",new_comment:"Escreva um comentário...",edit_comment:"Editar comentário...",comment_reply:"Adicionar comentário..."},file_blocks:{image:{add_button_text:"Adicionar imagem"},video:{add_button_text:"Adicionar vídeo"},audio:{add_button_text:"Adicionar áudio"},file:{add_button_text:"Adicionar arquivo"}},side_menu:{add_block_label:"Adicionar bloco",drag_handle_label:"Abrir menu do bloco"},drag_handle:{delete_menuitem:"Excluir",colors_menuitem:"Cores",header_row_menuitem:"Cabeçalho de linha",header_column_menuitem:"Cabeçalho de coluna"},table_handle:{delete_column_menuitem:"Excluir coluna",delete_row_menuitem:"Excluir linha",add_left_menuitem:"Adicionar coluna à esquerda",add_right_menuitem:"Adicionar coluna à direita",add_above_menuitem:"Adicionar linha acima",add_below_menuitem:"Adicionar linha abaixo",split_cell_menuitem:"Dividir célula",merge_cells_menuitem:"Juntar células",background_color_menuitem:"Alterar cor de fundo"},suggestion_menu:{no_items_title:"Nenhum item encontrado"},color_picker:{text_title:"Texto",background_title:"Fundo",colors:{default:"Padrão",gray:"Cinza",brown:"Marrom",red:"Vermelho",orange:"Laranja",yellow:"Amarelo",green:"Verde",blue:"Azul",purple:"Roxo",pink:"Rosa"}},formatting_toolbar:{bold:{tooltip:"Negrito",secondary_tooltip:"Mod+B"},italic:{tooltip:"Itálico",secondary_tooltip:"Mod+I"},underline:{tooltip:"Sublinhado",secondary_tooltip:"Mod+U"},strike:{tooltip:"Riscado",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Código",secondary_tooltip:""},colors:{tooltip:"Cores"},link:{tooltip:"Criar link",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Editar legenda",input_placeholder:"Editar legenda"},file_replace:{tooltip:{image:"Substituir imagem",video:"Substituir vídeo",audio:"Substituir áudio",file:"Substituir arquivo"}},file_rename:{tooltip:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"},input_placeholder:{image:"Renomear imagem",video:"Renomear vídeo",audio:"Renomear áudio",file:"Renomear arquivo"}},file_download:{tooltip:{image:"Baixar imagem",video:"Baixar vídeo",audio:"Baixar áudio",file:"Baixar arquivo"}},file_delete:{tooltip:{image:"Excluir imagem",video:"Excluir vídeo",audio:"Excluir áudio",file:"Excluir arquivo"}},file_preview_toggle:{tooltip:"Alternar visualização"},nest:{tooltip:"Aninhar bloco",secondary_tooltip:"Tab"},unnest:{tooltip:"Desaninhar bloco",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Alinhar à esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar à direita"},align_justify:{tooltip:"Justificar texto"},table_cell_merge:{tooltip:"Juntar células"},comment:{tooltip:"Adicionar comentário"}},file_panel:{upload:{title:"Upload",file_placeholder:{image:"Upload de imagem",video:"Upload de vídeo",audio:"Upload de áudio",file:"Upload de arquivo"},upload_error:"Erro: Falha no upload"},embed:{title:"Incorporar",embed_button:{image:"Incorporar imagem",video:"Incorporar vídeo",audio:"Incorporar áudio",file:"Incorporar arquivo"},url_placeholder:"Insira a URL"}},link_toolbar:{delete:{tooltip:"Remover link"},edit:{text:"Editar link",tooltip:"Editar"},open:{tooltip:"Abrir em nova aba"},form:{title_placeholder:"Editar título",url_placeholder:"Editar URL"}},comments:{edited:"editado",save_button_text:"Salvar",cancel_button_text:"Cancelar",actions:{add_reaction:"Adicionar reação",resolve:"Resolver",edit_comment:"Editar comentário",delete_comment:"Excluir comentário",more_actions:"Mais ações"},reactions:{reacted_by:"Reagido por"},sidebar:{marked_as_resolved:"Marcado como resolvido",more_replies:t=>`${t} respostas a mais`}},generic:{ctrl_shortcut:"Ctrl"}},Aoe={slash_menu:{heading:{title:"Заголовок 1 уровня",subtext:"Используется для заголовка верхнего уровня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2 уровня",subtext:"Используется для ключевых разделов",aliases:["h2","heading2","subheading","заголовок2","подзаголовок"],group:"Заголовки"},heading_3:{title:"Заголовок 3 уровня",subtext:"Используется для подразделов и групп",aliases:["h3","heading3","subheading","заголовок3","подзаголовок"],group:"Заголовки"},heading_4:{title:"Заголовок 4 уровня",subtext:"Используется для более мелких подразделов",aliases:["h4","heading4","subheading4","заголовок4","подзаголовок4"],group:"Подзаголовки"},heading_5:{title:"Заголовок 5 уровня",subtext:"Используется для заголовков небольших подразделов",aliases:["h5","heading5","subheading5","заголовок5","подзаголовок5"],group:"Подзаголовки"},heading_6:{title:"Заголовок 6 уровня",subtext:"Используется для заголовков самого низкого уровня",aliases:["h6","heading6","subheading6","заголовок6","подзаголовок6"],group:"Подзаголовки"},toggle_heading:{title:"Сворачиваемый заголовок 1 уровня",subtext:"Заголовок верхнего уровня, который можно свернуть/развернуть",aliases:["h","heading1","h1","заголовок1","сворачиваемый"],group:"Подзаголовки"},toggle_heading_2:{title:"Сворачиваемый заголовок 2 уровня",subtext:"Заголовок для ключевых разделов, который можно свернуть/развернуть",aliases:["h2","heading2","subheading","заголовок2","подзаголовок","сворачиваемый"],group:"Подзаголовки"},toggle_heading_3:{title:"Сворачиваемый заголовок 3 уровня",subtext:"Заголовок для подразделов и групп, который можно свернуть/развернуть",aliases:["h3","heading3","subheading","заголовок3","подзаголовок","сворачиваемый"],group:"Подзаголовки"},quote:{title:"Цитата",subtext:"Цитата или отрывок",aliases:["quotation","blockquote","bq"],group:"Базовые блоки"},numbered_list:{title:"Нумерованный список",subtext:"Используется для отображения нумерованного списка",aliases:["ol","li","list","numberedlist","numbered list","список","нумерованный список"],group:"Базовые блоки"},bullet_list:{title:"Маркированный список",subtext:"Для отображения неупорядоченного списка",aliases:["ul","li","list","bulletlist","bullet list","список","маркированный список"],group:"Базовые блоки"},check_list:{title:"Контрольный список",subtext:"Для отображения списка с флажками",aliases:["ul","li","list","checklist","check list","checked list","checkbox","список"],group:"Базовые блоки"},toggle_list:{title:"Сворачиваемый список",subtext:"Список со скрываемыми элементами",aliases:["li","список","сворачиваемый список"],group:"Базовые блоки"},paragraph:{title:"Параграф",subtext:"Основной текст",aliases:["p","paragraph","параграф"],group:"Базовые блоки"},code_block:{title:"Блок кода",subtext:"Блок кода с подсветкой синтаксиса",aliases:["code","pre","блок кода"],group:"Базовые блоки"},page_break:{title:"Разрыв страницы",subtext:"Разделитель страницы",aliases:["page","break","separator","разрыв","разделитель"],group:"Основные блоки"},table:{title:"Таблица",subtext:"Используется для таблиц",aliases:["table","таблица"],group:"Продвинутый"},image:{title:"Картинка",subtext:"Вставить изображение",aliases:["image","imageUpload","upload","img","picture","media","url","загрузка","картинка","рисунок"],group:"Медиа"},video:{title:"Видео",subtext:"Вставить видео",aliases:["video","videoUpload","upload","mp4","film","media","url","загрузка","видео"],group:"Медиа"},audio:{title:"Аудио",subtext:"Вставить аудио",aliases:["audio","audioUpload","upload","mp3","sound","media","url","загрузка","аудио","звук","музыка"],group:"Медиа"},file:{title:"Файл",subtext:"Вставить файл",aliases:["file","upload","embed","media","url","загрузка","файл"],group:"Медиа"},emoji:{title:"Эмодзи",subtext:"Используется для вставки эмодзи",aliases:["эмодзи","смайлик","выражение эмоций","лицо"],group:"Прочее"}},placeholders:{default:"Введите текст или введите «/» для команд",heading:"Заголовок",toggleListItem:"Переключить",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишите комментарий...",edit_comment:"Редактировать комментарий...",comment_reply:"Добавить комментарий..."},file_blocks:{image:{add_button_text:"Добавить изображение"},video:{add_button_text:"Добавить видео"},audio:{add_button_text:"Добавить аудио"},file:{add_button_text:"Добавить файл"}},side_menu:{add_block_label:"Добавить блок",drag_handle_label:"Открыть меню блока"},drag_handle:{delete_menuitem:"Удалить",colors_menuitem:"Цвета",header_row_menuitem:"Заголовок строки",header_column_menuitem:"Заголовок столбца"},table_handle:{delete_column_menuitem:"Удалить столбец",delete_row_menuitem:"Удалить строку",add_left_menuitem:"Добавить столбец слева",add_right_menuitem:"Добавить столбец справа",add_above_menuitem:"Добавить строку выше",add_below_menuitem:"Добавить строку ниже",split_cell_menuitem:"Разделить ячейку",merge_cells_menuitem:"Объединить ячейки",background_color_menuitem:"Цвет фона"},suggestion_menu:{no_items_title:"ничего не найдено"},color_picker:{text_title:"Текст",background_title:"Задний фон",colors:{default:"По умолчинию",gray:"Серый",brown:"Коричневый",red:"Красный",orange:"Оранжевый",yellow:"Жёлтый",green:"Зелёный",blue:"Голубой",purple:"Фиолетовый",pink:"Розовый"}},formatting_toolbar:{bold:{tooltip:"Жирный",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Подчёркнутый",secondary_tooltip:"Mod+U"},strike:{tooltip:"Зачёркнутый",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Цвета"},link:{tooltip:"Создать ссылку",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Изменить подпись",input_placeholder:"Изменить подпись"},file_replace:{tooltip:{image:"Заменить изображение",video:"Заменить видео",audio:"Заменить аудио",file:"Заменить файл"}},file_rename:{tooltip:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"},input_placeholder:{image:"Переименовать изображение",video:"Переименовать видео",audio:"Переименовать аудио",file:"Переименовать файл"}},file_download:{tooltip:{image:"Скачать картинку",video:"Скачать видео",audio:"Скачать аудио",file:"Скачать файл"}},file_delete:{tooltip:{image:"Удалить картинку",video:"Удалить видео",audio:"Удалить аудио",file:"Удалить файл"}},file_preview_toggle:{tooltip:"Переключить предварительный просмотр"},nest:{tooltip:"Сдвинуть вправо",secondary_tooltip:"Tab"},unnest:{tooltip:"Сдвинуть влево",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Текст по левому краю"},align_center:{tooltip:"Текст по середине"},align_right:{tooltip:"Текст по правому краю"},align_justify:{tooltip:"По середине текст"},table_cell_merge:{tooltip:"Объединить ячейки"},comment:{tooltip:"Добавить комментарий"}},file_panel:{upload:{title:"Загрузить",file_placeholder:{image:"Загрузить картинки",video:"Загрузить видео",audio:"Загрузить аудио",file:"Загрузить файл"},upload_error:"Ошибка: не удалось загрузить"},embed:{title:"Вставить",embed_button:{image:"Вставить картинку",video:"Вставить видео",audio:"Вставить аудио",file:"Вставить файл"},url_placeholder:"Введите URL"}},link_toolbar:{delete:{tooltip:"Удалить ссылку"},edit:{text:"Изменить ссылку",tooltip:"Редактировать"},open:{tooltip:"Открыть в новой вкладке"},form:{title_placeholder:"Изменить заголовок",url_placeholder:"Изменить URL"}},comments:{edited:"изменен",save_button_text:"Сохранить",cancel_button_text:"Отменить",actions:{add_reaction:"Добавить реакцию",resolve:"Решить",edit_comment:"Редактировать комментарий",delete_comment:"Удалить комментарий",more_actions:"Другие действия"},reactions:{reacted_by:"Отреагировал(а)"},sidebar:{marked_as_resolved:"Отмечено как решенное",more_replies:t=>`${t} дополнительных ответов`}},generic:{ctrl_shortcut:"Ctrl"}},Noe={slash_menu:{heading:{title:"Nadpis 1",subtext:"Nadpis najvyššej úrovne",aliases:["h","nadpis1","h1"],group:"Nadpisy"},heading_2:{title:"Nadpis 2",subtext:"Kľúčový nadpis sekcie",aliases:["h2","nadpis2","podnadpis"],group:"Nadpisy"},heading_3:{title:"Nadpis 3",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h3","nadpis3","podnadpis"],group:"Nadpisy"},heading_4:{title:"Nadpis 4",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h4","nadpis4","podnadpis"],group:"Podnáslovi"},heading_5:{title:"Nadpis 5",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h5","nadpis5","podnadpis"],group:"Podnáslovi"},heading_6:{title:"Nadpis 6",subtext:"Podsekcia alebo skupinový nadpis",aliases:["h6","nadpis6","podnadpis"],group:"Podnáslovi"},toggle_heading:{title:"Rozbaľovací Nadpis 1",subtext:"Rozbaľovací nadpis najvyššej úrovne",aliases:["h","nadpis1","h1","rozbaľovací"],group:"Podnáslovi"},toggle_heading_2:{title:"Rozbaľovací Nadpis 2",subtext:"Rozbaľovací kľúčový nadpis sekcie",aliases:["h2","nadpis2","podnadpis","rozbaľovací"],group:"Podnáslovi"},toggle_heading_3:{title:"Rozbaľovací Nadpis 3",subtext:"Rozbaľovací nadpis podsekcie alebo skupiny",aliases:["h3","nadpis3","podnadpis","rozbaľovací"],group:"Podnáslovi"},quote:{title:"Citát",subtext:"Citát alebo výňatok",aliases:["citácia","blockquote","bq"],group:"Základné bloky"},numbered_list:{title:"Číslovaný zoznam",subtext:"Zoznam s očíslovanými položkami",aliases:["ol","li","zoznam","číslovanýzoznam","číslovaný zoznam"],group:"Základné bloky"},bullet_list:{title:"Odrážkový zoznam",subtext:"Zoznam s nečíslovanými položkami",aliases:["ul","li","zoznam","odrážkovýzoznam","odrážkový zoznam"],group:"Základné bloky"},check_list:{title:"Kontrolný zoznam",subtext:"Zoznam s checkboxmi",aliases:["ul","li","zoznam","kontrolnýzoznam","kontrolný zoznam","zaškrtnutý zoznam","checkbox"],group:"Základné bloky"},toggle_list:{title:"Rozbaľovací zoznam",subtext:"Zoznam so skrývateľnými položkami",aliases:["li","zoznam","rozbaľovací zoznam","zabaliteľný zoznam"],group:"Základné bloky"},paragraph:{title:"Odstavec",subtext:"Telo dokumentu",aliases:["p","odstavec"],group:"Základné bloky"},code_block:{title:"Blok kódu",subtext:"Blok kódu so zvýraznením syntaxe",aliases:["kód","pre"],group:"Základné bloky"},page_break:{title:"Zlom strany",subtext:"Oddeľovač strán",aliases:["strana","zlom","oddeľovač"],group:"Základné bloky"},table:{title:"Tabuľka",subtext:"Tabuľka s editovateľnými bunkami",aliases:["tabuľka"],group:"Pokročilé"},image:{title:"Obrázok",subtext:"Meniteľný obrázok s popisom",aliases:["obrázok","nahratieObrázka","nahratie","img","obrázok","média","url"],group:"Médiá"},video:{title:"Video",subtext:"Meniteľné video s popisom",aliases:["video","nahratieVidea","nahratie","mp4","film","média","url"],group:"Médiá"},audio:{title:"Audio",subtext:"Vložený zvuk s popisom",aliases:["audio","nahratieAudia","nahratie","mp3","zvuk","média","url"],group:"Médiá"},file:{title:"Súbor",subtext:"Vložený súbor",aliases:["súbor","nahratie","vloženie","média","url"],group:"Médiá"},emoji:{title:"Emoji",subtext:"Vyhľadať a vložiť emoji",aliases:["emoji","emócia","tvár"],group:"Ostatné"}},placeholders:{default:"Zadajte text alebo napíšte '/' pre príkazy",heading:"Nadpis",toggleListItem:"Prepnúť",bulletListItem:"Zoznam",numberedListItem:"Zoznam",checkListItem:"Zoznam",emptyDocument:void 0,new_comment:"Napíšte komentár...",edit_comment:"Upravte komentár...",comment_reply:"Pridať komentár..."},file_blocks:{image:{add_button_text:"Pridať obrázok"},video:{add_button_text:"Pridať video"},audio:{add_button_text:"Pridať audio"},file:{add_button_text:"Pridať súbor"}},side_menu:{add_block_label:"Pridať blok",drag_handle_label:"Otvoriť menu bloku"},drag_handle:{delete_menuitem:"Vymazať",colors_menuitem:"Farby",header_row_menuitem:"Hlavičkový riadok",header_column_menuitem:"Hlavičkový stĺpec"},table_handle:{delete_column_menuitem:"Vymazať stĺpec",delete_row_menuitem:"Vymazať riadok",add_left_menuitem:"Pridať stĺpec vľavo",add_right_menuitem:"Pridať stĺpec vpravo",add_above_menuitem:"Pridať riadok nad",add_below_menuitem:"Pridať riadok pod",split_cell_menuitem:"Rozdeliť bunku",merge_cells_menuitem:"Zlúčiť bunky",background_color_menuitem:"Farba pozadia"},suggestion_menu:{no_items_title:"Nenašli sa žiadne položky"},color_picker:{text_title:"Text",background_title:"Pozadie",colors:{default:"Predvolená",gray:"Sivá",brown:"Hnedá",red:"Červená",orange:"Oranžová",yellow:"Žltá",green:"Zelená",blue:"Modrá",purple:"Fialová",pink:"Ružová"}},formatting_toolbar:{bold:{tooltip:"Tučné",secondary_tooltip:"Mod+B"},italic:{tooltip:"Kurzíva",secondary_tooltip:"Mod+I"},underline:{tooltip:"Podčiarknuté",secondary_tooltip:"Mod+U"},strike:{tooltip:"Prečiarknuté",secondary_tooltip:"Mod+Shift+S"},code:{tooltip:"Kód",secondary_tooltip:""},colors:{tooltip:"Farby"},link:{tooltip:"Vytvoriť odkaz",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Upraviť popis",input_placeholder:"Upraviť popis"},file_replace:{tooltip:{image:"Nahradiť obrázok",video:"Nahradiť video",audio:"Nahradiť audio",file:"Nahradiť súbor"}},file_rename:{tooltip:{image:"Premenovať obrázok",video:"Premenovať video",audio:"Premenovať audio",file:"Premenovať súbor"},input_placeholder:{image:"Premenovať obrázok",video:"Premenovať video",audio:"Premenovať audio",file:"Premenovať súbor"}},file_download:{tooltip:{image:"Stiahnuť obrázok",video:"Stiahnuť video",audio:"Stiahnuť audio",file:"Stiahnuť súbor"}},file_delete:{tooltip:{image:"Vymazať obrázok",video:"Vymazať video",audio:"Vymazať audio",file:"Vymazať súbor"}},file_preview_toggle:{tooltip:"Prepnúť náhľad"},nest:{tooltip:"Zarovnať blok",secondary_tooltip:"Tab"},unnest:{tooltip:"Odzarovnať blok",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Zarovnať text vľavo"},align_center:{tooltip:"Zarovnať text na stred"},align_right:{tooltip:"Zarovnať text vpravo"},align_justify:{tooltip:"Zarovnať text do bloku"},table_cell_merge:{tooltip:"Zlúčiť bunky"},comment:{tooltip:"Pridať komentár"}},file_panel:{upload:{title:"Nahratie",file_placeholder:{image:"Nahrať obrázok",video:"Nahrať video",audio:"Nahrať audio",file:"Nahrať súbor"},upload_error:"Chyba: Nahratie zlyhalo"},embed:{title:"Vložiť",embed_button:{image:"Vložiť obrázok",video:"Vložiť video",audio:"Vložiť audio",file:"Vložiť súbor"},url_placeholder:"Zadajte URL"}},link_toolbar:{delete:{tooltip:"Odstrániť odkaz"},edit:{text:"Upraviť odkaz",tooltip:"Upraviť"},open:{tooltip:"Otvoriť v novom okne"},form:{title_placeholder:"Upraviť názov",url_placeholder:"Upraviť URL"}},comments:{edited:"upravený",save_button_text:"Uložiť",cancel_button_text:"Zrušiť",actions:{add_reaction:"Pridať reakciu",resolve:"Vyriešiť",edit_comment:"Upraviť komentár",delete_comment:"Vymazať komentár",more_actions:"Ďalšie akcie"},reactions:{reacted_by:"Reagoval/a"},sidebar:{marked_as_resolved:"Označené ako vyriešené",more_replies:t=>`${t} ďalších odpovedí`}},generic:{ctrl_shortcut:"Ctrl"}},Roe={slash_menu:{heading:{title:"Заголовок 1",subtext:"Заголовок найвищого рівня",aliases:["h","heading1","h1","заголовок1"],group:"Заголовки"},heading_2:{title:"Заголовок 2",subtext:"Основний заголовок розділу",aliases:["h2","heading2","subheading","заголовок2"],group:"Заголовки"},heading_3:{title:"Заголовок 3",subtext:"Підзаголовок і груповий заголовок",aliases:["h3","heading3","subheading","заголовок3"],group:"Заголовки"},heading_4:{title:"Заголовок 4",subtext:"Використовується для менших підрозділів",aliases:["h4","heading4","subheading4","заголовок4"],group:"Підзаголовки"},heading_5:{title:"Заголовок 5",subtext:"Використовується для заголовків менших підрозділів",aliases:["h5","heading5","subheading5","заголовок5","підзаголовок5"],group:"Підзаголовки"},heading_6:{title:"Заголовок 6",subtext:"Використовується для заголовків найнижчого рівня",aliases:["h6","heading6","subheading6","заголовок6","підзаголовок6"],group:"Підзаголовки"},toggle_heading:{title:"Розгортаємий заголовок 1",subtext:"Розгортаємий заголовок найвищого рівня",aliases:["h","heading1","h1","заголовок1","розгортаємий"],group:"Підзаголовки"},toggle_heading_2:{title:"Розгортаємий заголовок 2",subtext:"Розгортаємий основний заголовок розділу",aliases:["h2","heading2","subheading","заголовок2","розгортаємий"],group:"Підзаголовки"},toggle_heading_3:{title:"Розгортаємий заголовок 3",subtext:"Розгортаємий підзаголовок і груповий заголовок",aliases:["h3","heading3","subheading","заголовок3","розгортаємий"],group:"Підзаголовки"},quote:{title:"Цитата",subtext:"Цитата або уривок",aliases:["quotation","blockquote","bq"],group:"Базові блоки"},numbered_list:{title:"Нумерований список",subtext:"Список із впорядкованими елементами",aliases:["ol","li","list","numberedlist","numbered list","список","нумерований список"],group:"Базові блоки"},bullet_list:{title:"Маркований список",subtext:"Список із невпорядкованими елементами",aliases:["ul","li","list","bulletlist","bullet list","список","маркований список"],group:"Базові блоки"},check_list:{title:"Чек-лист",subtext:"Список із чекбоксами",aliases:["ul","li","list","checklist","check list","checked list","checkbox","чекбокс","чек-лист"],group:"Базові блоки"},toggle_list:{title:"Розгортаємий список",subtext:"Список із прихованими підпунктами",aliases:["li","список","розгортаємий список","складений список"],group:"Базові блоки"},paragraph:{title:"Параграф",subtext:"Основний текст документа",aliases:["p","paragraph","параграф"],group:"Базові блоки"},code_block:{title:"Блок коду",subtext:"Блок коду з підсвіткою синтаксису",aliases:["code","pre","блок коду"],group:"Базові блоки"},page_break:{title:"Розрив сторінки",subtext:"Роздільник сторінки",aliases:["page","break","separator","розрив сторінки","розділювач"],group:"Базові блоки"},table:{title:"Таблиця",subtext:"Таблиця з редагованими клітинками",aliases:["table","таблиця"],group:"Розширені"},image:{title:"Зображення",subtext:"Масштабоване зображення з підписом",aliases:["image","imageUpload","upload","img","picture","media","url","зображення","медіа"],group:"Медіа"},video:{title:"Відео",subtext:"Масштабоване відео з підписом",aliases:["video","videoUpload","upload","mp4","film","media","url","відео","медіа"],group:"Медіа"},audio:{title:"Аудіо",subtext:"Вбудоване аудіо з підписом",aliases:["audio","audioUpload","upload","mp3","sound","media","url","аудіо","медіа"],group:"Медіа"},file:{title:"Файл",subtext:"Вбудований файл",aliases:["file","upload","embed","media","url","файл","медіа"],group:"Медіа"},emoji:{title:"Емодзі",subtext:"Пошук і вставка емодзі",aliases:["emoji","emote","emotion","face","смайлик","емодзі"],group:"Інше"}},placeholders:{default:"Введіть текст або наберіть '/' для команд",heading:"Заголовок",toggleListItem:"Перемикач",bulletListItem:"Список",numberedListItem:"Список",checkListItem:"Список",new_comment:"Напишіть коментар...",edit_comment:"Редагувати коментар...",comment_reply:"Додати коментар..."},file_blocks:{image:{add_button_text:"Додати зображення"},video:{add_button_text:"Додати відео"},audio:{add_button_text:"Додати аудіо"},file:{add_button_text:"Додати файл"}},side_menu:{add_block_label:"Додати блок",drag_handle_label:"Відкрити меню блока"},drag_handle:{delete_menuitem:"Видалити",colors_menuitem:"Кольори",header_row_menuitem:"Заголовок рядка",header_column_menuitem:"Заголовок стовпця"},table_handle:{delete_column_menuitem:"Видалити стовпець",delete_row_menuitem:"Видалити рядок",add_left_menuitem:"Додати стовпець зліва",add_right_menuitem:"Додати стовпець справа",add_above_menuitem:"Додати рядок вище",add_below_menuitem:"Додати рядок нижче",split_cell_menuitem:"Розділити клітинку",merge_cells_menuitem:"Об'єднати клітинки",background_color_menuitem:"Змінити колір фону"},suggestion_menu:{no_items_title:"Нічого не знайдено"},color_picker:{text_title:"Текст",background_title:"Фон",colors:{default:"За замовчуванням",gray:"Сірий",brown:"Коричневий",red:"Червоний",orange:"Помаранчевий",yellow:"Жовтий",green:"Зелений",blue:"Блакитний",purple:"Фіолетовий",pink:"Рожевий"}},formatting_toolbar:{bold:{tooltip:"Жирний",secondary_tooltip:"Mod+B"},italic:{tooltip:"Курсив",secondary_tooltip:"Mod+I"},underline:{tooltip:"Підкреслений",secondary_tooltip:"Mod+U"},strike:{tooltip:"Закреслений",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Код",secondary_tooltip:""},colors:{tooltip:"Кольори"},link:{tooltip:"Створити посилання",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Редагувати підпис",input_placeholder:"Редагувати підпис"},file_replace:{tooltip:{image:"Замінити зображення",video:"Замінити відео",audio:"Замінити аудіо",file:"Замінити файл"}},file_rename:{tooltip:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"},input_placeholder:{image:"Перейменувати зображення",video:"Перейменувати відео",audio:"Перейменувати аудіо",file:"Перейменувати файл"}},file_download:{tooltip:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"}},file_delete:{tooltip:{image:"Видалити зображення",video:"Видалити відео",audio:"Видалити аудіо",file:"Видалити файл"}},file_preview_toggle:{tooltip:"Перемкнути попередній перегляд"},nest:{tooltip:"Вкладений блок",secondary_tooltip:"Tab"},unnest:{tooltip:"Розгрупувати блок",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Вирівняти за лівим краєм"},align_center:{tooltip:"Вирівняти по центру"},align_right:{tooltip:"Вирівняти за правим краєм"},align_justify:{tooltip:"Вирівняти за шириною"},table_cell_merge:{tooltip:"Об'єднати клітинки"},comment:{tooltip:"Додати коментар"}},file_panel:{upload:{title:"Завантажити",file_placeholder:{image:"Завантажити зображення",video:"Завантажити відео",audio:"Завантажити аудіо",file:"Завантажити файл"},upload_error:"Помилка: не вдалося завантажити"},embed:{title:"Вставити",embed_button:{image:"Вставити зображення",video:"Вставити відео",audio:"Вставити аудіо",file:"Вставити файл"},url_placeholder:"Введіть URL"}},link_toolbar:{delete:{tooltip:"Видалити посилання"},edit:{text:"Редагувати посилання",tooltip:"Редагувати"},open:{tooltip:"Відкрити в новій вкладці"},form:{title_placeholder:"Редагувати заголовок",url_placeholder:"Редагувати URL"}},comments:{edited:"відредаговано",save_button_text:"Зберегти",cancel_button_text:"Скасувати",actions:{add_reaction:"Додати реакцію",resolve:"Вирішити",edit_comment:"Редагувати коментар",delete_comment:"Видалити коментар",more_actions:"Більше дій"},reactions:{reacted_by:"Відреагував(ла)"},sidebar:{marked_as_resolved:"Позначено як вирішене",more_replies:t=>`${t} додаткових відповідей`}},generic:{ctrl_shortcut:"Ctrl"}},Ooe={slash_menu:{heading:{title:"Tiêu đề H1",subtext:"Sử dụng cho tiêu đề cấp cao nhất",aliases:["h","tieude1","dd1"],group:"Tiêu đề"},heading_2:{title:"Tiêu đề H2",subtext:"Sử dụng cho các phần chính",aliases:["h2","tieude2","tieudephu"],group:"Tiêu đề"},heading_3:{title:"Tiêu đề H3",subtext:"Sử dụng cho phụ đề và tiêu đề nhóm",aliases:["h3","tieude3","tieudephu"],group:"Tiêu đề"},heading_4:{title:"Tiêu đề H4",subtext:"Sử dụng cho tiêu đề phụ nhỏ hơn",aliases:["h4","tieude4","tieudephu4"],group:"Tiêu đề phụ"},heading_5:{title:"Tiêu đề H5",subtext:"Sử dụng cho tiêu đề phụ nhỏ hơn",aliases:["h5","tieude5","tieudephu5"],group:"Tiêu đề phụ"},heading_6:{title:"Tiêu đề H6",subtext:"Sử dụng cho tiêu đề cấp thấp nhất",aliases:["h6","tieude6","tieudephu6"],group:"Tiêu đề phụ"},toggle_heading:{title:"Tiêu đề có thể thu gọn H1",subtext:"Tiêu đề cấp cao nhất có thể thu gọn",aliases:["h","tieude1","dd1","thugon"],group:"Tiêu đề phụ"},toggle_heading_2:{title:"Tiêu đề có thể thu gọn H2",subtext:"Tiêu đề cho các phần chính có thể thu gọn",aliases:["h2","tieude2","tieudephu","thugon"],group:"Tiêu đề phụ"},toggle_heading_3:{title:"Tiêu đề có thể thu gọn H3",subtext:"Tiêu đề cho phụ đề và tiêu đề nhóm có thể thu gọn",aliases:["h3","tieude3","tieudephu","thugon"],group:"Tiêu đề phụ"},quote:{title:"Trích dẫn",subtext:"Trích dẫn hoặc đoạn trích",aliases:["quotation","blockquote","bq"],group:"Khối cơ bản"},numbered_list:{title:"Danh sách đánh số",subtext:"Sử dụng để hiển thị danh sách có đánh số",aliases:["ol","li","ds","danhsachdso","danh sach danh so"],group:"Khối cơ bản"},bullet_list:{title:"Danh sách",subtext:"Sử dụng để hiển thị danh sách không đánh số",aliases:["ul","li","ds","danhsach","danh sach"],group:"Khối cơ bản"},check_list:{title:"Danh sách kiểm tra",subtext:"Dùng để hiển thị danh sách có hộp kiểm",aliases:["ul","li","danh sach","danh sach kiem tra","danh sach da kiem tra","hop kiem"],group:"Khối cơ bản"},toggle_list:{title:"Danh sách có thể thu gọn",subtext:"Danh sách với các mục con có thể ẩn",aliases:["li","danh sach","danh sach thu gon","danh sach co the an"],group:"Khối cơ bản"},paragraph:{title:"Đoạn văn",subtext:"Sử dụng cho nội dung chính của tài liệu",aliases:["p","doanvan"],group:"Khối cơ bản"},code_block:{title:"Mã",subtext:"Sử dụng để hiển thị mã với cú pháp",aliases:["code","pre"],group:"Khối cơ bản"},page_break:{title:"Ngắt trang",subtext:"Phân cách trang",aliases:["page","break","separator","ngắt","phân cách"],group:"Khối cơ bản"},table:{title:"Bảng",subtext:"Sử dụng để tạo bảng",aliases:["bang"],group:"Nâng cao"},image:{title:"Hình ảnh",subtext:"Chèn hình ảnh",aliases:["anh","tai-len-anh","tai-len","img","hinh","media","url"],group:"Phương tiện"},video:{title:"Video",subtext:"Chèn video",aliases:["video","tai-len-video","tai-len","mp4","phim","media","url"],group:"Phương tiện"},audio:{title:"Âm thanh",subtext:"Chèn âm thanh",aliases:["âm thanh","tai-len-am-thanh","tai-len","mp3","am thanh","media","url"],group:"Phương tiện"},file:{title:"Tệp",subtext:"Chèn tệp",aliases:["tep","tai-len","nhung","media","url"],group:"Phương tiện"},emoji:{title:"Biểu tượng cảm xúc",subtext:"Dùng để chèn biểu tượng cảm xúc",aliases:["biểu tượng cảm xúc","emoji","emoticon","cảm xúc expression","khuôn mặt","face"],group:"Khác"}},placeholders:{default:"Nhập văn bản hoặc gõ '/' để thêm định dạng",heading:"Tiêu đề",toggleListItem:"Chuyển đổi",bulletListItem:"Danh sách",numberedListItem:"Danh sách",checkListItem:"Danh sách",new_comment:"Viết bình luận...",edit_comment:"Chỉnh sửa bình luận...",comment_reply:"Thêm bình luận..."},file_blocks:{image:{add_button_text:"Thêm ảnh"},video:{add_button_text:"Thêm video"},audio:{add_button_text:"Thêm âm thanh"},file:{add_button_text:"Thêm tệp"}},side_menu:{add_block_label:"Thêm khối",drag_handle_label:"Mở trình đơn khối"},drag_handle:{delete_menuitem:"Xóa",colors_menuitem:"Màu sắc",header_row_menuitem:"Tiêu đề hàng",header_column_menuitem:"Tiêu đề cột"},table_handle:{delete_column_menuitem:"Xóa cột",delete_row_menuitem:"Xóa hàng",add_left_menuitem:"Thêm cột bên trái",add_right_menuitem:"Thêm cột bên phải",add_above_menuitem:"Thêm hàng phía trên",add_below_menuitem:"Thêm hàng phía dưới",split_cell_menuitem:"Chia ô",merge_cells_menuitem:"Gộp ô",background_color_menuitem:"Màu nền"},suggestion_menu:{no_items_title:"Không tìm thấy mục nào"},color_picker:{text_title:"Văn bản",background_title:"Nền",colors:{default:"Mặc định",gray:"Xám",brown:"Nâu",red:"Đỏ",orange:"Cam",yellow:"Vàng",green:"Xanh lá",blue:"Xanh dương",purple:"Tím",pink:"Hồng"}},formatting_toolbar:{bold:{tooltip:"In đậm",secondary_tooltip:"Mod+B"},italic:{tooltip:"In nghiêng",secondary_tooltip:"Mod+I"},underline:{tooltip:"Gạch dưới",secondary_tooltip:"Mod+U"},strike:{tooltip:"Gạch ngang",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"Code",secondary_tooltip:""},colors:{tooltip:"Màu sắc"},link:{tooltip:"Tạo liên kết",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"Chỉnh sửa chú thích",input_placeholder:"Chỉnh sửa chú thích"},file_replace:{tooltip:{image:"Thay thế hình ảnh",video:"Thay thế video",audio:"Thay thế âm thanh",file:"Thay thế tệp"}},file_rename:{tooltip:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"},input_placeholder:{image:"Đổi tên hình ảnh",video:"Đổi tên video",audio:"Đổi tên âm thanh",file:"Đổi tên tệp"}},file_download:{tooltip:{image:"Tải xuống hình ảnh",video:"Tải xuống video",audio:"Tải xuống âm thanh",file:"Tải xuống tệp"}},file_delete:{tooltip:{image:"Xóa hình ảnh",video:"Xóa video",audio:"Xóa âm thanh",file:"Xóa tệp"}},file_preview_toggle:{tooltip:"Chuyển đổi xem trước"},nest:{tooltip:"Lồng khối",secondary_tooltip:"Tab"},unnest:{tooltip:"Bỏ lồng khối",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"Căn trái văn bản"},align_center:{tooltip:"Căn giữa văn bản"},align_right:{tooltip:"Căn phải văn bản"},align_justify:{tooltip:"Căn đều văn bản"},table_cell_merge:{tooltip:"Gộp các ô"},comment:{tooltip:"Thêm bình luận"}},file_panel:{upload:{title:"Tải lên",file_placeholder:{image:"Tải lên hình ảnh",video:"Tải lên video",audio:"Tải lên âm thanh",file:"Tải lên tệp"},upload_error:"Lỗi: Tải lên thất bại"},embed:{title:"Nhúng",embed_button:{image:"Nhúng hình ảnh",video:"Nhúng video",audio:"Nhúng âm thanh",file:"Nhúng tệp"},url_placeholder:"Nhập URL"}},link_toolbar:{delete:{tooltip:"Xóa liên kết"},edit:{text:"Chỉnh sửa liên kết",tooltip:"Chỉnh sửa"},open:{tooltip:"Mở trong tab mới"},form:{title_placeholder:"Chỉnh sửa tiêu đề",url_placeholder:"Chỉnh sửa URL"}},comments:{edited:"đã chỉnh sửa",save_button_text:"Lưu",cancel_button_text:"Hủy",actions:{add_reaction:"Thêm phản ứng",resolve:"Giải quyết",edit_comment:"Chỉnh sửa bình luận",delete_comment:"Xóa bình luận",more_actions:"Thêm hành động"},reactions:{reacted_by:"Phản ứng bởi"},sidebar:{marked_as_resolved:"Đã đánh dấu là đã giải quyết",more_replies:t=>`${t} câu trả lời nữa`}},generic:{ctrl_shortcut:"Ctrl"}},Doe={slash_menu:{heading:{title:"一级标题",subtext:"用于顶级标题",aliases:["h","heading1","h1","标题","一级标题"],group:"标题"},heading_2:{title:"二级标题",subtext:"用于关键部分",aliases:["h2","heading2","subheading","标题","二级标题","副标题"],group:"标题"},heading_3:{title:"三级标题",subtext:"用于小节和分组标题",aliases:["h3","heading3","subheading","标题","三级标题"],group:"标题"},heading_4:{title:"四级标题",subtext:"用于较小的子节标题",aliases:["h4","heading4","subheading4","四级标题"],group:"副标题"},heading_5:{title:"五级标题",subtext:"用于较小的子节标题",aliases:["h5","heading5","subheading5","五级标题"],group:"副标题"},heading_6:{title:"六级标题",subtext:"用于最低层级的标题",aliases:["h6","heading6","subheading6","六级标题"],group:"副标题"},toggle_heading:{title:"可折叠一级标题",subtext:"可折叠的顶级标题",aliases:["h","heading1","h1","标题","一级标题","折叠"],group:"副标题"},toggle_heading_2:{title:"可折叠二级标题",subtext:"可折叠的关键部分标题",aliases:["h2","heading2","subheading","标题","二级标题","副标题","折叠"],group:"副标题"},toggle_heading_3:{title:"可折叠三级标题",subtext:"可折叠的小节和分组标题",aliases:["h3","heading3","subheading","标题","三级标题","折叠"],group:"副标题"},quote:{title:"引用",subtext:"引用或摘录",aliases:["quotation","blockquote","bq"],group:"基本块"},numbered_list:{title:"有序列表",subtext:"用于显示有序列表",aliases:["ol","li","list","numberedlist","numbered list","列表","有序列表"],group:"基础"},bullet_list:{title:"无序列表",subtext:"用于显示无序列表",aliases:["ul","li","list","bulletlist","bullet list","列表","无序列表"],group:"基础"},check_list:{title:"检查清单",subtext:"用于显示带有复选框的列表",aliases:["ul","li","checklist","checked list","列表","检查清单","勾选列表","复选框"],group:"基础"},toggle_list:{title:"可折叠列表",subtext:"带有可隐藏子项的列表",aliases:["li","列表","可折叠列表","折叠列表"],group:"基础"},paragraph:{title:"段落",subtext:"用于文档正文",aliases:["p","paragraph","text","正文"],group:"基础"},code_block:{title:"代码块",subtext:"用于显示带有语法高亮的代码块",aliases:["code","pre","代码","预格式"],group:"基础"},page_break:{title:"分页符",subtext:"页面分隔符",aliases:["page","break","separator","分页","分隔符"],group:"基础"},table:{title:"表格",subtext:"使用表格",aliases:["table","表格"],group:"高级功能"},image:{title:"图片",subtext:"插入图片",aliases:["图片","上传图片","上传","image","img","相册","媒体","url"],group:"媒体"},video:{title:"视频",subtext:"插入视频",aliases:["视频","视频上传","上传","video","mp4","电影","媒体","url","驱动","dropbox"],group:"媒体"},audio:{title:"音频",subtext:"插入音频",aliases:["音频","音频上传","上传","audio","mp3","声音","媒体","url","驱动","dropbox"],group:"媒体"},file:{title:"文件",subtext:"插入文件",aliases:["文件","上传","file","嵌入","媒体","url"],group:"媒体"},emoji:{title:"表情符号",subtext:"用于插入表情符号",aliases:["表情符号","emoji","face","emote","表情","表情表达","表情"],group:"其他"}},placeholders:{default:"输入 '/' 以使用命令",heading:"标题",toggleListItem:"切换",bulletListItem:"列表",numberedListItem:"列表",checkListItem:"列表",new_comment:"写评论...",edit_comment:"编辑评论...",comment_reply:"添加评论..."},file_blocks:{image:{add_button_text:"添加图片"},video:{add_button_text:"添加视频"},audio:{add_button_text:"添加音频"},file:{add_button_text:"添加文件"}},side_menu:{add_block_label:"添加块",drag_handle_label:"打开菜单"},drag_handle:{delete_menuitem:"删除",colors_menuitem:"颜色",header_row_menuitem:"行标题",header_column_menuitem:"列标题"},table_handle:{delete_column_menuitem:"删除列",delete_row_menuitem:"删除行",add_left_menuitem:"左侧添加列",add_right_menuitem:"右侧添加列",add_above_menuitem:"上方添加行",add_below_menuitem:"下方添加行",split_cell_menuitem:"拆分单元格",merge_cells_menuitem:"合并单元格",background_color_menuitem:"背景色"},suggestion_menu:{no_items_title:"无匹配项"},color_picker:{text_title:"文本",background_title:"背景色",colors:{default:"默认",gray:"灰色",brown:"棕色",red:"红色",orange:"橙色",yellow:"黄色",green:"绿色",blue:"蓝色",purple:"紫色",pink:"粉色"}},formatting_toolbar:{bold:{tooltip:"加粗",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜体",secondary_tooltip:"Mod+I"},underline:{tooltip:"下划线",secondary_tooltip:"Mod+U"},strike:{tooltip:"删除线",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"代码标记",secondary_tooltip:""},colors:{tooltip:"颜色"},link:{tooltip:"添加链接",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"编辑标题",input_placeholder:"编辑标题"},file_replace:{tooltip:{image:"替换图片",video:"替换视频",audio:"替换音频",file:"替换文件"}},file_rename:{tooltip:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"},input_placeholder:{image:"重命名图片",video:"重命名视频",audio:"重命名音频",file:"重命名文件"}},file_download:{tooltip:{image:"下载图片",video:"下载视频",audio:"下载音频",file:"下载文件"}},file_delete:{tooltip:{image:"删除图片",video:"删除视频",audio:"删除音频",file:"删除文件"}},file_preview_toggle:{tooltip:"切换预览"},nest:{tooltip:"嵌套",secondary_tooltip:"Tab"},unnest:{tooltip:"取消嵌套",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"左对齐"},align_center:{tooltip:"居中"},align_right:{tooltip:"右对齐"},align_justify:{tooltip:"文本对齐"},table_cell_merge:{tooltip:"合并单元格"},comment:{tooltip:"添加评论"}},file_panel:{upload:{title:"上传",file_placeholder:{image:"上传图片",video:"上传视频",audio:"上传音频",file:"上传文件"},upload_error:"Error：上传失败"},embed:{title:"嵌入",embed_button:{image:"嵌入图片",video:"嵌入视频",audio:"嵌入音频",file:"嵌入文件"},url_placeholder:"输入图片地址"}},link_toolbar:{delete:{tooltip:"清除链接"},edit:{text:"编辑链接",tooltip:"编辑"},open:{tooltip:"新窗口打开"},form:{title_placeholder:"编辑标题",url_placeholder:"编辑链接地址"}},comments:{edited:"已编辑",save_button_text:"保存",cancel_button_text:"取消",actions:{add_reaction:"添加反应",resolve:"解决",edit_comment:"编辑评论",delete_comment:"删除评论",more_actions:"更多操作"},reactions:{reacted_by:"已回应"},sidebar:{marked_as_resolved:"标记为已解决",more_replies:t=>`还有 ${t} 条回复`}},generic:{ctrl_shortcut:"Ctrl"}},Loe={slash_menu:{heading:{title:"一級標題",subtext:"用於頂級標題",aliases:["h","heading1","h1","標題","一級標題"],group:"標題"},heading_2:{title:"二級標題",subtext:"用於關鍵部分",aliases:["h2","heading2","subheading","標題","二級標題","副標題"],group:"標題"},heading_3:{title:"三級標題",subtext:"用於小節和分組標題",aliases:["h3","heading3","subheading","標題","三級標題"],group:"標題"},heading_4:{title:"四級標題",subtext:"用於小節和分組標題",aliases:["h4","heading4","subheading","標題","四級標題"],group:"副標題"},heading_5:{title:"五級標題",subtext:"用於小節和分組標題",aliases:["h5","heading5","subheading","標題","五級標題"],group:"副標題"},heading_6:{title:"六級標題",subtext:"用於小節和分組標題",aliases:["h6","heading6","subheading","標題","六級標題"],group:"副標題"},toggle_heading:{title:"可摺疊一級標題",subtext:"可摺疊的頂級標題",aliases:["h","heading1","h1","標題","一級標題","摺疊"],group:"副標題"},toggle_heading_2:{title:"可摺疊二級標題",subtext:"可摺疊的關鍵部分標題",aliases:["h2","heading2","subheading","標題","二級標題","副標題","摺疊"],group:"副標題"},toggle_heading_3:{title:"可摺疊三級標題",subtext:"可摺疊的小節和分組標題",aliases:["h3","heading3","subheading","標題","三級標題","摺疊"],group:"副標題"},quote:{title:"引用",subtext:"引用或摘錄",aliases:["quotation","blockquote","bq"],group:"基本區塊"},numbered_list:{title:"有序列表",subtext:"用於顯示有序列表",aliases:["ol","li","list","numberedlist","numbered list","列表","有序列表"],group:"基礎"},bullet_list:{title:"無序列表",subtext:"用於顯示無序列表",aliases:["ul","li","list","bulletlist","bullet list","列表","無序列表"],group:"基礎"},check_list:{title:"檢查清單",subtext:"用於顯示帶有核取方塊的列表",aliases:["ul","li","checklist","checked list","列表","檢查清單","勾選列表","核取方塊"],group:"基礎"},toggle_list:{title:"可摺疊列表",subtext:"帶有可隱藏子項的列表",aliases:["li","列表","可摺疊列表","摺疊列表"],group:"基礎"},paragraph:{title:"段落",subtext:"用於文件正文",aliases:["p","paragraph","text","正文"],group:"基礎"},code_block:{title:"程式碼區塊",subtext:"用於顯示帶有語法標記的程式碼區塊",aliases:["code","pre","程式碼","預格式"],group:"基礎"},page_break:{title:"分頁符",subtext:"頁面分隔符",aliases:["page","break","separator","分頁","分隔符"],group:"基礎"},table:{title:"表格",subtext:"使用表格",aliases:["table","表格"],group:"進階功能"},image:{title:"圖片",subtext:"插入圖片",aliases:["圖片","上傳圖片","上傳","image","img","相簿","媒體","url"],group:"媒體"},video:{title:"影片",subtext:"插入影片",aliases:["影片","影片上傳","上傳","video","mp4","電影","媒體","url","雲端硬碟","dropbox"],group:"媒體"},audio:{title:"音訊",subtext:"插入音訊",aliases:["音訊","音訊上傳","上傳","audio","mp3","聲音","媒體","url","雲端硬碟","dropbox"],group:"媒體"},file:{title:"檔案",subtext:"插入檔案",aliases:["檔案","上傳","file","嵌入","媒體","url"],group:"媒體"},emoji:{title:"表情符號",subtext:"用於插入表情符號",aliases:["表情符號","emoji","face","emote","表情","表情表達","表情"],group:"其他"}},placeholders:{default:"輸入 '/' 以使用指令",heading:"標題",toggleListItem:"切換",bulletListItem:"列表",numberedListItem:"列表",checkListItem:"列表",new_comment:"撰寫評論...",edit_comment:"編輯評論...",comment_reply:"新增評論..."},file_blocks:{image:{add_button_text:"新增圖片"},video:{add_button_text:"新增影片"},audio:{add_button_text:"新增音訊"},file:{add_button_text:"新增檔案"}},side_menu:{add_block_label:"新增區塊",drag_handle_label:"開啟選單"},drag_handle:{delete_menuitem:"刪除",colors_menuitem:"顏色",header_row_menuitem:"列標題",header_column_menuitem:"欄標題"},table_handle:{delete_column_menuitem:"刪除欄",delete_row_menuitem:"刪除列",add_left_menuitem:"左側新增欄",add_right_menuitem:"右側新增欄",add_above_menuitem:"上方新增列",add_below_menuitem:"下方新增列",split_cell_menuitem:"分割儲存格",merge_cells_menuitem:"合併儲存格",background_color_menuitem:"背景色"},suggestion_menu:{no_items_title:"無相符項目"},color_picker:{text_title:"文字",background_title:"背景色",colors:{default:"預設",gray:"灰色",brown:"棕色",red:"紅色",orange:"橙色",yellow:"黃色",green:"綠色",blue:"藍色",purple:"紫色",pink:"粉色"}},formatting_toolbar:{bold:{tooltip:"粗體",secondary_tooltip:"Mod+B"},italic:{tooltip:"斜體",secondary_tooltip:"Mod+I"},underline:{tooltip:"底線",secondary_tooltip:"Mod+U"},strike:{tooltip:"刪除線",secondary_tooltip:"Mod+Shift+X"},code:{tooltip:"程式碼標記",secondary_tooltip:""},colors:{tooltip:"顏色"},link:{tooltip:"新增連結",secondary_tooltip:"Mod+K"},file_caption:{tooltip:"編輯標題",input_placeholder:"編輯標題"},file_replace:{tooltip:{image:"替換圖片",video:"替換影片",audio:"替換音訊",file:"替換檔案"}},file_rename:{tooltip:{image:"重新命名圖片",video:"重新命名影片",audio:"重新命名音訊",file:"重新命名檔案"},input_placeholder:{image:"重新命名圖片",video:"重新命名影片",audio:"重新命名音訊",file:"重新命名檔案"}},file_download:{tooltip:{image:"下載圖片",video:"下載影片",audio:"下載音訊",file:"下載檔案"}},file_delete:{tooltip:{image:"刪除圖片",video:"刪除影片",audio:"刪除音訊",file:"刪除檔案"}},file_preview_toggle:{tooltip:"切換預覽"},nest:{tooltip:"巢狀",secondary_tooltip:"Tab"},unnest:{tooltip:"取消巢狀",secondary_tooltip:"Shift+Tab"},align_left:{tooltip:"靠左對齊"},align_center:{tooltip:"置中"},align_right:{tooltip:"靠右對齊"},align_justify:{tooltip:"兩端對齊"},table_cell_merge:{tooltip:"合併儲存格"},comment:{tooltip:"新增評論"}},file_panel:{upload:{title:"上傳",file_placeholder:{image:"上傳圖片",video:"上傳影片",audio:"上傳音訊",file:"上傳檔案"},upload_error:"錯誤：上傳失敗"},embed:{title:"嵌入",embed_button:{image:"嵌入圖片",video:"嵌入影片",audio:"嵌入音訊",file:"嵌入檔案"},url_placeholder:"輸入圖片網址"}},link_toolbar:{delete:{tooltip:"清除連結"},edit:{text:"編輯連結",tooltip:"編輯"},open:{tooltip:"在新視窗開啟"},form:{title_placeholder:"編輯標題",url_placeholder:"編輯連結網址"}},comments:{edited:"已編輯",save_button_text:"儲存",cancel_button_text:"取消",actions:{add_reaction:"新增回應",resolve:"解決",edit_comment:"編輯評論",delete_comment:"刪除評論",more_actions:"更多操作"},reactions:{reacted_by:"已回應"},sidebar:{marked_as_resolved:"標記為已解決",more_replies:t=>`還有 ${t} 則回覆`}},generic:{ctrl_shortcut:"Ctrl"}},joe=Object.freeze(Object.defineProperty({__proto__:null,ar:moe,de:goe,en:YC,es:boe,fr:yoe,he:voe,hr:woe,is:koe,it:xoe,ja:Coe,ko:Soe,nl:_oe,no:Eoe,pl:Moe,pt:Toe,ru:Aoe,sk:Noe,uk:Roe,vi:Ooe,zh:Doe,zhTW:Loe},Symbol.toStringTag,{value:"Module"}));var k8={exports:{}},h1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function Boe(){if(lA)return h1;lA=1;var t=X;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,r=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function l(d,f){var h=f(),p=o({inst:{value:h,getSnapshot:f}}),m=p[0].inst,b=p[1];return i(function(){m.value=h,m.getSnapshot=f,a(m)&&b({inst:m})},[d,h,f]),r(function(){return a(m)&&b({inst:m}),d(function(){a(m)&&b({inst:m})})},[d]),s(h),h}function a(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return h1.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,h1}k8.exports=Boe();var x8=k8.exports;const $oe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},zoe=({contentComponent:t})=>{const e=x8.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return X.createElement(X.Fragment,null,Object.values(e))};function Poe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:ak.createPortal(o.reactElement,o.element,n)},t.forEach(r=>r())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(r=>r())}}}class Ioe extends X.Component{constructor(e){var n;super(e),this.editorContentRef=X.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=Poe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(o=>o.hasContentComponentInitialized?o:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...o}=this.props;return X.createElement(X.Fragment,null,X.createElement("div",{ref:$oe(n,this.editorContentRef),...o}),(e==null?void 0:e.contentComponent)&&X.createElement(zoe,{contentComponent:e.contentComponent}))}}const Hoe=v.forwardRef((t,e)=>{const n=X.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return X.createElement(Ioe,{key:n,innerRef:e,...t})});X.memo(Hoe);var p1={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA;function Voe(){if(aA)return p1;aA=1;var t=X,e=x8;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var o=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,a=t.useDebugValue;return p1.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=l(function(){function y(E){if(!w){if(w=!0,k=E,E=f(E),h!==void 0&&m.hasValue){var _=m.value;if(h(_,E))return x=_}return x=E}if(_=x,o(k,E))return _;var S=f(E);return h!==void 0&&h(_,S)?_:(k=E,x=S)}var w=!1,k,x,C=d===void 0?null:d;return[function(){return y(u())},C===null?void 0:function(){return y(C())}]},[u,d,f,h]);var b=r(c,p[0],p[1]);return s(function(){m.hasValue=!0,m.value=b},[b]),a(b),b},p1}Voe();const Uoe=v.createContext({editor:null});Uoe.Consumer;const C8=v.createContext({onDragStart:void 0}),S8=()=>v.useContext(C8),Foe=X.forwardRef((t,e)=>{const{onDragStart:n}=S8(),o=t.as||"div";return X.createElement(o,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function cA(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function uA(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.forward_ref)"||t.$$typeof.description==="react.forward_ref"))}function qoe(t){return!!(typeof t=="object"&&t.$$typeof&&(t.$$typeof.toString()==="Symbol(react.memo)"||t.$$typeof.description==="react.memo"))}function Goe(t){if(cA(t)||uA(t))return!0;if(qoe(t)){const e=t.type;if(e)return cA(e)||uA(e)}return!1}function Zoe(){try{if(v.version)return parseInt(v.version.split(".")[0],10)>=19}catch{}return!1}class Koe{constructor(e,{editor:n,props:o={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=o,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?Jn.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var e;const n=this.component,o=this.props,r=this.editor,i=Zoe(),s=Goe(n),l={...o};l.ref&&!(i||s)&&delete l.ref,!l.ref&&(i||s)&&(l.ref=a=>{this.ref=a}),this.reactElement=X.createElement(n,{...l}),(e=r==null?void 0:r.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const n=this.editor;(e=n==null?void 0:n.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(n=>{this.element.setAttribute(n,e[n])})}}class Woe extends OZ{constructor(e,n,o){if(super(e,n,o),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const r=this.dom.querySelector("[data-node-view-content]");if(!r)return;r.appendChild(this.contentDOMElement)}}mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode(),ref:v.createRef()};if(!this.component.displayName){const c=u=>u.charAt(0).toUpperCase()+u.substring(1);this.component.displayName=c(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:c=>{c&&this.contentDOMElement&&c.firstChild!==this.contentDOMElement&&(c.hasAttribute("data-node-view-wrapper")&&c.removeAttribute("data-node-view-wrapper"),c.appendChild(this.contentDOMElement))}},i=this.component,s=v.memo(c=>X.createElement(C8.Provider,{value:r},v.createElement(i,c)));s.displayName="ReactNodeView";let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);const{className:a=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new Koe(s,{editor:this.editor,props:e,as:l,className:`node-${this.node.type.name} ${a}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection,o=this.getPos();if(typeof o=="number")if(e<=o&&n>=o+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n,o){const r=i=>{this.renderer.updateProps(i),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const i=this.node,s=this.decorations,l=this.innerDecorations;return this.node=e,this.decorations=n,this.innerDecorations=o,this.options.update({oldNode:i,oldDecorations:s,newNode:e,newDecorations:n,oldInnerDecorations:l,innerDecorations:o,updateProps:()=>r({node:e,decorations:n,innerDecorations:o})})}return e===this.node&&this.decorations===n&&this.innerDecorations===o||(this.node=e,this.decorations=n,this.innerDecorations=o,r({node:e,decorations:n,innerDecorations:o})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,o=Rm(this.node,n);e=this.options.attrs({node:this.node,HTMLAttributes:o})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function Yoe(t,e){return n=>n.editor.contentComponent?new Woe(t,n,e):{}}const _8=v.createContext(void 0);function Br(t){return v.useContext(_8)}function ee(t){const e=Br();if(!(e!=null&&e.editor))throw new Error("useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component");return e.editor}function hS(t,e,n){const o=Br();e||(e=o==null?void 0:o.editor),v.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onSelectionChange(t,n)},[t,e,n])}function Xoe(t,e){const n=ee();e=e||n;const[o,r]=v.useState(()=>{if(t)return e.getSelectionBoundingBox()}),i=v.useCallback(()=>{if(!t)return;const s=e.getSelectionBoundingBox();r(s)},[e,t]);return hS(i,e,!0),v.useEffect(()=>{r(t?e.getSelectionBoundingBox():void 0)},[t,e]),o}function Joe(t){return t.getBoundingClientRect!==void 0}function Vs(t,e,n,o){const{refs:r,update:i,context:s,floatingStyles:l,isPositioned:a}=Ql({open:t,...o}),{isMounted:c,styles:u}=Mx(s),d=typeof(o==null?void 0:o.canDismiss)=="object"?o.canDismiss:{enabled:o==null?void 0:o.canDismiss},f=tR(s,d),{getReferenceProps:h,getFloatingProps:p}=nR([f]);return v.useEffect(()=>{i()},[e,i]),v.useEffect(()=>{e!==null&&(e instanceof HTMLElement||Joe(e)?r.setReference(e):r.setReference({getBoundingClientRect:()=>e}))},[e,r]),v.useMemo(()=>({isMounted:c,ref:r.setFloating,setReference:r.setReference,style:{display:"flex",...u,...l,zIndex:n},getFloatingProps:p,getReferenceProps:h,isPositioned:a}),[a,l,c,r.setFloating,r.setReference,u,n,p,h])}function Mi(t){const[e,n]=v.useState();return v.useEffect(()=>t(o=>{n({...o})}),[t]),e}const E8=v.createContext(void 0);function J(){return v.useContext(E8)}const uf=(t={},e=[])=>v.useMemo(()=>{const n=doe.create(t);return window&&(window.ProseMirror=n._tiptapEditor),n},e);function se(){return Br().editor.dictionary}function ny(t,e){const n=Br();e||(e=n==null?void 0:n.editor),v.useEffect(()=>{if(!e)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");return e.onChange(t)},[t,e])}const pS=t=>{const[e,n]=v.useState(!1),[o,r]=v.useState(t.editor.isEmpty),i=J();ny(()=>{r(t.editor.isEmpty)},t.editor);const s=v.useCallback(()=>{n(!0)},[]),l=v.useCallback(()=>{n(!1)},[]);return v.useEffect(()=>{t.editable&&t.autoFocus&&t.editor.focus()},[t.autoFocus,t.editable,t.editor]),g.jsxs(g.Fragment,{children:[g.jsx(i.Comments.Editor,{autoFocus:t.autoFocus,className:"bn-comment-editor",editor:t.editor,onFocus:s,onBlur:l,editable:t.editable}),t.actions&&g.jsx("div",{className:"bn-comment-actions-wrapper",children:g.jsx(t.actions,{isFocused:e,isEmpty:o})})]})},Qoe=Ro(vn(af.paragraph.implementation.node.config),{}),{textColor:vfe,backgroundColor:wfe,...ere}=cf,mS=su.create({blockSpecs:{paragraph:Qoe},styleSpecs:ere});function tre(){const t=ee();if(!t.comments)throw new Error("Comments plugin not found");const e=t.comments,n=J(),o=se(),r=uf({trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.new_comment}},schema:mS});return g.jsx(n.Comments.Card,{className:"bn-thread",children:g.jsx(pS,{autoFocus:!0,editable:!0,editor:r,actions:({isEmpty:i})=>g.jsx(n.Generic.Toolbar.Root,{className:qe("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:g.jsx(n.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:"Save",variant:"compact",isDisabled:i,onClick:async()=>{await e.createThread({initialComment:{body:r.document}}),e.stopPendingComment()},children:"Save"})})})})}const nre=t=>{const e=ee();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=e.comments;v.useEffect(()=>{const u=n.onUpdate(d=>e.setForceSelectionVisible(d.pendingComment));return()=>u()},[n,e]);const o=Mi(n.onUpdate.bind(n)),r=Xoe(o==null?void 0:o.pendingComment),{isMounted:i,ref:s,style:l,getFloatingProps:a}=Vs((o==null?void 0:o.pendingComment)||!1,r||null,5e3,{placement:"bottom",middleware:[Jo(10),js(),to()],onOpenChange:u=>{u||(n.stopPendingComment(),e.focus())},...t.floatingOptions});if(!i||!o)return null;const c=t.floatingComposer||tre;return g.jsx("div",{ref:s,style:l,...a(),children:g.jsx(c,{})})};var M8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dA=X.createContext&&X.createContext(M8),ore=["attr","size","title"];function rre(t,e){if(t==null)return{};var n=ire(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function ire(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xg.apply(this,arguments)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(o){sre(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function sre(t,e,n){return e=lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T8(t){return t&&t.map((e,n)=>X.createElement(e.tag,Cg({key:n},e.attr),T8(e.child)))}function te(t){return e=>X.createElement(cre,xg({attr:Cg({},t.attr)},e),T8(t.child))}function cre(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=rre(t,ore),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),X.createElement("svg",xg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:Cg(Cg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),t.children)};return dA!==void 0?X.createElement(dA.Consumer,null,n=>e(n)):e(M8)}function ure(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(t)}function A8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.29117 20.8242L2 22L3.17581 16.7088C2.42544 15.3056 2 13.7025 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C10.2975 22 8.6944 21.5746 7.29117 20.8242ZM7.58075 18.711L8.23428 19.0605C9.38248 19.6745 10.6655 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 13.3345 4.32549 14.6175 4.93949 15.7657L5.28896 16.4192L4.63416 19.3658L7.58075 18.711Z"},child:[]}]})(t)}function dre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.24264 17.9967H3V13.754L14.435 2.319C14.8256 1.92848 15.4587 1.92848 15.8492 2.319L18.6777 5.14743C19.0682 5.53795 19.0682 6.17112 18.6777 6.56164L7.24264 17.9967ZM3 19.9967H21V21.9967H3V19.9967Z"},child:[]}]})(t)}function fre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z"},child:[]}]})(t)}function gS(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z"},child:[]}]})(t)}function hre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z"},child:[]}]})(t)}function pre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z"},child:[]}]})(t)}function mre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z"},child:[]}]})(t)}function gre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z"},child:[]}]})(t)}function bre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"},child:[]}]})(t)}function yre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.41436 5.99995L5.70726 3.70706L4.29304 2.29285L0.585938 5.99995L4.29304 9.70706L5.70726 8.29285L3.41436 5.99995ZM9.58594 5.99995L7.29304 3.70706L8.70726 2.29285L12.4144 5.99995L8.70726 9.70706L7.29304 8.29285L9.58594 5.99995ZM14.0002 2.99995H21.0002C21.5524 2.99995 22.0002 3.44767 22.0002 3.99995V20C22.0002 20.5522 21.5524 21 21.0002 21H3.00015C2.44787 21 2.00015 20.5522 2.00015 20V12H4.00015V19H20.0002V4.99995H14.0002V2.99995Z"},child:[]}]})(t)}function hA(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z"},child:[]}]})(t)}function Sg(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"},child:[]}]})(t)}function _g(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"},child:[]}]})(t)}function Eg(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function N8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"},child:[]}]})(t)}function R8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 8V10H17.6769L17.2126 12.6358C17.5435 12.5472 17.8912 12.5 18.25 12.5C20.4591 12.5 22.25 14.2909 22.25 16.5C22.25 18.7091 20.4591 20.5 18.25 20.5C16.4233 20.5 14.8827 19.2756 14.4039 17.6027L16.3271 17.0519C16.5667 17.8881 17.3369 18.5 18.25 18.5C19.3546 18.5 20.25 17.6046 20.25 16.5C20.25 15.3954 19.3546 14.5 18.25 14.5C17.6194 14.5 17.057 14.7918 16.6904 15.2478L14.8803 14.3439L16 8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"},child:[]}]})(t)}function O8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21.097 8L18.499 12.5C20.7091 12.5 22.5 14.2909 22.5 16.5C22.5 18.7091 20.7091 20.5 18.5 20.5C16.2909 20.5 14.5 18.7091 14.5 16.5C14.5 15.7636 14.699 15.0737 15.0461 14.4811L18.788 8H21.097ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 14.5C17.3954 14.5 16.5 15.3954 16.5 16.5C16.5 17.6046 17.3954 18.5 18.5 18.5C19.6046 18.5 20.5 17.6046 20.5 16.5C20.5 15.3954 19.6046 14.5 18.5 14.5Z"},child:[]}]})(t)}function vre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z"},child:[]}]})(t)}function wre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z"},child:[]}]})(t)}function pA(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z"},child:[]}]})(t)}function kre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"},child:[]}]})(t)}function xre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z"},child:[]}]})(t)}function D8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z"},child:[]}]})(t)}function L8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(t)}function j8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function B8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"},child:[]}]})(t)}function Cre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM11 5H5V10.999H7V9L10 12L7 15V13H5V19H11V17H13V19H19V13H17V15L14 12L17 9V10.999H19V5H13V7H11V5ZM13 13V15H11V13H13ZM13 9V11H11V9H13Z"},child:[]}]})(t)}function Sre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20ZM19 11V5H13.001V7H15L12 10L9 7H11V5H5V11H7V13H5V19H11V17H9L12 14L15 17H13.001V19H19V13H17V11H19ZM11 13H9V11H11V13ZM15 13H13V11H15V13Z"},child:[]}]})(t)}function $8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 4H3V6H21V4ZM21 11H8V13H21V11ZM21 18H8V20H21V18ZM5 11H3V20H5V11Z"},child:[]}]})(t)}function _re(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"},child:[]}]})(t)}function Ere(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"},child:[]}]})(t)}function bS(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(t)}function Mre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z"},child:[]}]})(t)}function Tre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(t)}function z8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z"},child:[]}]})(t)}function Are(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(t)}function Nre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z"},child:[]}]})(t)}function P8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 18V20H2V18H22ZM2 3.5L10 8.5L2 13.5V3.5ZM22 11V13H12V11H22ZM22 4V6H12V4H22Z"},child:[]}]})(t)}function Rre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z"},child:[]}]})(t)}function I8(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z"},child:[]}]})(t)}function Ore(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"},child:[]}]})(t)}function Dre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(t)}function Lre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function jre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM9 11V17H11V11H9ZM13 11V17H15V11H13ZM9 4V6H15V4H9Z"},child:[]}]})(t)}function Bre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z"},child:[]}]})(t)}function $re(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z"},child:[]}]})(t)}function zre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 10C3.9 10 3 10.9 3 12C3 13.1 3.9 14 5 14C6.1 14 7 13.1 7 12C7 10.9 6.1 10 5 10ZM19 10C17.9 10 17 10.9 17 12C17 13.1 17.9 14 19 14C20.1 14 21 13.1 21 12C21 10.9 20.1 10 19 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"},child:[]}]})(t)}function Pre(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM8 13C8 15.2091 9.79086 17 12 17C14.2091 17 16 15.2091 16 13H8ZM8 11C8.82843 11 9.5 10.3284 9.5 9.5C9.5 8.67157 8.82843 8 8 8C7.17157 8 6.5 8.67157 6.5 9.5C6.5 10.3284 7.17157 11 8 11ZM16 11C16.8284 11 17.5 10.3284 17.5 9.5C17.5 8.67157 16.8284 8 16 8C15.1716 8 14.5 8.67157 14.5 9.5C14.5 10.3284 15.1716 11 16 11Z"},child:[]}]})(t)}function mA(t){return te({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8 13H16C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13ZM8 11C7.17157 11 6.5 10.3284 6.5 9.5C6.5 8.67157 7.17157 8 8 8C8.82843 8 9.5 8.67157 9.5 9.5C9.5 10.3284 8.82843 11 8 11ZM16 11C15.1716 11 14.5 10.3284 14.5 9.5C14.5 8.67157 15.1716 8 16 8C16.8284 8 17.5 8.67157 17.5 9.5C17.5 10.3284 16.8284 11 16 11Z"},child:[]}]})(t)}let m1;async function Ire(){return m1||(m1=(async()=>{const[t,e]=await Promise.all([Cn(()=>import("./module-BvCTiNll.js"),[]),Cn(()=>import("./native-B5Vb9Oiz.js"),[])]),n="default"in t?t.default:t,o="default"in e?e.default:e;return await n.init({data:o}),{emojiMart:n,emojiData:o}})(),m1)}function Hre(t){const e=v.useRef(null),n=v.useRef(null);return n.current&&n.current.update(t),v.useEffect(()=>((async()=>{const{emojiMart:o}=await Ire();n.current=new o.Picker({...t,ref:e})})(),()=>{n.current=null}),[]),X.createElement("div",{ref:e})}const gA=t=>{const[e,n]=v.useState(!1),o=J(),r=Br();return g.jsxs(o.Generic.Popover.Root,{opened:e,children:[g.jsx(o.Generic.Popover.Trigger,{children:g.jsx("div",{onClick:i=>{i.preventDefault(),i.stopPropagation(),n(!e)},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.children})}),g.jsx(o.Generic.Popover.Content,{variant:"panel-popover",children:g.jsx(Hre,{perLine:7,onClickOutside:()=>n(!1),onEmojiSelect:i=>{t.onEmojiSelect(i),n(!1)},theme:r==null?void 0:r.colorSchemePreference})})]})};function Vre(t,e){return yS(t,[e]).get(e)}function yS(t,e){const n=t.comments;if(!n)throw new Error("Comments plugin not found");const o=n.userStore,r=v.useCallback(()=>{const l=new Map;for(const a of e){const c=o.getUser(a);c&&l.set(a,c)}return l},[o,e]),i=v.useMemo(()=>({current:r()}),[r]),s=v.useCallback(l=>{const a=o.subscribe(c=>{i.current=r(),l()});return o.loadUsers(e),a},[o,r,e,i]);return v.useSyncExternalStore(s,()=>i.current)}const Ure=t=>{const e=J(),n=se(),o=ee();if(!o.comments)throw new Error("ReactionBadge must be used inside a BlockNote editor with comments enabled");const r=t.comment.reactions.find(a=>a.emoji===t.emoji);if(!r)throw new Error("Trying to render reaction badge for non-existing reaction");const[i,s]=v.useState([]),l=yS(o,i);return g.jsx(e.Generic.Badge.Root,{className:qe("bn-badge","bn-comment-reaction"),text:r.userIds.length.toString(),icon:r.emoji,isSelected:o.comments.threadStore.auth.canDeleteReaction(t.comment,r.emoji),onClick:()=>t.onReactionSelect(r.emoji),onMouseEnter:()=>s(r.userIds),mainTooltip:n.comments.reactions.reacted_by,secondaryTooltip:`${Array.from(l.values()).map(a=>a.username).join(`
`)}`},r.emoji)},Fre=({comment:t,thread:e,showResolveButton:n})=>{const o=se(),r=uf({initialContent:t.body,trailingBlock:!1,dictionary:{...o,placeholders:{emptyDocument:o.placeholders.edit_comment}},schema:mS},[t.body]),i=J(),[s,l]=v.useState(!1),a=ee();if(!a.comments)throw new Error("Comments plugin not found");const c=a.comments.threadStore,u=v.useCallback(()=>{l(!0)},[]),d=v.useCallback(()=>{r.replaceBlocks(r.document,t.body),l(!1)},[r,t.body]),f=v.useCallback(async S=>{await c.updateComment({commentId:t.id,comment:{body:r.document},threadId:e.id}),l(!1)},[t,e.id,r,c]),h=v.useCallback(async()=>{await c.deleteComment({commentId:t.id,threadId:e.id})},[t,e.id,c]),p=v.useCallback(async S=>{c.auth.canAddReaction(t,S)?await c.addReaction({threadId:e.id,commentId:t.id,emoji:S}):c.auth.canDeleteReaction(t,S)&&await c.deleteReaction({threadId:e.id,commentId:t.id,emoji:S})},[c,t,e.id]),m=v.useCallback(async()=>{await c.resolveThread({threadId:e.id})},[e.id,c]),b=v.useCallback(async()=>{await c.unresolveThread({threadId:e.id})},[e.id,c]),y=Vre(a,t.userId);if(!t.body)return null;let w;const k=c.auth.canAddReaction(t),x=c.auth.canDeleteComment(t),C=c.auth.canUpdateComment(t),E=n&&(e.resolved?c.auth.canUnresolveThread(e):c.auth.canResolveThread(e));s||(w=g.jsxs(i.Generic.Toolbar.Root,{className:qe("bn-action-toolbar","bn-comment-actions"),variant:"action-toolbar",children:[k&&g.jsx(gA,{onEmojiSelect:S=>p(S.native),children:g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.add_reaction,variant:"compact",children:g.jsx(mA,{size:16})},"add-reaction")}),E&&(e.resolved?g.jsx(i.Generic.Toolbar.Button,{mainTooltip:"Re-open",variant:"compact",onClick:b,children:g.jsx(ure,{size:16})},"reopen"):g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.resolve,variant:"compact",onClick:m,children:g.jsx(Dre,{size:16})},"resolve")),(x||C)&&g.jsxs(i.Generic.Menu.Root,{position:"bottom-start",children:[g.jsx(i.Generic.Menu.Trigger,{children:g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.actions.more_actions,variant:"compact",children:g.jsx(zre,{size:16})},"more-actions")}),g.jsxs(i.Generic.Menu.Dropdown,{className:"bn-menu-dropdown",children:[C&&g.jsx(i.Generic.Menu.Item,{icon:g.jsx(dre,{}),onClick:u,children:o.comments.actions.edit_comment},"edit-comment"),x&&g.jsx(i.Generic.Menu.Item,{icon:g.jsx(jre,{}),onClick:h,children:o.comments.actions.delete_comment},"delete-comment")]})]})]}));const _=t.createdAt.toLocaleDateString(void 0,{month:"short",day:"numeric"});if(!t.body)throw new Error("soft deletes are not yet supported");return g.jsx(i.Comments.Comment,{authorInfo:y??"loading",timeString:_,edited:t.updatedAt.getTime()!==t.createdAt.getTime(),showActions:"hover",actions:w,className:"bn-thread-comment",children:g.jsx(pS,{autoFocus:s,editor:r,editable:s,actions:t.reactions.length>0||s?({isEmpty:S})=>g.jsxs(g.Fragment,{children:[t.reactions.length>0&&!s&&g.jsxs(i.Generic.Badge.Group,{className:qe("bn-badge-group","bn-comment-reactions"),children:[t.reactions.map(M=>g.jsx(Ure,{comment:t,emoji:M.emoji,onReactionSelect:p},M.emoji)),g.jsx(gA,{onEmojiSelect:M=>p(M.native),children:g.jsx(i.Generic.Badge.Root,{className:qe("bn-badge","bn-comment-add-reaction"),text:"+",icon:g.jsx(mA,{size:16}),mainTooltip:o.comments.actions.add_reaction})})]}),s&&g.jsxs(i.Generic.Toolbar.Root,{variant:"action-toolbar",className:qe("bn-action-toolbar","bn-comment-actions"),children:[g.jsx(i.Generic.Toolbar.Button,{mainTooltip:o.comments.save_button_text,variant:"compact",onClick:f,isDisabled:S,children:o.comments.save_button_text}),g.jsx(i.Generic.Toolbar.Button,{className:"bn-button",mainTooltip:o.comments.cancel_button_text,variant:"compact",onClick:d,children:o.comments.cancel_button_text})]})]}):void 0})})},qre=({thread:t,maxCommentsBeforeCollapse:e})=>{const n=J(),o=se(),r=ee(),i=yS(r,t.resolvedBy?[t.resolvedBy]:[]),s=t.comments.map((l,a)=>g.jsx(Fre,{thread:t,comment:l,showResolveButton:a===0},l.id));if(t.resolved&&t.resolvedUpdatedAt&&t.resolvedBy){if(!i.get(t.resolvedBy))throw new Error(`User ${t.resolvedBy} resolved thread ${t.id}, but their data could not be found.`);const l=t.comments.findLastIndex(a=>t.resolvedUpdatedAt.getTime()>a.createdAt.getTime())+1;s.splice(l,0,g.jsx(n.Comments.Comment,{className:"bn-thread-comment",authorInfo:t.resolvedBy&&i.get(t.resolvedBy)||"loading",timeString:t.resolvedUpdatedAt.toLocaleDateString(void 0,{month:"short",day:"numeric"}),edited:!1,showActions:!1,children:g.jsx("div",{className:"bn-resolved-text",children:o.comments.sidebar.marked_as_resolved})},"resolved-comment"))}return e&&s.length>e&&s.splice(1,s.length-2,g.jsx(n.Comments.ExpandSectionsPrompt,{className:"bn-thread-expand-prompt",children:o.comments.sidebar.more_replies(t.comments.length-2)},"expand-prompt")),s},H8=({thread:t,selected:e,referenceText:n,maxCommentsBeforeCollapse:o,onFocus:r,onBlur:i,tabIndex:s})=>{const l=J(),a=se(),c=ee().comments;if(!c)throw new Error("Comments plugin not found");const u=uf({trailingBlock:!1,dictionary:{...a,placeholders:{emptyDocument:a.placeholders.comment_reply}},schema:mS}),d=v.useCallback(async()=>{await c.threadStore.addComment({comment:{body:u.document},threadId:t.id}),u.removeBlocks(u.document)},[c,u,t.id]);return g.jsxs(l.Comments.Card,{className:"bn-thread",headerText:n,onFocus:r,onBlur:i,selected:e,tabIndex:s,children:[g.jsx(l.Comments.CardSection,{className:"bn-thread-comments",children:g.jsx(qre,{thread:t,maxCommentsBeforeCollapse:e?void 0:o||5})}),e&&g.jsx(l.Comments.CardSection,{className:"bn-thread-composer",children:g.jsx(pS,{autoFocus:!1,editable:!0,editor:u,actions:({isEmpty:f})=>f?null:g.jsx(l.Generic.Toolbar.Root,{variant:"action-toolbar",className:qe("bn-action-toolbar","bn-comment-actions"),children:g.jsx(l.Generic.Toolbar.Button,{mainTooltip:a.comments.save_button_text,variant:"compact",isDisabled:f,onClick:d,children:a.comments.save_button_text})})})})]})};function Gre(t){const e=t.comments;if(!e)throw new Error("Comments plugin not found");const n=e.threadStore,o=v.useRef(void 0);o.current||(o.current=n.getThreads());const r=v.useCallback(i=>n.subscribe(s=>{o.current=s,i()}),[n]);return v.useSyncExternalStore(r,()=>o.current)}const Zre=t=>{const e=ee();if(!e.comments)throw new Error("FloatingComposerController can only be used when BlockNote editor has enabled comments");const n=Mi(e.comments.onUpdate.bind(e.comments)),{isMounted:o,ref:r,style:i,getFloatingProps:s,setReference:l}=Vs(!!(n!=null&&n.selectedThreadId),null,5e3,{placement:"bottom",middleware:[Jo(10),js(),to()],onOpenChange:d=>{var f;d||((f=e.comments)==null||f.selectThread(void 0),e.focus())},...t.floatingOptions}),a=v.useCallback(()=>{var d;if(!(n!=null&&n.selectedThreadId))return;const f=(d=e.domElement)==null?void 0:d.querySelector(`[data-bn-thread-id="${n==null?void 0:n.selectedThreadId}"]`);f&&l(f)},[l,e,n==null?void 0:n.selectedThreadId]);v.useEffect(()=>{if(n!=null&&n.selectedThreadId)return e.onChange(()=>{a()})},[e,a,n==null?void 0:n.selectedThreadId]),v.useLayoutEffect(a,[a]);const c=Gre(e);if(!o||!n||!n.selectedThreadId)return null;const u=t.floatingThread||H8;return g.jsx("div",{ref:r,style:i,...s(),children:g.jsx(u,{thread:c.get(n.selectedThreadId),selected:!0})})},Kre=t=>{const e=J(),n=se(),{block:o}=t,r=ee(),[i,s]=v.useState(""),l=v.useCallback(u=>{s(u.currentTarget.value)},[]),a=v.useCallback(u=>{u.key==="Enter"&&(u.preventDefault(),r.updateBlock(o,{props:{name:zT(i),url:i}}))},[r,o,i]),c=v.useCallback(()=>{r.updateBlock(o,{props:{name:zT(i),url:i}})},[r,o,i]);return g.jsxs(e.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(e.FilePanel.TextInput,{className:"bn-text-input",placeholder:n.file_panel.embed.url_placeholder,value:i,onChange:l,onKeyDown:a,"data-test":"embed-input"}),g.jsx(e.FilePanel.Button,{className:"bn-button",onClick:c,"data-test":"embed-input-button",children:n.file_panel.embed.embed_button[o.type]||n.file_panel.embed.embed_button.file})]})},Wre=t=>{var e;const n=J(),o=se(),{block:r,setLoading:i}=t,s=ee(),[l,a]=v.useState(!1);v.useEffect(()=>{l&&setTimeout(()=>{a(!1)},3e3)},[l]);const c=v.useCallback(f=>{if(f===null)return;async function h(p){if(i(!0),s.uploadFile!==void 0)try{let m=await s.uploadFile(p,r.id);typeof m=="string"&&(m={props:{name:p.name,url:m}}),s.updateBlock(r,m)}catch{a(!0)}finally{i(!1)}}h(f)},[r,s,i]),u=s.schema.blockSchema[r.type],d=u.isFileBlock&&(e=u.fileBlockAccept)!=null&&e.length?u.fileBlockAccept.join(","):"*/*";return g.jsxs(n.FilePanel.TabPanel,{className:"bn-tab-panel",children:[g.jsx(n.FilePanel.FileInput,{className:"bn-file-input","data-test":"upload-input",accept:d,placeholder:o.file_panel.upload.file_placeholder[r.type]||o.file_panel.upload.file_placeholder.file,value:null,onChange:c}),l&&g.jsx("div",{className:"bn-error-text",children:o.file_panel.upload.upload_error})]})},V8=t=>{const e=J(),n=se(),o=ee(),[r,i]=v.useState(!1),s=t.tabs??[...o.uploadFile!==void 0?[{name:n.file_panel.upload.title,tabPanel:g.jsx(Wre,{block:t.block,setLoading:i})}]:[],{name:n.file_panel.embed.title,tabPanel:g.jsx(Kre,{block:t.block})}],[l,a]=v.useState(t.defaultOpenTab||s[0].name);return g.jsx(e.FilePanel.Root,{className:"bn-panel",defaultOpenTab:l,openTab:l,setOpenTab:a,tabs:s,loading:r})},Yre=t=>{const e=ee();if(!e.filePanel)throw new Error("FileToolbarController can only be used when BlockNote editor schema contains file block");const n=Mi(e.filePanel.onUpdate.bind(e.filePanel)),{isMounted:o,ref:r,style:i,getFloatingProps:s}=Vs((n==null?void 0:n.show)||!1,(n==null?void 0:n.referencePos)||null,5e3,{placement:"bottom",middleware:[Jo(10),to()],onOpenChange:d=>{d||(e.filePanel.closeMenu(),e.focus())},...t.floatingOptions});if(!o||!n)return null;const{show:l,referencePos:a,...c}=n,u=t.filePanel||V8;return g.jsx("div",{ref:r,style:i,...s(),children:g.jsx(u,{...c})})};function Xre(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Us(t,e){ny(t,e),hS(t,e)}function vS(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Bn(t){const e=Br();if(t||(t=e==null?void 0:e.editor),!t)throw new Error("'editor' is required, either from BlockNoteContext or as a function argument");const n=t,[o,r]=v.useState(()=>{var s;return((s=n.getSelection())==null?void 0:s.blocks)||[n.getTextCursorPosition().block]}),i=v.useCallback(()=>{var s;return r(((s=n.getSelection())==null?void 0:s.blocks)||[n.getTextCursorPosition().block])},[n]);return Us(i,n),o}const Jre={bold:bre,italic:kre,underline:Mre,strike:_re,code:fre};function Qre(t,e){return t in e.schema.styleSchema&&e.schema.styleSchema[t].type===t&&e.schema.styleSchema[t].propSchema==="boolean"}const Jh=t=>{const e=se(),n=J(),o=ee(),r=Qre(t.basicTextStyle,o),i=Bn(o),[s,l]=v.useState(t.basicTextStyle in o.getActiveStyles());Us(()=>{r&&l(t.basicTextStyle in o.getActiveStyles())},o);const a=u=>{if(o.focus(),!!r){if(o.schema.styleSchema[u].propSchema!=="boolean")throw new Error("can only toggle boolean styles");o.toggleStyles({[u]:!0})}};if(!v.useMemo(()=>r?!!i.find(u=>u.content!==void 0):!1,[r,i])||!o.isEditable)return null;const c=Jre[t.basicTextStyle];return g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":t.basicTextStyle,onClick:()=>a(t.basicTextStyle),isSelected:s,label:e.formatting_toolbar[t.basicTextStyle].tooltip,mainTooltip:e.formatting_toolbar[t.basicTextStyle].tooltip,secondaryTooltip:Vn(e.formatting_toolbar[t.basicTextStyle].secondary_tooltip,e.generic.ctrl_shortcut),icon:g.jsx(c,{})})},Ww=t=>{const e=t.textColor||"default",n=t.backgroundColor||"default",o=t.size||16,r=v.useMemo(()=>({pointerEvents:"none",fontSize:(o*.75).toString()+"px",height:o.toString()+"px",lineHeight:o.toString()+"px",textAlign:"center",width:o.toString()+"px"}),[o]);return g.jsx("div",{className:"bn-color-icon","data-background-color":n,"data-text-color":e,style:r,children:"A"})},bA=["default","gray","brown","red","orange","yellow","green","blue","purple","pink"],oy=t=>{const e=J(),n=se();return g.jsxs(g.Fragment,{children:[g.jsx(()=>t.text?g.jsxs(g.Fragment,{children:[g.jsx(e.Generic.Menu.Label,{children:n.color_picker.text_title}),bA.map(o=>g.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.text.setColor(o)},"data-test":"text-color-"+o,icon:g.jsx(Ww,{textColor:o,size:t.iconSize}),checked:t.text.color===o,children:n.color_picker.colors[o]},"text-color-"+o))]}):null,{}),g.jsx(()=>t.background?g.jsxs(g.Fragment,{children:[g.jsx(e.Generic.Menu.Label,{children:n.color_picker.background_title}),bA.map(o=>g.jsx(e.Generic.Menu.Item,{onClick:()=>{t.onClick&&t.onClick(),t.background.setColor(o)},"data-test":"background-color-"+o,icon:g.jsx(Ww,{backgroundColor:o,size:t.iconSize}),checked:t.background.color===o,children:n.color_picker.colors[o]},"background-color-"+o))]}):null,{})]})};function yA(t,e){return`${t}Color`in e.schema.styleSchema&&e.schema.styleSchema[`${t}Color`].type===`${t}Color`&&e.schema.styleSchema[`${t}Color`].propSchema==="string"}const eie=()=>{const t=J(),e=se(),n=ee(),o=yA("text",n),r=yA("background",n),i=Bn(n),[s,l]=v.useState(o&&n.getActiveStyles().textColor||"default"),[a,c]=v.useState(r&&n.getActiveStyles().backgroundColor||"default");Us(()=>{o&&l(n.getActiveStyles().textColor||"default"),r&&c(n.getActiveStyles().backgroundColor||"default")},n);const u=v.useCallback(f=>{if(!o)throw Error("Tried to set text color, but style does not exist in editor schema.");f==="default"?n.removeStyles({textColor:f}):n.addStyles({textColor:f}),setTimeout(()=>{n.focus()})},[n,o]),d=v.useCallback(f=>{if(!r)throw Error("Tried to set background color, but style does not exist in editor schema.");f==="default"?n.removeStyles({backgroundColor:f}):n.addStyles({backgroundColor:f}),setTimeout(()=>{n.focus()})},[r,n]);return!v.useMemo(()=>{if(!o&&!r)return!1;for(const f of i)if(f.content!==void 0)return!0;return!1},[r,i,o])||!n.isEditable?null:g.jsxs(t.Generic.Menu.Root,{children:[g.jsx(t.Generic.Menu.Trigger,{children:g.jsx(t.FormattingToolbar.Button,{className:"bn-button","data-test":"colors",label:e.formatting_toolbar.colors.tooltip,mainTooltip:e.formatting_toolbar.colors.tooltip,icon:g.jsx(Ww,{textColor:s,backgroundColor:a,size:20})})}),g.jsx(t.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(oy,{text:o?{color:s,setColor:u}:void 0,background:r?{color:a,setColor:d}:void 0})})]})},vA=t=>{for(const e of m8)if(t.startsWith(e))return t;return`${g8}://${t}`},U8=t=>{const e=J(),n=se(),{url:o,text:r,editLink:i,showTextField:s}=t,[l,a]=v.useState(o),[c,u]=v.useState(r);v.useEffect(()=>{a(o),u(r)},[r,o]);const d=v.useCallback(m=>{m.key==="Enter"&&(m.preventDefault(),i(vA(l),c))},[i,l,c]),f=v.useCallback(m=>a(m.currentTarget.value),[]),h=v.useCallback(m=>u(m.currentTarget.value),[]),p=v.useCallback(()=>i(vA(l),c),[i,l,c]);return g.jsxs(e.Generic.Form.Root,{children:[g.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"url",icon:g.jsx(D8,{}),autoFocus:!0,placeholder:n.link_toolbar.form.url_placeholder,value:l,onKeyDown:d,onChange:f,onSubmit:p}),s!==!1&&g.jsx(e.Generic.Form.TextInput,{className:"bn-text-input",name:"title",icon:g.jsx(bS,{}),placeholder:n.link_toolbar.form.title_placeholder,value:c,onKeyDown:d,onChange:h,onSubmit:p})]})};function tie(t){return"link"in t.schema.inlineContentSchema&&t.schema.inlineContentSchema.link==="link"}const nie=()=>{var t;const e=ee(),n=J(),o=se(),r=tie(e),i=Bn(e),[s,l]=v.useState(!1),[a,c]=v.useState(e.getSelectedLinkUrl()||""),[u,d]=v.useState(e.getSelectedText());Us(()=>{d(e.getSelectedText()||""),c(e.getSelectedLinkUrl()||"")},e),v.useEffect(()=>{var p;const m=b=>{(b.ctrlKey||b.metaKey)&&b.key==="k"&&(l(!0),b.preventDefault())};return(p=e.prosemirrorView)==null||p.dom.addEventListener("keydown",m),()=>{var b;(b=e.prosemirrorView)==null||b.dom.removeEventListener("keydown",m)}},[(t=e.prosemirrorView)==null?void 0:t.dom]);const f=v.useCallback(p=>{e.createLink(p),e.focus()},[e]),h=e.transact(p=>Vw(p.selection));return!v.useMemo(()=>{if(!r)return!1;for(const p of i)if(p.content===void 0)return!1;return!h},[r,i,h])||!("link"in e.schema.inlineContentSchema)||!e.isEditable?null:g.jsxs(n.Generic.Popover.Root,{opened:s,children:[g.jsx(n.Generic.Popover.Trigger,{children:g.jsx(n.FormattingToolbar.Button,{className:"bn-button","data-test":"createLink",label:o.formatting_toolbar.link.tooltip,mainTooltip:o.formatting_toolbar.link.tooltip,secondaryTooltip:Vn(o.formatting_toolbar.link.secondary_tooltip,o.generic.ctrl_shortcut),icon:g.jsx(D8,{}),onClick:()=>l(!0)})}),g.jsx(n.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(U8,{url:a,text:u,editLink:f,showTextField:!1})})]})},oie=()=>{const t=se(),e=J(),n=ee(),[o,r]=v.useState(),i=Bn(n),s=v.useMemo(()=>{if(i.length!==1)return;const c=i[0];if(Kf(c,n))return r(c.props.caption),c},[n,i]),l=v.useCallback(c=>{s&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(s,{props:{caption:o}}))},[o,n,s]),a=v.useCallback(c=>r(c.currentTarget.value),[]);return!s||Wf(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_caption.tooltip,mainTooltip:t.formatting_toolbar.file_caption.tooltip,icon:g.jsx(pA,{}),isSelected:s.props.caption!==""})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(e.Generic.Form.Root,{children:g.jsx(e.Generic.Form.TextInput,{name:"file-caption",icon:g.jsx(pA,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_caption.input_placeholder,onKeyDown:l,onChange:a})})})]})},rie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),r=v.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(Kf(s,n))return s},[n,o]),i=v.useCallback(()=>{n.focus(),n.removeBlocks([r])},[n,r]);return!r||Wf(r,n)||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_delete.tooltip[r.type]||t.formatting_toolbar.file_delete.tooltip.file,mainTooltip:t.formatting_toolbar.file_delete.tooltip[r.type]||t.formatting_toolbar.file_delete.tooltip.file,icon:g.jsx(Lre,{}),onClick:i})},iie=()=>{const t=se(),e=J(),n=ee(),[o,r]=v.useState(),i=Bn(n),s=v.useMemo(()=>{if(i.length!==1)return;const c=i[0];if(Kf(c,n))return r(c.props.name),c},[n,i]),l=v.useCallback(c=>{s&&c.key==="Enter"&&(c.preventDefault(),n.updateBlock(s,{props:{name:o}}))},[o,n,s]),a=v.useCallback(c=>r(c.currentTarget.value),[]);return!s||Wf(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,mainTooltip:t.formatting_toolbar.file_rename.tooltip[s.type]||t.formatting_toolbar.file_rename.tooltip.file,icon:g.jsx(hA,{})})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(e.Generic.Form.Root,{children:g.jsx(e.Generic.Form.TextInput,{name:"file-name",icon:g.jsx(hA,{}),value:o||"",autoFocus:!0,placeholder:t.formatting_toolbar.file_rename.input_placeholder[s.type]||t.formatting_toolbar.file_rename.input_placeholder.file,onKeyDown:l,onChange:a})})})]})},sie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),[r,i]=v.useState(!1);v.useEffect(()=>{i(!1)},[o]);const s=o.length===1?o[0]:void 0;return s===void 0||!Kf(s,n)||!n.isEditable?null:g.jsxs(e.Generic.Popover.Root,{opened:r,position:"bottom",children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",onClick:()=>i(!r),isSelected:r,mainTooltip:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,label:t.formatting_toolbar.file_replace.tooltip[s.type]||t.formatting_toolbar.file_replace.tooltip.file,icon:g.jsx(Nre,{})})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-panel-popover",variant:"panel-popover",children:g.jsx(V8,{block:s})})]})},lie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),[r,i]=v.useState(()=>n.canNestBlock());Us(()=>{i(n.canNestBlock())},n);const s=v.useCallback(()=>{n.focus(),n.nestBlock()},[n]);return!v.useMemo(()=>!o.find(l=>n.schema.blockSchema[l.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"nestBlock",onClick:s,isDisabled:!r,label:t.formatting_toolbar.nest.tooltip,mainTooltip:t.formatting_toolbar.nest.tooltip,secondaryTooltip:Vn(t.formatting_toolbar.nest.secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(wre,{})})},aie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),[r,i]=v.useState(()=>n.canUnnestBlock());Us(()=>{i(n.canUnnestBlock())},n);const s=v.useCallback(()=>{n.focus(),n.unnestBlock()},[n]);return!v.useMemo(()=>!o.find(l=>n.schema.blockSchema[l.type].content!=="inline"),[n.schema.blockSchema,o])||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":"unnestBlock",onClick:s,isDisabled:!r,label:t.formatting_toolbar.unnest.tooltip,mainTooltip:t.formatting_toolbar.unnest.tooltip,secondaryTooltip:Vn(t.formatting_toolbar.unnest.secondary_tooltip,t.generic.ctrl_shortcut),icon:g.jsx(vre,{})})},Yw=t=>[{name:t.slash_menu.paragraph.title,type:"paragraph",icon:bS,isSelected:e=>e.type==="paragraph"},{name:t.slash_menu.heading.title,type:"heading",props:{level:1},icon:Sg,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1},{name:t.slash_menu.heading_2.title,type:"heading",props:{level:2},icon:_g,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2},{name:t.slash_menu.heading_3.title,type:"heading",props:{level:3},icon:Eg,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3},{name:t.slash_menu.heading_4.title,type:"heading",props:{level:4},icon:N8,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===4},{name:t.slash_menu.heading_5.title,type:"heading",props:{level:5},icon:R8,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===5},{name:t.slash_menu.heading_6.title,type:"heading",props:{level:6},icon:O8,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===6},{name:t.slash_menu.toggle_heading.title,type:"heading",props:{level:1,isToggleable:!0},icon:Sg,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===1&&"isToggleable"in e.props&&e.props.isToggleable},{name:t.slash_menu.toggle_heading_2.title,type:"heading",props:{level:2,isToggleable:!0},icon:_g,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===2&&"isToggleable"in e.props&&e.props.isToggleable},{name:t.slash_menu.toggle_heading_3.title,type:"heading",props:{level:3,isToggleable:!0},icon:Eg,isSelected:e=>e.type==="heading"&&"level"in e.props&&e.props.level===3&&"isToggleable"in e.props&&e.props.isToggleable},{name:t.slash_menu.quote.title,type:"quote",icon:$8,isSelected:e=>e.type==="quote"},{name:t.slash_menu.toggle_list.title,type:"toggleListItem",icon:P8,isSelected:e=>e.type==="toggleListItem"},{name:t.slash_menu.bullet_list.title,type:"bulletListItem",icon:B8,isSelected:e=>e.type==="bulletListItem"},{name:t.slash_menu.numbered_list.title,type:"numberedListItem",icon:j8,isSelected:e=>e.type==="numberedListItem"},{name:t.slash_menu.check_list.title,type:"checkListItem",icon:L8,isSelected:e=>e.type==="checkListItem"}],cie=t=>{const e=J(),n=se(),o=ee(),r=Bn(o),[i,s]=v.useState(o.getTextCursorPosition().block),l=v.useMemo(()=>(t.items||Yw(n)).filter(u=>u.type in o.schema.blockSchema),[o,n,t.items]),a=v.useMemo(()=>l.find(u=>u.type===i.type)!==void 0,[i.type,l]),c=v.useMemo(()=>{const u=d=>{o.focus(),o.transact(()=>{for(const f of r)o.updateBlock(f,{type:d.type,props:d.props})})};return l.map(d=>{const f=d.icon;return{text:d.name,icon:g.jsx(f,{size:16}),onClick:()=>u(d),isSelected:d.isSelected(i)}})},[i,l,o,r]);return Us(()=>{s(o.getTextCursorPosition().block)},o),!a||!o.isEditable?null:g.jsx(e.FormattingToolbar.Select,{className:"bn-select",items:c})},uie=()=>{const t=se(),e=J(),n=ee(),o=v.useCallback(()=>{var r;(r=n.comments)==null||r.startPendingComment(),n.formattingToolbar.closeMenu()},[n]);return n.comments?g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:g.jsx(A8,{}),onClick:o}):null},die=()=>{const t=se(),e=J(),n=ee(),o=v.useCallback(()=>{n._tiptapEditor.chain().focus().addPendingComment().run()},[n]);return!n._tiptapEditor.commands.addPendingComment||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.comment.tooltip,mainTooltip:t.formatting_toolbar.comment.tooltip,icon:g.jsx(A8,{}),onClick:o})};function Xw(t,e){try{const n=new URL(t,e);if(n.protocol!=="javascript:")return n.href}catch{}return"#"}const fie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),r=v.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(Kf(s,n))return s},[n,o]),i=v.useCallback(()=>{r&&r.props.url&&(n.focus(),n.resolveFileUrl?n.resolveFileUrl(r.props.url).then(s=>window.open(Xw(s,window.location.href))):window.open(Xw(r.props.url,window.location.href)))},[n,r]);return!r||Wf(r,n)?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.file_download.tooltip[r.type]||t.formatting_toolbar.file_download.tooltip.file,mainTooltip:t.formatting_toolbar.file_download.tooltip[r.type]||t.formatting_toolbar.file_download.tooltip.file,icon:g.jsx(Bre,{}),onClick:i})},hie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),r=v.useMemo(()=>{if(o.length!==1)return;const s=o[0];if(ote(s,n))return s},[n,o]),i=v.useCallback(()=>{r&&n.updateBlock(r,{props:{showPreview:!r.props.showPreview}})},[n,r]);return!r||Wf(r,n)||!n.isEditable?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:"Toggle preview",mainTooltip:t.formatting_toolbar.file_preview_toggle.tooltip,icon:g.jsx(Are,{}),isSelected:r.props.showPreview,onClick:i})},pie=()=>{const t=se(),e=J(),n=ee(),o=Bn(n),r=v.useMemo(()=>{var s;if(o.length!==1)return;const l=o[0];if(l.type==="table")return(s=n.tableHandles)==null?void 0:s.getMergeDirection(l)},[n,o]),i=v.useCallback(()=>{var s;(s=n.tableHandles)==null||s.mergeCells()},[n]);return!n.isEditable||r===void 0||!n.settings.tables.splitCells?null:g.jsx(e.FormattingToolbar.Button,{className:"bn-button",label:t.formatting_toolbar.table_cell_merge.tooltip,mainTooltip:t.formatting_toolbar.table_cell_merge.tooltip,icon:r==="horizontal"?g.jsx(Cre,{}):g.jsx(Sre,{}),onClick:i})},mie={left:mre,center:hre,right:gre,justify:pre},g1=t=>{const e=J(),n=se(),o=ee(),r=Bn(o),i=v.useMemo(()=>{var a;const c=r[0];if(Hw("textAlignment",c,o))return c.props.textAlignment;if(c.type==="table"){const u=(a=o.tableHandles)==null?void 0:a.getCellSelection();if(!u)return;const d=u.cells.map(({row:h,col:p})=>Ms(c.content.rows[h].cells[p]).props.textAlignment),f=d[0];if(d.every(h=>h===f))return f}},[o,r]),s=v.useCallback(a=>{var c;o.focus();for(const u of r)if(Ia("textAlignment",u.type,o))o.updateBlock(u,{props:{textAlignment:a}});else if(u.type==="table"){const d=(c=o.tableHandles)==null?void 0:c.getCellSelection();if(!d)continue;const f=u.content.rows.map(h=>({...h,cells:h.cells.map(p=>Ms(p))}));d.cells.forEach(({row:h,col:p})=>{f[h].cells[p].props.textAlignment=a}),o.updateBlock(u,{type:"table",content:{...u.content,type:"tableContent",rows:f}}),o.setTextCursorPosition(u)}},[o,r]);if(!v.useMemo(()=>!!r.find(a=>"textAlignment"in a.props||a.type==="table"&&a.children),[r])||!o.isEditable)return null;const l=mie[t.textAlignment];return g.jsx(e.FormattingToolbar.Button,{className:"bn-button","data-test":`alignText${t.textAlignment.slice(0,1).toUpperCase()+t.textAlignment.slice(1)}`,onClick:()=>s(t.textAlignment),isSelected:i===t.textAlignment,label:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,mainTooltip:n.formatting_toolbar[`align_${t.textAlignment}`].tooltip,icon:g.jsx(l,{})})},F8=t=>[g.jsx(cie,{items:t},"blockTypeSelect"),g.jsx(pie,{},"tableCellMergeButton"),g.jsx(oie,{},"fileCaptionButton"),g.jsx(sie,{},"replaceFileButton"),g.jsx(iie,{},"fileRenameButton"),g.jsx(rie,{},"fileDeleteButton"),g.jsx(fie,{},"fileDownloadButton"),g.jsx(hie,{},"filePreviewButton"),g.jsx(Jh,{basicTextStyle:"bold"},"boldStyleButton"),g.jsx(Jh,{basicTextStyle:"italic"},"italicStyleButton"),g.jsx(Jh,{basicTextStyle:"underline"},"underlineStyleButton"),g.jsx(Jh,{basicTextStyle:"strike"},"strikeStyleButton"),g.jsx(g1,{textAlignment:"left"},"textAlignLeftButton"),g.jsx(g1,{textAlignment:"center"},"textAlignCenterButton"),g.jsx(g1,{textAlignment:"right"},"textAlignRightButton"),g.jsx(eie,{},"colorStyleButton"),g.jsx(lie,{},"nestBlockButton"),g.jsx(aie,{},"unnestBlockButton"),g.jsx(nie,{},"createLinkButton"),g.jsx(uie,{},"addCommentButton"),g.jsx(die,{},"addTiptapCommentButton")],wS=t=>{const e=J();return g.jsx(e.FormattingToolbar.Root,{className:"bn-toolbar bn-formatting-toolbar",children:t.children||F8(t.blockTypeSelectItems)})},wA=t=>{switch(t){case"left":return"top-start";case"center":return"top";case"right":return"top-end";default:return"top-start"}},kS=t=>{const e=v.useRef(null),n=ee(),[o,r]=v.useState(()=>{const f=n.getTextCursorPosition().block;return"textAlignment"in f.props?wA(f.props.textAlignment):"top-start"});Us(()=>{const f=n.getTextCursorPosition().block;"textAlignment"in f.props?r(wA(f.props.textAlignment)):r("top-start")},n);const i=Mi(n.formattingToolbar.onUpdate.bind(n.formattingToolbar)),{isMounted:s,ref:l,style:a,getFloatingProps:c}=Vs((i==null?void 0:i.show)||!1,(i==null?void 0:i.referencePos)||null,3e3,{placement:o,middleware:[Jo(10),js(),to()],onOpenChange:(f,h)=>{f||(n.formattingToolbar.closeMenu(),n.focus())},canDismiss:{enabled:!0,escapeKey:!0,outsidePress:f=>{var h;const p=(h=n._tiptapEditor)==null?void 0:h.view;return!p||!f.target?!1:!Xre(f,p.dom.parentElement)}},...t.floatingOptions}),u=v.useMemo(()=>vS([e,l]),[e,l]);if(!s||!i)return null;if(!i.show&&e.current)return g.jsx("div",{ref:u,style:a,dangerouslySetInnerHTML:{__html:e.current.innerHTML}});const d=t.formattingToolbar||wS;return g.jsx("div",{ref:u,style:a,...c(),children:g.jsx(d,{})})},gie=t=>{const e=J(),n=se();return g.jsx(e.LinkToolbar.Button,{className:"bn-button",label:n.link_toolbar.delete.tooltip,mainTooltip:n.link_toolbar.delete.tooltip,isSelected:!1,onClick:t.deleteLink,icon:g.jsx(xre,{})})},bie=t=>{const e=J(),n=se();return g.jsxs(e.Generic.Popover.Root,{children:[g.jsx(e.Generic.Popover.Trigger,{children:g.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.edit.tooltip,isSelected:!1,children:n.link_toolbar.edit.text})}),g.jsx(e.Generic.Popover.Content,{className:"bn-popover-content bn-form-popover",variant:"form-popover",children:g.jsx(U8,{...t})})]})},yie=t=>{const e=J(),n=se();return g.jsx(e.LinkToolbar.Button,{className:"bn-button",mainTooltip:n.link_toolbar.open.tooltip,label:n.link_toolbar.open.tooltip,isSelected:!1,onClick:()=>{window.open(Xw(t.url,window.location.href),"_blank")},icon:g.jsx($re,{})})},vie=t=>{const e=J();return t.children?g.jsx(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",children:t.children}):g.jsxs(e.LinkToolbar.Root,{className:"bn-toolbar bn-link-toolbar",onMouseEnter:t.stopHideTimer,onMouseLeave:t.startHideTimer,children:[g.jsx(bie,{url:t.url,text:t.text,editLink:t.editLink}),g.jsx(yie,{url:t.url}),g.jsx(gie,{deleteLink:t.deleteLink})]})},wie=t=>{const e=ee(),n={deleteLink:e.linkToolbar.deleteLink,editLink:e.linkToolbar.editLink,startHideTimer:e.linkToolbar.startHideTimer,stopHideTimer:e.linkToolbar.stopHideTimer},o=Mi(e.linkToolbar.onUpdate.bind(e.linkToolbar)),{isMounted:r,ref:i,style:s,getFloatingProps:l}=Vs((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,4e3,{placement:"top-start",middleware:[Jo(10),to()],onOpenChange:f=>{f||(e.linkToolbar.closeMenu(),e.focus())},...t.floatingOptions});if(!r||!o)return null;const{show:a,referencePos:c,...u}=o,d=t.linkToolbar||vie;return g.jsx("div",{ref:i,style:s,...l(),children:g.jsx(d,{...u,...n})})};function kie(t){return te({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(t)}const q8=t=>{const e=J(),n=se(),o=ee(),r=v.useCallback(()=>{const i=t.block.content;if(i!==void 0&&Array.isArray(i)&&i.length===0)o.setTextCursorPosition(t.block),o.openSuggestionMenu("/");else{const s=o.insertBlocks([{type:"paragraph"}],t.block,"after")[0];o.setTextCursorPosition(s),o.openSuggestionMenu("/")}},[o,t.block]);return g.jsx(e.SideMenu.Button,{className:"bn-button",label:n.side_menu.add_block_label,icon:g.jsx(kie,{size:24,onClick:r,"data-test":"dragHandleAdd"})})};function G8(t){return te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(t)}function xie(t){return te({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m7 10 5 5 5-5z"},child:[]}]})(t)}const Cie=t=>{const e=J(),n=ee();return!Ia("textColor",t.block.type,n)&&!Ia("backgroundColor",t.block.type,n)?null:g.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(e.Generic.Menu.Trigger,{sub:!0,children:g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children})}),g.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(oy,{iconSize:18,text:Ia("textColor",t.block.type,n)&&Hw("textColor",t.block,n)?{color:t.block.props.textColor,setColor:o=>n.updateBlock(t.block,{type:t.block.type,props:{textColor:o}})}:void 0,background:Ia("backgroundColor",t.block.type,n)&&Hw("backgroundColor",t.block,n)?{color:t.block.props.backgroundColor,setColor:o=>n.updateBlock(t.block,{props:{backgroundColor:o}})}:void 0})})]})},Sie=t=>{const e=J(),n=ee();return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",onClick:()=>n.removeBlocks([t.block]),children:t.children})},_ie=t=>{const e=J(),n=ee();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerRows;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{const r=n.getBlock(t.block.id);r&&n.updateBlock(r,{...r,content:{...r.content,headerRows:o?void 0:1}})},children:t.children})},Eie=t=>{const e=J(),n=ee();if(t.block.type!=="table"||!n.settings.tables.headers)return null;const o=!!t.block.content.headerCols;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:o,onClick:()=>{n.updateBlock(t.block,{type:"table",content:{...t.block.content,type:"tableContent",headerCols:o?void 0:1}})},children:t.children})},Mie=t=>{const e=J(),n=se();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(Sie,{...t,children:n.drag_handle.delete_menuitem}),g.jsx(Cie,{...t,children:n.drag_handle.colors_menuitem}),g.jsx(_ie,{...t,children:n.drag_handle.header_row_menuitem}),g.jsx(Eie,{...t,children:n.drag_handle.header_column_menuitem})]})})},Z8=t=>{const e=J(),n=se(),o=t.dragHandleMenu||Mie;return g.jsxs(e.Generic.Menu.Root,{onOpenChange:r=>{r?t.freezeMenu():t.unfreezeMenu()},position:"left",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.SideMenu.Button,{label:n.side_menu.drag_handle_label,draggable:!0,onDragStart:r=>t.blockDragStart(r,t.block),onDragEnd:t.blockDragEnd,className:"bn-button",icon:g.jsx(G8,{size:24,"data-test":"dragHandle"})})}),g.jsx(o,{block:t.block,children:t.children})]})},K8=t=>{const e=J(),n=v.useMemo(()=>{const o={"data-block-type":t.block.type};return t.block.type==="heading"&&(o["data-level"]=t.block.props.level.toString()),t.editor.schema.blockSchema[t.block.type].isFileBlock&&(t.block.props.url?o["data-url"]="true":o["data-url"]="false"),o},[t.block,t.editor.schema.blockSchema]);return g.jsx(e.SideMenu.Root,{className:"bn-side-menu",...n,children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(q8,{...t}),g.jsx(Z8,{...t})]})})},W8=t=>{const e=ee(),n={blockDragStart:e.sideMenu.blockDragStart,blockDragEnd:e.sideMenu.blockDragEnd,freezeMenu:e.sideMenu.freezeMenu,unfreezeMenu:e.sideMenu.unfreezeMenu},o=Mi(e.sideMenu.onUpdate.bind(e.sideMenu)),{isMounted:r,ref:i,style:s,getFloatingProps:l}=Vs((o==null?void 0:o.show)||!1,(o==null?void 0:o.referencePos)||null,1e3,{placement:"left-start",...t.floatingOptions});if(!r||!o)return null;const{show:a,referencePos:c,...u}=o,d=t.sideMenu||K8;return g.jsx("div",{ref:i,style:s,...l(),children:g.jsx(d,{...u,...n,editor:e})})};async function Tie(t,e){return(await hoe(t,e)).map(({id:n,onItemClick:o})=>({id:n,onItemClick:o,icon:n}))}function Aie(t){const e=J(),n=se(),{items:o,loadingState:r,selectedIndex:i,onItemClick:s,columns:l}=t,a=r==="loading-initial"||r==="loading"?g.jsx(e.GridSuggestionMenu.Loader,{className:"bn-grid-suggestion-menu-loader",columns:l}):null,c=v.useMemo(()=>{const u=[];for(let d=0;d<o.length;d++){const f=o[d];u.push(g.jsx(e.GridSuggestionMenu.Item,{className:"bn-grid-suggestion-menu-item",item:f,id:`bn-grid-suggestion-menu-item-${d}`,isSelected:d===i,onClick:()=>s==null?void 0:s(f)},f.id))}return u},[e,o,s,i]);return g.jsxs(e.GridSuggestionMenu.Root,{id:"bn-grid-suggestion-menu",columns:l,className:"bn-grid-suggestion-menu",children:[a,c,c.length===0&&t.loadingState==="loaded"&&g.jsx(e.GridSuggestionMenu.EmptyItem,{className:"bn-grid-suggestion-menu-empty-item",columns:l,children:n.suggestion_menu.no_items_title})]})}function Y8(t,e,n,o=3){const r=v.useRef(0);v.useEffect(()=>{e!==void 0&&(t.length>0?r.current=e.length:e.length-r.current>o&&n())},[n,o,t.length,e])}function X8(t,e){const[n,o]=v.useState([]),[r,i]=v.useState(!1),s=v.useRef(void 0),l=v.useRef(void 0);return v.useEffect(()=>{const a=t;s.current=t,i(!0),e(t).then(c=>{s.current===a&&(o(c),i(!1),l.current=a)})},[t,e]),{items:n||[],usedQuery:l.current,loadingState:l.current===void 0?"loading-initial":r?"loading":"loaded"}}function Nie(t,e,n,o,r){const[i,s]=v.useState(0),l=o!==void 0&&o>1;return v.useEffect(()=>{var a;const c=u=>(u.key==="ArrowLeft"&&(u.preventDefault(),n.length&&s((i-1+n.length)%n.length)),u.key==="ArrowRight"&&(u.preventDefault(),n.length&&s((i+1+n.length)%n.length)),u.key==="ArrowUp"?(u.preventDefault(),n.length&&s((i-o+n.length)%n.length),!0):u.key==="ArrowDown"?(u.preventDefault(),n.length&&s((i+o)%n.length),!0):u.key==="Enter"&&!u.isComposing?(u.stopPropagation(),u.preventDefault(),n.length&&(r==null||r(n[i])),!0):!1);return(a=t.domElement)==null||a.addEventListener("keydown",c,!0),()=>{var u;(u=t.domElement)==null||u.removeEventListener("keydown",c,!0)}},[t.domElement,n,i,r,o,l]),v.useEffect(()=>{s(0)},[e]),{selectedIndex:n.length===0?void 0:i}}function Rie(t){const e=Br().setContentEditableProps,n=ee(),{getItems:o,gridSuggestionMenuComponent:r,query:i,clearQuery:s,closeMenu:l,onItemClick:a,columns:c}=t,u=v.useCallback(m=>{l(),s(),a==null||a(m)},[a,l,s]),{items:d,usedQuery:f,loadingState:h}=X8(i,o);Y8(d,f,l);const{selectedIndex:p}=Nie(n,i,d,c,u);return v.useEffect(()=>(e(m=>({...m,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(m=>({...m,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),v.useEffect(()=>(e(m=>({...m,"aria-activedescendant":p?"bn-suggestion-menu-item-"+p:void 0})),()=>{e(m=>({...m,"aria-activedescendant":void 0}))}),[e,p]),g.jsx(r,{items:d,onItemClick:u,loadingState:h,selectedIndex:p,columns:c})}function Oie(t){const e=ee(),{triggerCharacter:n,gridSuggestionMenuComponent:o,columns:r,minQueryLength:i,onItemClick:s,getItems:l,floatingOptions:a}=t,c=v.useMemo(()=>s||(w=>{w.onItemClick(e)}),[e,s]),u=v.useMemo(()=>l||(async w=>await Tie(e,w)),[e,l]),d={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},f=v.useCallback(w=>e.suggestionMenus.onUpdate(n,w),[e.suggestionMenus,n]),h=Mi(f),{isMounted:p,ref:m,style:b,getFloatingProps:y}=Vs((h==null?void 0:h.show)||!1,(h==null?void 0:h.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Jo(10),to(),Of({apply({availableHeight:w,elements:k}){Object.assign(k.floating.style,{maxHeight:`${w-10}px`})}})],onOpenChange(w){w||e.suggestionMenus.closeMenu()},...a});return!p||!h||!(h!=null&&h.ignoreQueryLength)&&i&&(h.query.startsWith(" ")||h.query.length<i)?null:g.jsx("div",{ref:m,style:b,...y(),children:g.jsx(Rie,{query:h.query,closeMenu:d.closeMenu,clearQuery:d.clearQuery,getItems:u,columns:r,gridSuggestionMenuComponent:o||Aie,onItemClick:c})})}function Die(t){const e=J(),n=se(),{items:o,loadingState:r,selectedIndex:i,onItemClick:s}=t,l=r==="loading-initial"||r==="loading"?g.jsx(e.SuggestionMenu.Loader,{className:"bn-suggestion-menu-loader"}):null,a=v.useMemo(()=>{let c;const u=[];for(let d=0;d<o.length;d++){const f=o[d];f.group!==c&&(c=f.group,u.push(g.jsx(e.SuggestionMenu.Label,{className:"bn-suggestion-menu-label",children:c},c))),u.push(g.jsx(e.SuggestionMenu.Item,{className:qe("bn-suggestion-menu-item",f.size==="small"?"bn-suggestion-menu-item-small":""),item:f,id:`bn-suggestion-menu-item-${d}`,isSelected:d===i,onClick:()=>s==null?void 0:s(f)},f.title))}return u},[e,o,s,i]);return g.jsxs(e.SuggestionMenu.Root,{id:"bn-suggestion-menu",className:"bn-suggestion-menu",children:[a,a.length===0&&(t.loadingState==="loading"||t.loadingState==="loaded")&&g.jsx(e.SuggestionMenu.EmptyItem,{className:"bn-suggestion-menu-item",children:n.suggestion_menu.no_items_title}),l]})}function Lie(t,e){const[n,o]=v.useState(0);return{selectedIndex:n,setSelectedIndex:o,handler:r=>{if(r.key==="ArrowUp")return r.preventDefault(),t.length&&o((n-1+t.length)%t.length),!0;if(r.key==="ArrowDown")return r.preventDefault(),t.length&&o((n+1)%t.length),!0;const i=jie(r)?r.nativeEvent.isComposing:r.isComposing;return r.key==="Enter"&&!i?(r.preventDefault(),r.stopPropagation(),t.length&&(e==null||e(t[n])),!0):!1}}}function jie(t){return t.nativeEvent!==void 0}function Bie(t,e,n,o,r){const{selectedIndex:i,setSelectedIndex:s,handler:l}=Lie(n,o);return v.useEffect(()=>{var a;return(a=t.domElement)==null||a.addEventListener("keydown",l,!0),()=>{var c;(c=t.domElement)==null||c.removeEventListener("keydown",l,!0)}},[t.domElement,n,i,o,r,l]),v.useEffect(()=>{s(0)},[e,s]),{selectedIndex:n.length===0?void 0:i}}function $ie(t){const e=Br().setContentEditableProps,n=ee(),{getItems:o,suggestionMenuComponent:r,query:i,clearQuery:s,closeMenu:l,onItemClick:a}=t,c=v.useCallback(p=>{l(),s(),a==null||a(p)},[a,l,s]),{items:u,usedQuery:d,loadingState:f}=X8(i,o);Y8(u,d,l);const{selectedIndex:h}=Bie(n,i,u,c);return v.useEffect(()=>(e(p=>({...p,"aria-expanded":!0,"aria-controls":"bn-suggestion-menu"})),()=>{e(p=>({...p,"aria-expanded":!1,"aria-controls":void 0}))}),[e]),v.useEffect(()=>(e(p=>({...p,"aria-activedescendant":h?"bn-suggestion-menu-item-"+h:void 0})),()=>{e(p=>({...p,"aria-activedescendant":void 0}))}),[e,h]),g.jsx(r,{items:u,onItemClick:c,loadingState:f,selectedIndex:h})}const zie={heading:Sg,heading_2:_g,heading_3:Eg,heading_4:N8,heading_5:R8,heading_6:O8,toggle_heading:Sg,toggle_heading_2:_g,toggle_heading_3:Eg,quote:$8,toggle_list:P8,numbered_list:j8,bullet_list:B8,check_list:L8,paragraph:bS,table:Ere,image:z8,video:Tre,audio:I8,file:gS,emoji:Pre,code_block:yre};function J8(t){return ite(t).map(e=>{const n=zie[e.key];return{...e,icon:g.jsx(n,{size:18})}})}function Q8(t){const e=ee(),{triggerCharacter:n,suggestionMenuComponent:o,minQueryLength:r,onItemClick:i,getItems:s,floatingOptions:l}=t,a=v.useMemo(()=>i||(y=>{y.onItemClick(e)}),[e,i]),c=v.useMemo(()=>s||(async y=>X6(J8(e),y)),[e,s]),u={closeMenu:e.suggestionMenus.closeMenu,clearQuery:e.suggestionMenus.clearQuery},d=v.useCallback(y=>e.suggestionMenus.onUpdate(n,y),[e.suggestionMenus,n]),f=Mi(d),{isMounted:h,ref:p,style:m,getFloatingProps:b}=Vs((f==null?void 0:f.show)||!1,(f==null?void 0:f.referencePos)||null,2e3,{placement:"bottom-start",middleware:[Jo(10),to({mainAxis:!0,crossAxis:!1}),js(),Of({apply({availableHeight:y,elements:w}){Object.assign(w.floating.style,{maxHeight:`${y-10}px`})}})],onOpenChange(y){y||e.suggestionMenus.closeMenu()},...l});return!h||!f||!(f!=null&&f.ignoreQueryLength)&&r&&(f.query.startsWith(" ")||f.query.length<r)?null:g.jsx("div",{ref:p,style:m,...b(),children:g.jsx($ie,{query:f.query,closeMenu:u.closeMenu,clearQuery:u.clearQuery,getItems:c,suggestionMenuComponent:o||Die,onItemClick:a})})}const Pie=(t,e=.3)=>{const n=Math.floor(t)+e,o=Math.ceil(t)-e;return t>=n&&t<=o?Math.round(t):t<n?Math.floor(t):Math.ceil(t)},Iie=t=>{const e=J(),n=v.useRef(!1),[o,r]=v.useState(),i=v.useCallback(l=>{t.onMouseDown(),r({originalContent:t.block.content,originalCroppedContent:{rows:t.editor.tableHandles.cropEmptyRowsOrColumns(t.block,t.orientation==="addOrRemoveColumns"?"columns":"rows")},startPos:t.orientation==="addOrRemoveColumns"?l.clientX:l.clientY}),n.current=!1,l.preventDefault()},[t]),s=v.useCallback(()=>{n.current||t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns(t.block,"columns",1):t.editor.tableHandles.addRowsOrColumns(t.block,"rows",1)}})},[t.block,t.orientation,t.editor]);return v.useEffect(()=>{const l=a=>{var c,u;if(!o)throw new Error("editingState is undefined");n.current=!0;const d=(t.orientation==="addOrRemoveColumns"?a.clientX:a.clientY)-o.startPos,f=t.orientation==="addOrRemoveColumns"?((c=o.originalCroppedContent.rows[0])==null?void 0:c.cells.length)??0:o.originalCroppedContent.rows.length,h=t.orientation==="addOrRemoveColumns"?((u=o.originalContent.rows[0])==null?void 0:u.cells.length)??0:o.originalContent.rows.length,p=t.orientation==="addOrRemoveColumns"?t.block.content.rows[0].cells.length:t.block.content.rows.length,m=h+Pie(d/(t.orientation==="addOrRemoveColumns"?aS:Hee),.3);m>=f&&m>0&&m!==p&&(t.editor.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:t.orientation==="addOrRemoveColumns"?t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"columns",m-f):t.editor.tableHandles.addRowsOrColumns({type:"table",content:o.originalCroppedContent},"rows",m-f)}}),t.block.content&&t.editor.setTextCursorPosition(t.block))};return o&&window.addEventListener("mousemove",l),()=>{window.removeEventListener("mousemove",l)}},[o,t.block,t.editor,t.orientation]),v.useEffect(()=>{const l=t.onMouseUp,a=()=>{r(void 0),l()};return o&&window.addEventListener("mouseup",a),()=>{window.removeEventListener("mouseup",a)}},[o,t.onMouseUp]),t.editor.isEditable?g.jsx(e.TableHandle.ExtendButton,{className:qe("bn-extend-button",t.orientation==="addOrRemoveColumns"?"bn-extend-button-add-remove-columns":"bn-extend-button-add-remove-rows",o!==null?"bn-extend-button-editing":""),onClick:s,onMouseDown:i,children:t.children||g.jsx(Ore,{size:18,"data-test":"extendButton"})}):null},kA=t=>{const e=J(),n=se(),o=ee().tableHandles;return o?g.jsx(e.Generic.Menu.Item,{onClick:()=>{o.addRowOrColumn(t.index,t.orientation==="row"?{orientation:"row",side:t.side}:{orientation:"column",side:t.side})},children:n.table_handle[`add_${t.side}_menuitem`]}):null},Hie=t=>{const e=J(),n=se(),o=ee().tableHandles;return o?g.jsx(e.Generic.Menu.Item,{onClick:()=>{o.removeRowOrColumn(t.index,t.orientation)},children:t.orientation==="row"?n.table_handle.delete_row_menuitem:n.table_handle.delete_column_menuitem}):null},Vie=t=>{const e=J(),n=se(),o=ee(),r=o.tableHandles,i=v.useMemo(()=>!r||!t.block?[]:t.orientation==="row"?r.getCellsAtRowHandle(t.block,t.index):r.getCellsAtColumnHandle(t.block,t.index),[t.block,t.index,t.orientation,r]),s=(a,c)=>{const u=t.block.content.rows.map(d=>({...d,cells:d.cells.map(f=>Ms(f))}));i.forEach(({row:d,col:f})=>{c==="text"?u[d].cells[f].props.textColor=a:u[d].cells[f].props.backgroundColor=a}),o.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:u}}),o.setTextCursorPosition(t.block)};if(!i||!i[0]||!r||o.settings.tables.cellTextColor===!1&&o.settings.tables.cellBackgroundColor===!1)return null;const l=Ms(i[0].cell);return g.jsxs(e.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(e.Generic.Menu.Trigger,{sub:!0,children:g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||n.drag_handle.colors_menuitem})}),g.jsx(e.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(oy,{iconSize:18,text:o.settings.tables.cellTextColor?{color:i.every(({cell:a})=>Ts(a)&&a.props.textColor===l.props.textColor)?l.props.textColor:"default",setColor:a=>{s(a,"text")}}:void 0,background:o.settings.tables.cellBackgroundColor?{color:i.every(({cell:a})=>Ts(a)&&a.props.backgroundColor===l.props.backgroundColor)?l.props.backgroundColor:"default",setColor:a=>s(a,"background")}:void 0})})]})},Uie=t=>{const e=J(),n=se(),o=ee();if(!o.tableHandles||t.index!==0||t.orientation!=="row"||!o.settings.tables.headers)return null;const r=!!t.block.content.headerRows;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=o.getBlock(t.block.id);i&&o.updateBlock(i,{...i,content:{...i.content,headerRows:r?void 0:1}})},children:n.drag_handle.header_row_menuitem})},Fie=t=>{const e=J(),n=se(),o=ee();if(!o.tableHandles||t.index!==0||t.orientation!=="column"||!o.settings.tables.headers)return null;const r=!!t.block.content.headerCols;return g.jsx(e.Generic.Menu.Item,{className:"bn-menu-item",checked:r,onClick:()=>{const i=o.getBlock(t.block.id);i&&o.updateBlock(i,{...i,content:{...i.content,headerCols:r?void 0:1}})},children:n.drag_handle.header_column_menuitem})},qie=t=>{const e=J();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-table-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(Hie,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(kA,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"above":"left"}),g.jsx(kA,{orientation:t.orientation,block:t.block,index:t.index,side:t.orientation==="row"?"below":"right"}),g.jsx(Uie,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(Fie,{orientation:t.orientation,block:t.block,index:t.index}),g.jsx(Vie,{orientation:t.orientation,block:t.block,index:t.index})]})})},Gie=t=>{const e=J(),[n,o]=v.useState(!1),r=t.tableHandleMenu||qie,i=v.useMemo(()=>{const s=t.editor.tableHandles;return!s||!t.block||t.block.type!=="table"?!1:t.orientation==="column"?s.getCellsAtColumnHandle(t.block,t.index).every(({cell:l})=>Ul(l)===1):s.getCellsAtRowHandle(t.block,t.index).every(({cell:l})=>sf(l)===1)},[t.block,t.editor.tableHandles,t.index,t.orientation]);return g.jsxs(e.Generic.Menu.Root,{onOpenChange:s=>{s?(t.freezeHandles(),t.hideOtherSide()):(t.unfreezeHandles(),t.showOtherSide(),t.editor.focus())},position:"right",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.TableHandle.Root,{className:qe("bn-table-handle",n?"bn-table-handle-dragging":"",i?"":"bn-table-handle-not-draggable"),draggable:i,onDragStart:s=>{o(!0),t.dragStart(s)},onDragEnd:()=>{t.dragEnd(),o(!1)},style:t.orientation==="column"?{transform:"rotate(0.25turn)"}:void 0,children:t.children||g.jsx(G8,{size:24,"data-test":"tableHandle"})})}),Jn.createPortal(g.jsx(r,{orientation:t.orientation,block:t.block,index:t.index}),t.menuContainer)]})};function xA(t,e,n){const{refs:o,update:r,context:i,floatingStyles:s}=Ql({open:e,placement:t==="addOrRemoveColumns"?"right":"bottom",middleware:[Of({apply({rects:c,elements:u}){Object.assign(u.floating.style,t==="addOrRemoveColumns"?{height:`${c.reference.height}px`}:{width:`${c.reference.width}px`})}})]}),{isMounted:l,styles:a}=Mx(i);return v.useEffect(()=>{r()},[n,r]),v.useEffect(()=>{n!==null&&o.setReference({getBoundingClientRect:()=>n})},[t,n,o]),v.useMemo(()=>({isMounted:l,ref:o.setFloating,style:{display:"flex",...a,...s}}),[s,l,o.setFloating,a])}function Zie(t,e,n){const o=xA("addOrRemoveRows",e,n),r=xA("addOrRemoveColumns",t,n);return v.useMemo(()=>({addOrRemoveRowsButton:o,addOrRemoveColumnsButton:r}),[r,o])}function Kie(t,e,n){return n&&n.draggedCellOrientation==="row"?new DOMRect(e.x,n.mousePos,e.width,0):new DOMRect(e.x,t.y,e.width,t.height)}function Wie(t,e,n){return n&&n.draggedCellOrientation==="col"?new DOMRect(n.mousePos,e.y,0,e.height):new DOMRect(t.x,e.y,t.width,e.height)}function Yie(t){return new DOMRect(t.x,t.y,t.width,0)}function b1(t,e,n,o,r){const{refs:i,update:s,context:l,floatingStyles:a}=Ql({open:e,placement:t==="row"?"left":t==="col"?"top":"bottom-end",middleware:[Jo(t==="row"?-10:t==="col"?-12:{mainAxis:1,crossAxis:-1})]}),{isMounted:c,styles:u}=Mx(l);return v.useEffect(()=>{s()},[n,o,s]),v.useEffect(()=>{n===null||o===null||r&&t==="cell"||i.setReference({getBoundingClientRect:()=>(t==="row"?Kie:t==="col"?Wie:Yie)(n,o,r)})},[r,t,n,o,i]),v.useMemo(()=>({isMounted:c,ref:i.setFloating,style:{display:"flex",...u,...a}}),[a,c,i.setFloating,u])}function Xie(t,e,n,o){const r=b1("row",t,e,n,o),i=b1("col",t,e,n,o),s=b1("cell",t,e,n,o);return v.useMemo(()=>({rowHandle:r,colHandle:i,cellHandle:s}),[i,r,s])}const Jie=t=>{var e,n;const o=J(),r=se(),i=ee(),s=(a,c)=>{const u=t.block.content.rows.map(d=>({...d,cells:d.cells.map(f=>Ms(f))}));c==="text"?u[t.rowIndex].cells[t.colIndex].props.textColor=a:u[t.rowIndex].cells[t.colIndex].props.backgroundColor=a,i.updateBlock(t.block,{type:"table",content:{...t.block.content,rows:u}}),i.setTextCursorPosition(t.block)},l=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!l||i.settings.tables.cellTextColor===!1&&i.settings.tables.cellBackgroundColor===!1?null:g.jsxs(o.Generic.Menu.Root,{position:"right",sub:!0,children:[g.jsx(o.Generic.Menu.Trigger,{sub:!0,children:g.jsx(o.Generic.Menu.Item,{className:"bn-menu-item",subTrigger:!0,children:t.children||r.drag_handle.colors_menuitem})}),g.jsx(o.Generic.Menu.Dropdown,{sub:!0,className:"bn-menu-dropdown bn-color-picker-dropdown",children:g.jsx(oy,{iconSize:18,text:i.settings.tables.cellTextColor?{color:Ts(l)?l.props.textColor:"default",setColor:a=>s(a,"text")}:void 0,background:i.settings.tables.cellBackgroundColor?{color:Ts(l)?l.props.backgroundColor:"default",setColor:a=>s(a,"background")}:void 0})})]})},Qie=t=>{var e,n;const o=J(),r=se(),i=ee(),s=(n=(e=t.block.content.rows[t.rowIndex])==null?void 0:e.cells)==null?void 0:n[t.colIndex];return!s||!Ts(s)||sf(s)===1&&Ul(s)===1||!i.settings.tables.splitCells?null:g.jsx(o.Generic.Menu.Item,{onClick:()=>{var l;(l=i.tableHandles)==null||l.splitCell({row:t.rowIndex,col:t.colIndex})},children:r.table_handle.split_cell_menuitem})},ese=t=>{const e=J();return g.jsx(e.Generic.Menu.Dropdown,{className:"bn-menu-dropdown bn-drag-handle-menu",children:t.children||g.jsxs(g.Fragment,{children:[g.jsx(Qie,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),g.jsx(Jie,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex})]})})},tse=t=>{const e=J(),n=t.tableCellMenu||ese;return!t.editor.settings.tables.splitCells&&!t.editor.settings.tables.cellBackgroundColor&&!t.editor.settings.tables.cellTextColor?null:g.jsxs(e.Generic.Menu.Root,{onOpenChange:o=>{o?t.freezeHandles():(t.unfreezeHandles(),t.editor.focus())},position:"right",children:[g.jsx(e.Generic.Menu.Trigger,{children:g.jsx(e.Generic.Menu.Button,{className:"bn-table-cell-handle",children:t.children||g.jsx(xie,{size:12,"data-test":"tableCellHandle"})})}),Jn.createPortal(g.jsx(n,{block:t.block,rowIndex:t.rowIndex,colIndex:t.colIndex}),t.menuContainer)]})},nse=t=>{var e,n;const o=ee(),[r,i]=v.useState(null);if(!o.tableHandles)throw new Error("TableHandlesController can only be used when BlockNote editor schema contains table block");const s={rowDragStart:o.tableHandles.rowDragStart,colDragStart:o.tableHandles.colDragStart,dragEnd:o.tableHandles.dragEnd,freezeHandles:o.tableHandles.freezeHandles,unfreezeHandles:o.tableHandles.unfreezeHandles},{freezeHandles:l,unfreezeHandles:a}=s,c=v.useCallback(()=>{l(),C(!0),k(!0)},[l]),u=v.useCallback(()=>{a(),C(!1),k(!1)},[a]),d=Mi(o.tableHandles.onUpdate.bind(o.tableHandles)),f=v.useMemo(()=>{var M,T;return d!=null&&d.draggingState?{draggedCellOrientation:(M=d==null?void 0:d.draggingState)==null?void 0:M.draggedCellOrientation,mousePos:(T=d==null?void 0:d.draggingState)==null?void 0:T.mousePos}:void 0},[d==null?void 0:d.draggingState,(e=d==null?void 0:d.draggingState)==null?void 0:e.draggedCellOrientation,(n=d==null?void 0:d.draggingState)==null?void 0:n.mousePos]),{rowHandle:h,colHandle:p,cellHandle:m}=Xie((d==null?void 0:d.show)||!1,(d==null?void 0:d.referencePosCell)||null,(d==null?void 0:d.referencePosTable)||null,f),{addOrRemoveColumnsButton:b,addOrRemoveRowsButton:y}=Zie((d==null?void 0:d.showAddOrRemoveColumnsButton)||!1,(d==null?void 0:d.showAddOrRemoveRowsButton)||!1,(d==null?void 0:d.referencePosTable)||null),[w,k]=v.useState(!1),[x,C]=v.useState(!1);if(!d)return null;const E=t.tableHandle||Gie,_=t.extendButton||Iie,S=t.tableCellHandle||tse;return g.jsxs(g.Fragment,{children:[g.jsx("div",{ref:i}),g.jsxs(AH,{root:d.widgetContainer,children:[!w&&r&&h.isMounted&&d.rowIndex!==void 0&&g.jsx("div",{ref:h.ref,style:h.style,children:g.jsx(E,{editor:o,orientation:"row",showOtherSide:()=>C(!1),hideOtherSide:()=>C(!0),index:d.rowIndex,block:d.block,dragStart:s.rowDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:r})}),!x&&r&&p.isMounted&&d.colIndex!==void 0&&g.jsx("div",{ref:p.ref,style:p.style,children:g.jsx(E,{editor:o,orientation:"column",showOtherSide:()=>k(!1),hideOtherSide:()=>k(!0),index:d.colIndex,block:d.block,dragStart:s.colDragStart,dragEnd:s.dragEnd,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles,menuContainer:r})}),r&&m.isMounted&&d.colIndex!==void 0&&d.rowIndex!==void 0&&g.jsx("div",{ref:m.ref,style:m.style,children:g.jsx(S,{editor:o,block:d.block,rowIndex:d.rowIndex,colIndex:d.colIndex,menuContainer:r,freezeHandles:s.freezeHandles,unfreezeHandles:s.unfreezeHandles})}),g.jsx("div",{ref:y.ref,style:y.style,children:g.jsx(_,{editor:o,orientation:"addOrRemoveRows",block:d.block,onMouseDown:c,onMouseUp:u})}),g.jsx("div",{ref:b.ref,style:b.style,children:g.jsx(_,{editor:o,orientation:"addOrRemoveColumns",block:d.block,onMouseDown:c,onMouseUp:u})})]})]})};function ose(t){const e=ee();if(!e)throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return g.jsxs(g.Fragment,{children:[t.formattingToolbar!==!1&&g.jsx(kS,{}),t.linkToolbar!==!1&&g.jsx(wie,{}),t.slashMenu!==!1&&g.jsx(Q8,{triggerCharacter:"/"}),t.emojiPicker!==!1&&g.jsx(Oie,{triggerCharacter:":",columns:10,minQueryLength:2}),t.sideMenu!==!1&&g.jsx(W8,{}),e.filePanel&&t.filePanel!==!1&&g.jsx(Yre,{}),e.tableHandles&&t.tableHandles!==!1&&g.jsx(nse,{}),e.comments&&t.comments!==!1&&g.jsxs(g.Fragment,{children:[g.jsx(nre,{}),g.jsx(Zre,{})]})]})}const e9=()=>{const t=v.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: dark)")},[]),e=v.useMemo(()=>{var s;return(s=window.matchMedia)==null?void 0:s.call(window,"(prefers-color-scheme: light)")},[]),n=t==null?void 0:t.matches,o=e==null?void 0:e.matches,[r,i]=v.useState(n?"dark":o?"light":"no-preference");return v.useEffect(()=>{i(n?"dark":o?"light":"no-preference")},[n,o]),v.useEffect(()=>{if(typeof(t==null?void 0:t.addEventListener)=="function"){const s=({matches:a})=>a&&i("dark"),l=({matches:a})=>a&&i("light");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",l),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",l)}}else{const s=()=>i(t.matches?"dark":e.matches?"light":"no-preference");return t==null||t.addEventListener("change",s),e==null||e.addEventListener("change",s),()=>{t==null||t.removeEventListener("change",s),e==null||e.removeEventListener("change",s)}}},[t,e]),r},t9=v.createContext(void 0);function rse(){return v.useContext(t9)}function ise(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,o){e={...e,[n]:Jn.createPortal(o.reactElement,o.element,n)},t.forEach(r=>r())},removeRenderer(n){const o={...e};delete o[n],e=o,t.forEach(r=>r())}}}const sse=({contentComponent:t})=>{const e=v.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return g.jsx(g.Fragment,{children:Object.values(e)})},lse=v.forwardRef((t,e)=>{const[n,o]=v.useState();return v.useImperativeHandle(e,()=>(r,i)=>{Jn.flushSync(()=>{o({node:r,container:i})}),o(void 0)},[]),g.jsx(g.Fragment,{children:n&&Jn.createPortal(n.node,n.container)})}),CA=()=>{};function ase(t,e){const{editor:n,className:o,theme:r,children:i,editable:s,onSelectionChange:l,onChange:a,formattingToolbar:c,linkToolbar:u,slashMenu:d,emojiPicker:f,sideMenu:h,filePanel:p,tableHandles:m,comments:b,autoFocus:y,renderEditor:w=!n.headless,...k}=t,[x,C]=v.useState(),E=Br(),_=e9(),S=(E==null?void 0:E.colorSchemePreference)||_,M=r||(S==="dark"?"dark":"light");ny(a||CA,n),hS(l||CA,n),v.useEffect(()=>{n.isEditable=s!==!1},[s,n]);const T=v.useCallback(V=>{n.elementRenderer=V},[n]),B=v.useMemo(()=>({...E,editor:n,setContentEditableProps:C}),[E,n]),I=v.useMemo(()=>({editorProps:{autoFocus:y,contentEditableProps:x},defaultUIProps:{formattingToolbar:c,linkToolbar:u,slashMenu:d,emojiPicker:f,sideMenu:h,filePanel:p,tableHandles:m,comments:b}}),[y,x,c,u,d,f,h,p,m,b]);return g.jsx(_8.Provider,{value:B,children:g.jsxs(t9.Provider,{value:I,children:[g.jsx(lse,{ref:T}),g.jsx(cse,{className:o,renderEditor:w,editorColorScheme:M,ref:e,...k,children:i})]})})}const cse=X.forwardRef(({className:t,renderEditor:e,editorColorScheme:n,children:o,...r},i)=>g.jsx("div",{className:qe("bn-container",n,t),"data-color-scheme":n,...r,ref:i,children:e?g.jsx(dse,{children:o}):o})),use=X.forwardRef(ase),dse=t=>{const e=rse(),n=ee(),o=v.useMemo(()=>ise(),[]),r=v.useCallback(i=>{n.mount(i,o)},[n,o]);return g.jsxs(g.Fragment,{children:[g.jsx(sse,{contentComponent:o}),g.jsx(fse,{...e.editorProps,...t,mount:r}),g.jsx(ose,{...e.defaultUIProps}),t.children]})},fse=t=>{const{autoFocus:e,mount:n,contentEditableProps:o}=t;return g.jsx("div",{"aria-autocomplete":"list","aria-haspopup":"listbox","data-bn-autofocus":e,ref:n,...o})};function SA(t,e){let n;const o=document.createElement("div");let r;if(e!=null&&e.elementRenderer)e.elementRenderer(t(a=>n=a||void 0),o);else{if(!(e!=null&&e.headless))throw new Error("elementRenderer not available, expected headless editor");r=n5.createRoot(o),Jn.flushSync(()=>{r.render(t(a=>n=a||void 0))})}if(!o.childElementCount)return console.warn("ReactInlineContentSpec: renderHTML() failed"),{dom:document.createElement("span")};n==null||n.setAttribute("data-tmp-find","true");const i=o.cloneNode(!0),s=i.firstElementChild,l=i.querySelector("[data-tmp-find]");return l==null||l.removeAttribute("data-tmp-find"),r==null||r.unmount(),{dom:s,contentDOM:l||void 0}}function y1(t){var e;return g.jsx(Foe,{onDragOver:n=>n.preventDefault(),...Object.fromEntries(Object.entries(t.domAttributes||{}).filter(([n])=>n!=="class")),className:qe("bn-block-content",((e=t.domAttributes)==null?void 0:e.class)||""),"data-content-type":t.blockType,...Object.fromEntries(Object.entries(t.blockProps).filter(([n,o])=>{const r=t.propSchema[n];return!XC.includes(n)&&o!==r.default}).map(([n,o])=>[wg(n),o])),"data-file-block":t.isFileBlock===!0||void 0,children:t.children})}function ry(t,e){const n=vn({name:t.type,content:t.content==="inline"?"inline*":"",group:"blockContent",selectable:t.isSelectable??!0,isolating:!0,addAttributes(){return qf(t.propSchema)},parseHTML(){return k6(t,e.parse)},renderHTML({HTMLAttributes:o}){const r=document.createElement("div");return Iu({dom:r,contentDOM:t.content==="inline"?r:void 0},t.type,{},t.propSchema,t.isFileBlock,o)},addNodeView(){return o=>{const r=Yoe(i=>{var s;const l=this.options.editor,a=Kb(i.getPos,l,this.editor,t.type),c=((s=this.options.domAttributes)==null?void 0:s.blockContent)||{},u=S8().nodeViewContentRef;if(!u)throw new Error("nodeViewContentRef is not set");const d=e.render;return g.jsx(y1,{blockType:a.type,blockProps:a.props,propSchema:t.propSchema,isFileBlock:t.isFileBlock,domAttributes:c,children:g.jsx(d,{block:a,editor:l,contentRef:f=>{u(f),f&&(f.className=qe("bn-inline-content",f.className))}})})},{className:"bn-react-node-view-renderer"})(o);return t.isSelectable===!1&&w6(r,this.editor),r}}});return JC(t,{node:n,toInternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.render;return SA(a=>g.jsx(y1,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:s,children:g.jsx(l,{block:o,editor:r,contentRef:c=>{a(c),c&&(c.className=qe("bn-inline-content",c.className))}})}),r)},toExternalHTML:(o,r)=>{var i;const s=((i=n.options.domAttributes)==null?void 0:i.blockContent)||{},l=e.toExternalHTML||e.render;return SA(a=>g.jsx(y1,{blockType:o.type,blockProps:o.props,propSchema:t.propSchema,domAttributes:s,children:g.jsx(l,{block:o,editor:r,contentRef:c=>{a(c),c&&(c.className=qe("bn-inline-content",c.className))}})}),r)}})}function xS(t){const e=ee(),[n,o]=v.useState("loading"),[r,i]=v.useState();if(v.useEffect(()=>{let s=!0;return(async()=>{let l="";o("loading");try{l=e.resolveFileUrl?await e.resolveFileUrl(t):t}catch{o("error");return}s&&(o("loaded"),i(l))})(),()=>{s=!1}},[e,t]),n!=="loaded")return{loadingState:n};if(!r)throw new Error("Finished fetching file but did not get download URL.");return{loadingState:n,downloadUrl:r}}const CS=t=>g.jsxs("figure",{children:[t.children,g.jsx("figcaption",{children:t.caption})]});function hse(t){const e=ee();v.useEffect(()=>e.onUploadEnd(t),[t,e])}function pse(t){const e=ee();v.useEffect(()=>e.onUploadStart(t),[t,e])}function n9(t){const[e,n]=v.useState(!1);return pse(o=>{o===t&&n(!0)}),hse(o=>{o===t&&n(!1)}),e}const mse=t=>{const e=se(),n=v.useCallback(r=>{r.preventDefault()},[]),o=v.useCallback(()=>{t.editor.transact(r=>r.setMeta(t.editor.filePanel.plugins[0],{block:t.block}))},[t.block,t.editor]);return g.jsxs("div",{className:"bn-add-file-button",onMouseDown:n,onClick:o,children:[g.jsx("div",{className:"bn-add-file-button-icon",children:t.buttonIcon||g.jsx(gS,{size:24})}),g.jsx("div",{className:"bn-add-file-button-text",children:t.buttonText||e.file_blocks.file.add_button_text})]})},gse=t=>g.jsxs("div",{className:"bn-file-name-with-icon",contentEditable:!1,draggable:!1,children:[g.jsx("div",{className:"bn-file-icon",children:g.jsx(gS,{size:24})}),g.jsx("p",{className:"bn-file-name",children:t.block.props.name})]}),SS=t=>{const e=n9(t.block.id);return g.jsx("div",{className:"bn-file-block-content-wrapper",onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,style:t.style,children:e?g.jsx("div",{className:"bn-file-loading-preview",children:"Loading..."}):t.block.props.url===""?g.jsx(mse,{...t}):g.jsxs(g.Fragment,{children:[t.block.props.showPreview===!1||!t.children?g.jsx(gse,{...t}):t.children,t.block.props.caption&&g.jsx("p",{className:"bn-file-caption",children:t.block.props.caption})]})})},iy=t=>g.jsxs("div",{children:[t.children,g.jsx("p",{children:t.caption})]}),bse=t=>{const e=xS(t.block.props.url);return g.jsx("audio",{className:"bn-audio",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},yse=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add audio"});const e=t.block.props.showPreview?g.jsx("audio",{src:t.block.props.url}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(CS,{caption:t.block.props.caption,children:e}):g.jsx(iy,{caption:t.block.props.caption,children:e}):e},vse=t=>g.jsx(SS,{...t,buttonText:t.editor.dictionary.file_blocks.audio.add_button_text,buttonIcon:g.jsx(I8,{size:24}),children:g.jsx(bse,{...t})});ry($6,{render:vse,parse:z6,toExternalHTML:yse});const wse=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add file"});const e=g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?g.jsx(iy,{caption:t.block.props.caption,children:e}):e},kse=t=>g.jsx(SS,{...t});ry(P6,{render:kse,parse:I6,toExternalHTML:wse});const o9=t=>{const[e,n]=v.useState(void 0),[o,r]=v.useState(t.block.props.previewWidth),[i,s]=v.useState(!1),l=v.useRef(null);v.useEffect(()=>{const h=m=>{var b,y;let w;t.block.props.textAlignment==="center"?e.handleUsed==="left"?w=e.initialWidth+(e.initialClientX-m.clientX)*2:w=e.initialWidth+(m.clientX-e.initialClientX)*2:e.handleUsed==="left"?w=e.initialWidth+e.initialClientX-m.clientX:w=e.initialWidth+m.clientX-e.initialClientX,r(Math.min(Math.max(w,64),((y=(b=t.editor.domElement)==null?void 0:b.firstElementChild)==null?void 0:y.clientWidth)||Number.MAX_VALUE))},p=()=>{n(void 0),t.editor.updateBlock(t.block,{props:{previewWidth:o}})};return e&&(window.addEventListener("mousemove",h),window.addEventListener("mouseup",p)),()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p)}},[t,e,o]);const a=v.useCallback(()=>{t.editor.isEditable&&s(!0)},[t.editor.isEditable]),c=v.useCallback(()=>{s(!1)},[]),u=v.useCallback(h=>{h.preventDefault(),n({handleUsed:"left",initialWidth:l.current.clientWidth,initialClientX:h.clientX})},[]),d=v.useCallback(h=>{h.preventDefault(),n({handleUsed:"right",initialWidth:l.current.clientWidth,initialClientX:h.clientX})},[]),f=n9(t.block.id);return g.jsx(SS,{...t,onMouseEnter:a,onMouseLeave:c,style:t.block.props.url&&!f&&t.block.props.showPreview?{width:o?`${o}px`:"fit-content"}:void 0,children:g.jsxs("div",{className:"bn-visual-media-wrapper",ref:l,children:[t.children,(i||e)&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bn-resize-handle",style:{left:"4px"},onMouseDown:u}),g.jsx("div",{className:"bn-resize-handle",style:{right:"4px"},onMouseDown:d})]})]})})},xse=t=>{const e=xS(t.block.props.url);return g.jsx("img",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,alt:t.block.props.caption||"BlockNote image",contentEditable:!1,draggable:!1})},Cse=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add image"});const e=t.block.props.showPreview?g.jsx("img",{src:t.block.props.url,alt:t.block.props.name||t.block.props.caption||"BlockNote image",width:t.block.props.previewWidth}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(CS,{caption:t.block.props.caption,children:e}):g.jsx(iy,{caption:t.block.props.caption,children:e}):e},Sse=t=>g.jsx(o9,{...t,buttonText:t.editor.dictionary.file_blocks.image.add_button_text,buttonIcon:g.jsx(z8,{size:24}),children:g.jsx(xse,{...t})});ry(F6,{render:Sse,parse:q6,toExternalHTML:Cse});const _se=t=>{const e=xS(t.block.props.url);return g.jsx("video",{className:"bn-visual-media",src:e.loadingState==="loading"?t.block.props.url:e.downloadUrl,controls:!0,contentEditable:!1,draggable:!1})},Ese=t=>{if(!t.block.props.url)return g.jsx("p",{children:"Add video"});const e=t.block.props.showPreview?g.jsx("video",{src:t.block.props.url}):g.jsx("a",{href:t.block.props.url,children:t.block.props.name||t.block.props.url});return t.block.props.caption?t.block.props.showPreview?g.jsx(CS,{caption:t.block.props.caption,children:e}):g.jsx(iy,{caption:t.block.props.caption,children:e}):e},Mse=t=>g.jsx(o9,{...t,buttonText:t.editor.dictionary.file_blocks.video.add_button_text,buttonIcon:g.jsx(Rre,{size:24}),children:g.jsx(_se,{...t})});ry(W6,{render:Mse,parse:Y6,toExternalHTML:Ese});X.memo(({thread:t,selectedThreadId:e,editor:n,maxCommentsBeforeCollapse:o,referenceText:r})=>{const i=v.useCallback(l=>{var a;l.target.closest(".bn-action-toolbar")||(a=n.comments)==null||a.selectThread(t.id)},[n.comments,t.id]),s=v.useCallback(l=>{var a;if(!l.relatedTarget||l.relatedTarget.closest(".bn-action-toolbar"))return;const c=l.target instanceof Node?l.target:null,u=l.relatedTarget instanceof Node?l.relatedTarget.closest(".bn-thread"):null;(!c||!u||!u.contains(c))&&((a=n.comments)==null||a.selectThread(void 0))},[n.comments]);return g.jsx(H8,{thread:t,selected:t.id===e,referenceText:r,maxCommentsBeforeCollapse:o,onFocus:i,onBlur:s,tabIndex:0})});function r9(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),r=n.top<o.top,i=n.bottom>o.bottom;return r&&i?"both":r?"top":i?"bottom":"none"}function vr(t){return Object.keys(t)}function v1(t){return t&&typeof t=="object"&&!Array.isArray(t)}function _S(t,e){const n={...t},o=e;return v1(t)&&v1(e)&&Object.keys(e).forEach(r=>{v1(o[r])&&r in t?n[r]=_S(n[r],o[r]):n[r]=o[r]}),n}function Tse(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function Ase(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function Nse(t){const e=Ase(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function w1(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function i9(t,{shouldScale:e=!1}={}){function n(o){if(o===0||o==="0")return`0${t}`;if(typeof o=="number"){const r=`${o/16}${t}`;return e?w1(r):r}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(i=>n(i)).join(",");if(o.includes(" "))return o.split(" ").map(i=>n(i)).join(" ");if(o.includes(t))return e?w1(o):o;const r=o.replace("px","");if(!Number.isNaN(Number(r))){const i=`${Number(r)/16}${t}`;return e?w1(i):i}}return o}return n}const $=i9("rem",{shouldScale:!0}),_A=i9("em");function sy(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function s9(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(o=>e.test(o))}return!1}function Yf(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==v.Fragment:!1}function ly(t){const e=v.createContext(null);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>{const r=v.useContext(e);if(r===null)throw new Error(t);return r}]}function ES(t=null){const e=v.createContext(t);return[({children:r,value:i})=>g.jsx(e.Provider,{value:i,children:r}),()=>v.useContext(e)]}function EA(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function Mg(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function Rse(t,e,n){for(let o=t-1;o>=0;o-=1)if(!e[o].disabled)return o;if(n){for(let o=e.length-1;o>-1;o-=1)if(!e[o].disabled)return o}return t}function Ose(t,e,n){for(let o=t+1;o<e.length;o+=1)if(!e[o].disabled)return o;if(n){for(let o=0;o<e.length;o+=1)if(!e[o].disabled)return o}return t}function Dse(t,e,n){return Mg(t,n)===Mg(e,n)}function l9({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:o=!0,activateOnFocus:r=!1,dir:i="rtl",orientation:s}){return l=>{var p;n==null||n(l);const a=Array.from(((p=Mg(l.currentTarget,t))==null?void 0:p.querySelectorAll(e))||[]).filter(m=>Dse(l.currentTarget,m,t)),c=a.findIndex(m=>l.currentTarget===m),u=Ose(c,a,o),d=Rse(c,a,o),f=i==="rtl"?d:u,h=i==="rtl"?u:d;switch(l.key){case"ArrowRight":{s==="horizontal"&&(l.stopPropagation(),l.preventDefault(),a[f].focus(),r&&a[f].click());break}case"ArrowLeft":{s==="horizontal"&&(l.stopPropagation(),l.preventDefault(),a[h].focus(),r&&a[h].click());break}case"ArrowUp":{s==="vertical"&&(l.stopPropagation(),l.preventDefault(),a[d].focus(),r&&a[d].click());break}case"ArrowDown":{s==="vertical"&&(l.stopPropagation(),l.preventDefault(),a[u].focus(),r&&a[u].click());break}case"Home":{l.stopPropagation(),l.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{l.stopPropagation(),l.preventDefault();const m=a.length-1;!a[m].disabled&&a[m].focus();break}}}}const Lse={app:100,modal:200,popover:300,overlay:400,max:9999};function Xf(t){return Lse[t]}const jse=()=>{};function Bse(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||jse:n=>{var o;n.key==="Escape"&&(t(n),(o=e.onTrigger)==null||o.call(e))}}function Fe(t,e="size",n=!0){if(t!==void 0)return s9(t)?n?$(t):t:`var(--${e}-${t})`}function Jf(t){return Fe(t,"mantine-spacing")}function sn(t){return t===void 0?"var(--mantine-radius-default)":Fe(t,"mantine-radius")}function Dn(t){return Fe(t,"mantine-font-size")}function $se(t){return Fe(t,"mantine-line-height",!1)}function a9(t){if(t)return Fe(t,"mantine-shadow",!1)}function fr(t,e){return n=>{t==null||t(n),e==null||e(n)}}function zse(t,e,n){var o;return n?Array.from(((o=Mg(n,e))==null?void 0:o.querySelectorAll(t))||[]).findIndex(r=>r===n):null}function Pse(){const[t,e]=v.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function MS(t){var n;const e=X.version;return typeof X.version!="string"||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const Ise={};function Hse(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([o,r])=>{e[o]?e[o]=it(e[o],r):e[o]=r})}),e}function ay({theme:t,classNames:e,props:n,stylesCtx:o}){const i=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,o):s||Ise);return Hse(i)}function Tg({theme:t,styles:e,props:n,stylesCtx:o}){return(Array.isArray(e)?e:[e]).reduce((i,s)=>typeof s=="function"?{...i,...s(t,n,o)}:{...i,...s},{})}const c9=v.createContext(null);function Fs(){const t=v.useContext(c9);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function Vse(){return Fs().cssVariablesResolver}function Use(){return Fs().classNamesPrefix}function TS(){return Fs().getStyleNonce}function Fse(){return Fs().withStaticClasses}function qse(){return Fs().headless}function Gse(){var t;return(t=Fs().stylesTransform)==null?void 0:t.sx}function Zse(){var t;return(t=Fs().stylesTransform)==null?void 0:t.styles}function u9(){return Fs().env||"default"}function Kse(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function Wse(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),o=n>>16&255,r=n>>8&255,i=n&255;return{r:o,g:r,b:i,a:1}}function Yse(t){const[e,n,o,r]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:o,a:r===void 0?1:r}}function Xse(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const o=parseInt(n[1],10),r=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,l=(1-Math.abs(2*i-1))*r,a=o/60,c=l*(1-Math.abs(a%2-1)),u=i-l/2;let d,f,h;return a>=0&&a<1?(d=l,f=c,h=0):a>=1&&a<2?(d=c,f=l,h=0):a>=2&&a<3?(d=0,f=l,h=c):a>=3&&a<4?(d=0,f=c,h=l):a>=4&&a<5?(d=c,f=0,h=l):(d=l,f=0,h=c),{r:Math.round((d+u)*255),g:Math.round((f+u)*255),b:Math.round((h+u)*255),a:s||1}}function AS(t){return Kse(t)?Wse(t):t.startsWith("rgb")?Yse(t):t.startsWith("hsl")?Xse(t):{r:0,g:0,b:0,a:1}}function Qh(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:o,b:r,a:i}=AS(t),s=1-e,l=a=>Math.round(a*s);return`rgba(${l(n)}, ${l(o)}, ${l(r)}, ${i})`}function df(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function k1(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Jse(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function Qse(t){if(t.startsWith("oklch("))return(Jse(t)||0)/100;const{r:e,g:n,b:o}=AS(t),r=e/255,i=n/255,s=o/255,l=k1(r),a=k1(i),c=k1(s);return .2126*l+.7152*a+.0722*c}function Tu(t,e=.179){return t.startsWith("var(")?!1:Qse(t)>e}function lu({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Tu(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Tu(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Tu(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[o,r]=t.split("."),i=r?Number(r):void 0,s=o in e.colors;if(s){const l=i!==void 0?e.colors[o][i]:e.colors[o][df(e,n||"light")];return{color:o,value:l,shade:i,isThemeColor:s,isLight:Tu(l,e.luminanceThreshold),variable:r?`--mantine-color-${o}-${i}`:`--mantine-color-${o}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Tu(t,e.luminanceThreshold),shade:i,variable:void 0}}function _r(t,e){const n=lu({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function Jw(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)??e.defaultGradient.deg??0},o=_r(n.from,e),r=_r(n.to,e);return`linear-gradient(${n.deg}deg, ${o} 0%, ${r} 100%)`}function lr(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const i=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${i}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:o,b:r}=AS(t);return`rgba(${n}, ${o}, ${r}, ${e})`}const ga=lr,ele=({color:t,theme:e,variant:n,gradient:o,autoContrast:r})=>{const i=lu({color:t,theme:e}),s=typeof r=="boolean"?r:e.autoContrast;if(n==="filled"){const l=s&&i.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return i.isThemeColor?i.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:l,border:`${$(1)} solid transparent`}:{background:`var(--mantine-color-${i.color}-${i.shade})`,hover:`var(--mantine-color-${i.color}-${i.shade===9?8:i.shade+1})`,color:l,border:`${$(1)} solid transparent`}:{background:t,hover:Qh(t,.1),color:l,border:`${$(1)} solid transparent`}}if(n==="light"){if(i.isThemeColor){if(i.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${$(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:lr(l,.1),hover:lr(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${$(1)} solid transparent`}}return{background:lr(t,.1),hover:lr(t,.12),color:t,border:`${$(1)} solid transparent`}}if(n==="outline")return i.isThemeColor?i.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${$(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:lr(e.colors[i.color][i.shade],.05),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${$(1)} solid var(--mantine-color-${i.color}-${i.shade})`}:{background:"transparent",hover:lr(t,.05),color:t,border:`${$(1)} solid ${t}`};if(n==="subtle"){if(i.isThemeColor){if(i.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${$(1)} solid transparent`};const l=e.colors[i.color][i.shade];return{background:"transparent",hover:lr(l,.12),color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${$(1)} solid transparent`}}return{background:"transparent",hover:lr(t,.12),color:t,border:`${$(1)} solid transparent`}}return n==="transparent"?i.isThemeColor?i.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${$(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${i.color}-${Math.min(i.shade,6)})`,border:`${$(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${$(1)} solid transparent`}:n==="white"?i.isThemeColor?i.shade===void 0?{background:"var(--mantine-color-white)",hover:Qh(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${$(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Qh(e.white,.01),color:`var(--mantine-color-${i.color}-${i.shade})`,border:`${$(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Qh(e.white,.01),color:t,border:`${$(1)} solid transparent`}:n==="gradient"?{background:Jw(o,e),hover:Jw(o,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${$(1)} solid var(--mantine-color-default-border)`}:{}},tle={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},MA="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",NS={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:tle,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:ele,autoContrast:!1,luminanceThreshold:.3,fontFamily:MA,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:MA,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:$(34),lineHeight:"1.3"},h2:{fontSize:$(26),lineHeight:"1.35"},h3:{fontSize:$(22),lineHeight:"1.4"},h4:{fontSize:$(18),lineHeight:"1.45"},h5:{fontSize:$(16),lineHeight:"1.5"},h6:{fontSize:$(14),lineHeight:"1.5"}}},fontSizes:{xs:$(12),sm:$(14),md:$(16),lg:$(18),xl:$(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:$(2),sm:$(4),md:$(8),lg:$(16),xl:$(32)},spacing:{xs:$(10),sm:$(12),md:$(16),lg:$(20),xl:$(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${$(1)} ${$(3)} rgba(0, 0, 0, 0.05), 0 ${$(1)} ${$(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${$(1)} ${$(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${$(10)} ${$(15)} ${$(-5)}, rgba(0, 0, 0, 0.04) 0 ${$(7)} ${$(7)} ${$(-5)}`,md:`0 ${$(1)} ${$(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${$(20)} ${$(25)} ${$(-5)}, rgba(0, 0, 0, 0.04) 0 ${$(10)} ${$(10)} ${$(-5)}`,lg:`0 ${$(1)} ${$(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${$(28)} ${$(23)} ${$(-7)}, rgba(0, 0, 0, 0.04) 0 ${$(12)} ${$(12)} ${$(-7)}`,xl:`0 ${$(1)} ${$(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${$(36)} ${$(28)} ${$(-7)}, rgba(0, 0, 0, 0.04) 0 ${$(17)} ${$(17)} ${$(-7)}`},other:{},components:{}};function TA(t){return t==="auto"||t==="dark"||t==="light"}function nle({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const o=window.localStorage.getItem(t);return TA(o)?o:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:n=>{e=o=>{o.storageArea===window.localStorage&&o.key===t&&TA(o.newValue)&&n(o.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const ole="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",AA="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function x1(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function NA(t){if(!(t.primaryColor in t.colors))throw new Error(ole);if(typeof t.primaryShade=="object"&&(!x1(t.primaryShade.dark)||!x1(t.primaryShade.light)))throw new Error(AA);if(typeof t.primaryShade=="number"&&!x1(t.primaryShade))throw new Error(AA)}function rle(t,e){var o;if(!e)return NA(t),t;const n=_S(t,e);return e.fontFamily&&!((o=e.headings)!=null&&o.fontFamily)&&(n.headings.fontFamily=e.fontFamily),NA(n),n}const RS=v.createContext(null),ile=()=>v.useContext(RS)||NS;function so(){const t=v.useContext(RS);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function d9({theme:t,children:e,inherit:n=!0}){const o=ile(),r=v.useMemo(()=>rle(n?o:NS,t),[t,o,n]);return g.jsx(RS.Provider,{value:r,children:e})}d9.displayName="@mantine/core/MantineThemeProvider";function sle(){const t=so(),e=TS(),n=vr(t.breakpoints).reduce((o,r)=>{const i=t.breakpoints[r].includes("px"),s=Nse(t.breakpoints[r]),l=i?`${s-.1}px`:_A(s-.1),a=i?`${s}px`:_A(s);return`${o}@media (max-width: ${l}) {.mantine-visible-from-${r} {display: none !important;}}@media (min-width: ${a}) {.mantine-hidden-from-${r} {display: none !important;}}`},"");return g.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function C1(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Au(t,e){return(Array.isArray(t)?t:[t]).reduce((o,r)=>`${r}{${o}}`,e)}function lle(t,e){const n=C1(t.variables),o=n?Au(e,n):"",r=C1(t.dark),i=C1(t.light),s=r?Au(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,r):"",l=i?Au(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,i):"";return`${o}${s}${l}`}function f9({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&lu({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function RA(t,e){return f9({color:t.colors[t.primaryColor][df(t,e)],theme:t,autoContrast:null})}function ep({theme:t,color:e,colorScheme:n,name:o=e,withColorValues:r=!0}){if(!t.colors[e])return{};if(n==="light"){const l=df(t,"light"),a={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${l===9?8:l+1})`,[`--mantine-color-${o}-light`]:ga(t.colors[e][l],.1),[`--mantine-color-${o}-light-hover`]:ga(t.colors[e][l],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-outline-hover`]:ga(t.colors[e][l],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...a}:a}const i=df(t,"dark"),s={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${i})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${i===9?8:i+1})`,[`--mantine-color-${o}-light`]:ga(t.colors[e][Math.max(0,i-2)],.15),[`--mantine-color-${o}-light-hover`]:ga(t.colors[e][Math.max(0,i-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(i-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(i-4,0)})`,[`--mantine-color-${o}-outline-hover`]:ga(t.colors[e][Math.max(i-4,0)],.05)};return r?{[`--mantine-color-${o}-0`]:t.colors[e][0],[`--mantine-color-${o}-1`]:t.colors[e][1],[`--mantine-color-${o}-2`]:t.colors[e][2],[`--mantine-color-${o}-3`]:t.colors[e][3],[`--mantine-color-${o}-4`]:t.colors[e][4],[`--mantine-color-${o}-5`]:t.colors[e][5],[`--mantine-color-${o}-6`]:t.colors[e][6],[`--mantine-color-${o}-7`]:t.colors[e][7],[`--mantine-color-${o}-8`]:t.colors[e][8],[`--mantine-color-${o}-9`]:t.colors[e][9],...s}:s}function ale(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function ba(t,e,n){vr(e).forEach(o=>Object.assign(t,{[`--mantine-${n}-${o}`]:e[o]}))}const h9=t=>{const e=df(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:$(t.defaultRadius),o={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":RA(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":RA(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};ba(o.variables,t.breakpoints,"breakpoint"),ba(o.variables,t.spacing,"spacing"),ba(o.variables,t.fontSizes,"font-size"),ba(o.variables,t.lineHeights,"line-height"),ba(o.variables,t.shadows,"shadow"),ba(o.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((i,s)=>{o.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),vr(t.colors).forEach(i=>{const s=t.colors[i];if(ale(s)){Object.assign(o.light,ep({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,ep({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((l,a)=>{o.variables[`--mantine-color-${i}-${a}`]=l}),Object.assign(o.light,ep({theme:t,color:i,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,ep({theme:t,color:i,colorScheme:"dark",withColorValues:!1}))});const r=t.headings.sizes;return vr(r).forEach(i=>{o.variables[`--mantine-${i}-font-size`]=r[i].fontSize,o.variables[`--mantine-${i}-line-height`]=r[i].lineHeight,o.variables[`--mantine-${i}-font-weight`]=r[i].fontWeight||t.headings.fontWeight}),o};function cle({theme:t,generator:e}){const n=h9(t),o=e==null?void 0:e(t);return o?_S(n,o):n}const S1=h9(NS);function ule(t){const e={variables:{},light:{},dark:{}};return vr(t.variables).forEach(n=>{S1.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),vr(t.light).forEach(n=>{S1.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),vr(t.dark).forEach(n=>{S1.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function dle(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function p9({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=so(),o=TS(),r=Vse(),i=cle({theme:n,generator:r}),s=t===":root"&&e,l=s?ule(i):i,a=lle(l,t);return a?g.jsx("style",{"data-mantine-styles":!0,nonce:o==null?void 0:o(),dangerouslySetInnerHTML:{__html:`${a}${s?"":dle(t)}`}}):null}p9.displayName="@mantine/CssVariables";function fle(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function ya(t,e){var r,i;const n=typeof window<"u"&&"matchMedia"in window&&((r=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:r.matches),o=t!=="auto"?t:n?"dark":"light";(i=e())==null||i.setAttribute("data-mantine-color-scheme",o)}function hle({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:o}){const r=v.useRef(null),[i,s]=v.useState(()=>t.get(e)),l=o||i,a=v.useCallback(u=>{o||(ya(u,n),s(u),t.set(u))},[t.set,l,o]),c=v.useCallback(()=>{s(e),ya(e,n),t.clear()},[t.clear,e]);return v.useEffect(()=>(t.subscribe(a),t.unsubscribe),[t.subscribe,t.unsubscribe]),Rs(()=>{ya(t.get(e),n)},[]),v.useEffect(()=>{var d;if(o)return ya(o,n),()=>{};o===void 0&&ya(i,n),typeof window<"u"&&"matchMedia"in window&&(r.current=window.matchMedia("(prefers-color-scheme: dark)"));const u=f=>{i==="auto"&&ya(f.matches?"dark":"light",n)};return(d=r.current)==null||d.addEventListener("change",u),()=>{var f;return(f=r.current)==null?void 0:f.removeEventListener("change",u)}},[i,o]),{colorScheme:l,setColorScheme:a,clearColorScheme:c}}function ple({respectReducedMotion:t,getRootElement:e}){Rs(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}fle();function m9({theme:t,children:e,getStyleNonce:n,withStaticClasses:o=!0,withGlobalClasses:r=!0,deduplicateCssVariables:i=!0,withCssVariables:s=!0,cssVariablesSelector:l=":root",classNamesPrefix:a="mantine",colorSchemeManager:c=nle(),defaultColorScheme:u="light",getRootElement:d=()=>document.documentElement,cssVariablesResolver:f,forceColorScheme:h,stylesTransform:p,env:m}){const{colorScheme:b,setColorScheme:y,clearColorScheme:w}=hle({defaultColorScheme:u,forceColorScheme:h,manager:c,getRootElement:d});return ple({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:d}),g.jsx(c9.Provider,{value:{colorScheme:b,setColorScheme:y,clearColorScheme:w,getRootElement:d,classNamesPrefix:a,getStyleNonce:n,cssVariablesResolver:f,cssVariablesSelector:l,withStaticClasses:o,stylesTransform:p,env:m},children:g.jsxs(d9,{theme:t,children:[s&&g.jsx(p9,{cssVariablesSelector:l,deduplicateCssVariables:i}),r&&g.jsx(sle,{}),e]})})}m9.displayName="@mantine/core/MantineProvider";function cy({classNames:t,styles:e,props:n,stylesCtx:o}){const r=so();return{resolvedClassNames:ay({theme:r,classNames:t,props:n,stylesCtx:o||void 0}),resolvedStyles:Tg({theme:r,styles:e,props:n,stylesCtx:o||void 0})}}const mle={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function gle({theme:t,options:e,unstyled:n}){return it((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||mle[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function ble({selector:t,stylesCtx:e,options:n,props:o,theme:r}){return ay({theme:r,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||o,stylesCtx:e})[t]}function OA({selector:t,stylesCtx:e,theme:n,classNames:o,props:r}){return ay({theme:n,classNames:o,props:r,stylesCtx:e})[t]}function yle({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function vle({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function wle({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:o}){return o===!1?[]:t.map(r=>`${e}-${r}-${n}`)}function kle({themeName:t,theme:e,selector:n,props:o,stylesCtx:r}){return t.map(i=>{var s,l;return(l=ay({theme:e,classNames:(s=e.components[i])==null?void 0:s.classNames,props:o,stylesCtx:r}))==null?void 0:l[n]})}function xle({options:t,classes:e,selector:n,unstyled:o}){return t!=null&&t.variant&&!o?e[`${n}--${t.variant}`]:void 0}function Cle({theme:t,options:e,themeName:n,selector:o,classNamesPrefix:r,classNames:i,classes:s,unstyled:l,className:a,rootSelector:c,props:u,stylesCtx:d,withStaticClasses:f,headless:h,transformedStyles:p}){return it(gle({theme:t,options:e,unstyled:l||h}),kle({theme:t,themeName:n,selector:o,props:u,stylesCtx:d}),xle({options:e,classes:s,selector:o,unstyled:l}),OA({selector:o,stylesCtx:d,theme:t,classNames:i,props:u}),OA({selector:o,stylesCtx:d,theme:t,classNames:p,props:u}),ble({selector:o,stylesCtx:d,options:e,props:u,theme:t}),yle({rootSelector:c,selector:o,className:a}),vle({selector:o,classes:s,unstyled:l||h}),f&&!h&&wle({themeName:n,classNamesPrefix:r,selector:o,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function Sle({theme:t,themeName:e,props:n,stylesCtx:o,selector:r}){return e.map(i=>{var s;return Tg({theme:t,styles:(s=t.components[i])==null?void 0:s.styles,props:n,stylesCtx:o})[r]}).reduce((i,s)=>({...i,...s}),{})}function Qw({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...Qw({style:o,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function _le(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(o=>{e[o]={...e[o],...sy(n[o])}}),e),{})}function Ele({vars:t,varsResolver:e,theme:n,props:o,stylesCtx:r,selector:i,themeName:s,headless:l}){var a;return(a=_le([l?{}:e==null?void 0:e(n,o,r),...s.map(c=>{var u,d,f;return(f=(d=(u=n.components)==null?void 0:u[c])==null?void 0:d.vars)==null?void 0:f.call(d,n,o,r)}),t==null?void 0:t(n,o,r)]))==null?void 0:a[i]}function Mle({theme:t,themeName:e,selector:n,options:o,props:r,stylesCtx:i,rootSelector:s,styles:l,style:a,vars:c,varsResolver:u,headless:d,withStylesTransform:f}){return{...!f&&Sle({theme:t,themeName:e,props:r,stylesCtx:i,selector:n}),...!f&&Tg({theme:t,styles:l,props:r,stylesCtx:i})[n],...!f&&Tg({theme:t,styles:o==null?void 0:o.styles,props:(o==null?void 0:o.props)||r,stylesCtx:i})[n],...Ele({theme:t,props:r,stylesCtx:i,vars:c,varsResolver:u,selector:n,themeName:e,headless:d}),...s===n?Qw({style:a,theme:t}):null,...Qw({style:o==null?void 0:o.style,theme:t})}}function Tle({props:t,stylesCtx:e,themeName:n}){var s;const o=so(),r=(s=Zse())==null?void 0:s();return{getTransformedStyles:l=>r?[...l.map(c=>r(c,{props:t,theme:o,ctx:e})),...n.map(c=>{var u;return r((u=o.components[c])==null?void 0:u.styles,{props:t,theme:o,ctx:e})})].filter(Boolean):[],withStylesTransform:!!r}}function we({name:t,classes:e,props:n,stylesCtx:o,className:r,style:i,rootSelector:s="root",unstyled:l,classNames:a,styles:c,vars:u,varsResolver:d}){const f=so(),h=Use(),p=Fse(),m=qse(),b=(Array.isArray(t)?t:[t]).filter(k=>k),{withStylesTransform:y,getTransformedStyles:w}=Tle({props:n,stylesCtx:o,themeName:b});return(k,x)=>({className:Cle({theme:f,options:x,themeName:b,selector:k,classNamesPrefix:h,classNames:a,classes:e,unstyled:l,className:r,rootSelector:s,props:n,stylesCtx:o,withStaticClasses:p,headless:m,transformedStyles:w([x==null?void 0:x.styles,c])}),style:Mle({theme:f,themeName:b,selector:k,options:x,props:n,stylesCtx:o,rootSelector:s,styles:c,style:i,vars:u,varsResolver:d,headless:m,withStylesTransform:y})})}function Ale(t,e){return typeof t=="boolean"?t:e.autoContrast}function Y(t,e,n){var s;const o=so(),r=(s=o.components[t])==null?void 0:s.defaultProps,i=typeof r=="function"?r(o):r;return{...e,...i,...sy(n)}}function _1(t){return vr(t).reduce((e,n)=>t[n]!==void 0?`${e}${Tse(n)}:${t[n]};`:e,"").trim()}function Nle({selector:t,styles:e,media:n,container:o}){const r=e?_1(e):"",i=Array.isArray(n)?n.map(l=>`@media${l.query}{${t}{${_1(l.styles)}}}`):[],s=Array.isArray(o)?o.map(l=>`@container ${l.query}{${t}{${_1(l.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}${s.join("")}`.trim()}function g9(t){const e=TS();return g.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:Nle(t)}})}function uy(t){const{m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bg:x,c:C,opacity:E,ff:_,fz:S,fw:M,lts:T,ta:B,lh:I,fs:V,tt:F,td:U,w:N,miw:O,maw:R,h:L,mih:q,mah:G,bgsz:ne,bgp:pe,bgr:Oe,bga:Ie,pos:He,top:Ve,left:zt,bottom:Ke,right:Ct,inset:lo,display:$r,flex:Do,hiddenFrom:Lo,visibleFrom:zr,lightHidden:Ks,darkHidden:Ti,sx:Ai,...Pr}=t;return{styleProps:sy({m:e,mx:n,my:o,mt:r,mb:i,ml:s,mr:l,me:a,ms:c,p:u,px:d,py:f,pt:h,pb:p,pl:m,pr:b,pe:y,ps:w,bd:k,bg:x,c:C,opacity:E,ff:_,fz:S,fw:M,lts:T,ta:B,lh:I,fs:V,tt:F,td:U,w:N,miw:O,maw:R,h:L,mih:q,mah:G,bgsz:ne,bgp:pe,bgr:Oe,bga:Ie,pos:He,top:Ve,left:zt,bottom:Ke,right:Ct,inset:lo,display:$r,flex:Do,hiddenFrom:Lo,visibleFrom:zr,lightHidden:Ks,darkHidden:Ti,sx:Ai}),rest:Pr}}const Rle={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function OS(t,e){const n=lu({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function Ole(t,e){const n=lu({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:OS(t,e)}function Dle(t,e){if(typeof t=="number")return $(t);if(typeof t=="string"){const[n,o,...r]=t.split(" ").filter(s=>s.trim()!=="");let i=`${$(n)}`;return o&&(i+=` ${o}`),r.length>0&&(i+=` ${OS(r.join(" "),e)}`),i.trim()}return t}const DA={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Lle(t){return typeof t=="string"&&t in DA?DA[t]:t}const jle=["h1","h2","h3","h4","h5","h6"];function Ble(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&jle.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?$(t):t}function $le(t){return t}const zle=["h1","h2","h3","h4","h5","h6"];function Ple(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&zle.includes(t)?`var(--mantine-${t}-line-height)`:t}function Ile(t){return typeof t=="number"?$(t):t}function Hle(t,e){if(typeof t=="number")return $(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return $(t);const o=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return t}const E1={color:OS,textColor:Ole,fontSize:Ble,spacing:Hle,identity:$le,size:Ile,lineHeight:Ple,fontFamily:Lle,border:Dle};function LA(t){return t.replace("(min-width: ","").replace("em)","")}function Vle({media:t,...e}){const o=Object.keys(t).sort((r,i)=>Number(LA(r))-Number(LA(i))).map(r=>({query:r,styles:t[r]}));return{...e,media:o}}function Ule(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function Fle(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function qle(t){return typeof t=="object"&&t!==null?vr(t).filter(e=>e!=="base"):[]}function Gle(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function b9({styleProps:t,data:e,theme:n}){return Vle(vr(t).reduce((o,r)=>{if(r==="hiddenFrom"||r==="visibleFrom"||r==="sx")return o;const i=e[r],s=Array.isArray(i.property)?i.property:[i.property],l=Fle(t[r]);if(!Ule(t[r]))return s.forEach(c=>{o.inlineStyles[c]=E1[i.type](l,n)}),o;o.hasResponsiveStyles=!0;const a=qle(t[r]);return s.forEach(c=>{l&&(o.styles[c]=E1[i.type](l,n)),a.forEach(u=>{const d=`(min-width: ${n.breakpoints[u]})`;o.media[d]={...o.media[d],[c]:E1[i.type](Gle(t[r],u),n)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function y9(){return`__m__-${v.useId().replace(/:/g,"")}`}function v9(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...v9(o,e)}),{}):typeof t=="function"?t(e):t??{}}function w9(t){return t.startsWith("data-")?t:`data-${t}`}function Zle(t){return Object.keys(t).reduce((e,n)=>{const o=t[n];return o===void 0||o===""||o===!1||o===null||(e[w9(n)]=t[n]),e},{})}function k9(t){return t?typeof t=="string"?{[w9(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...k9(n)}),{}):Zle(t):null}function ek(t,e){return Array.isArray(t)?[...t].reduce((n,o)=>({...n,...ek(o,e)}),{}):typeof t=="function"?t(e):t??{}}function Kle({theme:t,style:e,vars:n,styleProps:o}){const r=ek(e,t),i=ek(n,t);return{...r,...i,...o}}const x9=v.forwardRef(({component:t,style:e,__vars:n,className:o,variant:r,mod:i,size:s,hiddenFrom:l,visibleFrom:a,lightHidden:c,darkHidden:u,renderRoot:d,__size:f,...h},p)=>{var S;const m=so(),b=t||"div",{styleProps:y,rest:w}=uy(h),k=Gse(),x=(S=k==null?void 0:k())==null?void 0:S(y.sx),C=y9(),E=b9({styleProps:y,theme:m,data:Rle}),_={ref:p,style:Kle({theme:m,style:e,vars:n,styleProps:E.inlineStyles}),className:it(o,x,{[C]:E.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":u,[`mantine-hidden-from-${l}`]:l,[`mantine-visible-from-${a}`]:a}),"data-variant":r,"data-size":s9(s)?void 0:s||void 0,size:f,...k9(i),...w};return g.jsxs(g.Fragment,{children:[E.hasResponsiveStyles&&g.jsx(g9,{selector:`.${C}`,styles:E.styles,media:E.media}),typeof d=="function"?d(_):g.jsx(b,{..._})]})});x9.displayName="@mantine/core/Box";const re=x9;function C9(t){return t}function Wle(t){const e=t;return n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o}}function Ce(t){const e=v.forwardRef(t);return e.extend=C9,e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e}function wn(t){const e=v.forwardRef(t);return e.withProps=n=>{const o=v.forwardRef((r,i)=>g.jsx(e,{...n,...r,ref:i}));return o.extend=e.extend,o.displayName=`WithProps(${e.displayName})`,o},e.extend=C9,e}const Yle=v.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Qf(){return v.useContext(Yle)}var S9={root:"m_87cf2631"};const Xle={__staticSelector:"UnstyledButton"},oa=wn((t,e)=>{const n=Y("UnstyledButton",Xle,t),{className:o,component:r="button",__staticSelector:i,unstyled:s,classNames:l,styles:a,style:c,...u}=n,d=we({name:i,props:n,classes:S9,className:o,style:c,classNames:l,styles:a,unstyled:s});return g.jsx(re,{...d("root",{focusable:!0}),component:r,ref:e,type:r==="button"?"button":void 0,...u})});oa.classes=S9;oa.displayName="@mantine/core/UnstyledButton";var _9={root:"m_515a97f8"};const Jle={},DS=Ce((t,e)=>{const n=Y("VisuallyHidden",Jle,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,...c}=n,u=we({name:"VisuallyHidden",classes:_9,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l});return g.jsx(re,{component:"span",ref:e,...u("root"),...c})});DS.classes=_9;DS.displayName="@mantine/core/VisuallyHidden";var E9={root:"m_1b7284a3"};const Qle={},eae=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:sn(e),"--paper-shadow":a9(n)}}),LS=wn((t,e)=>{const n=Y("Paper",Qle,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,withBorder:a,vars:c,radius:u,shadow:d,variant:f,mod:h,...p}=n,m=we({name:"Paper",props:n,classes:E9,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:c,varsResolver:eae});return g.jsx(re,{ref:e,mod:[{"data-with-border":a},h],...m("root"),variant:f,...p})});LS.classes=E9;LS.displayName="@mantine/core/Paper";function M9(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,o]=e.split("-"),r=n==="right"?"left":"right";return o===void 0?r:`${r}-${o}`}return e}function jA(t,e,n,o){return t==="center"||o==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function BA(t,e,n,o,r){return t==="center"||o==="center"?{left:e}:t==="end"?{[r==="ltr"?"right":"left"]:n}:t==="start"?{[r==="ltr"?"left":"right"]:n}:{}}const tae={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function nae({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,arrowX:i,arrowY:s,dir:l}){const[a,c="center"]=t.split("-"),u={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[tae[a]]:o},d=-e/2;return a==="left"?{...u,...jA(c,s,n,r),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:a==="right"?{...u,...jA(c,s,n,r),left:d,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:a==="top"?{...u,...BA(c,i,n,r,l),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:a==="bottom"?{...u,...BA(c,i,n,r,l),top:d,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const jS=v.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,visible:i,arrowX:s,arrowY:l,style:a,...c},u)=>{const{dir:d}=Qf();return i?g.jsx("div",{...c,ref:u,style:{...a,...nae({position:t,arrowSize:e,arrowOffset:n,arrowRadius:o,arrowPosition:r,dir:d,arrowX:s,arrowY:l})}}):null});jS.displayName="@mantine/core/FloatingArrow";var T9={root:"m_9814e45f"};const oae={zIndex:Xf("modal")},rae=(t,{gradient:e,color:n,backgroundOpacity:o,blur:r,radius:i,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||o!==void 0)&&lr(n||"#000",o??.6)||void 0,"--overlay-filter":r?`blur(${$(r)})`:void 0,"--overlay-radius":i===void 0?void 0:sn(i),"--overlay-z-index":s==null?void 0:s.toString()}}),ff=wn((t,e)=>{const n=Y("Overlay",oae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,fixed:c,center:u,children:d,radius:f,zIndex:h,gradient:p,blur:m,color:b,backgroundOpacity:y,mod:w,...k}=n,x=we({name:"Overlay",props:n,classes:T9,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:rae});return g.jsx(re,{ref:e,...x("root"),mod:[{center:u,fixed:c},w],...k,children:d})});ff.classes=T9;ff.displayName="@mantine/core/Overlay";function M1(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function iae({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||M1(n):t;if(e){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const r=M1(n);return r.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(r),r}return M1(n)}const sae={},A9=Ce((t,e)=>{const{children:n,target:o,reuseTargetNode:r,...i}=Y("Portal",sae,t),[s,l]=v.useState(!1),a=v.useRef(null);return Rs(()=>(l(!0),a.current=iae({target:o,reuseTargetNode:r,...i}),Nd(e,a.current),!o&&!r&&a.current&&document.body.appendChild(a.current),()=>{!o&&!r&&a.current&&document.body.removeChild(a.current)}),[o]),!s||!a.current?null:Jn.createPortal(g.jsx(g.Fragment,{children:n}),a.current)});A9.displayName="@mantine/core/Portal";const eh=Ce(({withinPortal:t=!0,children:e,...n},o)=>u9()==="test"||!t?g.jsx(g.Fragment,{children:e}):g.jsx(A9,{ref:o,...n,children:e}));eh.displayName="@mantine/core/OptionalPortal";const Nu=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),tp={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Nu("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Nu("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Nu("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Nu("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Nu("top"),common:{transformOrigin:"top right"}}},$A={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function lae({transition:t,state:e,duration:n,timingFunction:o}){const r={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${n}ms`,transitionTimingFunction:o};return typeof t=="string"?t in tp?{transitionProperty:tp[t].transitionProperty,...r,...tp[t].common,...tp[t][$A[e]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[$A[e]]}}function aae({duration:t,exitDuration:e,timingFunction:n,mounted:o,onEnter:r,onExit:i,onEntered:s,onExited:l,enterDelay:a,exitDelay:c}){const u=so(),d=cx(),f=u.respectReducedMotion?d:!1,[h,p]=v.useState(f?0:t),[m,b]=v.useState(o?"entered":"exited"),y=v.useRef(-1),w=v.useRef(-1),k=v.useRef(-1);function x(){window.clearTimeout(y.current),window.clearTimeout(w.current),cancelAnimationFrame(k.current)}const C=_=>{x();const S=_?r:i,M=_?s:l,T=f?0:_?t:e;p(T),T===0?(typeof S=="function"&&S(),typeof M=="function"&&M(),b(_?"entered":"exited")):k.current=requestAnimationFrame(()=>{ak.flushSync(()=>{b(_?"pre-entering":"pre-exiting")}),k.current=requestAnimationFrame(()=>{typeof S=="function"&&S(),b(_?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof M=="function"&&M(),b(_?"entered":"exited")},T)})})},E=_=>{if(x(),typeof(_?a:c)!="number"){C(_);return}w.current=window.setTimeout(()=>{C(_)},_?a:c)};return Co(()=>{E(o)},[o]),v.useEffect(()=>()=>{x()},[]),{transitionDuration:h,transitionStatus:m,transitionTimingFunction:n||"ease"}}function ra({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:o=n,mounted:r,children:i,timingFunction:s="ease",onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f}){const h=u9(),{transitionDuration:p,transitionStatus:m,transitionTimingFunction:b}=aae({mounted:r,exitDuration:o,duration:n,timingFunction:s,onExit:l,onEntered:a,onEnter:c,onExited:u,enterDelay:d,exitDelay:f});return p===0||h==="test"?r?g.jsx(g.Fragment,{children:i({})}):t?i({display:"none"}):null:m==="exited"?t?i({display:"none"}):null:g.jsx(g.Fragment,{children:i(lae({transition:e,duration:p,state:m,timingFunction:b}))})}ra.displayName="@mantine/core/Transition";const[cae,N9]=ly("Popover component was not found in the tree");function BS({children:t,active:e=!0,refProp:n="ref",innerRef:o}){const r=ax(e),i=ft(r,o);return Yf(t)?v.cloneElement(t,{[n]:i}):t}function R9(t){return g.jsx(DS,{tabIndex:-1,"data-autofocus":!0,...t})}BS.displayName="@mantine/core/FocusTrap";R9.displayName="@mantine/core/FocusTrapInitialFocus";BS.InitialFocus=R9;var O9={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const uae={},dy=Ce((t,e)=>{var b,y,w,k;const n=Y("PopoverDropdown",uae,t),{className:o,style:r,vars:i,children:s,onKeyDownCapture:l,variant:a,classNames:c,styles:u,...d}=n,f=N9(),h=lx({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=ft(e,f.floating);return f.disabled?null:g.jsx(eh,{...f.portalProps,withinPortal:f.withinPortal,children:g.jsx(ra,{mounted:f.opened,...f.transitionProps,transition:((b=f.transitionProps)==null?void 0:b.transition)||"fade",duration:((y=f.transitionProps)==null?void 0:y.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((w=f.transitionProps)==null?void 0:w.exitDuration)=="number"?f.transitionProps.exitDuration:(k=f.transitionProps)==null?void 0:k.duration,children:x=>g.jsx(BS,{active:f.trapFocus&&f.opened,innerRef:m,children:g.jsxs(re,{...p,...d,variant:a,onKeyDownCapture:Bse(()=>{var C,E;(C=f.onClose)==null||C.call(f),(E=f.onDismiss)==null||E.call(f)},{active:f.closeOnEscape,onTrigger:h,onKeyDown:l}),"data-position":f.placement,"data-fixed":f.floatingStrategy==="fixed"||void 0,...f.getStyles("dropdown",{className:o,props:n,classNames:c,styles:u,style:[{...x,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:$(f.width)},f.resolvedStyles.dropdown,u==null?void 0:u.dropdown,r]}),children:[s,g.jsx(jS,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:c,styles:u})})]})})})})});dy.classes=O9;dy.displayName="@mantine/core/PopoverDropdown";const dae={refProp:"ref",popupType:"dialog"},$S=Ce((t,e)=>{const{children:n,refProp:o,popupType:r,...i}=Y("PopoverTarget",dae,t);if(!Yf(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=i,l=N9(),a=ft(l.reference,MS(n),e),c=l.withRoles?{"aria-haspopup":r,"aria-expanded":l.opened,"aria-controls":l.getDropdownId(),id:l.getTargetId()}:{};return v.cloneElement(n,{...s,...c,...l.targetProps,className:it(l.targetProps.className,s.className,n.props.className),[o]:a,...l.controlled?null:{onClick:l.onToggle}})});$S.displayName="@mantine/core/PopoverTarget";function D9({opened:t,floating:e,position:n,positionDependencies:o}){const[r,i]=v.useState(0);v.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current&&t)return zv(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,r,n]),Co(()=>{e.update()},o),Co(()=>{i(s=>s+1)},[t])}function fae(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function hae(t,e){const n=fae(t.middlewares),o=[Jo(t.offset)];return n.shift&&o.push(js(typeof n.shift=="boolean"?{limiter:ym(),padding:5}:{limiter:ym(),padding:5,...n.shift})),n.flip&&o.push(typeof n.flip=="boolean"?to():to(n.flip)),n.inline&&o.push(typeof n.inline=="boolean"?yl():yl(n.inline)),o.push(Cx({element:t.arrowRef,padding:t.arrowOffset})),(n.size||t.width==="target")&&o.push(Of({...typeof n.size=="boolean"?{}:n.size,apply({rects:r,availableWidth:i,availableHeight:s,...l}){var u;const c=((u=e().refs.floating.current)==null?void 0:u.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:r,availableWidth:i,availableHeight:s,...l}):Object.assign(c,{maxWidth:`${i}px`,maxHeight:`${s}px`})),t.width==="target"&&Object.assign(c,{width:`${r.reference.width}px`})}})),o}function pae(t){const[e,n]=Ds({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),o=v.useRef(e),r=()=>{e&&!t.disabled&&n(!1)},i=()=>!t.disabled&&n(!e),s=Ql({strategy:t.strategy,placement:t.position,middleware:hae(t,()=>s)});return D9({opened:e,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),Co(()=>{var l;(l=t.onPositionChange)==null||l.call(t,s.placement)},[s.placement]),Co(()=>{var l,a;e!==o.current&&(e?(a=t.onOpen)==null||a.call(t):(l=t.onClose)==null||l.call(t)),o.current=e},[e,t.onClose,t.onOpen]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const mae={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Xf("popover"),__staticSelector:"Popover",width:"max-content"},gae=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:sn(e),"--popover-shadow":a9(n)}});function qs(t){var sh,hu,St,lh,ah,ch;const e=Y("Popover",mae,t),{children:n,position:o,offset:r,onPositionChange:i,positionDependencies:s,opened:l,transitionProps:a,onExitTransitionEnd:c,onEnterTransitionEnd:u,width:d,middlewares:f,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,unstyled:w,classNames:k,styles:x,closeOnClickOutside:C,withinPortal:E,portalProps:_,closeOnEscape:S,clickOutsideEvents:M,trapFocus:T,onClose:B,onDismiss:I,onOpen:V,onChange:F,zIndex:U,radius:N,shadow:O,id:R,defaultOpened:L,__staticSelector:q,withRoles:G,disabled:ne,returnFocus:pe,variant:Oe,keepMounted:Ie,vars:He,floatingStrategy:Ve,withOverlay:zt,overlayProps:Ke,...Ct}=e,lo=we({name:q,props:e,classes:O9,classNames:k,styles:x,unstyled:w,rootSelector:"dropdown",vars:He,varsResolver:gae}),{resolvedStyles:$r}=cy({classNames:k,styles:x,props:e}),Do=v.useRef(null),[Lo,zr]=v.useState(null),[Ks,Ti]=v.useState(null),{dir:Ai}=Qf(),Pr=Os(R),bt=pae({middlewares:f,width:d,position:M9(Ai,o),offset:typeof r=="number"?r+(h?p/2:0):r,arrowRef:Do,arrowOffset:m,onPositionChange:i,positionDependencies:s,opened:l,defaultOpened:L,onChange:F,onOpen:V,onClose:B,onDismiss:I,strategy:Ve,disabled:ne});m5(()=>{C&&(bt.onClose(),I==null||I())},M,[Lo,Ks]);const ih=v.useCallback(ln=>{zr(ln),bt.floating.refs.setReference(ln)},[bt.floating.refs.setReference]),Cy=v.useCallback(ln=>{Ti(ln),bt.floating.refs.setFloating(ln)},[bt.floating.refs.setFloating]),Sy=v.useCallback(()=>{var ln;(ln=a==null?void 0:a.onExited)==null||ln.call(a),c==null||c()},[a==null?void 0:a.onExited,c]),_y=v.useCallback(()=>{var ln;(ln=a==null?void 0:a.onEntered)==null||ln.call(a),u==null||u()},[a==null?void 0:a.onEntered,u]);return g.jsxs(cae,{value:{returnFocus:pe,disabled:ne,controlled:bt.controlled,reference:ih,floating:Cy,x:bt.floating.x,y:bt.floating.y,arrowX:(St=(hu=(sh=bt.floating)==null?void 0:sh.middlewareData)==null?void 0:hu.arrow)==null?void 0:St.x,arrowY:(ch=(ah=(lh=bt.floating)==null?void 0:lh.middlewareData)==null?void 0:ah.arrow)==null?void 0:ch.y,opened:bt.opened,arrowRef:Do,transitionProps:{...a,onExited:Sy,onEntered:_y},width:d,withArrow:h,arrowSize:p,arrowOffset:m,arrowRadius:b,arrowPosition:y,placement:bt.floating.placement,trapFocus:T,withinPortal:E,portalProps:_,zIndex:U,radius:N,shadow:O,closeOnEscape:S,onDismiss:I,onClose:bt.onClose,onToggle:bt.onToggle,getTargetId:()=>`${Pr}-target`,getDropdownId:()=>`${Pr}-dropdown`,withRoles:G,targetProps:Ct,__staticSelector:q,classNames:k,styles:x,unstyled:w,variant:Oe,keepMounted:Ie,getStyles:lo,resolvedStyles:$r,floatingStrategy:Ve},children:[n,zt&&g.jsx(ra,{transition:"fade",mounted:bt.opened,duration:(a==null?void 0:a.duration)||250,exitDuration:(a==null?void 0:a.exitDuration)||250,children:ln=>g.jsx(eh,{withinPortal:E,children:g.jsx(ff,{...Ke,...lo("overlay",{className:Ke==null?void 0:Ke.className,style:[ln,Ke==null?void 0:Ke.style]})})})})]})}qs.Target=$S;qs.Dropdown=dy;qs.displayName="@mantine/core/Popover";qs.extend=t=>t;var Ho={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const L9=v.forwardRef(({className:t,...e},n)=>g.jsxs(re,{component:"span",className:it(Ho.barsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Ho.bar}),g.jsx("span",{className:Ho.bar}),g.jsx("span",{className:Ho.bar})]}));L9.displayName="@mantine/core/Bars";const j9=v.forwardRef(({className:t,...e},n)=>g.jsxs(re,{component:"span",className:it(Ho.dotsLoader,t),...e,ref:n,children:[g.jsx("span",{className:Ho.dot}),g.jsx("span",{className:Ho.dot}),g.jsx("span",{className:Ho.dot})]}));j9.displayName="@mantine/core/Dots";const B9=v.forwardRef(({className:t,...e},n)=>g.jsx(re,{component:"span",className:it(Ho.ovalLoader,t),...e,ref:n}));B9.displayName="@mantine/core/Oval";const $9={bars:L9,oval:B9,dots:j9},bae={loaders:$9,type:"oval"},yae=(t,{size:e,color:n})=>({root:{"--loader-size":Fe(e,"loader-size"),"--loader-color":n?_r(n,t):void 0}}),Gs=Ce((t,e)=>{const n=Y("Loader",bae,t),{size:o,color:r,type:i,vars:s,className:l,style:a,classNames:c,styles:u,unstyled:d,loaders:f,variant:h,children:p,...m}=n,b=we({name:"Loader",props:n,classes:Ho,className:l,style:a,classNames:c,styles:u,unstyled:d,vars:s,varsResolver:yae});return p?g.jsx(re,{...b("root"),ref:e,...m,children:p}):g.jsx(re,{...b("root"),ref:e,component:f[i],variant:h,size:o,...m})});Gs.defaultLoaders=$9;Gs.classes=Ho;Gs.displayName="@mantine/core/Loader";var au={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const zA={orientation:"horizontal"},vae=(t,{borderWidth:e})=>({group:{"--ai-border-width":$(e)}}),zS=Ce((t,e)=>{const n=Y("ActionIconGroup",zA,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:a,vars:c,borderWidth:u,variant:d,mod:f,...h}=Y("ActionIconGroup",zA,t),p=we({name:"ActionIconGroup",props:n,classes:au,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,varsResolver:vae,rootSelector:"group"});return g.jsx(re,{...p("group"),ref:e,variant:d,mod:[{"data-orientation":a},f],role:"group",...h})});zS.classes=au;zS.displayName="@mantine/core/ActionIconGroup";const PA={},wae=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Fe(s,"section-height"),"--section-padding-x":Fe(s,"section-padding-x"),"--section-fz":Dn(s),"--section-radius":e===void 0?void 0:sn(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},PS=Ce((t,e)=>{const n=Y("ActionIconGroupSection",PA,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,variant:c,gradient:u,radius:d,autoContrast:f,...h}=Y("ActionIconGroupSection",PA,t),p=we({name:"ActionIconGroupSection",props:n,classes:au,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,varsResolver:wae,rootSelector:"groupSection"});return g.jsx(re,{...p("groupSection"),ref:e,variant:c,...h})});PS.classes=au;PS.displayName="@mantine/core/ActionIconGroupSection";const kae={},xae=(t,{size:e,radius:n,variant:o,gradient:r,color:i,autoContrast:s})=>{const l=t.variantColorResolver({color:i||t.primaryColor,theme:t,gradient:r,variant:o||"filled",autoContrast:s});return{root:{"--ai-size":Fe(e,"ai-size"),"--ai-radius":n===void 0?void 0:sn(n),"--ai-bg":i||o?l.background:void 0,"--ai-hover":i||o?l.hover:void 0,"--ai-hover-color":i||o?l.hoverColor:void 0,"--ai-color":l.color,"--ai-bd":i||o?l.border:void 0}}},ia=wn((t,e)=>{const n=Y("ActionIcon",kae,t),{className:o,unstyled:r,variant:i,classNames:s,styles:l,style:a,loading:c,loaderProps:u,size:d,color:f,radius:h,__staticSelector:p,gradient:m,vars:b,children:y,disabled:w,"data-disabled":k,autoContrast:x,mod:C,...E}=n,_=we({name:["ActionIcon",p],props:n,className:o,style:a,classes:au,classNames:s,styles:l,unstyled:r,vars:b,varsResolver:xae});return g.jsxs(oa,{..._("root",{active:!w&&!c&&!k}),...E,unstyled:r,variant:i,size:d,disabled:w||c,ref:e,mod:[{loading:c,disabled:w||k},C],children:[g.jsx(ra,{mounted:!!c,transition:"slide-down",duration:150,children:S=>g.jsx(re,{component:"span",..._("loader",{style:S}),"aria-hidden":!0,children:g.jsx(Gs,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...u})})}),g.jsx(re,{component:"span",mod:{loading:c},..._("icon"),children:y})]})});ia.classes=au;ia.displayName="@mantine/core/ActionIcon";ia.Group=zS;ia.GroupSection=PS;const z9=v.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},o)=>g.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:o,...n,children:g.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));z9.displayName="@mantine/core/CloseIcon";var P9={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Cae={variant:"subtle"},Sae=(t,{size:e,radius:n,iconSize:o})=>({root:{"--cb-size":Fe(e,"cb-size"),"--cb-radius":n===void 0?void 0:sn(n),"--cb-icon-size":$(o)}}),fy=wn((t,e)=>{const n=Y("CloseButton",Cae,t),{iconSize:o,children:r,vars:i,radius:s,className:l,classNames:a,style:c,styles:u,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:m,mod:b,__staticSelector:y,...w}=n,k=we({name:y||"CloseButton",props:n,className:l,style:c,classes:P9,classNames:a,styles:u,unstyled:d,vars:i,varsResolver:Sae});return g.jsxs(oa,{ref:e,...w,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},b],...k("root",{variant:p,active:!h&&!f}),children:[m||g.jsx(z9,{}),r]})});fy.classes=P9;fy.displayName="@mantine/core/CloseButton";function _ae(t){return v.Children.toArray(t).filter(Boolean)}var I9={root:"m_4081bf90"};const Eae={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Mae=(t,{grow:e,preventGrowOverflow:n,gap:o,align:r,justify:i,wrap:s},{childWidth:l})=>({root:{"--group-child-width":e&&n?l:void 0,"--group-gap":Jf(o),"--group-align":r,"--group-justify":i,"--group-wrap":s}}),Gt=Ce((t,e)=>{const n=Y("Group",Eae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,children:a,gap:c,align:u,justify:d,wrap:f,grow:h,preventGrowOverflow:p,vars:m,variant:b,__size:y,mod:w,...k}=n,x=_ae(a),C=x.length,E=Jf(c??"md"),S={childWidth:`calc(${100/C}% - (${E} - ${E} / ${C}))`},M=we({name:"Group",props:n,stylesCtx:S,className:r,style:i,classes:I9,classNames:o,styles:s,unstyled:l,vars:m,varsResolver:Mae});return g.jsx(re,{...M("root"),ref:e,variant:b,mod:[{grow:h},w],size:y,...k,children:x})});Gt.classes=I9;Gt.displayName="@mantine/core/Group";const[Tae,Aae]=ES({size:"sm"}),Nae={},H9=Ce((t,e)=>{const n=Y("InputClearButton",Nae,t),{size:o,variant:r,vars:i,classNames:s,styles:l,...a}=n,c=Aae(),{resolvedClassNames:u,resolvedStyles:d}=cy({classNames:s,styles:l,props:n});return g.jsx(fy,{variant:r||"transparent",ref:e,size:o||(c==null?void 0:c.size)||"sm",classNames:u,styles:d,__staticSelector:"InputClearButton",...a})});H9.displayName="@mantine/core/InputClearButton";const[Rae,hy]=ES({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Oo={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const IA={},Oae=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Dn(e)} - ${$(2)})`}}),py=Ce((t,e)=>{const n=Y("InputDescription",IA,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=Y("InputDescription",IA,n),p=hy(),m=we({name:["InputWrapper",u],props:n,classes:Oo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"description",vars:a,varsResolver:Oae}),b=d&&(p==null?void 0:p.getStyles)||m;return g.jsx(re,{component:"p",ref:e,variant:f,size:c,...b("description",p!=null&&p.getStyles?{className:r,style:i}:void 0),...h})});py.classes=Oo;py.displayName="@mantine/core/InputDescription";const Dae={},Lae=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Dn(e)} - ${$(2)})`}}),my=Ce((t,e)=>{const n=Y("InputError",Dae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,size:c,__staticSelector:u,__inheritStyles:d=!0,variant:f,...h}=n,p=we({name:["InputWrapper",u],props:n,classes:Oo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"error",vars:a,varsResolver:Lae}),m=hy(),b=d&&(m==null?void 0:m.getStyles)||p;return g.jsx(re,{component:"p",ref:e,variant:f,size:c,...b("error",m!=null&&m.getStyles?{className:r,style:i}:void 0),...h})});my.classes=Oo;my.displayName="@mantine/core/InputError";const HA={labelElement:"label"},jae=(t,{size:e})=>({label:{"--input-label-size":Dn(e),"--input-asterisk-color":void 0}}),gy=Ce((t,e)=>{const n=Y("InputLabel",HA,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,labelElement:c,size:u,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:m,variant:b,mod:y,...w}=Y("InputLabel",HA,n),k=we({name:["InputWrapper",m],props:n,classes:Oo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"label",vars:a,varsResolver:jae}),x=hy(),C=(x==null?void 0:x.getStyles)||k;return g.jsxs(re,{...C("label",x!=null&&x.getStyles?{className:r,style:i}:void 0),component:c,variant:b,size:u,ref:e,htmlFor:c==="label"?f:void 0,mod:[{required:d},y],onMouseDown:E=>{h==null||h(E),!E.defaultPrevented&&E.detail>1&&E.preventDefault()},...w,children:[p,d&&g.jsx("span",{...C("required"),"aria-hidden":!0,children:" *"})]})});gy.classes=Oo;gy.displayName="@mantine/core/InputLabel";const VA={},IS=Ce((t,e)=>{const n=Y("InputPlaceholder",VA,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,__staticSelector:c,variant:u,error:d,mod:f,...h}=Y("InputPlaceholder",VA,n),p=we({name:["InputPlaceholder",c],props:n,classes:Oo,className:r,style:i,classNames:o,styles:s,unstyled:l,rootSelector:"placeholder"});return g.jsx(re,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:u,ref:e,...h})});IS.classes=Oo;IS.displayName="@mantine/core/InputPlaceholder";function Bae(t,{hasDescription:e,hasError:n}){const o=t.findIndex(a=>a==="input"),r=t.slice(0,o),i=t.slice(o+1),s=e&&r.includes("description")||n&&r.includes("error");return{offsetBottom:e&&i.includes("description")||n&&i.includes("error"),offsetTop:s}}const $ae={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},zae=(t,{size:e})=>({label:{"--input-label-size":Dn(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Dn(e)} - ${$(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Dn(e)} - ${$(2)})`}}),HS=Ce((t,e)=>{const n=Y("InputWrapper",$ae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,size:c,variant:u,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:m,description:b,labelProps:y,descriptionProps:w,errorProps:k,labelElement:x,children:C,withAsterisk:E,id:_,required:S,__stylesApiProps:M,mod:T,...B}=n,I=we({name:["InputWrapper",d],props:M||n,classes:Oo,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:zae}),V={size:c,variant:u,__staticSelector:d},F=Os(_),U=typeof E=="boolean"?E:S,N=(k==null?void 0:k.id)||`${F}-error`,O=(w==null?void 0:w.id)||`${F}-description`,R=F,L=!!m&&typeof m!="boolean",q=!!b,G=`${L?N:""} ${q?O:""}`,ne=G.trim().length>0?G.trim():void 0,pe=(y==null?void 0:y.id)||`${F}-label`,Oe=p&&g.jsx(gy,{labelElement:x,id:pe,htmlFor:R,required:U,...V,...y,children:p},"label"),Ie=q&&g.jsx(py,{...w,...V,size:(w==null?void 0:w.size)||V.size,id:(w==null?void 0:w.id)||O,children:b},"description"),He=g.jsx(v.Fragment,{children:f(C)},"input"),Ve=L&&v.createElement(my,{...k,...V,size:(k==null?void 0:k.size)||V.size,key:"error",id:(k==null?void 0:k.id)||N},m),zt=h.map(Ke=>{switch(Ke){case"label":return Oe;case"input":return He;case"description":return Ie;case"error":return Ve;default:return null}});return g.jsx(Rae,{value:{getStyles:I,describedBy:ne,inputId:R,labelId:pe,...Bae(h,{hasDescription:q,hasError:L})},children:g.jsx(re,{ref:e,variant:u,size:c,mod:[{error:!!m},T],...I("root"),...B,children:zt})})});HS.classes=Oo;HS.displayName="@mantine/core/InputWrapper";const Pae={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Iae=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Fe(e.size,"input-height"),"--input-fz":Dn(e.size),"--input-radius":e.radius===void 0?void 0:sn(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?$(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?$(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Fe(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),io=wn((t,e)=>{const n=Y("Input",Pae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,required:a,__staticSelector:c,__stylesApiProps:u,size:d,wrapperProps:f,error:h,disabled:p,leftSection:m,leftSectionProps:b,leftSectionWidth:y,rightSection:w,rightSectionProps:k,rightSectionWidth:x,rightSectionPointerEvents:C,leftSectionPointerEvents:E,variant:_,vars:S,pointer:M,multiline:T,radius:B,id:I,withAria:V,withErrorStyles:F,mod:U,inputSize:N,__clearSection:O,__clearable:R,__defaultRightSection:L,...q}=n,{styleProps:G,rest:ne}=uy(q),pe=hy(),Oe={offsetBottom:pe==null?void 0:pe.offsetBottom,offsetTop:pe==null?void 0:pe.offsetTop},Ie=we({name:["Input",c],props:u||n,classes:Oo,className:r,style:i,classNames:o,styles:s,unstyled:l,stylesCtx:Oe,rootSelector:"wrapper",vars:S,varsResolver:Iae}),He=V?{required:a,disabled:p,"aria-invalid":!!h,"aria-describedby":pe==null?void 0:pe.describedBy,id:(pe==null?void 0:pe.inputId)||I}:{},Ve=w||R&&O||L;return g.jsx(Tae,{value:{size:d||"sm"},children:g.jsxs(re,{...Ie("wrapper"),...G,...f,mod:[{error:!!h&&F,pointer:M,disabled:p,multiline:T,"data-with-right-section":!!Ve,"data-with-left-section":!!m},U],variant:_,size:d,children:[m&&g.jsx("div",{...b,"data-position":"left",...Ie("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:m}),g.jsx(re,{component:"input",...ne,...He,ref:e,required:a,mod:{disabled:p,error:!!h&&F},variant:_,__size:N,...Ie("input")}),Ve&&g.jsx("div",{...k,"data-position":"right",...Ie("section",{className:k==null?void 0:k.className,style:k==null?void 0:k.style}),children:Ve})]})})});io.classes=Oo;io.Wrapper=HS;io.Label=gy;io.Error=my;io.Description=py;io.Placeholder=IS;io.ClearButton=H9;io.displayName="@mantine/core/Input";function Hae(t,e,n){const o=Y(t,e,n),{label:r,description:i,error:s,required:l,classNames:a,styles:c,className:u,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:b,wrapperProps:y,id:w,size:k,style:x,inputContainer:C,inputWrapperOrder:E,withAsterisk:_,variant:S,vars:M,mod:T,...B}=o,{styleProps:I,rest:V}=uy(B),F={label:r,description:i,error:s,required:l,classNames:a,className:u,__staticSelector:f,__stylesApiProps:h||o,errorProps:p,labelProps:m,descriptionProps:b,unstyled:d,styles:c,size:k,style:x,inputContainer:C,inputWrapperOrder:E,withAsterisk:_,variant:S,id:w,mod:T,...y};return{...V,classNames:a,styles:c,unstyled:d,wrapperProps:{...F,...I},inputProps:{required:l,classNames:a,styles:c,unstyled:d,size:k,__staticSelector:f,__stylesApiProps:h||o,error:s,variant:S,id:w}}}const Vae={__staticSelector:"InputBase",withAria:!0},cu=wn((t,e)=>{const{inputProps:n,wrapperProps:o,...r}=Hae("InputBase",Vae,t);return g.jsx(io.Wrapper,{...o,children:g.jsx(io,{...n,...r,ref:e})})});cu.classes={...io.classes,...io.Wrapper.classes};cu.displayName="@mantine/core/InputBase";const Uae={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var V9={root:"m_8bffd616"};const Fae={},VS=wn((t,e)=>{const n=Y("Flex",Fae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,gap:c,rowGap:u,columnGap:d,align:f,justify:h,wrap:p,direction:m,...b}=n,y=we({name:"Flex",classes:V9,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a}),w=so(),k=y9(),x=b9({styleProps:{gap:c,rowGap:u,columnGap:d,align:f,justify:h,wrap:p,direction:m},theme:w,data:Uae});return g.jsxs(g.Fragment,{children:[x.hasResponsiveStyles&&g.jsx(g9,{selector:`.${k}`,styles:x.styles,media:x.media}),g.jsx(re,{ref:e,...y("root",{className:k,style:sy(x.inlineStyles)}),...b})]})});VS.classes=V9;VS.displayName="@mantine/core/Flex";var U9={root:"m_b6d8b162"};function qae(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const Gae={inherit:!1},Zae=(t,{variant:e,lineClamp:n,gradient:o,size:r,color:i})=>({root:{"--text-fz":Dn(r),"--text-lh":$se(r),"--text-gradient":e==="gradient"?Jw(o,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":i?_r(i,t):void 0}}),Er=wn((t,e)=>{const n=Y("Text",Gae,t),{lineClamp:o,truncate:r,inline:i,inherit:s,gradient:l,span:a,__staticSelector:c,vars:u,className:d,style:f,classNames:h,styles:p,unstyled:m,variant:b,mod:y,size:w,...k}=n,x=we({name:["Text",c],props:n,classes:U9,className:d,style:f,classNames:h,styles:p,unstyled:m,vars:u,varsResolver:Zae});return g.jsx(re,{...x("root",{focusable:!0}),ref:e,component:a?"span":"p",variant:b,mod:[{"data-truncate":qae(r),"data-line-clamp":typeof o=="number","data-inline":i,"data-inherit":s},y],size:w,...k})});Er.classes=U9;Er.displayName="@mantine/core/Text";function US({size:t,style:e,...n}){const o=t!==void 0?{width:$(t),height:$(t),...e}:e;return g.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,"aria-hidden":!0,...n,children:g.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}const F9=v.createContext(null),Kae=F9.Provider;function Wae(){return{withinGroup:!!v.useContext(F9)}}var by={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const Yae={},Xae=(t,{spacing:e})=>({group:{"--ag-spacing":Jf(e)}}),FS=Ce((t,e)=>{const n=Y("AvatarGroup",Yae,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,spacing:c,...u}=n,d=we({name:"AvatarGroup",classes:by,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Xae,rootSelector:"group"});return g.jsx(Kae,{value:!0,children:g.jsx(re,{ref:e,...d("group"),...u})})});FS.classes=by;FS.displayName="@mantine/core/AvatarGroup";function Jae(t){return g.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function Qae(t){let e=0;for(let n=0;n<t.length;n+=1){const o=t.charCodeAt(n);e=(e<<5)-e+o,e|=0}return e}const ece=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function tce(t,e=ece){const n=Qae(t),o=Math.abs(n)%e.length;return e[o]}function nce(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(o=>o[0]).slice(0,e).join("").toUpperCase()}const oce={},rce=(t,{size:e,radius:n,variant:o,gradient:r,color:i,autoContrast:s,name:l,allowedInitialsColors:a})=>{const c=i==="initials"&&typeof l=="string"?tce(l,a):i,u=t.variantColorResolver({color:c||"gray",theme:t,gradient:r,variant:o||"light",autoContrast:s});return{root:{"--avatar-size":Fe(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:sn(n),"--avatar-bg":c||o?u.background:void 0,"--avatar-color":c||o?u.color:void 0,"--avatar-bd":c||o?u.border:void 0}}},yy=wn((t,e)=>{const n=Y("Avatar",oce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,src:c,alt:u,radius:d,color:f,gradient:h,imageProps:p,children:m,autoContrast:b,mod:y,name:w,allowedInitialsColors:k,...x}=n,C=Wae(),[E,_]=v.useState(!c),S=we({name:"Avatar",props:n,classes:by,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:rce});return v.useEffect(()=>_(!c),[c]),g.jsx(re,{...S("root"),mod:[{"within-group":C.withinGroup},y],ref:e,...x,children:E?g.jsx("span",{...S("placeholder"),title:u,children:m||typeof w=="string"&&nce(w)||g.jsx(Jae,{})}):g.jsx("img",{...p,...S("image"),src:c,alt:u,onError:M=>{var T;_(!0),(T=p==null?void 0:p.onError)==null||T.call(p,M)}})})});yy.classes=by;yy.displayName="@mantine/core/Avatar";yy.Group=FS;var q9={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const ice={},sce=(t,{radius:e,color:n,gradient:o,variant:r,size:i,autoContrast:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:s});return{root:{"--badge-height":Fe(i,"badge-height"),"--badge-padding-x":Fe(i,"badge-padding-x"),"--badge-fz":Fe(i,"badge-fz"),"--badge-radius":e===void 0?void 0:sn(e),"--badge-bg":n||r?l.background:void 0,"--badge-color":n||r?l.color:void 0,"--badge-bd":n||r?l.border:void 0,"--badge-dot-color":r==="dot"?_r(n,t):void 0}}},qS=wn((t,e)=>{const n=Y("Badge",ice,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,radius:c,color:u,gradient:d,leftSection:f,rightSection:h,children:p,variant:m,fullWidth:b,autoContrast:y,circle:w,mod:k,...x}=n,C=we({name:"Badge",props:n,classes:q9,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:sce});return g.jsxs(re,{variant:m,mod:[{block:b,circle:w,"with-right-section":!!h,"with-left-section":!!f},k],...C("root",{variant:m}),ref:e,...x,children:[f&&g.jsx("span",{...C("section"),"data-position":"left",children:f}),g.jsx("span",{...C("label"),children:p}),h&&g.jsx("span",{...C("section"),"data-position":"right",children:h})]})});qS.classes=q9;qS.displayName="@mantine/core/Badge";var uu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const UA={orientation:"horizontal"},lce=(t,{borderWidth:e})=>({group:{"--button-border-width":$(e)}}),GS=Ce((t,e)=>{const n=Y("ButtonGroup",UA,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,orientation:a,vars:c,borderWidth:u,variant:d,mod:f,...h}=Y("ButtonGroup",UA,t),p=we({name:"ButtonGroup",props:n,classes:uu,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:c,varsResolver:lce,rootSelector:"group"});return g.jsx(re,{...p("group"),ref:e,variant:d,mod:[{"data-orientation":a},f],role:"group",...h})});GS.classes=uu;GS.displayName="@mantine/core/ButtonGroup";const FA={},ace=(t,{radius:e,color:n,gradient:o,variant:r,autoContrast:i,size:s})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:i});return{groupSection:{"--section-height":Fe(s,"section-height"),"--section-padding-x":Fe(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?Dn(s.replace("compact-","")):Dn(s),"--section-radius":e===void 0?void 0:sn(e),"--section-bg":n||r?l.background:void 0,"--section-color":l.color,"--section-bd":n||r?l.border:void 0}}},ZS=Ce((t,e)=>{const n=Y("ButtonGroupSection",FA,t),{className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,variant:c,gradient:u,radius:d,autoContrast:f,...h}=Y("ButtonGroupSection",FA,t),p=we({name:"ButtonGroupSection",props:n,classes:uu,className:o,style:r,classNames:i,styles:s,unstyled:l,vars:a,varsResolver:ace,rootSelector:"groupSection"});return g.jsx(re,{...p("groupSection"),ref:e,variant:c,...h})});ZS.classes=uu;ZS.displayName="@mantine/core/ButtonGroupSection";const cce={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${$(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},uce={},dce=(t,{radius:e,color:n,gradient:o,variant:r,size:i,justify:s,autoContrast:l})=>{const a=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:o,variant:r||"filled",autoContrast:l});return{root:{"--button-justify":s,"--button-height":Fe(i,"button-height"),"--button-padding-x":Fe(i,"button-padding-x"),"--button-fz":i!=null&&i.includes("compact")?Dn(i.replace("compact-","")):Dn(i),"--button-radius":e===void 0?void 0:sn(e),"--button-bg":n||r?a.background:void 0,"--button-hover":n||r?a.hover:void 0,"--button-color":a.color,"--button-bd":n||r?a.border:void 0,"--button-hover-color":n||r?a.hoverColor:void 0}}},tr=wn((t,e)=>{const n=Y("Button",uce,t),{style:o,vars:r,className:i,color:s,disabled:l,children:a,leftSection:c,rightSection:u,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:m,gradient:b,classNames:y,styles:w,unstyled:k,"data-disabled":x,autoContrast:C,mod:E,..._}=n,S=we({name:"Button",props:n,classes:uu,className:i,style:o,classNames:y,styles:w,unstyled:k,vars:r,varsResolver:dce}),M=!!c,T=!!u;return g.jsxs(oa,{ref:e,...S("root",{active:!l&&!p&&!x}),unstyled:k,variant:f,disabled:l||p,mod:[{disabled:l||x,loading:p,block:d,"with-left-section":M,"with-right-section":T},E],..._,children:[g.jsx(ra,{mounted:!!p,transition:cce,duration:150,children:B=>g.jsx(re,{component:"span",...S("loader",{style:B}),"aria-hidden":!0,children:g.jsx(Gs,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),g.jsxs("span",{...S("inner"),children:[c&&g.jsx(re,{component:"span",...S("section"),mod:{position:"left"},children:c}),g.jsx(re,{component:"span",mod:{loading:p},...S("label"),children:a}),u&&g.jsx(re,{component:"span",...S("section"),mod:{position:"right"},children:u})]})]})});tr.classes=uu;tr.displayName="@mantine/core/Button";tr.Group=GS;tr.GroupSection=ZS;const[fce,hce]=ly("Card component was not found in tree");var KS={root:"m_e615b15f",section:"m_599a2148"};const pce={},vy=wn((t,e)=>{const n=Y("CardSection",pce,t),{classNames:o,className:r,style:i,styles:s,vars:l,withBorder:a,inheritPadding:c,mod:u,...d}=n,f=hce();return g.jsx(re,{ref:e,mod:[{"with-border":a,"inherit-padding":c},u],...f.getStyles("section",{className:r,style:i,styles:s,classNames:o}),...d})});vy.classes=KS;vy.displayName="@mantine/core/CardSection";const mce={},gce=(t,{padding:e})=>({root:{"--card-padding":Jf(e)}}),th=wn((t,e)=>{const n=Y("Card",mce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,children:c,padding:u,...d}=n,f=we({name:"Card",props:n,classes:KS,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:gce}),h=v.Children.toArray(c),p=h.map((m,b)=>typeof m=="object"&&m&&"type"in m&&m.type===vy?v.cloneElement(m,{"data-first-section":b===0||void 0,"data-last-section":b===h.length-1||void 0}):m);return g.jsx(fce,{value:{getStyles:f},children:g.jsx(LS,{ref:e,unstyled:l,...f("root"),...d,children:p})})});th.classes=KS;th.displayName="@mantine/core/Card";th.Section=vy;const[bce,yce]=ES(),vce={};function G9(t){const{value:e,defaultValue:n,onChange:o,multiple:r,children:i}=Y("ChipGroup",vce,t),[s,l]=Ds({value:e,defaultValue:n,finalValue:r?[]:null,onChange:o}),a=u=>Array.isArray(s)?s.includes(u):u===s,c=u=>{const d=u.currentTarget.value;Array.isArray(s)?l(s.includes(d)?s.filter(f=>f!==d):[...s,d]):l(d)};return g.jsx(bce,{value:{isChipSelected:a,onChange:c,multiple:r},children:i})}G9.displayName="@mantine/core/ChipGroup";var Z9={root:"m_f59ffda3",label:"m_be049a53","label--outline":"m_3904c1af","label--filled":"m_fa109255","label--light":"m_f7e165c3",iconWrapper:"m_9ac86df9",checkIcon:"m_d6d72580",input:"m_bde07329"};const wce={type:"checkbox"},kce=(t,{size:e,radius:n,variant:o,color:r,autoContrast:i})=>{const s=t.variantColorResolver({color:r||t.primaryColor,theme:t,variant:o||"filled",autoContrast:i});return{root:{"--chip-fz":Dn(e),"--chip-size":Fe(e,"chip-size"),"--chip-radius":n===void 0?void 0:sn(n),"--chip-checked-padding":Fe(e,"chip-checked-padding"),"--chip-padding":Fe(e,"chip-padding"),"--chip-icon-size":Fe(e,"chip-icon-size"),"--chip-bg":r||o?s.background:void 0,"--chip-hover":r||o?s.hover:void 0,"--chip-color":r||o?s.color:void 0,"--chip-bd":r||o?s.border:void 0,"--chip-spacing":Fe(e,"chip-spacing")}}},wy=Ce((t,e)=>{const n=Y("Chip",wce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,id:c,checked:u,defaultChecked:d,onChange:f,value:h,wrapperProps:p,type:m,disabled:b,children:y,size:w,variant:k,icon:x,rootRef:C,autoContrast:E,mod:_,...S}=n,M=we({name:"Chip",classes:Z9,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:kce}),T=yce(),B=Os(c),{styleProps:I,rest:V}=uy(S),[F,U]=Ds({value:u,defaultValue:d,finalValue:!1,onChange:f}),N=T?{checked:T.isChipSelected(h),onChange:R=>{T.onChange(R),f==null||f(R.currentTarget.checked)},type:T.multiple?"checkbox":"radio"}:{},O=N.checked||F;return g.jsxs(re,{size:w,variant:k,ref:C,mod:_,...M("root"),...I,...p,children:[g.jsx("input",{type:m,...M("input"),checked:O,onChange:R=>U(R.currentTarget.checked),id:B,disabled:b,ref:e,value:h,...N,...V}),g.jsxs("label",{htmlFor:B,"data-checked":O||void 0,"data-disabled":b||void 0,...M("label",{variant:k||"filled"}),children:[O&&g.jsx("span",{...M("iconWrapper"),children:x||g.jsx(US,{...M("checkIcon")})}),g.jsx("span",{children:y})]})]})});wy.classes=Z9;wy.displayName="@mantine/core/Chip";wy.Group=G9;var K9={root:"m_3eebeb36",label:"m_9e365f20"};const xce={orientation:"horizontal"},Cce=(t,{color:e,variant:n,size:o})=>({root:{"--divider-color":e?_r(e,t):void 0,"--divider-border-style":n,"--divider-size":Fe(o,"divider-size")}}),WS=Ce((t,e)=>{const n=Y("Divider",xce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,color:c,orientation:u,label:d,labelPosition:f,mod:h,...p}=n,m=we({name:"Divider",classes:K9,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Cce});return g.jsx(re,{ref:e,mod:[{orientation:u,"with-label":!!d},h],...m("root"),...p,role:"separator",children:d&&g.jsx(re,{component:"span",mod:{position:f},...m("label"),children:d})})});WS.classes=K9;WS.displayName="@mantine/core/Divider";const Sce={multiple:!1},W9=v.forwardRef((t,e)=>{const{onChange:n,children:o,multiple:r,accept:i,name:s,form:l,resetRef:a,disabled:c,capture:u,inputProps:d,...f}=Y("FileButton",Sce,t),h=v.useRef(null),p=()=>{var y;!c&&((y=h.current)==null||y.click())},m=y=>{n(r?Array.from(y.currentTarget.files):y.currentTarget.files[0]||null)};return Nd(a,()=>{h.current&&(h.current.value="")}),g.jsxs(g.Fragment,{children:[g.jsx("input",{style:{display:"none"},type:"file",accept:i,multiple:r,onChange:m,ref:ft(e,h),name:s,form:l,capture:u,...d}),o({onClick:p,...f})]})});W9.displayName="@mantine/core/FileButton";const _ce=({value:t})=>g.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(e=>e.name).join(", "):t==null?void 0:t.name}),Ece={valueComponent:_ce},YS=Ce((t,e)=>{const n=Y("FileInput",Ece,t),{unstyled:o,vars:r,onChange:i,value:s,defaultValue:l,multiple:a,accept:c,name:u,form:d,valueComponent:f,clearable:h,clearButtonProps:p,readOnly:m,capture:b,fileInputProps:y,rightSection:w,size:k,placeholder:x,component:C,resetRef:E,classNames:_,styles:S,...M}=n,T=v.useRef(null),{resolvedClassNames:B,resolvedStyles:I}=cy({classNames:_,styles:S,props:n}),[V,F]=Ds({value:s,defaultValue:l,onChange:i,finalValue:a?[]:null}),U=Array.isArray(V)?V.length!==0:V!==null,N=w||(h&&U&&!m?g.jsx(fy,{...p,variant:"subtle",onClick:()=>F(a?[]:null),size:k,unstyled:o}):null);v.useEffect(()=>{var R;(Array.isArray(V)&&V.length===0||V===null)&&((R=T.current)==null||R.call(T))},[V]);const O=f;return g.jsx(W9,{onChange:F,multiple:a,accept:c,name:u,form:d,resetRef:ft(T,E),disabled:m,capture:b,inputProps:y,children:R=>g.jsx(cu,{component:C||"button",ref:e,rightSection:N,...R,...M,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:o,size:k,classNames:_,styles:S,children:U?g.jsx(O,{value:V}):g.jsx(io.Placeholder,{__staticSelector:"FileInput",classNames:B,styles:I,children:x})})})});YS.classes=cu.classes;YS.displayName="@mantine/core/FileInput";const Mce=YS;function Tce({open:t,close:e,openDelay:n,closeDelay:o}){const r=v.useRef(-1),i=v.useRef(-1),s=()=>{window.clearTimeout(r.current),window.clearTimeout(i.current)},l=()=>{s(),n===0||n===void 0?t():r.current=window.setTimeout(t,n)},a=()=>{s(),o===0||o===void 0?e():i.current=window.setTimeout(e,o)};return v.useEffect(()=>s,[]),{openDropdown:l,closeDropdown:a}}var Y9={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const qA={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Xf("overlay")},Ace=(t,{zIndex:e})=>({root:{"--lo-z-index":e==null?void 0:e.toString()}}),XS=Ce((t,e)=>{const n=Y("LoadingOverlay",qA,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,transitionProps:c,loaderProps:u,overlayProps:d,visible:f,zIndex:h,...p}=n,m=so(),b=we({name:"LoadingOverlay",classes:Y9,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Ace}),y={...qA.overlayProps,...d};return g.jsx(ra,{transition:"fade",...c,mounted:!!f,children:w=>g.jsxs(re,{...b("root",{style:w}),ref:e,...p,children:[g.jsx(Gs,{...b("loader"),unstyled:l,...u}),g.jsx(ff,{...y,...b("overlay"),darkHidden:!0,unstyled:l,color:(d==null?void 0:d.color)||m.white}),g.jsx(ff,{...y,...b("overlay"),lightHidden:!0,unstyled:l,color:(d==null?void 0:d.color)||m.colors.dark[5]})]})})});XS.classes=Y9;XS.displayName="@mantine/core/LoadingOverlay";const[Nce,nh]=ly("Menu component was not found in the tree");var du={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Rce={},JS=Ce((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=Y("MenuDivider",Rce,t),a=nh();return g.jsx(re,{ref:e,...a.getStyles("divider",{className:o,style:r,styles:i,classNames:n}),...l})});JS.classes=du;JS.displayName="@mantine/core/MenuDivider";const Oce={},QS=Ce((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,onMouseEnter:l,onMouseLeave:a,onKeyDown:c,children:u,...d}=Y("MenuDropdown",Oce,t),f=v.useRef(null),h=nh(),p=fr(c,y=>{var w,k;(y.key==="ArrowUp"||y.key==="ArrowDown")&&(y.preventDefault(),(k=(w=f.current)==null?void 0:w.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||k.focus())}),m=fr(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),b=fr(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return g.jsxs(qs.Dropdown,{...d,onMouseEnter:m,onMouseLeave:b,role:"menu","aria-orientation":"vertical",ref:ft(e,f),...h.getStyles("dropdown",{className:o,style:r,styles:i,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:p,children:[h.withInitialFocusPlaceholder&&g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),u]})});QS.classes=du;QS.displayName="@mantine/core/MenuDropdown";const Dce={},e_=wn((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,color:l,closeMenuOnClick:a,leftSection:c,rightSection:u,children:d,disabled:f,"data-disabled":h,...p}=Y("MenuItem",Dce,t),m=nh(),b=so(),{dir:y}=Qf(),w=v.useRef(null),k=m.getItemIndex(w.current),x=p,C=fr(x.onMouseLeave,()=>m.setHovered(-1)),E=fr(x.onMouseEnter,()=>m.setHovered(m.getItemIndex(w.current))),_=fr(x.onClick,()=>{h||(typeof a=="boolean"?a&&m.closeDropdownImmediately():m.closeOnItemClick&&m.closeDropdownImmediately())}),S=fr(x.onFocus,()=>m.setHovered(m.getItemIndex(w.current))),M=l?b.variantColorResolver({color:l,theme:b,variant:"light"}):void 0,T=l?lu({color:l,theme:b}):null;return g.jsxs(oa,{...p,unstyled:m.unstyled,tabIndex:m.menuItemTabIndex,onFocus:S,...m.getStyles("item",{className:o,style:r,styles:i,classNames:n}),ref:ft(w,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||h||void 0,"data-hovered":m.hovered===k?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:C,onClick:_,onKeyDown:l9({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:m.loop,dir:y,orientation:"vertical",onKeyDown:x.onKeyDown}),__vars:{"--menu-item-color":T!=null&&T.isThemeColor&&(T==null?void 0:T.shade)===void 0?`var(--mantine-color-${T.color}-6)`:M==null?void 0:M.color,"--menu-item-hover":M==null?void 0:M.hover},children:[c&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"left",children:c}),d&&g.jsx("div",{...m.getStyles("itemLabel",{styles:i,classNames:n}),children:d}),u&&g.jsx("div",{...m.getStyles("itemSection",{styles:i,classNames:n}),"data-position":"right",children:u})]})});e_.classes=du;e_.displayName="@mantine/core/MenuItem";const Lce={},t_=Ce((t,e)=>{const{classNames:n,className:o,style:r,styles:i,vars:s,...l}=Y("MenuLabel",Lce,t),a=nh();return g.jsx(re,{ref:e,...a.getStyles("label",{className:o,style:r,styles:i,classNames:n}),...l})});t_.classes=du;t_.displayName="@mantine/core/MenuLabel";const jce={refProp:"ref"},X9=v.forwardRef((t,e)=>{const{children:n,refProp:o,...r}=Y("MenuTarget",jce,t);if(!Yf(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const i=nh(),s=n.props,l=fr(s.onClick,()=>{i.trigger==="click"?i.toggleDropdown():i.trigger==="click-hover"&&(i.setOpenedViaClick(!0),i.opened||i.openDropdown())}),a=fr(s.onMouseEnter,()=>(i.trigger==="hover"||i.trigger==="click-hover")&&i.openDropdown()),c=fr(s.onMouseLeave,()=>{(i.trigger==="hover"||i.trigger==="click-hover"&&!i.openedViaClick)&&i.closeDropdown()});return g.jsx(qs.Target,{refProp:o,popupType:"menu",ref:e,...r,children:v.cloneElement(n,{onClick:l,onMouseEnter:a,onMouseLeave:c,"data-expanded":i.opened?!0:void 0})})});X9.displayName="@mantine/core/MenuTarget";const Bce={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function dt(t){const e=Y("Menu",Bce,t),{children:n,onOpen:o,onClose:r,opened:i,defaultOpened:s,trapFocus:l,onChange:a,closeOnItemClick:c,loop:u,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:m,styles:b,unstyled:y,variant:w,vars:k,menuItemTabIndex:x,keepMounted:C,withInitialFocusPlaceholder:E,..._}=e,S=we({name:"Menu",classes:du,props:e,classNames:m,styles:b,unstyled:y}),[M,{setHovered:T,resetHovered:B}]=Pse(),[I,V]=Ds({value:i,defaultValue:s,finalValue:!1,onChange:a}),[F,U]=v.useState(!1),N=()=>{V(!1),U(!1),I&&(r==null||r())},O=()=>{V(!0),!I&&(o==null||o())},R=()=>{I?N():O()},{openDropdown:L,closeDropdown:q}=Tce({open:O,close:N,closeDelay:p,openDelay:h}),G=Oe=>zse("[data-menu-item]","[data-menu-dropdown]",Oe),{resolvedClassNames:ne,resolvedStyles:pe}=cy({classNames:m,styles:b,props:e});return Co(()=>{B()},[I]),g.jsx(Nce,{value:{getStyles:S,opened:I,toggleDropdown:R,getItemIndex:G,hovered:M,setHovered:T,openedViaClick:F,setOpenedViaClick:U,closeOnItemClick:c,closeDropdown:f==="click"?N:q,openDropdown:f==="click"?O:L,closeDropdownImmediately:N,loop:u,trigger:f,unstyled:y,menuItemTabIndex:x,withInitialFocusPlaceholder:E},children:g.jsx(qs,{..._,opened:I,onChange:R,defaultOpened:s,trapFocus:C?!1:l,closeOnEscape:d,__staticSelector:"Menu",classNames:ne,styles:pe,unstyled:y,variant:w,keepMounted:C,children:n})})}dt.extend=t=>t;dt.withProps=Wle(dt);dt.classes=du;dt.displayName="@mantine/core/Menu";dt.Item=e_;dt.Label=t_;dt.Dropdown=QS;dt.Target=X9;dt.Divider=JS;const $ce={duration:100,transition:"fade"};function zce(t,e){return{...$ce,...e,...t}}function Pce({offset:t,position:e,defaultOpened:n}){const[o,r]=v.useState(n),i=v.useRef(null),{x:s,y:l,elements:a,refs:c,update:u,placement:d}=Ql({placement:e,middleware:[js({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=d.includes("right")?t:e.includes("left")?t*-1:0,h=d.includes("bottom")?t:e.includes("top")?t*-1:0,p=v.useCallback(({clientX:m,clientY:b})=>{c.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:m,y:b,left:m+f,top:b+h,right:m,bottom:b}}})},[a.reference]);return v.useEffect(()=>{if(c.floating.current){const m=i.current;m.addEventListener("mousemove",p);const b=ai(c.floating.current);return b.forEach(y=>{y.addEventListener("scroll",u)}),()=>{m.removeEventListener("mousemove",p),b.forEach(y=>{y.removeEventListener("scroll",u)})}}},[a.reference,c.floating.current,u,p,o]),{handleMouseMove:p,x:s,y:l,opened:o,setOpened:r,boundaryRef:i,floating:c.setFloating}}var ky={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const Ice={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:Xf("popover")},Hce=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:sn(e),"--tooltip-bg":n?_r(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),n_=Ce((t,e)=>{const n=Y("TooltipFloating",Ice,t),{children:o,refProp:r,withinPortal:i,style:s,className:l,classNames:a,styles:c,unstyled:u,radius:d,color:f,label:h,offset:p,position:m,multiline:b,zIndex:y,disabled:w,defaultOpened:k,variant:x,vars:C,portalProps:E,..._}=n,S=so(),M=we({name:"TooltipFloating",props:n,classes:ky,className:l,style:s,classNames:a,styles:c,unstyled:u,rootSelector:"tooltip",vars:C,varsResolver:Hce}),{handleMouseMove:T,x:B,y:I,opened:V,boundaryRef:F,floating:U,setOpened:N}=Pce({offset:p,position:m,defaultOpened:k});if(!Yf(o))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const O=ft(F,MS(o),e),R=o.props,L=G=>{var ne;(ne=R.onMouseEnter)==null||ne.call(R,G),T(G),N(!0)},q=G=>{var ne;(ne=R.onMouseLeave)==null||ne.call(R,G),N(!1)};return g.jsxs(g.Fragment,{children:[g.jsx(eh,{...E,withinPortal:i,children:g.jsx(re,{..._,...M("tooltip",{style:{...v9(s,S),zIndex:y,display:!w&&V?"block":"none",top:(I&&Math.round(I))??"",left:(B&&Math.round(B))??""}}),variant:x,ref:U,mod:{multiline:b},children:h})}),v.cloneElement(o,{...R,[r]:O,onMouseEnter:L,onMouseLeave:q})]})});n_.classes=ky;n_.displayName="@mantine/core/TooltipFloating";const J9=v.createContext(!1),Vce=J9.Provider,Uce=()=>v.useContext(J9),Fce={openDelay:0,closeDelay:0};function o_(t){const{openDelay:e,closeDelay:n,children:o}=Y("TooltipGroup",Fce,t);return g.jsx(Vce,{value:!0,children:g.jsx(xH,{delay:{open:e,close:n},children:o})})}o_.displayName="@mantine/core/TooltipGroup";o_.extend=t=>t;function qce(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function Gce(t){const e=qce(t.middlewares),n=[Jo(t.offset)];return e.shift&&n.push(js(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?to():to(e.flip)),n.push(Cx({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?yl():yl(e.inline)):t.inline&&n.push(yl()),n}function Zce(t){var E,_,S;const[e,n]=v.useState(t.defaultOpened),r=typeof t.opened=="boolean"?t.opened:e,i=Uce(),s=Os(),l=v.useCallback(M=>{n(M),M&&w(s)},[s]),{x:a,y:c,context:u,refs:d,update:f,placement:h,middlewareData:{arrow:{x:p,y:m}={}}}=Ql({strategy:t.strategy,placement:t.position,open:r,onOpenChange:l,middleware:Gce(t)}),{delay:b,currentId:y,setCurrentId:w}=CH(u,{id:s}),{getReferenceProps:k,getFloatingProps:x}=nR([wH(u,{enabled:(E=t.events)==null?void 0:E.hover,delay:i?b:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((_=t.events)!=null&&_.touch)}),jH(u,{enabled:(S=t.events)==null?void 0:S.focus,visibleOnly:!0}),$H(u,{role:"tooltip"}),tR(u,{enabled:typeof t.opened>"u"})]);D9({opened:r,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:d,update:f}}),Co(()=>{var M;(M=t.onPositionChange)==null||M.call(t,h)},[h]);const C=r&&y&&y!==s;return{x:a,y:c,arrowX:p,arrowY:m,reference:d.setReference,floating:d.setFloating,getFloatingProps:x,getReferenceProps:k,isGroupPhase:C,opened:r,placement:h}}const GA={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Xf("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Kce=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:sn(e),"--tooltip-bg":n?_r(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),fu=Ce((t,e)=>{const n=Y("Tooltip",GA,t),{children:o,position:r,refProp:i,label:s,openDelay:l,closeDelay:a,onPositionChange:c,opened:u,defaultOpened:d,withinPortal:f,radius:h,color:p,classNames:m,styles:b,unstyled:y,style:w,className:k,withArrow:x,arrowSize:C,arrowOffset:E,arrowRadius:_,arrowPosition:S,offset:M,transitionProps:T,multiline:B,events:I,zIndex:V,disabled:F,positionDependencies:U,onClick:N,onMouseEnter:O,onMouseLeave:R,inline:L,variant:q,keepMounted:G,vars:ne,portalProps:pe,mod:Oe,floatingStrategy:Ie,middlewares:He,...Ve}=Y("Tooltip",GA,n),{dir:zt}=Qf(),Ke=v.useRef(null),Ct=Zce({position:M9(zt,r),closeDelay:a,openDelay:l,onPositionChange:c,opened:u,defaultOpened:d,events:I,arrowRef:Ke,arrowOffset:E,offset:typeof M=="number"?M+(x?C/2:0):M,positionDependencies:[...U,o],inline:L,strategy:Ie,middlewares:He}),lo=we({name:"Tooltip",props:n,classes:ky,className:k,style:w,classNames:m,styles:b,unstyled:y,rootSelector:"tooltip",vars:ne,varsResolver:Kce});if(!Yf(o))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const $r=ft(Ct.reference,MS(o),e),Do=zce(T,{duration:100,transition:"fade"}),Lo=o.props;return g.jsxs(g.Fragment,{children:[g.jsx(eh,{...pe,withinPortal:f,children:g.jsx(ra,{...Do,keepMounted:G,mounted:!F&&!!Ct.opened,duration:Ct.isGroupPhase?10:Do.duration,children:zr=>g.jsxs(re,{...Ve,"data-fixed":Ie==="fixed"||void 0,variant:q,mod:[{multiline:B},Oe],...Ct.getFloatingProps({ref:Ct.floating,className:lo("tooltip").className,style:{...lo("tooltip").style,...zr,zIndex:V,top:Ct.y??0,left:Ct.x??0}}),children:[s,g.jsx(jS,{ref:Ke,arrowX:Ct.arrowX,arrowY:Ct.arrowY,visible:x,position:Ct.placement,arrowSize:C,arrowOffset:E,arrowRadius:_,arrowPosition:S,...lo("arrow")})]})})}),v.cloneElement(o,Ct.getReferenceProps({onClick:N,onMouseEnter:O,onMouseLeave:R,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,className:it(k,Lo.className),...Lo,[i]:$r}))]})});fu.classes=ky;fu.displayName="@mantine/core/Tooltip";fu.Floating=n_;fu.Group=o_;var Q9={root:"m_18320242","skeleton-fade":"m_299c329c"};const Wce={visible:!0,animate:!0},Yce=(t,{width:e,height:n,radius:o,circle:r})=>({root:{"--skeleton-height":$(n),"--skeleton-width":$(r?n:e),"--skeleton-radius":r?"1000px":o===void 0?void 0:sn(o)}}),Ag=Ce((t,e)=>{const n=Y("Skeleton",Wce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,width:c,height:u,circle:d,visible:f,radius:h,animate:p,mod:m,...b}=n,y=we({name:"Skeleton",classes:Q9,props:n,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Yce});return g.jsx(re,{ref:e,...y("root"),mod:[{visible:f,animate:p},m],...b})});Ag.classes=Q9;Ag.displayName="@mantine/core/Skeleton";var ej={root:"m_6d731127"};const Xce={gap:"md",align:"stretch",justify:"flex-start"},Jce=(t,{gap:e,align:n,justify:o})=>({root:{"--stack-gap":Jf(e),"--stack-align":n,"--stack-justify":o}}),oh=Ce((t,e)=>{const n=Y("Stack",Xce,t),{classNames:o,className:r,style:i,styles:s,unstyled:l,vars:a,align:c,justify:u,gap:d,variant:f,...h}=n,p=we({name:"Stack",props:n,classes:ej,className:r,style:i,classNames:o,styles:s,unstyled:l,vars:a,varsResolver:Jce});return g.jsx(re,{ref:e,...p("root"),variant:f,...h})});oh.classes=ej;oh.displayName="@mantine/core/Stack";const[Qce,r_]=ly("Tabs component was not found in the tree");var rh={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const eue={},i_=Ce((t,e)=>{const n=Y("TabsList",eue,t),{children:o,className:r,grow:i,justify:s,classNames:l,styles:a,style:c,mod:u,...d}=n,f=r_();return g.jsx(re,{...d,...f.getStyles("list",{className:r,style:c,classNames:l,styles:a,props:n,variant:f.variant}),ref:e,role:"tablist",variant:f.variant,mod:[{grow:i,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},u],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s},children:o})});i_.classes=rh;i_.displayName="@mantine/core/TabsList";const tue={},s_=Ce((t,e)=>{const n=Y("TabsPanel",tue,t),{children:o,className:r,value:i,classNames:s,styles:l,style:a,mod:c,keepMounted:u,...d}=n,f=r_(),h=f.value===i,p=f.keepMounted||u||h?o:null;return g.jsx(re,{...d,...f.getStyles("panel",{className:r,classNames:s,styles:l,style:[a,h?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:f.orientation},c],role:"tabpanel",id:f.getPanelId(i),"aria-labelledby":f.getTabId(i),children:p})});s_.classes=rh;s_.displayName="@mantine/core/TabsPanel";const nue={},l_=Ce((t,e)=>{const n=Y("TabsTab",nue,t),{className:o,children:r,rightSection:i,leftSection:s,value:l,onClick:a,onKeyDown:c,disabled:u,color:d,style:f,classNames:h,styles:p,vars:m,mod:b,tabIndex:y,...w}=n,k=so(),{dir:x}=Qf(),C=r_(),E=l===C.value,_=M=>{C.onChange(C.allowTabDeactivation&&l===C.value?null:l),a==null||a(M)},S={classNames:h,styles:p,props:n};return g.jsxs(oa,{...w,...C.getStyles("tab",{className:o,style:f,variant:C.variant,...S}),disabled:u,unstyled:C.unstyled,variant:C.variant,mod:[{active:E,disabled:u,orientation:C.orientation,inverted:C.inverted,placement:C.orientation==="vertical"&&C.placement},b],ref:e,role:"tab",id:C.getTabId(l),"aria-selected":E,tabIndex:y!==void 0?y:E||C.value===null?0:-1,"aria-controls":C.getPanelId(l),onClick:_,__vars:{"--tabs-color":d?_r(d,k):void 0},onKeyDown:l9({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:C.activateTabWithKeyboard,loop:C.loop,orientation:C.orientation||"horizontal",dir:x,onKeyDown:c}),children:[s&&g.jsx("span",{...C.getStyles("tabSection",S),"data-position":"left",children:s}),r&&g.jsx("span",{...C.getStyles("tabLabel",S),children:r}),i&&g.jsx("span",{...C.getStyles("tabSection",S),"data-position":"right",children:i})]})});l_.classes=rh;l_.displayName="@mantine/core/TabsTab";const ZA="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",oue={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},rue=(t,{radius:e,color:n,autoContrast:o})=>({root:{"--tabs-radius":sn(e),"--tabs-color":_r(n,t),"--tabs-text-color":Ale(o,t)?f9({color:n,theme:t,autoContrast:o}):void 0}}),ii=Ce((t,e)=>{const n=Y("Tabs",oue,t),{defaultValue:o,value:r,onChange:i,orientation:s,children:l,loop:a,id:c,activateTabWithKeyboard:u,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,placement:b,keepMounted:y,classNames:w,styles:k,unstyled:x,className:C,style:E,vars:_,autoContrast:S,mod:M,...T}=n,B=Os(c),[I,V]=Ds({value:r,defaultValue:o,finalValue:null,onChange:i}),F=we({name:"Tabs",props:n,classes:rh,className:C,style:E,classNames:w,styles:k,unstyled:x,vars:_,varsResolver:rue});return g.jsx(Qce,{value:{placement:b,value:I,orientation:s,id:B,loop:a,activateTabWithKeyboard:u,getTabId:EA(`${B}-tab`,ZA),getPanelId:EA(`${B}-panel`,ZA),onChange:V,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:m,keepMounted:y,unstyled:x,getStyles:F},children:g.jsx(re,{ref:e,id:B,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&m,placement:s==="vertical"&&b},M],...F("root"),...T,children:l})})});ii.classes=rh;ii.displayName="@mantine/core/Tabs";ii.Tab=l_;ii.Panel=s_;ii.List=i_;const iue={},xy=Ce((t,e)=>{const n=Y("TextInput",iue,t);return g.jsx(cu,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});xy.classes=cu.classes;xy.displayName="@mantine/core/TextInput";const tj=(t,e,n=!1)=>{const o=[];function r(i,s="--bn"){for(const l in i){const a=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),c=`${s}-${a}`;typeof i[l]!="object"?(typeof i[l]=="number"&&(i[l]=`${i[l]}px`),n?e.style.removeProperty(c):e.style.setProperty(c,i[l].toString())):r(i[l],c)}}return r(t),o},KA=(t,e)=>tj(t,e),sue={colors:{editor:{text:void 0,background:void 0},menu:{text:void 0,background:void 0},tooltip:{text:void 0,background:void 0},hovered:{text:void 0,background:void 0},selected:{text:void 0,background:void 0},disabled:{text:void 0,background:void 0},shadow:void 0,border:void 0,sideMenu:void 0,highlights:{gray:{text:void 0,background:void 0},brown:{text:void 0,background:void 0},red:{text:void 0,background:void 0},orange:{text:void 0,background:void 0},yellow:{text:void 0,background:void 0},green:{text:void 0,background:void 0},blue:{text:void 0,background:void 0},purple:{text:void 0,background:void 0},pink:{text:void 0,background:void 0}}},borderRadius:void 0,fontFamily:void 0},lue=t=>tj(sue,t,!0),nj=t=>g.jsxs(oh,{gap:0,className:"bn-tooltip",children:[g.jsx(Er,{size:"sm",lineClamp:5,children:t.mainTooltip}),t.secondaryTooltip&&g.jsx(Er,{size:"xs",lineClamp:5,children:t.secondaryTooltip})]}),T1=v.forwardRef((t,e)=>{const{className:n,children:o,mainTooltip:r,secondaryTooltip:i,icon:s,isSelected:l,isDisabled:a,onClick:c,label:u,variant:d,...f}=t;ae(f,!1);const[h,p]=v.useState(!1),m=o?g.jsx(tr,{"aria-label":u,className:n,onMouseDown:b=>{Bw()&&b.currentTarget.focus()},onClick:b=>{p(!0),c==null||c(b)},onPointerLeave:()=>p(!1),"aria-pressed":l,"data-selected":l||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:d==="compact"?"compact-xs":"xs",disabled:a||!1,ref:e,...f,children:o}):g.jsx(ia,{className:n,"aria-label":u,onMouseDown:b=>{Bw()&&b.currentTarget.focus()},onClick:b=>{p(!0),c==null||c(b)},onPointerLeave:()=>p(!1),"aria-pressed":l,"data-selected":l||void 0,"data-test":r?r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1):void 0,size:d==="compact"?20:30,disabled:a||!1,ref:e,...f,children:s});return r?g.jsx(fu,{disabled:h,withinPortal:!1,label:g.jsx(nj,{mainTooltip:r,secondaryTooltip:i}),children:m}):m}),aue=v.forwardRef((t,e)=>{const{className:n,text:o,icon:r,isSelected:i,mainTooltip:s,secondaryTooltip:l,onClick:a,onMouseEnter:c,...u}=t;ae(u,!1);const[d,f]=v.useState(!1),h=g.jsxs(wy,{className:n,checked:i===!0,wrapperProps:{onMouseEnter:c,onMouseLeave:()=>f(!1),onClick:p=>{f(!0),a==null||a(p)}},variant:"light",icon:null,ref:e,children:[g.jsx("span",{children:r}),g.jsx("span",{children:o})]});return!s||d?h:g.jsx(fu,{refProp:"rootRef",withinPortal:!1,label:g.jsx(nj,{mainTooltip:s,secondaryTooltip:l}),children:h})}),cue=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r),g.jsx(Gt,{className:n,ref:e,children:o})}),uue=v.forwardRef((t,e)=>{const{className:n,children:o,headerText:r,selected:i,onFocus:s,onBlur:l,tabIndex:a,...c}=t;ae(c,!1);const u=v.useRef(null);return v.useEffect(()=>{var d;i&&((d=u.current)==null||d.scrollIntoView({behavior:"smooth",block:"center"}))},[i]),g.jsxs(th,{className:qe(n,i?"selected":""),onFocus:s,onBlur:l,tabIndex:a,ref:vS([e,u]),children:[r&&g.jsx(Er,{className:"bn-header-text",children:r}),o]})}),due=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r,!1),g.jsx(th.Section,{className:n,ref:e,children:o})}),fue=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r,!1),g.jsx(WS,{className:n,label:g.jsx(Er,{children:o}),ref:e})}),hue=v.forwardRef((t,e)=>{const{authorInfo:n,timeString:o,edited:r,...i}=t,s=se();return ae(i,!1),n==="loading"?g.jsxs(Gt,{children:[g.jsx(Ag,{height:24,width:24}),g.jsx("div",{children:g.jsx(Ag,{height:12,width:100})})]}):g.jsxs(Gt,{children:[g.jsx(yy,{src:n.avatarUrl,alt:n.username,radius:"xl",size:"sm",color:"initials"}),g.jsxs(Er,{fz:"sm",fw:"bold",children:[n.username,g.jsxs(Er,{fz:"xs",c:"dimmed",span:!0,ml:"xs",children:[o," ",r&&`(${s.comments.edited})`]})]})]})}),pue=v.forwardRef((t,e)=>{const{className:n,showActions:o,authorInfo:r,timeString:i,edited:s,actions:l,children:a,...c}=t,{hovered:u,ref:d}=mz(),{focused:f,ref:h}=v5(),p=vS([e,d]);return ae(c,!1),g.jsxs(Gt,{pos:"relative",ref:p,className:n,children:[l&&(o===!0||o===void 0||o==="hover"&&u||f)?g.jsx(Gt,{ref:h,style:{position:"absolute",right:0,top:0,zIndex:10},children:l}):null,g.jsx(hue,{...t}),a]})}),mue=v.forwardRef((t,e)=>{const{className:n,autoFocus:o,onFocus:r,onBlur:i,editor:s,editable:l,...a}=t;return ae(a,!1),g.jsx(tk,{autoFocus:o,className:n,editor:t.editor,sideMenu:!1,slashMenu:!1,tableHandles:!1,filePanel:!1,formattingToolbar:!1,editable:l,ref:e,onFocus:r,onBlur:i,children:g.jsx(kS,{formattingToolbar:gue})})}),gue=()=>{const t=F8([]).filter(e=>e.key!=="nestBlockButton"&&e.key!=="unnestBlockButton");return g.jsx(wS,{blockTypeSelectItems:[],children:t})},bue=v.forwardRef((t,e)=>{const{className:n,name:o,label:r,variant:i,icon:s,value:l,autoFocus:a,placeholder:c,disabled:u,onKeyDown:d,onChange:f,onSubmit:h,autoComplete:p,rightSection:m,...b}=t;return ae(b),g.jsx(xy,{size:"xs",className:qe(n||"",i==="large"?"bn-mt-input-large":""),ref:e,name:o,label:r,leftSection:s,value:l,autoFocus:a,"data-autofocus":a?"true":void 0,rightSection:m,placeholder:c,disabled:u,onKeyDown:d,onChange:f,onSubmit:h,autoComplete:p})});var oj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},WA=X.createContext&&X.createContext(oj),yue=["attr","size","title"];function vue(t,e){if(t==null)return{};var n=wue(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function wue(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ng.apply(this,arguments)}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(o){kue(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function kue(t,e,n){return e=xue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rj(t){return t&&t.map((e,n)=>X.createElement(e.tag,Rg({key:n},e.attr),rj(e.child)))}function ij(t){return e=>X.createElement(Sue,Ng({attr:Rg({},t.attr)},e),rj(t.child))}function Sue(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=vue(t,yue),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),X.createElement("svg",Ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:Rg(Rg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),t.children)};return WA!==void 0?X.createElement(WA.Consumer,null,n=>e(n)):e(oj)}function _ue(t){return ij({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(t)}function Eue(t){return ij({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(t)}const sj=v.createContext(void 0),Mue=v.forwardRef((t,e)=>{const{children:n,onOpenChange:o,position:r,sub:i,...s}=t;ae(s);const[l,a]=v.useState(!1),c=v.useRef(null),u=v.useRef(void 0),d=v.useCallback(()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{a(!1)},250)},[]),f=v.useCallback(()=>{u.current&&clearTimeout(u.current),a(!0)},[]);return g.jsx(sj.Provider,{value:{onMenuMouseOver:f,onMenuMouseLeave:d},children:g.jsx(dt.Item,{className:"bn-menu-item bn-mt-sub-menu-item",ref:Af(e,c),onMouseOver:f,onMouseLeave:d,children:g.jsx(dt,{portalProps:{target:c.current?c.current.parentElement:void 0},middlewares:{flip:!0,shift:!0,inline:!1,size:!0},trigger:"hover",opened:l,onChange:o,position:r,children:n})})})}),Tue=t=>{const{children:e,onOpenChange:n,position:o,sub:r,...i}=t;return ae(i),r?g.jsx(Mue,{...t}):g.jsx(dt,{withinPortal:!1,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},onChange:n,position:o,children:e})},Aue=v.forwardRef((t,e)=>{const{className:n,children:o,icon:r,checked:i,subTrigger:s,onClick:l,...a}=t;return ae(a,!1),s?g.jsxs("div",{onClick:c=>{c.preventDefault(),c.stopPropagation()},ref:e,...a,children:[o,g.jsx(Eue,{size:15})]}):g.jsx(dt.Item,{className:n,ref:e,leftSection:r,rightSection:i?g.jsx(US,{size:10}):i===!1?g.jsx("div",{className:"bn-tick-space"}):null,onClick:l,...a,children:o})}),Nue=t=>{const{children:e,sub:n,...o}=t;return ae(o),g.jsx(dt.Target,{children:e})},Rue=v.forwardRef((t,e)=>{const{className:n,children:o,sub:r,...i}=t;ae(i);const s=v.useContext(sj);return g.jsx(dt.Dropdown,{className:n,ref:e,onMouseOver:s==null?void 0:s.onMenuMouseOver,onMouseLeave:s==null?void 0:s.onMenuMouseLeave,children:o})}),Oue=v.forwardRef((t,e)=>{const{className:n,...o}=t;return ae(o),g.jsx(dt.Divider,{className:n,ref:e})}),Due=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r),g.jsx(dt.Label,{className:n,ref:e,children:o})}),Lue=v.forwardRef((t,e)=>{const{className:n,children:o,icon:r,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,label:c,...u}=t;return ae(u,!1),r?g.jsx(ia,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:r}):g.jsx(tr,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:o})}),jue=v.forwardRef((t,e)=>{const{className:n,tabs:o,defaultOpenTab:r,openTab:i,setOpenTab:s,loading:l,...a}=t;return ae(a),g.jsx(Gt,{className:n,ref:e,children:g.jsxs(ii,{value:i,defaultValue:r,onChange:s,children:[l&&g.jsx(XS,{visible:l}),g.jsx(ii.List,{children:o.map(c=>g.jsx(ii.Tab,{"data-test":`${c.name.toLowerCase()}-tab`,value:c.name,children:c.name},c.name))}),o.map(c=>g.jsx(ii.Panel,{value:c.name,children:c.tabPanel},c.name))]})})}),Bue=v.forwardRef((t,e)=>{const{className:n,children:o,onClick:r,label:i,...s}=t;return ae(s),g.jsx(tr,{size:"xs","aria-label":i,className:n,ref:e,onClick:r,...s,children:o})}),$ue=v.forwardRef((t,e)=>{const{className:n,accept:o,value:r,placeholder:i,onChange:s,...l}=t;return ae(l),g.jsx(Mce,{size:"xs",className:n,ref:e,accept:o,value:r,placeholder:i,onChange:s,...l})}),zue=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r),g.jsx("div",{className:n,ref:e,children:o})}),Pue=v.forwardRef((t,e)=>{const{className:n,value:o,placeholder:r,onKeyDown:i,onChange:s,...l}=t;return ae(l),g.jsx(xy,{size:"xs","data-test":"embed-input",className:n,ref:e,value:o,placeholder:r,onKeyDown:i,onChange:s})}),Iue=t=>{const{opened:e,position:n,children:o,...r}=t;return ae(r),g.jsx(qs,{withinPortal:!1,opened:e,position:n,children:o})},Hue=t=>{const{children:e,...n}=t;return ae(n),g.jsx($S,{children:e})},Vue=v.forwardRef((t,e)=>{const{className:n,children:o,variant:r,...i}=t;return ae(i),g.jsx(dy,{className:n,ref:e,children:o})}),Uue=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r,!1),g.jsx(Gt,{align:"center",gap:0,className:n,ref:e,...r,children:o})}),Fue=v.forwardRef((t,e)=>{const{className:n,children:o,icon:r,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,label:c,...u}=t;return ae(u,!1),r?g.jsx(ia,{size:24,className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:r}):g.jsx(tr,{className:n,ref:e,onClick:i,onDragEnd:s,onDragStart:l,draggable:a,"aria-label":c,...u,children:o})}),que=v.forwardRef((t,e)=>{const{className:n,children:o,id:r,...i}=t;return ae(i),g.jsx(oh,{gap:0,className:n,ref:e,id:r,role:"listbox",children:o})}),Gue=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r),g.jsx(Gt,{className:n,ref:e,children:g.jsx(Gt,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),Zue=v.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:r,item:i,id:s,...l}=t;ae(l);const a=v.useRef(null);return v.useEffect(()=>{if(!a.current||!o)return;const c=r9(a.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));c==="top"?a.current.scrollIntoView(!0):c==="bottom"&&a.current.scrollIntoView(!1)},[o]),g.jsxs(Gt,{gap:0,className:n,ref:Af(e,a),id:s,role:"option",onMouseDown:c=>c.preventDefault(),onClick:r,"aria-selected":o||void 0,children:[i.icon&&g.jsx(Gt,{className:"bn-mt-suggestion-menu-item-section","data-position":"left",children:i.icon}),g.jsxs(oh,{gap:0,className:"bn-mt-suggestion-menu-item-body",children:[g.jsx(Er,{className:"bn-mt-suggestion-menu-item-title",children:i.title}),g.jsx(Er,{className:"bn-mt-suggestion-menu-item-subtitle",children:i.subtext})]}),i.badge&&g.jsx(Gt,{"data-position":"right",className:"bn-mt-suggestion-menu-item-section",children:g.jsx(qS,{size:"xs",children:i.badge})})]})}),Kue=v.forwardRef((t,e)=>{const{className:n,children:o,...r}=t;return ae(r),g.jsx(Gt,{className:n,ref:e,children:o})}),Wue=v.forwardRef((t,e)=>{const{className:n,...o}=t;return ae(o),g.jsx(Gs,{className:n,type:"dots",size:16,ref:e})}),Yue=v.forwardRef((t,e)=>{const{className:n,children:o,id:r,columns:i,...s}=t;return ae(s),g.jsx("div",{className:n,style:{gridTemplateColumns:`repeat(${i}, 1fr)`},ref:e,id:r,role:"grid",children:o})}),Xue=v.forwardRef((t,e)=>{const{className:n,children:o,columns:r,...i}=t;return ae(i),g.jsx(Gt,{className:n,style:{gridColumn:`1 / ${r+1}`},ref:e,children:g.jsx(Gt,{className:"bn-mt-suggestion-menu-item-title",children:o})})}),Jue=v.forwardRef((t,e)=>{const{className:n,isSelected:o,onClick:r,item:i,id:s,...l}=t;ae(l);const a=v.useRef(null);return v.useEffect(()=>{if(!a.current||!o)return;const c=r9(a.current,document.querySelector(".bn-grid-suggestion-menu"));c==="top"?a.current.scrollIntoView(!0):c==="bottom"&&a.current.scrollIntoView(!1)},[o]),g.jsx("div",{className:n,ref:Af(e,a),id:s,role:"option",onClick:r,"aria-selected":o||void 0,children:i.icon})}),Que=v.forwardRef((t,e)=>{const{className:n,children:o,columns:r,...i}=t;return ae(i),g.jsx(Gs,{className:n,style:{gridColumn:`1 / ${r+1}`},type:"dots",ref:e})}),ede=v.forwardRef((t,e)=>{const{children:n,className:o,onMouseDown:r,onClick:i,...s}=t;return ae(s,!1),g.jsx(tr,{className:o,ref:e,onMouseDown:r,onClick:i,...s,children:n})}),tde=v.forwardRef((t,e)=>{const{className:n,children:o,draggable:r,onDragStart:i,onDragEnd:s,style:l,label:a,...c}=t;return ae(c,!1),g.jsx(tr,{className:n,ref:e,"aria-label":a,draggable:r,onDragStart:i,onDragEnd:s,style:l,...c,children:o})}),A1=v.forwardRef((t,e)=>{const{className:n,children:o,onMouseEnter:r,onMouseLeave:i,variant:s,...l}=t;ae(l);const{ref:a,focused:c}=v5(),u=ax(c),d=Af(e,a,u);return g.jsx(VS,{className:n,ref:d,role:"toolbar",onMouseEnter:r,onMouseLeave:i,gap:s==="action-toolbar"?2:void 0,children:o})}),N1=v.forwardRef((t,e)=>{const{className:n,items:o,isDisabled:r,...i}=t;ae(i);const s=o.filter(l=>l.isSelected)[0];return s?g.jsxs(dt,{withinPortal:!1,transitionProps:{exitDuration:0},disabled:r,middlewares:{flip:!0,shift:!0,inline:!1,size:!0},children:[g.jsx(dt.Target,{children:g.jsx(tr,{onMouseDown:l=>{Bw()&&l.currentTarget.focus()},leftSection:s.icon,rightSection:g.jsx(_ue,{}),size:"xs",variant:"subtle",disabled:r,children:s.text})}),g.jsx(dt.Dropdown,{className:n,ref:e,children:o.map(l=>g.jsx(dt.Item,{onClick:l.onClick,leftSection:l.icon,rightSection:l.isSelected?g.jsx(US,{size:10,className:"bn-tick-icon"}):g.jsx("div",{className:"bn-tick-space"}),disabled:l.isDisabled,children:l.text},l.text))})]}):null}),nde={FormattingToolbar:{Root:A1,Button:T1,Select:N1},FilePanel:{Root:jue,Button:Bue,FileInput:$ue,TabPanel:zue,TextInput:Pue},GridSuggestionMenu:{Root:Yue,Item:Jue,EmptyItem:Xue,Loader:Que},LinkToolbar:{Root:A1,Button:T1,Select:N1},SideMenu:{Root:Uue,Button:Fue},SuggestionMenu:{Root:que,Item:Zue,EmptyItem:Gue,Label:Kue,Loader:Wue},TableHandle:{Root:tde,ExtendButton:ede},Generic:{Badge:{Root:aue,Group:cue},Form:{Root:t=>g.jsx("div",{children:t.children}),TextInput:bue},Menu:{Root:Tue,Trigger:Nue,Dropdown:Rue,Divider:Oue,Label:Due,Item:Aue,Button:Lue},Popover:{Root:Iue,Trigger:Hue,Content:Vue},Toolbar:{Root:A1,Button:T1,Select:N1}},Comments:{Comment:pue,Editor:mue,Card:uue,CardSection:due,ExpandSectionsPrompt:fue}},ode={activeClassName:""},tk=t=>{const{className:e,theme:n,...o}=t,r=Br(),i=e9(),s=(r==null?void 0:r.colorSchemePreference)||i,l=v.useCallback(c=>{if(c&&(lue(c),typeof n=="object")){if("light"in n&&"dark"in n){KA(n[s==="dark"?"dark":"light"],c);return}KA(n,c);return}},[s,n]),a=typeof n=="string"?n:s!=="no-preference"?s:"light";return g.jsx(E8.Provider,{value:nde,children:g.jsx(m9,{theme:ode,cssVariablesSelector:".bn-mantine",getRootElement:()=>{},children:g.jsx(use,{"data-mantine-color-scheme":a,className:qe("bn-mantine",e||""),theme:typeof n=="object"?void 0:n,...o,ref:l})})})};var rde=Object.defineProperty,ide=(t,e,n)=>e in t?rde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,an=(t,e,n)=>ide(t,typeof e!="symbol"?e+"":e,n);const sde={slash_menu:{two_columns:{title:"عمودان",subtext:"عمودان جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"},three_columns:{title:"ثلاثة أعمدة",subtext:"ثلاثة أعمدة جنبًا إلى جنب",aliases:["أعمدة","صف","تقسيم"],group:"الكتل الأساسية"}}},lde={slash_menu:{two_columns:{title:"Zwei Spalten",subtext:"Zwei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"},three_columns:{title:"Drei Spalten",subtext:"Drei Spalten nebeneinander",aliases:["Spalten","Reihe","teilen"],group:"Grundlegende Blöcke"}}},ade={slash_menu:{two_columns:{title:"Two Columns",subtext:"Two columns side by side",aliases:["columns","row","split"],group:"Basic blocks"},three_columns:{title:"Three Columns",subtext:"Three columns side by side",aliases:["columns","row","split"],group:"Basic blocks"}}},cde={slash_menu:{two_columns:{title:"Dos Columnas",subtext:"Dos columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"},three_columns:{title:"Tres Columnas",subtext:"Tres columnas lado a lado",aliases:["columnas","fila","dividir"],group:"Bloques básicos"}}},ude={slash_menu:{two_columns:{title:"Deux Colonnes",subtext:"Deux colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"},three_columns:{title:"Trois Colonnes",subtext:"Trois colonnes côte à côte",aliases:["colonnes","rangée","partager"],group:"Blocs de base"}}},dde={slash_menu:{two_columns:{title:"Dva Stupca",subtext:"Dva stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"},three_columns:{title:"Tri Stupca",subtext:"Tri stupca jedan pored drugog",aliases:["stupci","redak","podijeli"],group:"Osnovni blokovi"}}},fde={slash_menu:{two_columns:{title:"Tvær Dálkar",subtext:"Tvær dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"},three_columns:{title:"Þrír Dálkar",subtext:"Þrír dálkar hlið við hlið",aliases:["dálkar","röð","skipta"],group:"Grunnblokkar"}}},hde={slash_menu:{two_columns:{title:"二列",subtext:"二列並んで",aliases:["列","行","分割"],group:"基本ブロック"},three_columns:{title:"三列",subtext:"三列並んで",aliases:["列","行","分割"],group:"基本ブロック"}}},pde={slash_menu:{two_columns:{title:"두 열",subtext:"두 열 나란히",aliases:["열","행","분할"],group:"기본 블록"},three_columns:{title:"세 열",subtext:"세 열 나란히",aliases:["열","행","분할"],group:"기본 블록"}}},mde={slash_menu:{two_columns:{title:"Twee Kolommen",subtext:"Twee kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"},three_columns:{title:"Drie Kolommen",subtext:"Drie kolommen naast elkaar",aliases:["kolommen","rij","verdelen"],group:"Basisblokken"}}},gde={slash_menu:{two_columns:{title:"Dwie Kolumny",subtext:"Dwie kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"},three_columns:{title:"Trzy Kolumny",subtext:"Trzy kolumny obok siebie",aliases:["kolumny","rząd","podzielić"],group:"Podstawowe bloki"}}},bde={slash_menu:{two_columns:{title:"Duas Colunas",subtext:"Duas colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"},three_columns:{title:"Três Colunas",subtext:"Três colunas lado a lado",aliases:["colunas","linha","dividir"],group:"Blocos básicos"}}},yde={slash_menu:{two_columns:{title:"Два Столбца",subtext:"Два столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"},three_columns:{title:"Три Столбца",subtext:"Три столбца рядом",aliases:["столбцы","ряд","разделить"],group:"Базовые блоки"}}},vde={slash_menu:{two_columns:{title:"Hai Cột",subtext:"Hai cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"},three_columns:{title:"Ba Cột",subtext:"Ba cột cạnh nhau",aliases:["cột","hàng","chia"],group:"Khối cơ bản"}}},wde={slash_menu:{two_columns:{title:"两列",subtext:"两列并排",aliases:["列","行","分割"],group:"基础"},three_columns:{title:"三列",subtext:"三列并排",aliases:["列","行","分割"],group:"基础"}}},nk=Object.freeze(Object.defineProperty({__proto__:null,ar:sde,de:lde,en:ade,es:cde,fr:ude,hr:dde,is:fde,ja:hde,ko:pde,nl:mde,pl:gde,pt:bde,ru:yde,vi:vde,zh:wde},Symbol.toStringTag,{value:"Module"}));function XA(t){if(!t.dictionary.multi_column)throw new Error("Multi-column dictionary not found");return t.dictionary.multi_column}const Wi=new xe("ColumnResizePlugin");class kde{constructor(e,n){an(this,"editor"),an(this,"view"),an(this,"RESIZE_MARGIN_WIDTH_PX",20),an(this,"COLUMN_MIN_WIDTH_PERCENT",.5),an(this,"getColumnHoverOrDefaultState",o=>{if(!this.editor.isEditable)return{type:"default"};const r=o.target;if(!this.view.dom.contains(r))return{type:"default"};const i=r.closest(".bn-block-column");if(!i)return{type:"default"};const s=o.clientX,l=i.getBoundingClientRect(),a=s<l.left+this.RESIZE_MARGIN_WIDTH_PX?"left":s>l.right-this.RESIZE_MARGIN_WIDTH_PX?"right":"none",c=a==="left"?i.previousElementSibling:a==="right"?i.nextElementSibling:void 0;if(!c)return{type:"default"};const u=a==="left"?c:i,d=a==="left"?i:c,f=u.getAttribute("data-id"),h=d.getAttribute("data-id"),p=gn(f,this.view.state.doc),m=gn(h,this.view.state.doc);if(!p||!m||!p.posBeforeNode)throw new Error("Column not found");return{type:"hover",leftColumn:{element:u,id:f,...p},rightColumn:{element:d,id:h,...m}}}),an(this,"mouseDownHandler",o=>{let r=this.getColumnHoverOrDefaultState(o);if(r.type==="default")return;o.preventDefault();const i=o.clientX,s=r.leftColumn.element.getBoundingClientRect().width,l=r.rightColumn.element.getBoundingClientRect().width,a=r.leftColumn.node.attrs.width,c=r.rightColumn.node.attrs.width;r={type:"resize",startPos:i,leftColumn:{...r.leftColumn,widthPx:s,widthPercent:a},rightColumn:{...r.rightColumn,widthPx:l,widthPercent:c}},this.view.dispatch(this.view.state.tr.setMeta(Wi,r)),this.editor.sideMenu.freezeMenu()}),an(this,"mouseMoveHandler",o=>{var r,i;const s=Wi.getState(this.view.state);if(!s)return;if(s.type!=="resize"){const d=this.getColumnHoverOrDefaultState(o),f=s.type==="default"&&d.type==="default",h=s.type!=="default"&&d.type!=="default"&&s.leftColumn.id===d.leftColumn.id&&s.rightColumn.id===d.rightColumn.id;if(f||h||d.type==="hover"&&(i=(r=this.editor.sideMenu.view)==null?void 0:r.state)!=null&&i.show)return;this.view.dispatch(this.view.state.tr.setMeta(Wi,d));return}const l=(o.clientX-s.startPos)*s.leftColumn.widthPercent,a=(s.leftColumn.widthPx+l)/s.leftColumn.widthPx-1;let c=s.leftColumn.widthPercent+a,u=s.rightColumn.widthPercent-a;c<this.COLUMN_MIN_WIDTH_PERCENT?(u-=this.COLUMN_MIN_WIDTH_PERCENT-c,c=this.COLUMN_MIN_WIDTH_PERCENT):u<this.COLUMN_MIN_WIDTH_PERCENT&&(c-=this.COLUMN_MIN_WIDTH_PERCENT-u,u=this.COLUMN_MIN_WIDTH_PERCENT),this.view.dispatch(this.view.state.tr.setNodeAttribute(s.leftColumn.posBeforeNode,"width",c).setNodeAttribute(s.rightColumn.posBeforeNode,"width",u).setMeta("addToHistory",!1))}),an(this,"mouseUpHandler",o=>{const r=Wi.getState(this.view.state);if(!r||r.type!=="resize")return;const i=this.getColumnHoverOrDefaultState(o);this.view.dispatch(this.view.state.tr.setMeta(Wi,i)),this.editor.sideMenu.unfreezeMenu()}),this.editor=e,this.view=n,this.view.dom.addEventListener("mousedown",this.mouseDownHandler),document.body.addEventListener("mousemove",this.mouseMoveHandler),document.body.addEventListener("mouseup",this.mouseUpHandler)}destroy(){this.view.dom.removeEventListener("mousedown",this.mouseDownHandler),document.body.removeEventListener("mousemove",this.mouseMoveHandler),document.body.removeEventListener("mouseup",this.mouseUpHandler)}}const xde=t=>new le({key:Wi,props:{decorations:e=>{const n=Wi.getState(e);return!n||n.type==="default"?he.empty:he.create(e.doc,[Te.node(n.leftColumn.posBeforeNode,n.leftColumn.posBeforeNode+n.leftColumn.node.nodeSize,{style:"box-shadow: 4px 0 0 #ccc; cursor: col-resize"}),Te.node(n.rightColumn.posBeforeNode,n.rightColumn.posBeforeNode+n.rightColumn.node.nodeSize,{style:"cursor: col-resize"})])}},state:{init:()=>({type:"default"}),apply:(e,n)=>{const o=e.getMeta(Wi);return o===void 0?n:o}},view:e=>new kde(t,e)}),Cde=t=>Be.create({name:"columnResize",addProseMirrorPlugins(){return[xde(t)]}}),Sde=vn({name:"column",group:"bnBlock childContainer",content:"blockContainer+",priority:40,defining:!0,marks:"deletion insertion modification",addAttributes(){return{width:{default:1,parseHTML:t=>{const e=t.getAttribute("data-width");if(e===null)return null;const n=parseFloat(e);return isFinite(n)?n:null},renderHTML:t=>({"data-width":t.width.toString(),style:`flex-grow: ${t.width};`})}}},parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return{dom:e,contentDOM:e}},addExtensions(){return[Cde(this.options.editor)]}}),_de=vn({name:"columnList",group:"childContainer bnBlock blockGroupChild",content:"column column+",priority:40,defining:!0,marks:"deletion insertion modification",parseHTML(){return[{tag:"div",getAttrs:t=>typeof t=="string"?!1:t.getAttribute("data-node-type")===this.name?{}:!1}]},renderHTML({HTMLAttributes:t}){const e=document.createElement("div");e.className="bn-block-column-list",e.setAttribute("data-node-type",this.name);for(const[n,o]of Object.entries(t))e.setAttribute(n,o);return e.style.display="flex",{dom:e,contentDOM:e}}}),lj=Ro(Sde,{width:{default:1}}),aj=Ro(_de,{}),JA=su.create({blockSpecs:{column:lj,columnList:aj}}),Ede=t=>su.create({blockSpecs:{...t.blockSpecs,column:lj,columnList:aj},inlineContentSpecs:t.inlineContentSpecs,styleSpecs:t.styleSpecs}),Og=.1;function Mde(t){return{left:t.clientX,top:t.clientY}}function Tde(t){const e=t.editor;return new le({view(n){return new Ade(n,t)},props:{handleDrop(n,o,r,i){const s=n.posAtCoords(Mde(o));if(!s)throw new Error("Could not get event position");const l=cj(n.state,s),a=ki(l),c=n.nodeDOM(l.posBeforeNode).getBoundingClientRect();let u="regular";if(o.clientX<=c.left+c.width*Og&&(u="left"),o.clientX>=c.right-c.width*Og&&(u="right"),u==="regular")return!1;const d=Ge(r.content.child(0),e.pmSchema);if(a.blockNoteType==="column"){const f=n.state.doc.resolve(a.bnBlock.beforePos).node(),h=Ge(f,e.pmSchema);let p=0;h.children.forEach(w=>{p+=w.props.width});const m=p/h.children.length;if(m<.99||m>1.01){const w=1/m;h.children.forEach(k=>{k.props.width=k.props.width*w})}const b=h.children.findIndex(w=>w.id===a.bnBlock.node.attrs.id),y=h.children.map(w=>({...w,children:w.children.filter(k=>k.id!==d.id)})).filter(w=>w.children.length>0).toSpliced(u==="left"?b:b+1,0,{type:"column",children:[d],props:{},content:void 0,id:Ff.options.generateID()});e.removeBlocks([d]),e.updateBlock(h,{children:y})}else{const f=Ge(a.bnBlock.node,e.pmSchema);if(f.id===d.id)return;const h=u==="left"?[d,f]:[f,d];e.removeBlocks([d]),e.replaceBlocks([f],[{type:"columnList",children:h.map(p=>({type:"column",children:[p]}))}])}return!0}}})}class Ade{constructor(e,n){an(this,"width"),an(this,"color"),an(this,"class"),an(this,"cursorPos"),an(this,"element",null),an(this,"timeout"),an(this,"handlers"),this.editorView=e,this.width=n.width??1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{const r=i=>{this[o](i)};return e.dom.addEventListener(o,r,o==="drop"?!0:void 0),{name:o,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n,e==="drop"?!0:void 0))}update(e,n){this.cursorPos!=null&&n.doc!==e.state.doc&&(this.cursorPos.pos>e.state.doc.content.size?this.setCursor(void 0):this.updateOverlay())}setCursor(e){var n,o;e===this.cursorPos||(e==null?void 0:e.pos)===((n=this.cursorPos)==null?void 0:n.pos)&&(e==null?void 0:e.position)===((o=this.cursorPos)==null?void 0:o.position)||(this.cursorPos=e,e?this.updateOverlay():(this.element.parentNode.removeChild(this.element),this.element=null))}updateOverlay(){if(!this.cursorPos)throw new Error("updateOverlay called with no cursor position");const e=this.editorView.state.doc.resolve(this.cursorPos.pos),n=!e.parent.inlineContent;let o;const r=this.editorView.dom,i=r.getBoundingClientRect(),s=i.width/r.offsetWidth,l=i.height/r.offsetHeight;if(n){const d=e.nodeBefore,f=e.nodeAfter;if(d||f)if(this.cursorPos.position==="left"||this.cursorPos.position==="right"){const h=this.editorView.nodeDOM(this.cursorPos.pos);if(!h)throw new Error("nodeDOM returned null in updateOverlay");const p=h.getBoundingClientRect(),m=this.width/2*l,b=this.cursorPos.position==="left"?p.left:p.right;o={left:b-m,right:b+m,top:p.top,bottom:p.bottom}}else{const h=this.editorView.nodeDOM(this.cursorPos.pos-(d?d.nodeSize:0));if(h){const p=h.getBoundingClientRect();let m=d?p.bottom:p.top;d&&f&&(m=(m+this.editorView.nodeDOM(this.cursorPos.pos).getBoundingClientRect().top)/2);const b=this.width/2*l;this.cursorPos.position==="regular"&&(o={left:p.left,right:p.right,top:m-b,bottom:m+b})}}}if(!o){const d=this.editorView.coordsAtPos(this.cursorPos.pos),f=this.width/2*s;o={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}const a=this.editorView.dom.offsetParent;this.element||(this.element=a.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-vertical",this.cursorPos.position!=="regular"),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!a||a===document.body&&getComputedStyle(a).position==="static")c=-window.scrollX,u=-window.scrollY;else{const d=a.getBoundingClientRect(),f=d.width/a.offsetWidth,h=d.height/a.offsetHeight;c=d.left-a.scrollLeft*f,u=d.top-a.scrollTop*h}this.element.style.left=(o.left-c)/s+"px",this.element.style.top=(o.top-u)/l+"px",this.element.style.width=(o.right-o.left)/s+"px",this.element.style.height=(o.bottom-o.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(void 0),e)}dragover(e){if(!this.editorView.editable)return;const n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),o=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=o&&o.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let s="regular",l=n.pos;const a=cj(this.editorView.state,n),c=this.editorView.nodeDOM(a.posBeforeNode).getBoundingClientRect();if(e.clientX<=c.left+c.width*Og&&(s="left",l=a.posBeforeNode),e.clientX>=c.right-c.width*Og&&(s="right",l=a.posBeforeNode),s==="regular"&&this.editorView.dragging&&this.editorView.dragging.slice){const u=Fx(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor({pos:l,position:s}),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.setCursor(void 0)}dragleave(e){(e.target===this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(void 0)}}function cj(t,e){const n=Sr(t.doc,e.pos);let o=t.doc.resolve(n.posBeforeNode);return o.parent.type.name==="column"&&(o=t.doc.resolve(o.before())),{posBeforeNode:o.pos,node:o.nodeAfter}}var uj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QA=X.createContext&&X.createContext(uj),Nde=["attr","size","title"];function Rde(t,e){if(t==null)return{};var n=Ode(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Dg.apply(this,arguments)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Lg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(o){Dde(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Dde(t,e,n){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lde(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dj(t){return t&&t.map((e,n)=>X.createElement(e.tag,Lg({key:n},e.attr),dj(e.child)))}function fj(t){return e=>X.createElement(Bde,Dg({attr:Lg({},t.attr)},e),dj(t.child))}function Bde(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=Rde(t,Nde),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),X.createElement("svg",Dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:Lg(Lg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),t.children)};return QA!==void 0?X.createElement(QA.Consumer,null,n=>e(n)):e(uj)}function $de(t){return fj({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"},child:[]}]})(t)}function zde(t){return fj({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm6 -1v18m6 -18v18"},child:[]}]})(t)}function Pde(t){return"column"in t.schema.blockSchema&&t.schema.blockSchema.columnList===JA.blockSchema.columnList&&"column"in t.schema.blockSchema&&t.schema.blockSchema.column===JA.blockSchema.column}function Ide(t){const e=[];return Pde(t)&&e.push({...XA(t).slash_menu.two_columns,icon:g.jsx($de,{size:18}),onItemClick:()=>{lt(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}},{...XA(t).slash_menu.three_columns,icon:g.jsx(zde,{size:18}),onItemClick:()=>{lt(t,{type:"columnList",children:[{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]},{type:"column",children:[{type:"paragraph"}]}]})}}),e}var hj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t4=X.createContext&&X.createContext(hj),Hde=["attr","size","title"];function Vde(t,e){if(t==null)return{};var n=Ude(t,e),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}function Ude(t,e){if(t==null)return{};var n={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jg.apply(this,arguments)}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(o){Fde(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function Fde(t,e,n){return e=qde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pj(t){return t&&t.map((e,n)=>X.createElement(e.tag,Bg({key:n},e.attr),pj(e.child)))}function Zs(t){return e=>X.createElement(Zde,jg({attr:Bg({},t.attr)},e),pj(t.child))}function Zde(t){var e=n=>{var{attr:o,size:r,title:i}=t,s=Vde(t,Hde),l=r||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),X.createElement("svg",jg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:a,style:Bg(Bg({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),t.children)};return t4!==void 0?X.createElement(t4.Consumer,null,n=>e(n)):e(hj)}function Kde(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function Wde(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"},child:[]}]})(t)}function Yde(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(t)}function Xde(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function Jde(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(t)}function Qde(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function efe(t){return Zs({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.836 3.244c.963-1.665 3.365-1.665 4.328 0l8.967 15.504c.963 1.667-.24 3.752-2.165 3.752H3.034c-1.926 0-3.128-2.085-2.165-3.752ZM12 8.5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5A.75.75 0 0 0 12 8.5Zm1 9a1 1 0 1 0-2 0 1 1 0 0 0 2 0Z"},child:[]}]})(t)}const Va=[{title:"Default",value:"default",icon:Wde,color:"#9a9a9aff",backgroundColor:{light:"#fff6e6",dark:"#ffe9c3ff"}},{title:"Warning",value:"warning",icon:efe,color:"#e69819",backgroundColor:{light:"#fff6e6",dark:"#805d20"}},{title:"Error",value:"error",icon:Qde,color:"#d80d0d",backgroundColor:{light:"#ffe6e6",dark:"#802020"}},{title:"Info",value:"info",icon:Yde,color:"#507aff",backgroundColor:{light:"#e6ebff",dark:"#203380"}},{title:"Success",value:"success",icon:Kde,color:"#0bc10b",backgroundColor:{light:"#e6ffe6",dark:"#208020"}}],tfe=ru({type:"alert",propSchema:{textAlignment:rt.textAlignment,textColor:rt.textColor,type:{default:"warning",values:["warning","error","info","success","default"]}},content:"inline"},{render:(t,e)=>{const n=Va.find(c=>c.value===t.props.type),o=document.createElement("div");o.className="alert",o.setAttribute("data-alert-type",t.props.type);const r=document.createElement("div");r.className="alert-icon-wrapper",r.contentEditable="false",r.setAttribute("aria-haspopup","menu"),r.setAttribute("aria-expanded","false"),n.icon;const i=document.createElement("div");i.className="alert-icon",i.setAttribute("data-alert-icon-type",t.props.type),document.createElement("div"),r.appendChild(i);const s=document.createElement("div");s.className="bn-inline-content inline-content";const l=document.createElement("div");return l.setAttribute("data-node-view-content-react",""),l.style.cssText="white-space: inherit;",s.appendChild(l),r.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation();const d=(Va.findIndex(h=>h.value===t.props.type)+1)%Va.length,f=Va[d].value;requestAnimationFrame(()=>{e.updateBlock(t,{type:"alert",props:{type:f}})})}),(()=>{const c=o4(t.props.type);i.innerHTML=c})(),o.appendChild(r),o.appendChild(s),{dom:o,contentDOM:l,update:c=>c.type!=="alert"?!1:(o.setAttribute("data-alert-type",c.props.type),i.setAttribute("data-alert-icon-type",c.props.type),i.innerHTML=o4(c.props.type),!0)}}});function o4(t){const e={default:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="default_svg__lucide default_svg__lucide-info">
      <circle cx="12" cy="12" r="10"></circle>
      <path d="M12 16v-4M12 8h.01"></path>
    </svg>`,warning:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="warning_svg__lucide warning_svg__lucide-triangle-alert">
      <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4M12 17h.01"></path>
    </svg>`,error:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="error_svg__lucide error_svg__lucide-circle-x">
      <circle cx="12" cy="12" r="10"></circle>
      <path d="m15 9-6 6M9 9l6 6"></path>
    </svg>`,info:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" aria-label="Note">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M7 1.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 7c0-3.14 2.56-5.7 5.7-5.7ZM7 0C3.14 0 0 3.14 0 7s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7Zm1 3H6v5h2V3Zm0 6H6v2h2V9Z"></path>
    </svg>`,success:`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="success_svg__lucide success_svg__lucide-circle-check">
      <circle cx="12" cy="12" r="10"></circle>
      <path d="m9 12 2 2 4-4"></path>
    </svg>`};return e[t]||e.default}function nfe({editor:t,block:e}){const n=J();if(e.type!=="alert")return null;const o=Va.find(i=>i.value===e.props.type),r=o==null?void 0:o.icon;return g.jsxs(Nn,{withinPortal:!1,position:"right",offset:5,children:[g.jsx(Nn.Target,{children:g.jsx(n.SideMenu.Button,{className:"bn-button c-no-padding","data-test":"alert-type-button",children:r&&g.jsx(r,{size:16,style:{color:o==null?void 0:o.color}})})}),g.jsx(Nn.Dropdown,{children:g.jsxs(Me,{p:"xs",children:[g.jsx("div",{style:{fontSize:"12px",fontWeight:600,marginBottom:"8px",color:"var(--mantine-color-dimmed)"},children:"Alert Type"}),g.jsx(Ld,{gap:"2px",wrap:"nowrap",children:Va.map(i=>{const s=i.icon,l=i.value===e.props.type;return g.jsx(Me,{onClick:()=>{t.updateBlock(e,{type:"alert",props:{type:i.value}})},style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"4px",cursor:"pointer",backgroundColor:l?"var(--mantine-color-blue-light)":"transparent",border:l?"1px solid var(--mantine-color-blue-filled)":"1px solid transparent",transition:"all 0.15s ease"},title:i.title,onMouseEnter:a=>{l||(a.currentTarget.style.backgroundColor="var(--mantine-color-gray-light)")},onMouseLeave:a=>{l||(a.currentTarget.style.backgroundColor="transparent")},children:g.jsx(s,{size:14,style:{color:i.color}})},i.value)})})]})})]})}const ofe=[{id:"649883dc-a3b5-49a7-af6f-dbeeaeb71e9a",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1,isToggleable:!1},content:[{type:"text",text:"標題一",styles:{bold:!0}}],children:[]},{id:"aecb8d2b-7ec4-4257-9b49-1614b24e977f",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2,isToggleable:!1},content:[{type:"text",text:"標題二",styles:{bold:!0}}],children:[]},{id:"2b942e46-0e7c-4a4a-b86b-533a264ac127",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:3,isToggleable:!1},content:[{type:"text",text:"標題三",styles:{bold:!0}}],children:[]},{id:"3c7e6115-790c-4f78-90cd-aa66ad0e66ea",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:4,isToggleable:!1},content:[{type:"text",text:"標題四",styles:{bold:!0}}],children:[]},{id:"63027acb-0ce0-4d46-a053-24650e4ab7fe",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:5,isToggleable:!1},content:[{type:"text",text:"標題五",styles:{bold:!0}}],children:[]},{id:"1c5e686e-0de6-4a59-bec0-c64a9729fc7c",type:"columnList",props:{},children:[{id:"a800239e-d95b-4c45-a948-8a7aca2cde61",type:"column",props:{width:1},children:[{id:"498e66fc-af42-4f59-9c59-9a26cd31cafa",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"文字",styles:{}}],children:[{id:"3484a8aa-b806-4deb-a9fe-bc82d9422128",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內縮",styles:{}}],children:[]}]}]},{id:"be7de043-6fe6-481d-b9b4-435a79f4b028",type:"column",props:{width:1},children:[{id:"31f108c6-5985-4ca4-899c-caa04702d235",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]}]}]},{id:"7350a08d-b2c4-428a-a263-342acb7563aa",type:"quote",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"引用",styles:{}}],children:[]},{id:"d161d6af-155a-486f-acde-bc4a063f7038",type:"toggleListItem",props:{textColor:"default",backgroundColor:"default"},content:[{type:"text",text:"項目一",styles:{}}],children:[{id:"10f31383-813f-4486-bf83-5da66a42151b",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"文字內容",styles:{}}],children:[]}]},{id:"c52695a2-80e4-48f6-bcd3-ce1240145c27",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"數字第一個",styles:{}}],children:[]},{id:"158ecd7e-ccde-4618-b371-619aac92d6ce",type:"numberedListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"數字第二個",styles:{}}],children:[]},{id:"bd668ad8-48f6-4108-a28c-b39c88d43aa1",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"圓點第一個",styles:{}}],children:[]},{id:"37ce31c7-cbaf-4b6c-a69d-96c07b459bba",type:"bulletListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"圓點第二個",styles:{}}],children:[]},{id:"05079489-dc0e-4b90-a926-94dbf8a6f1b1",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"是否確認",styles:{}}],children:[{id:"305e69ff-bbe9-4270-ba09-1544595d04c1",type:"checkListItem",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",checked:!1},content:[{type:"text",text:"是",styles:{}}],children:[]}]},{id:"36fd2dfe-f8ac-490e-87e4-b1b54873188c",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"622c951a-90f8-4619-93fe-5537f0fbc04c",type:"table",props:{textColor:"default"},content:{type:"tableContent",columnWidths:[null,null,null],rows:[{cells:[{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]},{cells:[{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}},{type:"tableCell",content:[{type:"text",text:`
`,styles:{}}],props:{colspan:1,rowspan:1,backgroundColor:"default",textColor:"default",textAlignment:"left"}}]}]},children:[]},{id:"84bc5f04-4a71-4589-bd24-161f021cbee4",type:"image",props:{backgroundColor:"default",textAlignment:"left",name:"",url:"",caption:"",showPreview:!0},children:[]},{id:"70305fed-3e62-4294-9418-0a8156e305c8",type:"video",props:{backgroundColor:"default",textAlignment:"left",name:"",url:"",caption:"",showPreview:!0},children:[]},{id:"073007c2-1bb1-4998-85c7-2e7a9f1c4a2d",type:"audio",props:{backgroundColor:"default",name:"",url:"",caption:"",showPreview:!0},children:[]},{id:"ced0ec9e-f534-4993-82c7-52f851e86959",type:"file",props:{backgroundColor:"default",name:"",url:"",caption:""},children:[]},{id:"dc7c58d1-ddc6-407d-aabb-3d7e13462c0f",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[],children:[]},{id:"d0bac4a5-5456-4cfb-a8e6-ee83f754f6d6",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:1,isToggleable:!0},content:[{type:"text",text:"標題一",styles:{bold:!0}}],children:[{id:"81598b28-e769-4ce5-9f05-75fd37255fde",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"3b0996a5-56f3-4cf0-a036-1db7436aa96c",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:2,isToggleable:!0},content:[{type:"text",text:"標題二",styles:{bold:!0}}],children:[{id:"74a146c5-c49d-407e-bb11-97aaa675465d",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"f72b6e2b-9c98-4306-863f-73cd052e2c02",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:3,isToggleable:!0},content:[{type:"text",text:"標題三",styles:{bold:!0}}],children:[{id:"dbbdb8b6-4718-4159-be96-4656c311bd90",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"0b56f07c-25dd-4cc4-a048-5b190b4edc17",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:4,isToggleable:!0},content:[{type:"text",text:"標題四",styles:{bold:!0}}],children:[{id:"69a1fdff-311f-4be7-975b-c335014476e4",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"76887983-cf6e-4d58-8e12-25c464d5744b",type:"heading",props:{textColor:"default",backgroundColor:"default",textAlignment:"left",level:5,isToggleable:!0},content:[{type:"text",text:"標題五",styles:{bold:!0}}],children:[{id:"ac3e96b8-0d53-44d6-9e79-3dbec70b7a94",type:"paragraph",props:{textColor:"default",backgroundColor:"default",textAlignment:"left"},content:[{type:"text",text:"內容",styles:{}}],children:[]}]},{id:"5c793453-d825-4cb2-8114-668a82a5575e",type:"alert",props:{textColor:"default",textAlignment:"left",type:"info"},content:[{type:"text",text:"info",styles:{}}],children:[]},{id:"e538fc55-d7a1-415b-9adb-b84906ac2483",type:"alert",props:{textColor:"default",textAlignment:"left",type:"success"},content:[{type:"text",text:"success",styles:{}}],children:[]},{id:"e0e26b89-26cf-4e9c-b6e5-a2ef7bce6c35",type:"alert",props:{textColor:"default",textAlignment:"left",type:"warning"},content:[{type:"text",text:"warning",styles:{}}],children:[]},{id:"b73c4e19-55cf-4231-8661-081359035680",type:"alert",props:{textColor:"default",textAlignment:"left",type:"error"},content:[{type:"text",text:"error",styles:{}}],children:[]},{id:"ac12df85-0f49-4e70-a61b-84d5cd68258b",type:"alert",props:{textColor:"default",textAlignment:"left",type:"default"},content:[{type:"text",text:"default",styles:{}}],children:[]}];function rfe(t){return Zs({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(t)}const ife={},sfe={},lfe="0.1.4",r4="zhTW",afe={...nk,zhTW:{slash_menu:{two_columns:{title:"兩列",subtext:"兩列並排",aliases:["列","行","分割"],group:"基礎"},three_columns:{title:"三列",subtext:"三列並排",aliases:["列","行","分割"],group:"基礎"}}}};function cfe({isDark:t,toggleTheme:e,onPreviewClick:n}){return g.jsx(kc,{shadow:"sm",p:"md",style:{borderRadius:0,borderBottom:`1px solid ${t?"#373A40":"#E9ECEF"}`,backgroundColor:t?"#1A1B1E":"#FFFFFF"},children:g.jsxs(Ld,{justify:"space-between",align:"center",children:[g.jsx(Sb,{order:3,style:{color:t?"#FFFFFF":"#000000"},children:`v ${lfe}`}),g.jsxs(Ld,{children:[g.jsx(Cc,{variant:"filled",onClick:n,style:{backgroundColor:"#228BE6",color:"#FFFFFF"},children:"HTML 預覽"}),g.jsx(Cc,{variant:"outline",onClick:e,leftSection:t?g.jsx(Jde,{size:16}):g.jsx(Xde,{size:16}),style:{borderColor:t?"#373A40":"#CED4DA",color:t?"#FFFFFF":"#000000"},children:t?"淺色模式":"深色模式"})]})]})})}function ufe(){function t({opened:C,onClose:E,html:_,isDarkMode:S}){const M=uf();return v.useEffect(()=>{async function T(){const B=await M.tryParseHTMLToBlocks(_);M.replaceBlocks(M.document,B)}C&&T()},[_,C]),g.jsx(Qo,{opened:C,onClose:E,title:"預覽",fullScreen:!0,styles:{header:{backgroundColor:S?"#1A1B1E":"#FFFFFF",borderBottom:`1px solid ${S?"#373A40":"#E9ECEF"}`},title:{color:S?"#FFFFFF":"#000000",fontWeight:600},content:{backgroundColor:S?"#1A1B1E":"#FFFFFF"},body:{height:"calc(100vh - 80px)",overflow:"hidden",scrollbarWidth:"none",msOverflowStyle:"none","&::WebkitScrollbar":{display:"none"}},close:{color:S?"#FFFFFF":"#000000","&:hover":{backgroundColor:S?"#373A40":"#F1F3F4"}}},children:g.jsx("div",{style:{height:"100%"},children:g.jsx(kc,{p:"md",style:{backgroundColor:S?"#25262B":"#F8F9FA",border:`1px solid ${S?"#373A40":"#E9ECEF"}`,height:"100%",overflow:"auto"},children:g.jsx(tk,{editor:M,theme:S?"dark":"light",editable:!1})})})})}const[e,n]=v.useState(""),[o,r]=v.useState(""),[i,s]=v.useState([]),[l,a]=v.useState(!1),[c,u]=v.useState(!1),d=()=>{a(!l)},{codeBlock:f,...h}=af,p=uf({schema:Ede(su.create({blockSpecs:{...h,alert:tfe},inlineContentSpecs:kg,styleSpecs:cf})),dropCursor:Tde,dictionary:{...joe[r4]||YC,multi_column:afe[r4]||nk.en},initialContent:ofe}),[m,b]=v.useState(""),y=async()=>{const C=await p.blocksToHTMLLossy(p.document);b(C),u(!0)},w=()=>{u(!1),b("")};ny(async C=>{s(C.document);const E=await C.blocksToHTMLLossy(C.document);r(E);const _=await C.blocksToMarkdownLossy(C.document);n(_)},p);const k=C=>({title:"提示",subtext:"Alert區塊",onItemClick:()=>lt(C,{type:"alert",content:[{type:"text",text:"alert"}]}),aliases:["alert","notification","emphasize","warning","error","info","success"],group:"Other",icon:g.jsx(rfe,{size:18})}),x=v.useMemo(()=>{const C=[...poe(J8(p),Ide(p)),k(p)];return async E=>X6(C,E)},[p]);return g.jsx(px,{theme:l?sfe:ife,children:g.jsxs("div",{style:{minHeight:"100vh",backgroundColor:l?"#1A1B1E":"#FFFFFF",transition:"background-color 0.3s ease"},children:[g.jsx(cfe,{isDark:l,toggleTheme:d,onPreviewClick:y}),g.jsx("div",{onClick:()=>{console.log(...Yw(p.dictionary)),console.log("defaultInlineContentSpecs",kg),console.log("defaultStyleSpecs",cf),console.log("multiColumnLocales",nk),console.log("defaultBlockSpecs",af)},children:"console.log"}),g.jsxs("div",{style:{padding:"20px"},children:[g.jsxs(tk,{editor:p,slashMenu:!1,formattingToolbar:!1,sideMenu:!1,theme:l?"dark":"light",children:[g.jsx(W8,{sideMenu:C=>g.jsxs(K8,{...C,children:[g.jsx(nfe,{editor:p,block:C.block}),g.jsx(q8,{...C}),g.jsx(Z8,{...C})]})}),g.jsx(Q8,{triggerCharacter:"/",getItems:x}),g.jsx(kS,{formattingToolbar:()=>g.jsx(wS,{blockTypeSelectItems:[...Yw(p.dictionary)]})})]}),[{title:"JSON --變更編輯器後即時更新",content:JSON.stringify(i,null,2)},{title:"HTML --變更編輯器後即時更新",content:o},{title:"Markdown --變更編輯器後即時更新",content:e}].map((C,E)=>g.jsxs(kc,{mt:"xl",p:"md",style:{backgroundColor:l?"#25262B":"#F8F9FA",border:`1px solid ${l?"#373A40":"#E9ECEF"}`},children:[g.jsx(Sb,{order:4,mb:"md",style:{color:l?"#FFFFFF":"#000000"},children:C.title}),g.jsx("pre",{style:{color:l?"#C1C2C5":"#495057",fontSize:"12px",overflow:"auto",maxHeight:"300px"},children:g.jsx("code",{children:C.content})})]},E))]}),g.jsx(t,{opened:c,onClose:w,html:m,isDarkMode:l})]})})}const dfe=n5.createRoot(document.getElementById("root"));dfe.render(g.jsx(X.StrictMode,{children:g.jsx(px,{children:g.jsx(ufe,{})})}));export{i4 as g};
//# sourceMappingURL=index-CmoV4W7o.js.map
